import{_}from"./SecondaryButton-DKeLgF1R.js";import{h as i}from"./moment-BLMuvzoS.js";import{r as h,a as f}from"./PaperAirplaneIcon-DwVsxhO9.js";import{a as r,o as s,t as a,b as t,F as w,l as v,g as y,i as k,u as d,j as b,d as A,w as Y,m as N}from"./app-0RB-mjiy.js";const M={key:0,class:"text-center text-gray-600 text-sm animate-pulse py-4"},C={key:1,class:"text-center text-red-600 text-sm font-medium py-4"},j={key:2,class:"overflow-x-auto"},S={class:"min-w-full divide-y divide-gray-200"},B={class:"bg-white divide-y divide-gray-200"},V={class:"px-4 py-3 text-sm text-gray-900"},D={class:"flex items-center"},E={class:"px-4 py-3 text-sm text-gray-700"},F={class:"px-4 py-3 text-sm text-gray-700"},L={class:"px-4 py-3 text-sm text-gray-700"},$={class:"px-4 py-3 text-sm text-gray-700"},q={class:"px-4 py-3 text-sm text-gray-700"},z={class:"px-4 py-3 text-sm text-gray-700"},P={class:"px-4 py-3 text-right"},R={key:3,class:"text-gray-400 text-sm"},J={__name:"EmailList",props:{emails:{type:Array,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["view"],setup(o,{emit:u}){const g=u,m=c=>{g("view",c)};return(c,n)=>(s(),r("div",null,[o.loading?(s(),r("div",M," Loading email data... ")):o.error?(s(),r("div",C,a(o.error),1)):o.emails.length?(s(),r("div",j,[t("table",S,[n[1]||(n[1]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"From"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Project"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Created At"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sent At"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Read At"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",B,[(s(!0),r(w,null,v(o.emails,e=>{var x,p,l;return s(),r("tr",{key:e.id,class:"hover:bg-gray-50 transition-colors"},[t("td",V,[t("div",D,[e.type==="sent"?(s(),y(d(h),{key:0,class:"h-4 w-4 text-blue-500 mr-2","aria-hidden":"true"})):e.type==="received"?(s(),y(d(f),{key:1,class:"h-4 w-4 text-purple-500 mr-2","aria-hidden":"true"})):k("",!0),t("span",null,a(e.subject),1)])]),t("td",E,a(((x=e.sender)==null?void 0:x.name)||"N/A"),1),t("td",F,a(((l=(p=e.conversation)==null?void 0:p.project)==null?void 0:l.name)||"N/A"),1),t("td",L,a(e.created_at?d(i)(e.created_at).format("MMM D, YYYY h:mm A"):"NA"),1),t("td",$,a(e.sent_at?d(i)(e.sent_at).format("MMM D, YYYY h:mm A"):"Not Sent"),1),t("td",q,a(e.read_at?d(i)(e.read_at).format("MMM D, YYYY h:mm A"):"Not read"),1),t("td",z,[t("span",{class:b({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800":e.status==="sent","bg-yellow-100 text-yellow-800":e.status==="pending_approval","bg-red-100 text-red-800":e.status==="rejected","bg-gray-100 text-gray-800":e.status==="draft","bg-purple-200 text-white-800":e.status==="pending_approval_received","bg-blue-100 text-white-800":e.status==="received"})},a(e.status?e.status.replace("_"," ").toUpperCase():"N/A"),3)]),t("td",P,[A(_,{class:"text-indigo-600 hover:text-indigo-800",onClick:T=>m(e)},{default:Y(()=>n[0]||(n[0]=[N(" View ",-1)])),_:2,__:[0]},1032,["onClick"])])])}),128))])])])):(s(),r("p",R,"No email communication found."))]))}};export{J as _};
