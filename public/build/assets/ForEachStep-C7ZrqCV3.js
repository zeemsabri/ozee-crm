import x from"./StepCard-Co1MHcN6.js";import y from"./DataTokenInserter-Cs7sdHIX.js";import{c as b,g as v,o as a,w as C,b as t,a as i,i as u,d as k,m as s}from"./app-Dkfi9AsS.js";import"./trash-C9yxTYcN.js";import"./createLucideIcon-D3_s4t3r.js";import"./workflowStore-Co4xW5nH.js";const _={class:"flex items-center gap-2"},h={key:0,class:"mt-2 text-xs text-gray-700"},F={__name:"ForEachStep",props:{step:{type:Object,required:!0},allStepsBefore:{type:Array,default:()=>[]}},emits:["update:step","delete"],setup(l,{emit:d}){const n=l,p=d,r=b({get:()=>n.step.step_config||{},set:o=>p("update:step",{...n.step,step_config:o})});function c(o,e){r.value={...r.value,[o]:e}}function m(o,e){c(o,e)}function f(){c("sourceArray","")}return(o,e)=>(a(),v(x,{icon:"ðŸ”„",title:"For Each Loop",onDelete:()=>p("delete")},{default:C(()=>[t("div",null,[e[2]||(e[2]=t("label",{class:"block text-xs font-medium text-gray-600 mb-2"},"Loop over this data",-1)),t("div",_,[k(y,{"all-steps-before":l.allStepsBefore,"infer-loop-from-nearest":!1,onInsert:e[0]||(e[0]=g=>m("sourceArray",g))},null,8,["all-steps-before"]),r.value.sourceArray?(a(),i("button",{key:0,onClick:f,class:"px-2 py-1 text-xs rounded-md border text-gray-600 hover:bg-gray-50"},"Clear")):u("",!0)]),r.value.sourceArray?(a(),i("div",h,e[1]||(e[1]=[s(" Selected: ",-1),t("code",{class:"px-1 py-0.5 bg-gray-100 border rounded"},"{{ loopConfig.sourceArray }}",-1)]))):u("",!0),e[3]||(e[3]=t("p",{class:"text-xs text-gray-500 mt-2"},[s(" Inside the loop, use the "),t("strong",null,"Current Loop Item (from For Each)"),s(" data source to access properties of the current item (e.g., "),t("code",null,"{{loop.item.name}}"),s("). ")],-1))])]),_:1},8,["onDelete"]))}};export{F as default};
