import{c,a as f,o as y,b as e,d as i,u as a,t as l,m as x,s as b,j as _}from"./app-DbT8OS6U.js";import{u as k}from"./workflowStore-DZJsW282.js";import{c as v}from"./createLucideIcon-CcTmroC8.js";import{T as S}from"./trash-2-TxAo_pPz.js";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=v("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),C={class:"flex items-center gap-3"},B={class:"p-1 bg-green-100 rounded-md"},q={class:"text-sm font-semibold text-gray-800"},N={class:"text-xs text-gray-500"},D={class:"font-medium text-gray-700"},M={__name:"ConditionBlock",props:{step:{type:Object,required:!0}},emits:["select"],setup(n,{emit:d}){const s=n,u=d,r=k(),p=c(()=>r.selectedStep&&String(r.selectedStep.id)===String(s.step.id)),m=c(()=>{var t;const o=((t=s.step.condition_rules)==null?void 0:t.length)||0;return o===0?"No rules defined":o===1?"1 rule":`${o} rules`}),h=()=>u("select",s.step),g=()=>{confirm("Are you sure you want to delete this step?")&&r.deleteStep(s.step)};return(o,t)=>(y(),f("div",{class:_(["relative rounded-lg border bg-white shadow-sm p-3 cursor-pointer hover:border-blue-400 transition-colors drag-handle",{"border-blue-600 ring-2 ring-blue-200":p.value}]),onClick:h},[e("div",C,[e("div",B,[i(a(w),{class:"w-5 h-5 text-green-600"})]),e("div",null,[e("h3",q,l(n.step.name||"Condition"),1),e("p",N,[t[0]||(t[0]=x(" Logic: ",-1)),e("span",D,l(m.value),1)])])]),e("button",{onClick:b(g,["stop"]),class:"absolute top-1 right-1 p-1 text-gray-400 hover:text-red-600 rounded-full hover:bg-red-100/50",title:"Delete Step"},[i(a(S),{class:"w-3 h-3"})])],2))}};export{M as default};
