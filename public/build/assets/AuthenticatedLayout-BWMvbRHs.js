import{r as D,c as W,S as Pt,f as et,v as hs,a as v,i as T,o as f,F as ae,l as re,b as c,t as V,u as L,T as ao,U as Sa,V as io,W as ro,j as H,X as Mt,Y as Xe,Z as ce,_ as Jt,$ as Gs,a0 as xa,a1 as lo,a2 as Ye,a3 as Ta,a4 as uo,a5 as Ca,a6 as Be,a7 as co,a8 as On,a9 as Na,aa as Ia,ab as Aa,ac as Oa,ad as $a,ae as gs,af as Ma,ag as Ks,ah as Pa,ai as Da,e as fe,g as U,w as N,m as $,d as k,x as le,A as $e,p as te,B as Ft,Q as Ra,n as rt,y as Js,N as Re,M as Ie,H as me,I as es,J as vt,k as La,aj as fo,ak as Va,al as $n,z as Ge,E as Ue,am as po,an as Us,q as Ys,ao as tt,ap as Se,aq as ze,ar as Ds,R as ja,D as Ba,as as mo,at as Ua,au as Fa,av as Mn,aw as Pn,G as Xa}from"./app-wf0u4PWB.js";import{P as ve}from"./PrimaryButton-tMPj6gWM.js";import{_ as Qs}from"./Modal-BjiODHt-.js";import{_ as K}from"./InputLabel-BVEfHfCv.js";import{_ as Q}from"./InputError-CZZbDkgE.js";import{_ as Dt}from"./SecondaryButton-CYAPaMTp.js";import{_ as St}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as De}from"./TextInput-CiMF1FSm.js";import{S as Ce}from"./SelectDropdown-D8L1VbWn.js";import{_ as Ha}from"./Checkbox-Ch8v5SJX.js";import{A as qa}from"./ApplicationLogo-CZK4qXhw.js";import{D as Zs}from"./DangerButton-IHAWnjze.js";import{h as za}from"./moment-BLMuvzoS.js";const Wa={key:0,class:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2"},Ga={key:0,class:"notification-list w-full max-w-xs space-y-2"},Ka={class:"flex-1 min-w-0"},Ja={class:"flex items-start justify-between gap-2 mb-1"},Ya={class:"flex-1 min-w-0"},Qa={key:0,class:"text-base font-semibold text-gray-800 truncate"},Za={key:1,class:"text-xs text-gray-500"},ei={key:0,class:"text-xs text-gray-600 mb-2"},ti={class:"flex items-center justify-between mt-2"},si={key:0,class:"text-xs text-gray-500 font-medium"},ni=["onClick"],oi={key:1,class:"flex justify-end w-full max-w-xs"},ai={key:0},ii={key:1},ot="notification_minimized_state",ri=3,li={__name:"PushNotificationContainer",props:{sidebarIsOpen:{type:Boolean,default:!1}},setup(e){const t=D(!1),s=D(null),o=D(0),n=D(null),i=W(()=>Pt.value.notifications.filter(d=>d.isNewPush).slice(0,ri)),a=W(()=>{const d=Math.floor(o.value/60),p=o.value%60;return`${String(d).padStart(2,"0")}:${String(p).padStart(2,"0")}`}),l=d=>{if(!d)return null;const p=d.match(/\/task\/(\d+)/);return p?parseInt(p[1]):null},r=d=>{if(!d)return null;const p=d.match(/\/project\/(\d+)\//);return p?parseInt(p[1]):null},u=()=>{if(t.value=!t.value,clearTimeout(s.value),clearInterval(n.value),t.value){const d=Date.now()+3e5;localStorage.setItem(ot,JSON.stringify({isMinimized:!0,expiryTime:d})),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(ot)},3e5),o.value=300,n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)}else localStorage.removeItem(ot)},m=async d=>{Sa(d.id),await io(d.view_id);const p=d.task_id||l(d.url),h=d.project_id||r(d.url);p&&h?ro(p,h):(console.warn("Could not open task sidebar. Falling back to redirecting."),d.url&&(window.location.href=d.url))};return et(()=>{const d=localStorage.getItem(ot);if(d)try{const{isMinimized:p,expiryTime:h}=JSON.parse(d),w=Date.now(),g=h-w;g>0?(t.value=p,o.value=Math.floor(g/1e3),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(ot)},g),n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)):localStorage.removeItem(ot)}catch(p){console.error("Error restoring notification minimized state:",p),localStorage.removeItem(ot)}}),hs(()=>{clearTimeout(s.value),clearInterval(n.value)}),(d,p)=>e.sidebarIsOpen?T("",!0):(f(),v("div",Wa,[!t.value&&i.value.length>0?(f(),v("div",Ga,[(f(!0),v(ae,null,re(i.value,h=>(f(),v("div",{key:h.id,class:"bg-white rounded-lg shadow-lg p-3 flex items-start space-x-3 border border-gray-200 transition-opacity duration-300 opacity-60 hover:opacity-100"},[c("div",Ka,[c("div",Ja,[c("div",Ya,[h.title?(f(),v("h3",Qa,V(h.title),1)):T("",!0),h.project_name?(f(),v("p",Za,V(h.project_name),1)):T("",!0)])]),h.message?(f(),v("p",ei,V(h.message),1)):T("",!0),c("div",ti,[h.due_date?(f(),v("div",si," Due: "+V(L(ao)(h.due_date)),1)):T("",!0),c("button",{onClick:w=>m(h),class:"px-2.5 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 shadow"},V(h.button_label||"View"),9,ni)])])]))),128))])):T("",!0),i.value.length>0?(f(),v("div",oi,[c("button",{onClick:u,class:"bg-white/80 backdrop-blur-sm text-gray-600 hover:text-gray-900 text-xs font-bold py-1 px-3 rounded-full shadow-md transition-all duration-300"},[t.value?(f(),v("span",ai,"Show ("+V(a.value)+")",1)):(f(),v("span",ii,"Minimize"))])])):T("",!0)]))}},ui={class:"fixed top-4 right-4 z-[9999] flex flex-col items-end space-y-3"},ci={class:"p-4"},di={class:"text-sm font-medium text-white"},fi={key:0,class:"mt-3 flex gap-2"},pi=["onClick"],mi=["onClick"],hi={__name:"StandardNotificationContainer",setup(e,{expose:t}){const s=D([]),o=(r,u="info",m=5e3)=>{let d;typeof r=="object"&&r!==null?d={...r}:d={message:r,type:u,duration:m};const p=d.id||crypto.randomUUID(),h={id:p,message:d.message||"",type:d.type||"info",duration:typeof d.duration=="number"?d.duration:5e3,sticky:!!d.sticky,confirm:d.confirm||null};return s.value.unshift(h),!h.sticky&&!h.confirm&&setTimeout(()=>{n(p)},h.duration),p},n=r=>{const u=s.value.findIndex(m=>m.id===r);u>-1&&s.value.splice(u,1)},i=r=>{const u=s.value.find(m=>m.id===r);if(u&&u.confirm&&typeof u.confirm.onConfirm=="function")try{u.confirm.onConfirm()}catch{}n(r)},a=r=>{const u=s.value.find(m=>m.id===r);if(u&&u.confirm&&typeof u.confirm.onCancel=="function")try{u.confirm.onCancel()}catch{}n(r)},l=r=>{switch(r){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":default:return"bg-blue-500"}};return t({addNotification:o}),(r,u)=>(f(),v("div",ui,[(f(!0),v(ae,null,re(s.value,m=>(f(),v("div",{key:m.id,class:H(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto overflow-hidden",l(m.type)])},[c("div",ci,[c("p",di,V(m.message),1),m.confirm?(f(),v("div",fi,[c("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-white/90 text-slate-800 hover:bg-white",onClick:d=>i(m.id)},V(m.confirm.confirmText||"Confirm"),9,pi),c("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-transparent border border-white/70 text-white hover:bg-white/10",onClick:d=>a(m.id)},V(m.confirm.cancelText||"Cancel"),9,mi)])):T("",!0)])],2))),128))]))}};var ts={exports:{}},Rs={exports:{}},Ls={};/**
* @vue/compiler-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yt=Symbol(""),gt=Symbol(""),vs=Symbol(""),Rt=Symbol(""),en=Symbol(""),Ze=Symbol(""),tn=Symbol(""),sn=Symbol(""),ys=Symbol(""),_s=Symbol(""),xt=Symbol(""),bs=Symbol(""),nn=Symbol(""),ks=Symbol(""),ws=Symbol(""),Es=Symbol(""),Ss=Symbol(""),xs=Symbol(""),Ts=Symbol(""),on=Symbol(""),an=Symbol(""),Xt=Symbol(""),Lt=Symbol(""),Cs=Symbol(""),Ns=Symbol(""),_t=Symbol(""),Tt=Symbol(""),Is=Symbol(""),ls=Symbol(""),ho=Symbol(""),us=Symbol(""),Vt=Symbol(""),go=Symbol(""),vo=Symbol(""),As=Symbol(""),yo=Symbol(""),_o=Symbol(""),Os=Symbol(""),rn=Symbol(""),ut={[yt]:"Fragment",[gt]:"Teleport",[vs]:"Suspense",[Rt]:"KeepAlive",[en]:"BaseTransition",[Ze]:"openBlock",[tn]:"createBlock",[sn]:"createElementBlock",[ys]:"createVNode",[_s]:"createElementVNode",[xt]:"createCommentVNode",[bs]:"createTextVNode",[nn]:"createStaticVNode",[ks]:"resolveComponent",[ws]:"resolveDynamicComponent",[Es]:"resolveDirective",[Ss]:"resolveFilter",[xs]:"withDirectives",[Ts]:"renderList",[on]:"renderSlot",[an]:"createSlots",[Xt]:"toDisplayString",[Lt]:"mergeProps",[Cs]:"normalizeClass",[Ns]:"normalizeStyle",[_t]:"normalizeProps",[Tt]:"guardReactiveProps",[Is]:"toHandlers",[ls]:"camelize",[ho]:"capitalize",[us]:"toHandlerKey",[Vt]:"setBlockTracking",[go]:"pushScopeId",[vo]:"popScopeId",[As]:"withCtx",[yo]:"unref",[_o]:"isRef",[Os]:"withMemo",[rn]:"isMemoSame"};function bo(e){Object.getOwnPropertySymbols(e).forEach(t=>{ut[t]=e[t]})}const gi={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},vi={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},yi={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},_i={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},de={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function ko(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:de}}function bt(e,t,s,o,n,i,a,l=!1,r=!1,u=!1,m=de){return e&&(l?(e.helper(Ze),e.helper(ft(e.inSSR,u))):e.helper(dt(e.inSSR,u)),a&&e.helper(xs)),{type:13,tag:t,props:s,children:o,patchFlag:n,dynamicProps:i,directives:a,isBlock:l,disableTracking:r,isComponent:u,loc:m}}function Qe(e,t=de){return{type:17,loc:t,elements:e}}function Te(e,t=de){return{type:15,loc:t,properties:e}}function se(e,t){return{type:16,loc:de,key:ce(e)?X(e,!0):e,value:t}}function X(e,t=!1,s=de,o=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:o}}function bi(e,t){return{type:5,loc:t,content:ce(e)?X(e,!1,t):e}}function Ne(e,t=de){return{type:8,loc:t,children:e}}function ue(e,t=[],s=de){return{type:14,loc:s,callee:e,arguments:t}}function ct(e,t=void 0,s=!1,o=!1,n=de){return{type:18,params:e,returns:t,newline:s,isSlot:o,loc:n}}function cs(e,t,s,o=!0){return{type:19,test:e,consequent:t,alternate:s,newline:o,loc:de}}function wo(e,t,s=!1,o=!1){return{type:20,index:e,value:t,needPauseTracking:s,inVOnce:o,needArraySpread:!1,loc:de}}function Eo(e){return{type:21,body:e,loc:de}}function ki(e){return{type:22,elements:e,loc:de}}function wi(e,t,s){return{type:23,test:e,consequent:t,alternate:s,loc:de}}function Ei(e,t){return{type:24,left:e,right:t,loc:de}}function Si(e){return{type:25,expressions:e,loc:de}}function xi(e){return{type:26,returns:e,loc:de}}function dt(e,t){return e||t?ys:_s}function ft(e,t){return e||t?tn:sn}function $s(e,{helper:t,removeHelper:s,inSSR:o}){e.isBlock||(e.isBlock=!0,s(dt(o,e.isComponent)),t(Ze),t(ft(o,e.isComponent)))}const Dn=new Uint8Array([123,123]),Rn=new Uint8Array([125,125]);function Ln(e){return e>=97&&e<=122||e>=65&&e<=90}function xe(e){return e===32||e===10||e===9||e===12||e===13}function We(e){return e===47||e===62||xe(e)}function ds(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}const he={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Ti{constructor(t,s){this.stack=t,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Dn,this.delimiterClose=Rn,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Dn,this.delimiterClose=Rn}getPos(t){let s=1,o=t+1;for(let n=this.newlines.length-1;n>=0;n--){const i=this.newlines[n];if(t>i){s=n+2,o=t-i;break}}return{column:o,line:s,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?We(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||xe(t)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const o=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=o}this.sectionStart=s+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===he.TitleEnd||this.currentSequence===he.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===he.Cdata[this.sequenceIndex]?++this.sequenceIndex===he.Cdata.length&&(this.state=28,this.currentSequence=he.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===he.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,s){this.enterRCDATA(t,s),this.state=31}enterRCDATA(t,s){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=s}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Ln(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){We(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(We(t)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(ds("</"+s),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){xe(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Ln(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||xe(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):xe(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):xe(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||We(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||We(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||We(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||We(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||We(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):xe(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):xe(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,s){(t===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){xe(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=he.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===he.ScriptEnd[3]?this.startSpecial(he.ScriptEnd,4):t===he.StyleEnd[3]?this.startSpecial(he.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===he.TitleEnd[3]?this.startSpecial(he.TitleEnd,4):t===he.TextareaEnd[3]?this.startSpecial(he.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===he.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,s){}}const Ci={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},Ni={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Fs(e,{compatConfig:t}){const s=t&&t[e];return e==="MODE"?s||3:s}function lt(e,t){const s=Fs("MODE",t),o=Fs(e,t);return s===3?o===!0:o!==!1}function kt(e,t,s,...o){return lt(e,t)}function Ii(e,t,s,...o){if(Fs(e,t)==="suppress-warning")return;const{message:i,link:a}=Ni[e],l=`(deprecation ${e}) ${typeof i=="function"?i(...o):i}${a?`
  Details: ${a}`:""}`,r=new SyntaxError(l);r.code=e,s&&(r.loc=s),t.onWarn(r)}function ln(e){throw e}function So(e){}function Z(e,t,s,o){const n=`https://vuejs.org/error-reference/#compiler-${e}`,i=new SyntaxError(String(n));return i.code=e,i.loc=t,i}const Ai={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},Oi={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function $i(e,t,s=!1,o=[],n=Object.create(null)){}function Mi(e,t,s){return!1}function Pi(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let s=t.length;for(;s--;){const o=t[s];if(o.type==="AssignmentExpression")return!0;if(o.type!=="ObjectProperty"&&!o.type.endsWith("Pattern"))break}}return!1}function Di(e){let t=e.length;for(;t--;){const s=e[t];if(s.type==="NewExpression")return!0;if(s.type!=="MemberExpression")break}return!1}function Ri(e,t){for(const s of e.params)for(const o of Fe(s))t(o)}function Li(e,t){for(const s of e.body)if(s.type==="VariableDeclaration"){if(s.declare)continue;for(const o of s.declarations)for(const n of Fe(o.id))t(n)}else if(s.type==="FunctionDeclaration"||s.type==="ClassDeclaration"){if(s.declare||!s.id)continue;t(s.id)}else Vi(s)&&ji(s,!0,t)}function Vi(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function ji(e,t,s){const o=e.type==="ForStatement"?e.init:e.left;if(o&&o.type==="VariableDeclaration"&&(o.kind==="var"?t:!t))for(const n of o.declarations)for(const i of Fe(n.id))s(i)}function Fe(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let s=e;for(;s.type==="MemberExpression";)s=s.object;t.push(s);break;case"ObjectPattern":for(const o of e.properties)o.type==="RestElement"?Fe(o.argument,t):Fe(o.value,t);break;case"ArrayPattern":e.elements.forEach(o=>{o&&Fe(o,t)});break;case"RestElement":Fe(e.argument,t);break;case"AssignmentPattern":Fe(e.left,t);break}return t}const Bi=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),xo=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,Ui=(e,t)=>xo(t)&&t.key===e,To=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function Co(e){return To.includes(e.type)?Co(e.expression):e}const ke=e=>e.type===4&&e.isStatic;function un(e){switch(e){case"Teleport":case"teleport":return gt;case"Suspense":case"suspense":return vs;case"KeepAlive":case"keep-alive":return Rt;case"BaseTransition":case"base-transition":return en}}const Fi=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Ht=e=>!Fi.test(e),Xi=/[A-Za-z_$\xA0-\uFFFF]/,Hi=/[\.\?\w$\xA0-\uFFFF]/,qi=/\s+[.[]\s*|\s*[.[]\s+/g,No=e=>e.type===4?e.content:e.loc.source,Io=e=>{const t=No(e).trim().replace(qi,l=>l.trim());let s=0,o=[],n=0,i=0,a=null;for(let l=0;l<t.length;l++){const r=t.charAt(l);switch(s){case 0:if(r==="[")o.push(s),s=1,n++;else if(r==="(")o.push(s),s=2,i++;else if(!(l===0?Xi:Hi).test(r))return!1;break;case 1:r==="'"||r==='"'||r==="`"?(o.push(s),s=3,a=r):r==="["?n++:r==="]"&&(--n||(s=o.pop()));break;case 2:if(r==="'"||r==='"'||r==="`")o.push(s),s=3,a=r;else if(r==="(")i++;else if(r===")"){if(l===t.length-1)return!1;--i||(s=o.pop())}break;case 3:r===a&&(s=o.pop(),a=null);break}}return!n&&!i},zi=Mt,cn=Io,Wi=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Ao=e=>Wi.test(No(e)),Gi=Mt,Oo=Ao;function Ki(e,t,s=t.length){return $o({offset:e.offset,line:e.line,column:e.column},t,s)}function $o(e,t,s=t.length){let o=0,n=-1;for(let i=0;i<s;i++)t.charCodeAt(i)===10&&(o++,n=i);return e.offset+=s,e.line+=o,e.column=n===-1?e.column+s:s-n,e}function Ji(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function be(e,t,s=!1){for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&(s||n.exp)&&(ce(t)?n.name===t:t.test(n.name)))return n}}function qt(e,t,s=!1,o=!1){for(let n=0;n<e.props.length;n++){const i=e.props[n];if(i.type===6){if(s)continue;if(i.name===t&&(i.value||o))return i}else if(i.name==="bind"&&(i.exp||o)&&Je(i.arg,t))return i}}function Je(e,t){return!!(e&&ke(e)&&e.content===t)}function Mo(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function ss(e){return e.type===5||e.type===2}function Xs(e){return e.type===7&&e.name==="pre"}function dn(e){return e.type===7&&e.name==="slot"}function wt(e){return e.type===1&&e.tagType===3}function jt(e){return e.type===1&&e.tagType===2}const Yi=new Set([_t,Tt]);function Po(e,t=[]){if(e&&!ce(e)&&e.type===14){const s=e.callee;if(!ce(s)&&Yi.has(s))return Po(e.arguments[0],t.concat(e))}return[e,t]}function Bt(e,t,s){let o,n=e.type===13?e.props:e.arguments[2],i=[],a;if(n&&!ce(n)&&n.type===14){const l=Po(n);n=l[0],i=l[1],a=i[i.length-1]}if(n==null||ce(n))o=Te([t]);else if(n.type===14){const l=n.arguments[0];!ce(l)&&l.type===15?Vn(t,l)||l.properties.unshift(t):n.callee===Is?o=ue(s.helper(Lt),[Te([t]),n]):n.arguments.unshift(Te([t])),!o&&(o=n)}else n.type===15?(Vn(t,n)||n.properties.unshift(t),o=n):(o=ue(s.helper(Lt),[Te([t]),n]),a&&a.callee===Tt&&(a=i[i.length-2]));e.type===13?a?a.arguments[0]=o:e.props=o:a?a.arguments[0]=o:e.arguments[2]=o}function Vn(e,t){let s=!1;if(e.key.type===4){const o=e.key.content;s=t.properties.some(n=>n.key.type===4&&n.key.content===o)}return s}function Et(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,o)=>s==="-"?"_":e.charCodeAt(o).toString())}`}function Oe(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===7&&(Oe(o.arg,t)||Oe(o.exp,t)))return!0}return e.children.some(s=>Oe(s,t));case 11:return Oe(e.source,t)?!0:e.children.some(s=>Oe(s,t));case 9:return e.branches.some(s=>Oe(s,t));case 10:return Oe(e.condition,t)?!0:e.children.some(s=>Oe(s,t));case 4:return!e.isStatic&&Ht(e.content)&&!!t[e.content];case 8:return e.children.some(s=>uo(s)&&Oe(s,t));case 5:case 12:return Oe(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function Do(e){return e.type===14&&e.callee===Os?e.arguments[1].returns:e}const Ro=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Lo={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Jt,isPreTag:Jt,isIgnoreNewlineTag:Jt,isCustomElement:Jt,onError:ln,onWarn:So,comments:!1,prefixIdentifiers:!1};let G=Lo,Ut=null,He="",ye=null,z=null,we="",je=-1,at=-1,fn=0,Ke=!1,Hs=null;const ee=[],ne=new Ti(ee,{onerr:Ve,ontext(e,t){Yt(pe(e,t),e,t)},ontextentity(e,t,s){Yt(e,t,s)},oninterpolation(e,t){if(Ke)return Yt(pe(e,t),e,t);let s=e+ne.delimiterOpen.length,o=t-ne.delimiterClose.length;for(;xe(He.charCodeAt(s));)s++;for(;xe(He.charCodeAt(o-1));)o--;let n=pe(s,o);n.includes("&")&&(n=G.decodeEntities(n,!1)),qs({type:5,content:os(n,!1,oe(s,o)),loc:oe(e,t)})},onopentagname(e,t){const s=pe(e,t);ye={type:1,tag:s,ns:G.getNamespace(s,ee[0],G.ns),tagType:0,props:[],children:[],loc:oe(e-1,t),codegenNode:void 0}},onopentagend(e){Bn(e)},onclosetag(e,t){const s=pe(e,t);if(!G.isVoidTag(s)){let o=!1;for(let n=0;n<ee.length;n++)if(ee[n].tag.toLowerCase()===s.toLowerCase()){o=!0,n>0&&Ve(24,ee[0].loc.start.offset);for(let a=0;a<=n;a++){const l=ee.shift();ns(l,t,a<n)}break}o||Ve(23,Vo(e,60))}},onselfclosingtag(e){const t=ye.tag;ye.isSelfClosing=!0,Bn(e),ee[0]&&ee[0].tag===t&&ns(ee.shift(),e)},onattribname(e,t){z={type:6,name:pe(e,t),nameLoc:oe(e,t),value:void 0,loc:oe(e)}},ondirname(e,t){const s=pe(e,t),o=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!Ke&&o===""&&Ve(26,e),Ke||o==="")z={type:6,name:s,nameLoc:oe(e,t),value:void 0,loc:oe(e)};else if(z={type:7,name:o,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[X("prop")]:[],loc:oe(e)},o==="pre"){Ke=ne.inVPre=!0,Hs=ye;const n=ye.props;for(let i=0;i<n.length;i++)n[i].type===7&&(n[i]=lr(n[i]))}},ondirarg(e,t){if(e===t)return;const s=pe(e,t);if(Ke&&!Xs(z))z.name+=s,it(z.nameLoc,t);else{const o=s[0]!=="[";z.arg=os(o?s:s.slice(1,-1),o,oe(e,t),o?3:0)}},ondirmodifier(e,t){const s=pe(e,t);if(Ke&&!Xs(z))z.name+="."+s,it(z.nameLoc,t);else if(z.name==="slot"){const o=z.arg;o&&(o.content+="."+s,it(o.loc,t))}else{const o=X(s,!0,oe(e,t));z.modifiers.push(o)}},onattribdata(e,t){we+=pe(e,t),je<0&&(je=e),at=t},onattribentity(e,t,s){we+=e,je<0&&(je=t),at=s},onattribnameend(e){const t=z.loc.start.offset,s=pe(t,e);z.type===7&&(z.rawName=s),ye.props.some(o=>(o.type===7?o.rawName:o.name)===s)&&Ve(2,t)},onattribend(e,t){if(ye&&z){if(it(z.loc,t),e!==0)if(we.includes("&")&&(we=G.decodeEntities(we,!0)),z.type===6)z.name==="class"&&(we=Bo(we).trim()),e===1&&!we&&Ve(13,t),z.value={type:2,content:we,loc:e===1?oe(je,at):oe(je-1,at+1)},ne.inSFCRoot&&ye.tag==="template"&&z.name==="lang"&&we&&we!=="html"&&ne.enterRCDATA(ds("</template"),0);else{let s=0;z.exp=os(we,!1,oe(je,at),0,s),z.name==="for"&&(z.forParseResult=Zi(z.exp));let o=-1;z.name==="bind"&&(o=z.modifiers.findIndex(n=>n.content==="sync"))>-1&&kt("COMPILER_V_BIND_SYNC",G,z.loc,z.arg.loc.source)&&(z.name="model",z.modifiers.splice(o,1))}(z.type!==7||z.name!=="pre")&&ye.props.push(z)}we="",je=at=-1},oncomment(e,t){G.comments&&qs({type:3,content:pe(e,t),loc:oe(e-4,t+3)})},onend(){const e=He.length;for(let t=0;t<ee.length;t++)ns(ee[t],e-1),Ve(24,ee[t].loc.start.offset)},oncdata(e,t){ee[0].ns!==0?Yt(pe(e,t),e,t):Ve(1,e-9)},onprocessinginstruction(e){(ee[0]?ee[0].ns:G.ns)===0&&Ve(21,e-1)}}),jn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Qi=/^\(|\)$/g;function Zi(e){const t=e.loc,s=e.content,o=s.match(Ro);if(!o)return;const[,n,i]=o,a=(d,p,h=!1)=>{const w=t.start.offset+p,g=w+d.length;return os(d,!1,oe(w,g),0,h?1:0)},l={source:a(i.trim(),s.indexOf(i,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let r=n.trim().replace(Qi,"").trim();const u=n.indexOf(r),m=r.match(jn);if(m){r=r.replace(jn,"").trim();const d=m[1].trim();let p;if(d&&(p=s.indexOf(d,u+r.length),l.key=a(d,p,!0)),m[2]){const h=m[2].trim();h&&(l.index=a(h,s.indexOf(h,l.key?p+d.length:u+r.length),!0))}}return r&&(l.value=a(r,u,!0)),l}function pe(e,t){return He.slice(e,t)}function Bn(e){ne.inSFCRoot&&(ye.innerLoc=oe(e+1,e+1)),qs(ye);const{tag:t,ns:s}=ye;s===0&&G.isPreTag(t)&&fn++,G.isVoidTag(t)?ns(ye,e):(ee.unshift(ye),(s===1||s===2)&&(ne.inXML=!0)),ye=null}function Yt(e,t,s){{const i=ee[0]&&ee[0].tag;i!=="script"&&i!=="style"&&e.includes("&")&&(e=G.decodeEntities(e,!1))}const o=ee[0]||Ut,n=o.children[o.children.length-1];n&&n.type===2?(n.content+=e,it(n.loc,s)):o.children.push({type:2,content:e,loc:oe(t,s)})}function ns(e,t,s=!1){s?it(e.loc,Vo(t,60)):it(e.loc,er(t,62)+1),ne.inSFCRoot&&(e.children.length?e.innerLoc.end=Xe({},e.children[e.children.length-1].loc.end):e.innerLoc.end=Xe({},e.innerLoc.start),e.innerLoc.source=pe(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:o,ns:n,children:i}=e;if(Ke||(o==="slot"?e.tagType=2:Un(e)?e.tagType=3:sr(e)&&(e.tagType=1)),ne.inRCDATA||(e.children=jo(i)),n===0&&G.isIgnoreNewlineTag(o)){const a=i[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}n===0&&G.isPreTag(o)&&fn--,Hs===e&&(Ke=ne.inVPre=!1,Hs=null),ne.inXML&&(ee[0]?ee[0].ns:G.ns)===0&&(ne.inXML=!1);{const a=e.props;if(!ne.inSFCRoot&&lt("COMPILER_NATIVE_TEMPLATE",G)&&e.tag==="template"&&!Un(e)){const r=ee[0]||Ut,u=r.children.indexOf(e);r.children.splice(u,1,...e.children)}const l=a.find(r=>r.type===6&&r.name==="inline-template");l&&kt("COMPILER_INLINE_TEMPLATE",G,l.loc)&&e.children.length&&(l.value={type:2,content:pe(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:l.loc})}}function er(e,t){let s=e;for(;He.charCodeAt(s)!==t&&s<He.length-1;)s++;return s}function Vo(e,t){let s=e;for(;He.charCodeAt(s)!==t&&s>=0;)s--;return s}const tr=new Set(["if","else","else-if","for","slot"]);function Un({tag:e,props:t}){if(e==="template"){for(let s=0;s<t.length;s++)if(t[s].type===7&&tr.has(t[s].name))return!0}return!1}function sr({tag:e,props:t}){if(G.isCustomElement(e))return!1;if(e==="component"||nr(e.charCodeAt(0))||un(e)||G.isBuiltInComponent&&G.isBuiltInComponent(e)||G.isNativeTag&&!G.isNativeTag(e))return!0;for(let s=0;s<t.length;s++){const o=t[s];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(kt("COMPILER_IS_ON_ELEMENT",G,o.loc))return!0}}else if(o.name==="bind"&&Je(o.arg,"is")&&kt("COMPILER_IS_ON_ELEMENT",G,o.loc))return!0}return!1}function nr(e){return e>64&&e<91}const or=/\r\n/g;function jo(e){const t=G.whitespace!=="preserve";let s=!1;for(let o=0;o<e.length;o++){const n=e[o];if(n.type===2)if(fn)n.content=n.content.replace(or,`
`);else if(ar(n.content)){const i=e[o-1]&&e[o-1].type,a=e[o+1]&&e[o+1].type;!i||!a||t&&(i===3&&(a===3||a===1)||i===1&&(a===3||a===1&&ir(n.content)))?(s=!0,e[o]=null):n.content=" "}else t&&(n.content=Bo(n.content))}return s?e.filter(Boolean):e}function ar(e){for(let t=0;t<e.length;t++)if(!xe(e.charCodeAt(t)))return!1;return!0}function ir(e){for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(s===10||s===13)return!0}return!1}function Bo(e){let t="",s=!1;for(let o=0;o<e.length;o++)xe(e.charCodeAt(o))?s||(t+=" ",s=!0):(t+=e[o],s=!1);return t}function qs(e){(ee[0]||Ut).children.push(e)}function oe(e,t){return{start:ne.getPos(e),end:t==null?t:ne.getPos(t),source:t==null?t:pe(e,t)}}function rr(e){return oe(e.start.offset,e.end.offset)}function it(e,t){e.end=ne.getPos(t),e.source=pe(e.start.offset,t)}function lr(e){const t={type:6,name:e.rawName,nameLoc:oe(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const s=e.exp.loc;s.end.offset<e.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),t.value={type:2,content:e.exp.content,loc:s}}return t}function os(e,t=!1,s,o=0,n=0){return X(e,t,s,o)}function Ve(e,t,s){G.onError(Z(e,oe(t,t)))}function ur(){ne.reset(),ye=null,z=null,we="",je=-1,at=-1,ee.length=0}function pn(e,t){if(ur(),He=e,G=Xe({},Lo),t){let n;for(n in t)t[n]!=null&&(G[n]=t[n])}ne.mode=G.parseMode==="html"?1:G.parseMode==="sfc"?2:0,ne.inXML=G.ns===1||G.ns===2;const s=t&&t.delimiters;s&&(ne.delimiterOpen=ds(s[0]),ne.delimiterClose=ds(s[1]));const o=Ut=ko([],e);return ne.parse(He),o.loc=oe(0,e.length),o.children=jo(o.children),Ut=null,o}function cr(e,t){as(e,void 0,t,!!Uo(e))}function Uo(e){const t=e.children.filter(s=>s.type!==3);return t.length===1&&t[0].type===1&&!jt(t[0])?t[0]:null}function as(e,t,s,o=!1,n=!1){const{children:i}=e,a=[];for(let d=0;d<i.length;d++){const p=i[d];if(p.type===1&&p.tagType===0){const h=o?0:Ee(p,s);if(h>0){if(h>=2){p.codegenNode.patchFlag=-1,a.push(p);continue}}else{const w=p.codegenNode;if(w.type===13){const g=w.patchFlag;if((g===void 0||g===512||g===1)&&Xo(p,s)>=2){const R=Ho(p);R&&(w.props=s.hoist(R))}w.dynamicProps&&(w.dynamicProps=s.hoist(w.dynamicProps))}}}else if(p.type===12&&(o?0:Ee(p,s))>=2){p.codegenNode.type===14&&p.codegenNode.arguments.length>0&&p.codegenNode.arguments.push("-1"),a.push(p);continue}if(p.type===1){const h=p.tagType===1;h&&s.scopes.vSlot++,as(p,e,s,!1,n),h&&s.scopes.vSlot--}else if(p.type===11)as(p,e,s,p.children.length===1,!0);else if(p.type===9)for(let h=0;h<p.branches.length;h++)as(p.branches[h],e,s,p.branches[h].children.length===1,n)}let l=!1;const r=[];if(a.length===i.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Be(e.codegenNode.children))e.codegenNode.children=u(Qe(e.codegenNode.children)),l=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Be(e.codegenNode.children)&&e.codegenNode.children.type===15){const d=m(e.codegenNode,"default");d&&(r.push(s.cached.length),d.returns=u(Qe(d.returns)),l=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Be(t.codegenNode.children)&&t.codegenNode.children.type===15){const d=be(e,"slot",!0),p=d&&d.arg&&m(t.codegenNode,d.arg);p&&(r.push(s.cached.length),p.returns=u(Qe(p.returns)),l=!0)}}if(!l)for(const d of a)r.push(s.cached.length),d.codegenNode=s.cache(d.codegenNode);r.length&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Be(e.codegenNode.children)&&e.codegenNode.children.type===15&&e.codegenNode.children.properties.push(se("__",X(JSON.stringify(r),!1)));function u(d){const p=s.cache(d);return n&&s.hmr&&(p.needArraySpread=!0),p}function m(d,p){if(d.children&&!Be(d.children)&&d.children.type===15){const h=d.children.properties.find(w=>w.key===p||w.key.content===p);return h&&h.value}}a.length&&s.transformHoist&&s.transformHoist(i,s,e)}function Ee(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const o=s.get(e);if(o!==void 0)return o;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let a=3;const l=Xo(e,t);if(l===0)return s.set(e,0),0;l<a&&(a=l);for(let r=0;r<e.children.length;r++){const u=Ee(e.children[r],t);if(u===0)return s.set(e,0),0;u<a&&(a=u)}if(a>1)for(let r=0;r<e.props.length;r++){const u=e.props[r];if(u.type===7&&u.name==="bind"&&u.exp){const m=Ee(u.exp,t);if(m===0)return s.set(e,0),0;m<a&&(a=m)}}if(n.isBlock){for(let r=0;r<e.props.length;r++)if(e.props[r].type===7)return s.set(e,0),0;t.removeHelper(Ze),t.removeHelper(ft(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(dt(t.inSSR,n.isComponent))}return s.set(e,a),a}else return s.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ee(e.content,t);case 4:return e.constType;case 8:let i=3;for(let a=0;a<e.children.length;a++){const l=e.children[a];if(ce(l)||Gs(l))continue;const r=Ee(l,t);if(r===0)return 0;r<i&&(i=r)}return i;case 20:return 2;default:return 0}}const dr=new Set([Cs,Ns,_t,Tt]);function Fo(e,t){if(e.type===14&&!ce(e.callee)&&dr.has(e.callee)){const s=e.arguments[0];if(s.type===4)return Ee(s,t);if(s.type===14)return Fo(s,t)}return 0}function Xo(e,t){let s=3;const o=Ho(e);if(o&&o.type===15){const{properties:n}=o;for(let i=0;i<n.length;i++){const{key:a,value:l}=n[i],r=Ee(a,t);if(r===0)return r;r<s&&(s=r);let u;if(l.type===4?u=Ee(l,t):l.type===14?u=Fo(l,t):u=0,u===0)return u;u<s&&(s=u)}}return s}function Ho(e){const t=e.codegenNode;if(t.type===13)return t.props}function qo(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:o=!1,hmr:n=!1,cacheHandlers:i=!1,nodeTransforms:a=[],directiveTransforms:l={},transformHoist:r=null,isBuiltInComponent:u=Mt,isCustomElement:m=Mt,expressionPlugins:d=[],scopeId:p=null,slotted:h=!0,ssr:w=!1,inSSR:g=!1,ssrCssVars:R="",bindingMetadata:x=Ta,inline:E=!1,isTS:S=!1,onError:P=ln,onWarn:O=So,compatConfig:j}){const B=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),y={filename:t,selfName:B&&lo(Ye(B[1])),prefixIdentifiers:s,hoistStatic:o,hmr:n,cacheHandlers:i,nodeTransforms:a,directiveTransforms:l,transformHoist:r,isBuiltInComponent:u,isCustomElement:m,expressionPlugins:d,scopeId:p,slotted:h,ssr:w,inSSR:g,ssrCssVars:R,bindingMetadata:x,inline:E,isTS:S,onError:P,onWarn:O,compatConfig:j,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(_){const b=y.helpers.get(_)||0;return y.helpers.set(_,b+1),_},removeHelper(_){const b=y.helpers.get(_);if(b){const C=b-1;C?y.helpers.set(_,C):y.helpers.delete(_)}},helperString(_){return`_${ut[y.helper(_)]}`},replaceNode(_){y.parent.children[y.childIndex]=y.currentNode=_},removeNode(_){const b=y.parent.children,C=_?b.indexOf(_):y.currentNode?y.childIndex:-1;!_||_===y.currentNode?(y.currentNode=null,y.onNodeRemoved()):y.childIndex>C&&(y.childIndex--,y.onNodeRemoved()),y.parent.children.splice(C,1)},onNodeRemoved:Mt,addIdentifiers(_){},removeIdentifiers(_){},hoist(_){ce(_)&&(_=X(_)),y.hoists.push(_);const b=X(`_hoisted_${y.hoists.length}`,!1,_.loc,2);return b.hoisted=_,b},cache(_,b=!1,C=!1){const I=wo(y.cached.length,_,b,C);return y.cached.push(I),I}};return y.filters=new Set,y}function zo(e,t){const s=qo(e,t);zt(e,s),t.hoistStatic&&cr(e,s),t.ssr||fr(e,s),e.helpers=new Set([...s.helpers.keys()]),e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.transformed=!0,e.filters=[...s.filters]}function fr(e,t){const{helper:s}=t,{children:o}=e;if(o.length===1){const n=Uo(e);if(n&&n.codegenNode){const i=n.codegenNode;i.type===13&&$s(i,t),e.codegenNode=i}else e.codegenNode=o[0]}else if(o.length>1){let n=64;e.codegenNode=bt(t,s(yt),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function pr(e,t){let s=0;const o=()=>{s--};for(;s<e.children.length;s++){const n=e.children[s];ce(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=s,t.onNodeRemoved=o,zt(n,t))}}function zt(e,t){t.currentNode=e;const{nodeTransforms:s}=t,o=[];for(let i=0;i<s.length;i++){const a=s[i](e,t);if(a&&(Be(a)?o.push(...a):o.push(a)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(xt);break;case 5:t.ssr||t.helper(Xt);break;case 9:for(let i=0;i<e.branches.length;i++)zt(e.branches[i],t);break;case 10:case 11:case 1:case 0:pr(e,t);break}t.currentNode=e;let n=o.length;for(;n--;)o[n]()}function mn(e,t){const s=ce(e)?o=>o===e:o=>e.test(o);return(o,n)=>{if(o.type===1){const{props:i}=o;if(o.tagType===3&&i.some(dn))return;const a=[];for(let l=0;l<i.length;l++){const r=i[l];if(r.type===7&&s(r.name)){i.splice(l,1),l--;const u=t(o,r,n);u&&a.push(u)}}return a}}}const Ms="/*@__PURE__*/",Wo=e=>`${ut[e]}: _${ut[e]}`;function mr(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:o=!1,filename:n="template.vue.html",scopeId:i=null,optimizeImports:a=!1,runtimeGlobalName:l="Vue",runtimeModuleName:r="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:m=!1,isTS:d=!1,inSSR:p=!1}){const h={mode:t,prefixIdentifiers:s,sourceMap:o,filename:n,scopeId:i,optimizeImports:a,runtimeGlobalName:l,runtimeModuleName:r,ssrRuntimeModuleName:u,ssr:m,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${ut[g]}`},push(g,R=-2,x){h.code+=g},indent(){w(++h.indentLevel)},deindent(g=!1){g?--h.indentLevel:w(--h.indentLevel)},newline(){w(h.indentLevel)}};function w(g){h.push(`
`+"  ".repeat(g),0)}return h}function Go(e,t={}){const s=mr(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:o,push:n,prefixIdentifiers:i,indent:a,deindent:l,newline:r,scopeId:u,ssr:m}=s,d=Array.from(e.helpers),p=d.length>0,h=!i&&o!=="module";hr(e,s);const g=m?"ssrRender":"render",x=(m?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${g}(${x}) {`),a(),h&&(n("with (_ctx) {"),a(),p&&(n(`const { ${d.map(Wo).join(", ")} } = _Vue
`,-1),r())),e.components.length&&(Vs(e.components,"component",s),(e.directives.length||e.temps>0)&&r()),e.directives.length&&(Vs(e.directives,"directive",s),e.temps>0&&r()),e.filters&&e.filters.length&&(r(),Vs(e.filters,"filter",s),r()),e.temps>0){n("let ");for(let E=0;E<e.temps;E++)n(`${E>0?", ":""}_temp${E}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),r()),m||n("return "),e.codegenNode?_e(e.codegenNode,s):n("null"),h&&(l(),n("}")),l(),n("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function hr(e,t){const{ssr:s,prefixIdentifiers:o,push:n,newline:i,runtimeModuleName:a,runtimeGlobalName:l,ssrRuntimeModuleName:r}=t,u=l,m=Array.from(e.helpers);if(m.length>0&&(n(`const _Vue = ${u}
`,-1),e.hoists.length)){const d=[ys,_s,xt,bs,nn].filter(p=>m.includes(p)).map(Wo).join(", ");n(`const { ${d} } = _Vue
`,-1)}gr(e.hoists,t),i(),n("return ")}function Vs(e,t,{helper:s,push:o,newline:n,isTS:i}){const a=s(t==="filter"?Ss:t==="component"?ks:Es);for(let l=0;l<e.length;l++){let r=e[l];const u=r.endsWith("__self");u&&(r=r.slice(0,-6)),o(`const ${Et(r,t)} = ${a}(${JSON.stringify(r)}${u?", true":""})${i?"!":""}`),l<e.length-1&&n()}}function gr(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:o}=t;o();for(let n=0;n<e.length;n++){const i=e[n];i&&(s(`const _hoisted_${n+1} = `),_e(i,t),o())}t.pure=!1}function hn(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),Wt(e,t,s),s&&t.deindent(),t.push("]")}function Wt(e,t,s=!1,o=!0){const{push:n,newline:i}=t;for(let a=0;a<e.length;a++){const l=e[a];ce(l)?n(l,-3):Be(l)?hn(l,t):_e(l,t),a<e.length-1&&(s?(o&&n(","),i()):o&&n(", "))}}function _e(e,t){if(ce(e)){t.push(e,-3);return}if(Gs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:_e(e.codegenNode,t);break;case 2:vr(e,t);break;case 4:Ko(e,t);break;case 5:yr(e,t);break;case 12:_e(e.codegenNode,t);break;case 8:Jo(e,t);break;case 3:br(e,t);break;case 13:kr(e,t);break;case 14:Er(e,t);break;case 15:Sr(e,t);break;case 17:xr(e,t);break;case 18:Tr(e,t);break;case 19:Cr(e,t);break;case 20:Nr(e,t);break;case 21:Wt(e.body,t,!0,!1);break}}function vr(e,t){t.push(JSON.stringify(e.content),-3,e)}function Ko(e,t){const{content:s,isStatic:o}=e;t.push(o?JSON.stringify(s):s,-3,e)}function yr(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ms),s(`${o(Xt)}(`),_e(e.content,t),s(")")}function Jo(e,t){for(let s=0;s<e.children.length;s++){const o=e.children[s];ce(o)?t.push(o,-3):_e(o,t)}}function _r(e,t){const{push:s}=t;if(e.type===8)s("["),Jo(e,t),s("]");else if(e.isStatic){const o=Ht(e.content)?e.content:JSON.stringify(e.content);s(o,-2,e)}else s(`[${e.content}]`,-3,e)}function br(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ms),s(`${o(xt)}(${JSON.stringify(e.content)})`,-3,e)}function kr(e,t){const{push:s,helper:o,pure:n}=t,{tag:i,props:a,children:l,patchFlag:r,dynamicProps:u,directives:m,isBlock:d,disableTracking:p,isComponent:h}=e;let w;r&&(w=String(r)),m&&s(o(xs)+"("),d&&s(`(${o(Ze)}(${p?"true":""}), `),n&&s(Ms);const g=d?ft(t.inSSR,h):dt(t.inSSR,h);s(o(g)+"(",-2,e),Wt(wr([i,a,l,w,u]),t),s(")"),d&&s(")"),m&&(s(", "),_e(m,t),s(")"))}function wr(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function Er(e,t){const{push:s,helper:o,pure:n}=t,i=ce(e.callee)?e.callee:o(e.callee);n&&s(Ms),s(i+"(",-2,e),Wt(e.arguments,t),s(")")}function Sr(e,t){const{push:s,indent:o,deindent:n,newline:i}=t,{properties:a}=e;if(!a.length){s("{}",-2,e);return}const l=a.length>1||!1;s(l?"{":"{ "),l&&o();for(let r=0;r<a.length;r++){const{key:u,value:m}=a[r];_r(u,t),s(": "),_e(m,t),r<a.length-1&&(s(","),i())}l&&n(),s(l?"}":" }")}function xr(e,t){hn(e.elements,t)}function Tr(e,t){const{push:s,indent:o,deindent:n}=t,{params:i,returns:a,body:l,newline:r,isSlot:u}=e;u&&s(`_${ut[As]}(`),s("(",-2,e),Be(i)?Wt(i,t):i&&_e(i,t),s(") => "),(r||l)&&(s("{"),o()),a?(r&&s("return "),Be(a)?hn(a,t):_e(a,t)):l&&_e(l,t),(r||l)&&(n(),s("}")),u&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function Cr(e,t){const{test:s,consequent:o,alternate:n,newline:i}=e,{push:a,indent:l,deindent:r,newline:u}=t;if(s.type===4){const d=!Ht(s.content);d&&a("("),Ko(s,t),d&&a(")")}else a("("),_e(s,t),a(")");i&&l(),t.indentLevel++,i||a(" "),a("? "),_e(o,t),t.indentLevel--,i&&u(),i||a(" "),a(": ");const m=n.type===19;m||t.indentLevel++,_e(n,t),m||t.indentLevel--,i&&r(!0)}function Nr(e,t){const{push:s,helper:o,indent:n,deindent:i,newline:a}=t,{needPauseTracking:l,needArraySpread:r}=e;r&&s("[...("),s(`_cache[${e.index}] || (`),l&&(n(),s(`${o(Vt)}(-1`),e.inVOnce&&s(", true"),s("),"),a(),s("(")),s(`_cache[${e.index}] = `),_e(e.value,t),l&&(s(`).cacheIndex = ${e.index},`),a(),s(`${o(Vt)}(1),`),a(),s(`_cache[${e.index}]`),i()),s(")"),r&&s(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Ir=(e,t)=>{if(e.type===5)e.content=is(e.content,t);else if(e.type===1){const s=be(e,"memo");for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&n.name!=="for"){const i=n.exp,a=n.arg;i&&i.type===4&&!(n.name==="on"&&a)&&!(s&&a&&a.type===4&&a.content==="key")&&(n.exp=is(i,t,n.name==="slot")),a&&a.type===4&&!a.isStatic&&(n.arg=is(a,t))}}}};function is(e,t,s=!1,o=!1,n=Object.create(t.identifiers)){return e}function Yo(e){return ce(e)?e:e.type===4?e.content:e.children.map(Yo).join("")}const Ar=mn(/^(if|else|else-if)$/,(e,t,s)=>Qo(e,t,s,(o,n,i)=>{const a=s.parent.children;let l=a.indexOf(o),r=0;for(;l-->=0;){const u=a[l];u&&u.type===9&&(r+=u.branches.length)}return()=>{if(i)o.codegenNode=Xn(n,r,s);else{const u=Or(o.codegenNode);u.alternate=Xn(n,r+o.branches.length-1,s)}}}));function Qo(e,t,s,o){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;s.onError(Z(28,t.loc)),t.exp=X("true",!1,n)}if(t.name==="if"){const n=Fn(e,t),i={type:9,loc:rr(e.loc),branches:[n]};if(s.replaceNode(i),o)return o(i,n,!0)}else{const n=s.parent.children;let i=n.indexOf(e);for(;i-->=-1;){const a=n[i];if(a&&a.type===3){s.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){s.removeNode(a);continue}if(a&&a.type===9){t.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&s.onError(Z(30,e.loc)),s.removeNode();const l=Fn(e,t);a.branches.push(l);const r=o&&o(a,l,!1);zt(l,s),r&&r(),s.currentNode=null}else s.onError(Z(30,e.loc));break}}}function Fn(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!be(e,"for")?e.children:[e],userKey:qt(e,"key"),isTemplateIf:s}}function Xn(e,t,s){return e.condition?cs(e.condition,Hn(e,t,s),ue(s.helper(xt),['""',"true"])):Hn(e,t,s)}function Hn(e,t,s){const{helper:o}=s,n=se("key",X(`${t}`,!1,de,2)),{children:i}=e,a=i[0];if(i.length!==1||a.type!==1)if(i.length===1&&a.type===11){const r=a.codegenNode;return Bt(r,n,s),r}else return bt(s,o(yt),Te([n]),i,64,void 0,void 0,!0,!1,!1,e.loc);else{const r=a.codegenNode,u=Do(r);return u.type===13&&$s(u,s),Bt(u,n,s),r}}function Or(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Zo=(e,t,s)=>{const{modifiers:o,loc:n}=e,i=e.arg;let{exp:a}=e;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(i.type!==4||!i.isStatic)return s.onError(Z(52,i.loc)),{props:[se(i,X("",!0,n))]};ea(e),a=e.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=i.content?`${i.content} || ""`:'""'),o.some(l=>l.content==="camel")&&(i.type===4?i.isStatic?i.content=Ye(i.content):i.content=`${s.helperString(ls)}(${i.content})`:(i.children.unshift(`${s.helperString(ls)}(`),i.children.push(")"))),s.inSSR||(o.some(l=>l.content==="prop")&&qn(i,"."),o.some(l=>l.content==="attr")&&qn(i,"^")),{props:[se(i,a)]}},ea=(e,t)=>{const s=e.arg,o=Ye(s.content);e.exp=X(o,!1,s.loc)},qn=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},$r=mn("for",(e,t,s)=>{const{helper:o,removeHelper:n}=s;return ta(e,t,s,i=>{const a=ue(o(Ts),[i.source]),l=wt(e),r=be(e,"memo"),u=qt(e,"key",!1,!0);u&&u.type===7&&!u.exp&&ea(u);let d=u&&(u.type===6?u.value?X(u.value.content,!0):void 0:u.exp);const p=u&&d?se("key",d):null,h=i.source.type===4&&i.source.constType>0,w=h?64:u?128:256;return i.codegenNode=bt(s,o(yt),void 0,a,w,void 0,void 0,!0,!h,!1,e.loc),()=>{let g;const{children:R}=i,x=R.length!==1||R[0].type!==1,E=jt(e)?e:l&&e.children.length===1&&jt(e.children[0])?e.children[0]:null;if(E?(g=E.codegenNode,l&&p&&Bt(g,p,s)):x?g=bt(s,o(yt),p?Te([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=R[0].codegenNode,l&&p&&Bt(g,p,s),g.isBlock!==!h&&(g.isBlock?(n(Ze),n(ft(s.inSSR,g.isComponent))):n(dt(s.inSSR,g.isComponent))),g.isBlock=!h,g.isBlock?(o(Ze),o(ft(s.inSSR,g.isComponent))):o(dt(s.inSSR,g.isComponent))),r){const S=ct(fs(i.parseResult,[X("_cached")]));S.body=Eo([Ne(["const _memo = (",r.exp,")"]),Ne(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${s.helperString(rn)}(_cached, _memo)) return _cached`]),Ne(["const _item = ",g]),X("_item.memo = _memo"),X("return _item")]),a.arguments.push(S,X("_cache"),X(String(s.cached.length))),s.cached.push(null)}else a.arguments.push(ct(fs(i.parseResult),g,!0))}})});function ta(e,t,s,o){if(!t.exp){s.onError(Z(31,t.loc));return}const n=t.forParseResult;if(!n){s.onError(Z(32,t.loc));return}gn(n);const{addIdentifiers:i,removeIdentifiers:a,scopes:l}=s,{source:r,value:u,key:m,index:d}=n,p={type:11,loc:t.loc,source:r,valueAlias:u,keyAlias:m,objectIndexAlias:d,parseResult:n,children:wt(e)?e.children:[e]};s.replaceNode(p),l.vFor++;const h=o&&o(p);return()=>{l.vFor--,h&&h()}}function gn(e,t){e.finalized||(e.finalized=!0)}function fs({value:e,key:t,index:s},o=[]){return Mr([e,t,s,...o])}function Mr(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,o)=>s||X("_".repeat(o+1),!1))}const zn=X("undefined",!1),sa=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=be(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Pr=(e,t)=>{let s;if(wt(e)&&e.props.some(dn)&&(s=be(e,"for"))){const o=s.forParseResult;if(o){gn(o);const{value:n,key:i,index:a}=o,{addIdentifiers:l,removeIdentifiers:r}=t;return n&&l(n),i&&l(i),a&&l(a),()=>{n&&r(n),i&&r(i),a&&r(a)}}}},Dr=(e,t,s,o)=>ct(e,s,!1,!0,s.length?s[0].loc:o);function na(e,t,s=Dr){t.helper(As);const{children:o,loc:n}=e,i=[],a=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const r=be(e,"slot",!0);if(r){const{arg:R,exp:x}=r;R&&!ke(R)&&(l=!0),i.push(se(R||X("default",!0),s(x,void 0,o,n)))}let u=!1,m=!1;const d=[],p=new Set;let h=0;for(let R=0;R<o.length;R++){const x=o[R];let E;if(!wt(x)||!(E=be(x,"slot",!0))){x.type!==3&&d.push(x);continue}if(r){t.onError(Z(37,E.loc));break}u=!0;const{children:S,loc:P}=x,{arg:O=X("default",!0),exp:j,loc:B}=E;let y;ke(O)?y=O?O.content:"default":l=!0;const _=be(x,"for"),b=s(j,_,S,P);let C,I;if(C=be(x,"if"))l=!0,a.push(cs(C.exp,Qt(O,b,h++),zn));else if(I=be(x,/^else(-if)?$/,!0)){let M=R,q;for(;M--&&(q=o[M],!(q.type!==3&&zs(q))););if(q&&wt(q)&&be(q,/^(else-)?if$/)){let J=a[a.length-1];for(;J.alternate.type===19;)J=J.alternate;J.alternate=I.exp?cs(I.exp,Qt(O,b,h++),zn):Qt(O,b,h++)}else t.onError(Z(30,I.loc))}else if(_){l=!0;const M=_.forParseResult;M?(gn(M),a.push(ue(t.helper(Ts),[M.source,ct(fs(M),Qt(O,b),!0)]))):t.onError(Z(32,_.loc))}else{if(y){if(p.has(y)){t.onError(Z(38,B));continue}p.add(y),y==="default"&&(m=!0)}i.push(se(O,b))}}if(!r){const R=(x,E)=>{const S=s(x,void 0,E,n);return t.compatConfig&&(S.isNonScopedSlot=!0),se("default",S)};u?d.length&&d.some(x=>zs(x))&&(m?t.onError(Z(39,d[0].loc)):i.push(R(void 0,d))):i.push(R(void 0,o))}const w=l?2:rs(e.children)?3:1;let g=Te(i.concat(se("_",X(w+"",!1))),n);return a.length&&(g=ue(t.helper(an),[g,Qe(a)])),{slots:g,hasDynamicSlots:l}}function Qt(e,t,s){const o=[se("name",e),se("fn",t)];return s!=null&&o.push(se("key",X(String(s),!0))),Te(o)}function rs(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||rs(s.children))return!0;break;case 9:if(rs(s.branches))return!0;break;case 10:case 11:if(rs(s.children))return!0;break}}return!1}function zs(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():zs(e.content)}const oa=new WeakMap,aa=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:o,props:n}=e,i=e.tagType===1;let a=i?ia(e,t):`"${o}"`;const l=uo(a)&&a.callee===ws;let r,u,m=0,d,p,h,w=l||a===gt||a===vs||!i&&(o==="svg"||o==="foreignObject"||o==="math");if(n.length>0){const g=vn(e,t,void 0,i,l);r=g.props,m=g.patchFlag,p=g.dynamicPropNames;const R=g.directives;h=R&&R.length?Qe(R.map(x=>ra(x,t))):void 0,g.shouldUseBlock&&(w=!0)}if(e.children.length>0)if(a===Rt&&(w=!0,m|=1024),i&&a!==gt&&a!==Rt){const{slots:R,hasDynamicSlots:x}=na(e,t);u=R,x&&(m|=1024)}else if(e.children.length===1&&a!==gt){const R=e.children[0],x=R.type,E=x===5||x===8;E&&Ee(R,t)===0&&(m|=1),E||x===2?u=R:u=e.children}else u=e.children;p&&p.length&&(d=Lr(p)),e.codegenNode=bt(t,a,r,u,m===0?void 0:m,d,h,!!w,!1,i,e.loc)};function ia(e,t,s=!1){let{tag:o}=e;const n=Ws(o),i=qt(e,"is",!1,!0);if(i)if(n||lt("COMPILER_IS_ON_ELEMENT",t)){let l;if(i.type===6?l=i.value&&X(i.value.content,!0):(l=i.exp,l||(l=X("is",!1,i.arg.loc))),l)return ue(t.helper(ws),[l])}else i.type===6&&i.value.content.startsWith("vue:")&&(o=i.value.content.slice(4));const a=un(o)||t.isBuiltInComponent(o);return a?(s||t.helper(a),a):(t.helper(ks),t.components.add(o),Et(o,"component"))}function vn(e,t,s=e.props,o,n,i=!1){const{tag:a,loc:l,children:r}=e;let u=[];const m=[],d=[],p=r.length>0;let h=!1,w=0,g=!1,R=!1,x=!1,E=!1,S=!1,P=!1;const O=[],j=b=>{u.length&&(m.push(Te(Wn(u),l)),u=[]),b&&m.push(b)},B=()=>{t.scopes.vFor>0&&u.push(se(X("ref_for",!0),X("true")))},y=({key:b,value:C})=>{if(ke(b)){const I=b.content,M=co(I);if(M&&(!o||n)&&I.toLowerCase()!=="onclick"&&I!=="onUpdate:modelValue"&&!On(I)&&(E=!0),M&&On(I)&&(P=!0),M&&C.type===14&&(C=C.arguments[0]),C.type===20||(C.type===4||C.type===8)&&Ee(C,t)>0)return;I==="ref"?g=!0:I==="class"?R=!0:I==="style"?x=!0:I!=="key"&&!O.includes(I)&&O.push(I),o&&(I==="class"||I==="style")&&!O.includes(I)&&O.push(I)}else S=!0};for(let b=0;b<s.length;b++){const C=s[b];if(C.type===6){const{loc:I,name:M,nameLoc:q,value:J}=C;let Me=!0;if(M==="ref"&&(g=!0,B()),M==="is"&&(Ws(a)||J&&J.content.startsWith("vue:")||lt("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(se(X(M,!0,q),X(J?J.content:"",Me,J?J.loc:I)))}else{const{name:I,arg:M,exp:q,loc:J,modifiers:Me}=C,Le=I==="bind",pt=I==="on";if(I==="slot"){o||t.onError(Z(40,J));continue}if(I==="once"||I==="memo"||I==="is"||Le&&Je(M,"is")&&(Ws(a)||lt("COMPILER_IS_ON_ELEMENT",t))||pt&&i)continue;if((Le&&Je(M,"key")||pt&&p&&Je(M,"vue:before-update"))&&(h=!0),Le&&Je(M,"ref")&&B(),!M&&(Le||pt)){if(S=!0,q)if(Le){if(j(),lt("COMPILER_V_BIND_OBJECT_ORDER",t)){m.unshift(q);continue}B(),j(),m.push(q)}else j({type:14,loc:J,callee:t.helper(Is),arguments:o?[q]:[q,"true"]});else t.onError(Z(Le?34:35,J));continue}Le&&Me.some(Ae=>Ae.content==="prop")&&(w|=32);const Kt=t.directiveTransforms[I];if(Kt){const{props:Ae,needRuntime:Pe}=Kt(C,e,t);!i&&Ae.forEach(y),pt&&M&&!ke(M)?j(Te(Ae,l)):u.push(...Ae),Pe&&(d.push(C),Gs(Pe)&&oa.set(C,Pe))}else xa(I)||(d.push(C),p&&(h=!0))}}let _;if(m.length?(j(),m.length>1?_=ue(t.helper(Lt),m,l):_=m[0]):u.length&&(_=Te(Wn(u),l)),S?w|=16:(R&&!o&&(w|=2),x&&!o&&(w|=4),O.length&&(w|=8),E&&(w|=32)),!h&&(w===0||w===32)&&(g||P||d.length>0)&&(w|=512),!t.inSSR&&_)switch(_.type){case 15:let b=-1,C=-1,I=!1;for(let J=0;J<_.properties.length;J++){const Me=_.properties[J].key;ke(Me)?Me.content==="class"?b=J:Me.content==="style"&&(C=J):Me.isHandlerKey||(I=!0)}const M=_.properties[b],q=_.properties[C];I?_=ue(t.helper(_t),[_]):(M&&!ke(M.value)&&(M.value=ue(t.helper(Cs),[M.value])),q&&(x||q.value.type===4&&q.value.content.trim()[0]==="["||q.value.type===17)&&(q.value=ue(t.helper(Ns),[q.value])));break;case 14:break;default:_=ue(t.helper(_t),[ue(t.helper(Tt),[_])]);break}return{props:_,directives:d,patchFlag:w,dynamicPropNames:O,shouldUseBlock:h}}function Wn(e){const t=new Map,s=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.key.type===8||!n.key.isStatic){s.push(n);continue}const i=n.key.content,a=t.get(i);a?(i==="style"||i==="class"||co(i))&&Rr(a,n):(t.set(i,n),s.push(n))}return s}function Rr(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Qe([e.value,t.value],e.loc)}function ra(e,t){const s=[],o=oa.get(e);o?s.push(t.helperString(o)):(t.helper(Es),t.directives.add(e.name),s.push(Et(e.name,"directive")));const{loc:n}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const i=X("true",!1,n);s.push(Te(e.modifiers.map(a=>se(a,i)),n))}return Qe(s,e.loc)}function Lr(e){let t="[";for(let s=0,o=e.length;s<o;s++)t+=JSON.stringify(e[s]),s<o-1&&(t+=", ");return t+"]"}function Ws(e){return e==="component"||e==="Component"}const Vr=(e,t)=>{if(jt(e)){const{children:s,loc:o}=e,{slotName:n,slotProps:i}=la(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let l=2;i&&(a[2]=i,l=3),s.length&&(a[3]=ct([],s,!1,!1,o),l=4),t.scopeId&&!t.slotted&&(l=5),a.splice(l),e.codegenNode=ue(t.helper(on),a,o)}};function la(e,t){let s='"default"',o;const n=[];for(let i=0;i<e.props.length;i++){const a=e.props[i];if(a.type===6)a.value&&(a.name==="name"?s=JSON.stringify(a.value.content):(a.name=Ye(a.name),n.push(a)));else if(a.name==="bind"&&Je(a.arg,"name")){if(a.exp)s=a.exp;else if(a.arg&&a.arg.type===4){const l=Ye(a.arg.content);s=a.exp=X(l,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&ke(a.arg)&&(a.arg.content=Ye(a.arg.content)),n.push(a)}if(n.length>0){const{props:i,directives:a}=vn(e,t,n,!1,!1);o=i,a.length&&t.onError(Z(36,a[0].loc))}return{slotName:s,slotProps:o}}const yn=(e,t,s,o)=>{const{loc:n,modifiers:i,arg:a}=e;!e.exp&&!i.length&&s.onError(Z(35,n));let l;if(a.type===4)if(a.isStatic){let d=a.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Ca(Ye(d)):`on:${d}`;l=X(p,!0,a.loc)}else l=Ne([`${s.helperString(us)}(`,a,")"]);else l=a,l.children.unshift(`${s.helperString(us)}(`),l.children.push(")");let r=e.exp;r&&!r.content.trim()&&(r=void 0);let u=s.cacheHandlers&&!r&&!s.inVOnce;if(r){const d=cn(r),p=!(d||Oo(r)),h=r.content.includes(";");(p||u&&d)&&(r=Ne([`${p?"$event":"(...args)"} => ${h?"{":"("}`,r,h?"}":")"]))}let m={props:[se(l,r||X("() => {}",!1,n))]};return o&&(m=o(m)),u&&(m.props[0].value=s.cache(m.props[0].value)),m.props.forEach(d=>d.key.isHandlerKey=!0),m},jr=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let o,n=!1;for(let i=0;i<s.length;i++){const a=s[i];if(ss(a)){n=!0;for(let l=i+1;l<s.length;l++){const r=s[l];if(ss(r))o||(o=s[i]=Ne([a],a.loc)),o.children.push(" + ",r),s.splice(l,1),l--;else{o=void 0;break}}}}if(!(!n||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&e.tag!=="template")))for(let i=0;i<s.length;i++){const a=s[i];if(ss(a)||a.type===8){const l=[];(a.type!==2||a.content!==" ")&&l.push(a),!t.ssr&&Ee(a,t)===0&&l.push("1"),s[i]={type:12,content:a,loc:a.loc,codegenNode:ue(t.helper(bs),l)}}}}},Gn=new WeakSet,Br=(e,t)=>{if(e.type===1&&be(e,"once",!0))return Gn.has(e)||t.inVOnce||t.inSSR?void 0:(Gn.add(e),t.inVOnce=!0,t.helper(Vt),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0,!0))})},_n=(e,t,s)=>{const{exp:o,arg:n}=e;if(!o)return s.onError(Z(41,e.loc)),Zt();const i=o.loc.source.trim(),a=o.type===4?o.content:i,l=s.bindingMetadata[i];if(l==="props"||l==="props-aliased")return s.onError(Z(44,o.loc)),Zt();if(!a.trim()||!cn(o))return s.onError(Z(42,o.loc)),Zt();const r=n||X("modelValue",!0),u=n?ke(n)?`onUpdate:${Ye(n.content)}`:Ne(['"onUpdate:" + ',n]):"onUpdate:modelValue";let m;const d=s.isTS?"($event: any)":"$event";m=Ne([`${d} => ((`,o,") = $event)"]);const p=[se(r,e.exp),se(u,m)];if(e.modifiers.length&&t.tagType===1){const h=e.modifiers.map(g=>g.content).map(g=>(Ht(g)?g:JSON.stringify(g))+": true").join(", "),w=n?ke(n)?`${n.content}Modifiers`:Ne([n,' + "Modifiers"']):"modelModifiers";p.push(se(w,X(`{ ${h} }`,!1,e.loc,2)))}return Zt(p)};function Zt(e=[]){return{props:e}}const Ur=/[\w).+\-_$\]]/,Fr=(e,t)=>{lt("COMPILER_FILTERS",t)&&(e.type===5?ps(e.content,t):e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&ps(s.exp,t)}))};function ps(e,t){if(e.type===4)Kn(e,t);else for(let s=0;s<e.children.length;s++){const o=e.children[s];typeof o=="object"&&(o.type===4?Kn(o,t):o.type===8?ps(e,t):o.type===5&&ps(o.content,t))}}function Kn(e,t){const s=e.content;let o=!1,n=!1,i=!1,a=!1,l=0,r=0,u=0,m=0,d,p,h,w,g=[];for(h=0;h<s.length;h++)if(p=d,d=s.charCodeAt(h),o)d===39&&p!==92&&(o=!1);else if(n)d===34&&p!==92&&(n=!1);else if(i)d===96&&p!==92&&(i=!1);else if(a)d===47&&p!==92&&(a=!1);else if(d===124&&s.charCodeAt(h+1)!==124&&s.charCodeAt(h-1)!==124&&!l&&!r&&!u)w===void 0?(m=h+1,w=s.slice(0,h).trim()):R();else{switch(d){case 34:n=!0;break;case 39:o=!0;break;case 96:i=!0;break;case 40:u++;break;case 41:u--;break;case 91:r++;break;case 93:r--;break;case 123:l++;break;case 125:l--;break}if(d===47){let x=h-1,E;for(;x>=0&&(E=s.charAt(x),E===" ");x--);(!E||!Ur.test(E))&&(a=!0)}}w===void 0?w=s.slice(0,h).trim():m!==0&&R();function R(){g.push(s.slice(m,h).trim()),m=h+1}if(g.length){for(h=0;h<g.length;h++)w=Xr(w,g[h],t);e.content=w,e.ast=void 0}}function Xr(e,t,s){s.helper(Ss);const o=t.indexOf("(");if(o<0)return s.filters.add(t),`${Et(t,"filter")}(${e})`;{const n=t.slice(0,o),i=t.slice(o+1);return s.filters.add(n),`${Et(n,"filter")}(${e}${i!==")"?","+i:i}`}}const Jn=new WeakSet,Hr=(e,t)=>{if(e.type===1){const s=be(e,"memo");return!s||Jn.has(e)?void 0:(Jn.add(e),()=>{const o=e.codegenNode||t.currentNode.codegenNode;o&&o.type===13&&(e.tagType!==1&&$s(o,t),e.codegenNode=ue(t.helper(Os),[s.exp,ct(void 0,o),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function ua(e){return[[Br,Ar,Hr,$r,Fr,Vr,aa,sa,jr],{on:yn,bind:Zo,model:_n}]}function ca(e,t={}){const s=t.onError||ln,o=t.mode==="module";t.prefixIdentifiers===!0?s(Z(47)):o&&s(Z(48));const n=!1;t.cacheHandlers&&s(Z(49)),t.scopeId&&!o&&s(Z(50));const i=Xe({},t,{prefixIdentifiers:n}),a=ce(e)?pn(e,i):e,[l,r]=ua();return zo(a,Xe({},i,{nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:Xe({},r,t.directiveTransforms||{})})),Go(a,i)}const qr={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},da=()=>({props:[]});/**
* @vue/compiler-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bn=Symbol(""),kn=Symbol(""),wn=Symbol(""),En=Symbol(""),ms=Symbol(""),Sn=Symbol(""),xn=Symbol(""),Tn=Symbol(""),Cn=Symbol(""),Nn=Symbol("");bo({[bn]:"vModelRadio",[kn]:"vModelCheckbox",[wn]:"vModelText",[En]:"vModelSelect",[ms]:"vModelDynamic",[Sn]:"withModifiers",[xn]:"withKeys",[Tn]:"vShow",[Cn]:"Transition",[Nn]:"TransitionGroup"});let mt;function zr(e,t=!1){return mt||(mt=document.createElement("div")),t?(mt.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,mt.children[0].getAttribute("foo")):(mt.innerHTML=e,mt.textContent)}const In={parseMode:"html",isVoidTag:Oa,isNativeTag:e=>Na(e)||Ia(e)||Aa(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:zr,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Cn;if(e==="TransitionGroup"||e==="transition-group")return Nn},getNamespace(e,t,s){let o=t?t.ns:s;if(t&&o===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(o=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(o=0);else t&&o===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(o=0);if(o===0){if(e==="svg")return 1;if(e==="math")return 2}return o}},fa=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:X("style",!0,t.loc),exp:Wr(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Wr=(e,t)=>{const s=$a(e);return X(JSON.stringify(s),!1,t,3)};function qe(e,t){return Z(e,t)}const Gr={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},Kr={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},Jr=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(qe(53,n)),t.children.length&&(s.onError(qe(54,n)),t.children.length=0),{props:[se(X("innerHTML",!0,n),o||X("",!0))]}},Yr=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(qe(55,n)),t.children.length&&(s.onError(qe(56,n)),t.children.length=0),{props:[se(X("textContent",!0),o?Ee(o,s)>0?o:ue(s.helperString(Xt),[o],n):X("",!0))]}},Qr=(e,t,s)=>{const o=_n(e,t,s);if(!o.props.length||t.tagType===1)return o;e.arg&&s.onError(qe(58,e.arg.loc));const{tag:n}=t,i=s.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||i){let a=wn,l=!1;if(n==="input"||i){const r=qt(t,"type");if(r){if(r.type===7)a=ms;else if(r.value)switch(r.value.content){case"radio":a=bn;break;case"checkbox":a=kn;break;case"file":l=!0,s.onError(qe(59,e.loc));break}}else Mo(t)&&(a=ms)}else n==="select"&&(a=En);l||(o.needRuntime=s.helper(a))}else s.onError(qe(57,e.loc));return o.props=o.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),o},Zr=gs("passive,once,capture"),el=gs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),tl=gs("left,right"),pa=gs("onkeyup,onkeydown,onkeypress"),sl=(e,t,s,o)=>{const n=[],i=[],a=[];for(let l=0;l<t.length;l++){const r=t[l].content;r==="native"&&kt("COMPILER_V_ON_NATIVE",s)||Zr(r)?a.push(r):tl(r)?ke(e)?pa(e.content.toLowerCase())?n.push(r):i.push(r):(n.push(r),i.push(r)):el(r)?i.push(r):n.push(r)}return{keyModifiers:n,nonKeyModifiers:i,eventOptionModifiers:a}},Yn=(e,t)=>ke(e)&&e.content.toLowerCase()==="onclick"?X(t,!0):e.type!==4?Ne(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,nl=(e,t,s)=>yn(e,t,s,o=>{const{modifiers:n}=e;if(!n.length)return o;let{key:i,value:a}=o.props[0];const{keyModifiers:l,nonKeyModifiers:r,eventOptionModifiers:u}=sl(i,n,s,e.loc);if(r.includes("right")&&(i=Yn(i,"onContextmenu")),r.includes("middle")&&(i=Yn(i,"onMouseup")),r.length&&(a=ue(s.helper(Sn),[a,JSON.stringify(r)])),l.length&&(!ke(i)||pa(i.content.toLowerCase()))&&(a=ue(s.helper(xn),[a,JSON.stringify(l)])),u.length){const m=u.map(lo).join("");i=ke(i)?X(`${i.content}${m}`,!0):Ne(["(",i,`) + "${m}"`])}return{props:[se(i,a)]}}),ol=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(qe(61,n)),{props:[],needRuntime:s.helper(Tn)}},al=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},ma=[fa],ha={cloak:da,html:Jr,text:Yr,model:Qr,on:nl,show:ol};function il(e,t={}){return ca(e,Xe({},In,t,{nodeTransforms:[al,...ma,...t.nodeTransforms||[]],directiveTransforms:Xe({},ha,t.directiveTransforms||{}),transformHoist:null}))}function rl(e,t={}){return pn(e,Xe({},In,t))}const ll=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:en,BindingTypes:qr,CAMELIZE:ls,CAPITALIZE:ho,CREATE_BLOCK:tn,CREATE_COMMENT:xt,CREATE_ELEMENT_BLOCK:sn,CREATE_ELEMENT_VNODE:_s,CREATE_SLOTS:an,CREATE_STATIC:nn,CREATE_TEXT:bs,CREATE_VNODE:ys,CompilerDeprecationTypes:Ci,ConstantTypes:_i,DOMDirectiveTransforms:ha,DOMErrorCodes:Gr,DOMErrorMessages:Kr,DOMNodeTransforms:ma,ElementTypes:yi,ErrorCodes:Ai,FRAGMENT:yt,GUARD_REACTIVE_PROPS:Tt,IS_MEMO_SAME:rn,IS_REF:_o,KEEP_ALIVE:Rt,MERGE_PROPS:Lt,NORMALIZE_CLASS:Cs,NORMALIZE_PROPS:_t,NORMALIZE_STYLE:Ns,Namespaces:gi,NodeTypes:vi,OPEN_BLOCK:Ze,POP_SCOPE_ID:vo,PUSH_SCOPE_ID:go,RENDER_LIST:Ts,RENDER_SLOT:on,RESOLVE_COMPONENT:ks,RESOLVE_DIRECTIVE:Es,RESOLVE_DYNAMIC_COMPONENT:ws,RESOLVE_FILTER:Ss,SET_BLOCK_TRACKING:Vt,SUSPENSE:vs,TELEPORT:gt,TO_DISPLAY_STRING:Xt,TO_HANDLERS:Is,TO_HANDLER_KEY:us,TRANSITION:Cn,TRANSITION_GROUP:Nn,TS_NODE_TYPES:To,UNREF:yo,V_MODEL_CHECKBOX:kn,V_MODEL_DYNAMIC:ms,V_MODEL_RADIO:bn,V_MODEL_SELECT:En,V_MODEL_TEXT:wn,V_ON_WITH_KEYS:xn,V_ON_WITH_MODIFIERS:Sn,V_SHOW:Tn,WITH_CTX:As,WITH_DIRECTIVES:xs,WITH_MEMO:Os,advancePositionWithClone:Ki,advancePositionWithMutation:$o,assert:Ji,baseCompile:ca,baseParse:pn,buildDirectiveArgs:ra,buildProps:vn,buildSlots:na,checkCompatEnabled:kt,compile:il,convertToBlock:$s,createArrayExpression:Qe,createAssignmentExpression:Ei,createBlockStatement:Eo,createCacheExpression:wo,createCallExpression:ue,createCompilerError:Z,createCompoundExpression:Ne,createConditionalExpression:cs,createDOMCompilerError:qe,createForLoopParams:fs,createFunctionExpression:ct,createIfStatement:wi,createInterpolation:bi,createObjectExpression:Te,createObjectProperty:se,createReturnStatement:xi,createRoot:ko,createSequenceExpression:Si,createSimpleExpression:X,createStructuralDirectiveTransform:mn,createTemplateLiteral:ki,createTransformContext:qo,createVNodeCall:bt,errorMessages:Oi,extractIdentifiers:Fe,findDir:be,findProp:qt,forAliasRE:Ro,generate:Go,generateCodeFrame:Ma,getBaseTransformPreset:ua,getConstantType:Ee,getMemoedVNodeCall:Do,getVNodeBlockHelper:ft,getVNodeHelper:dt,hasDynamicKeyVBind:Mo,hasScopeRef:Oe,helperNameMap:ut,injectProp:Bt,isCoreComponent:un,isFnExpression:Oo,isFnExpressionBrowser:Ao,isFnExpressionNode:Gi,isFunctionType:Bi,isInDestructureAssignment:Pi,isInNewExpression:Di,isMemberExpression:cn,isMemberExpressionBrowser:Io,isMemberExpressionNode:zi,isReferencedIdentifier:Mi,isSimpleIdentifier:Ht,isSlotOutlet:jt,isStaticArgOf:Je,isStaticExp:ke,isStaticProperty:xo,isStaticPropertyKey:Ui,isTemplateNode:wt,isText:ss,isVPre:Xs,isVSlot:dn,locStub:de,noopDirectiveTransform:da,parse:rl,parserOptions:In,processExpression:is,processFor:ta,processIf:Qo,processSlotOutlet:la,registerRuntimeHelpers:bo,resolveComponentType:ia,stringifyExpression:Yo,toValidAssetId:Et,trackSlotScopes:sa,trackVForSlotScopes:Pr,transform:zo,transformBind:Zo,transformElement:aa,transformExpression:Ir,transformModel:_n,transformOn:yn,transformStyle:fa,traverseNode:zt,unwrapTSNode:Co,walkBlockDeclarations:Li,walkFunctionParams:Ri,walkIdentifiers:$i,warnDeprecation:Ii},Symbol.toStringTag,{value:"Module"})),ul=Ks(ll),cl=Ks(Pa),dl=Ks(Da);/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Qn;function fl(){return Qn||(Qn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ul,s=cl,o=dl;function n(r){var u=Object.create(null);if(r)for(var m in r)u[m]=r[m];return u.default=r,Object.freeze(u)}var i=n(s);const a=Object.create(null);function l(r,u){if(!o.isString(r))if(r.nodeType)r=r.innerHTML;else return o.NOOP;const m=o.genCacheKey(r,u),d=a[m];if(d)return d;if(r[0]==="#"){const g=document.querySelector(r);r=g?g.innerHTML:""}const p=o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},u);!p.isCustomElement&&typeof customElements<"u"&&(p.isCustomElement=g=>!!customElements.get(g));const{code:h}=t.compile(r,p),w=new Function("Vue",h)(i);return w._rc=!0,a[m]=w}s.registerRuntimeCompiler(l),e.compile=l,Object.keys(s).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=s[r])})}(Ls)),Ls}var Zn;function pl(){return Zn||(Zn=1,Rs.exports=fl()),Rs.exports}var ml=ts.exports,eo;function hl(){return eo||(eo=1,function(e,t){(function(o,n){e.exports=n(pl())})(ml,s=>(()=>{var o={113:(y,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.default=(b,C)=>{const I=b.__vccOpts||b;for(const[M,q]of C)I[M]=q;return I}},594:y=>{y.exports=s}},n={};function i(y){var _=n[y];if(_!==void 0)return _.exports;var b=n[y]={exports:{}};return o[y](b,b.exports,i),b.exports}i.d=(y,_)=>{for(var b in _)i.o(_,b)&&!i.o(y,b)&&Object.defineProperty(y,b,{enumerable:!0,get:_[b]})},i.o=(y,_)=>Object.prototype.hasOwnProperty.call(y,_),i.r=y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{ToastComponent:()=>P,ToastPlugin:()=>j,ToastPositions:()=>h,default:()=>B,useToast:()=>O});var l=i(594);const r=["innerHTML"];function u(y,_,b,C,I,M){return(0,l.openBlock)(),(0,l.createBlock)(l.Transition,{"enter-active-class":y.transition.enter,"leave-active-class":y.transition.leave},{default:(0,l.withCtx)(()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",{ref:"root",role:"alert",class:(0,l.normalizeClass)(["v-toast__item",[`v-toast__item--${y.type}`,`v-toast__item--${y.position}`]]),onMouseover:_[0]||(_[0]=q=>y.toggleTimer(!0)),onMouseleave:_[1]||(_[1]=q=>y.toggleTimer(!1)),onClick:_[2]||(_[2]=function(){return y.whenClicked&&y.whenClicked(...arguments)})},[_[3]||(_[3]=(0,l.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,l.createElementVNode)("p",{class:"v-toast__text",innerHTML:y.message},null,8,r)],34),[[l.vShow,y.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function m(y){var _;typeof y.remove<"u"?y.remove():(_=y.parentNode)==null||_.removeChild(y)}function d(y,_,b){let C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const I=(0,l.h)(y,_,C),M=document.createElement("div");return M.classList.add("v-toast--pending"),b.appendChild(M),(0,l.render)(I,M),I.component}class p{constructor(_,b){this.startedAt=Date.now(),this.callback=_,this.delay=b,this.timer=setTimeout(_,b)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const h=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function w(y){return{all:y=y||new Map,on:function(_,b){var C=y.get(_);C?C.push(b):y.set(_,[b])},off:function(_,b){var C=y.get(_);C&&(b?C.splice(C.indexOf(b)>>>0,1):y.set(_,[]))},emit:function(_,b){var C=y.get(_);C&&C.slice().map(function(I){I(b)}),(C=y.get("*"))&&C.slice().map(function(I){I(_,b)})}}}const R=w(),x=(0,l.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:h.BOTTOM_RIGHT,validator(y){return Object.values(h).includes(y)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),R.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const y=document.body;y.appendChild(this.parentTop),y.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const y=this.$refs.root;(0,l.render)(null,y),m(y)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const y=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),m(y),this.isActive=!0,this.duration&&(this.timer=new p(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(y){!this.pauseOnHover||!this.timer||(y?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case h.TOP:case h.TOP_RIGHT:case h.TOP_LEFT:return this.parentTop;case h.BOTTOM:case h.BOTTOM_RIGHT:case h.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case h.TOP:case h.TOP_RIGHT:case h.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case h.BOTTOM:case h.BOTTOM_RIGHT:case h.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){R.off("toast-clear",this.dismiss)}});var E=i(113);const P=(0,E.default)(x,[["render",u]]),O=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(_){let b=null;typeof _=="string"&&(b=_);const I=Object.assign({},{message:b},y,_);return{dismiss:d(P,I,document.body).ctx.dismiss}},clear(){R.emit("toast-clear")},success(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"success"},b))},error(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"error"},b))},info(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"info"},b))},warning(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"warning"},b))},default(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"default"},b))}}},j={install:function(y){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=O(_);y.config.globalProperties.$toast=b,y.provide("$toast",b)}},B=j;return a})())}(ts)),ts.exports}var gl=hl();const vl={class:"p-8"},yl={class:"mt-2 text-sm text-gray-600"},_l={key:0,class:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-lg"},bl={class:"mt-4"},kl={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},wl={class:"lg:col-span-1 space-y-3"},El=["onClick"],Sl={class:"flex items-center justify-between"},xl={class:"flex items-center"},Tl={class:"ml-2 text-sm text-gray-500"},Cl={key:0},Nl={key:1},Il={key:1,class:"text-xs text-gray-400"},Al={key:0,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner"},Ol={class:"text-xl font-semibold text-gray-800 mb-4"},$l={class:"flex items-center justify-between mb-6 p-4 rounded-lg bg-white shadow-sm border border-gray-200"},Ml={class:"relative inline-flex items-center cursor-pointer"},Pl=["checked"],Dl={key:0},Rl={class:"flex-1"},Ll=["onUpdate:modelValue"],Vl={class:"flex-1"},jl=["onUpdate:modelValue"],Bl=["onClick"],Ul={key:1},Fl={class:"mt-8 flex justify-end space-x-3"},Xl={key:0,class:"flex items-center"},Hl={key:1},ql={__name:"AvailabilityModal",props:{show:Boolean,userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(e,{emit:t}){const s=()=>{const B=localStorage.getItem("authToken");B&&!te.defaults.headers.common.Authorization&&(te.defaults.headers.common.Authorization=`Bearer ${B}`)},o=e,n=t,i=gl.useToast(),a=D({}),l=D({}),r=D(!1),u=D(null),m=D(""),d=D(!1),p=D([]),h=()=>{const B=[],y=new Date,_=new Date(y);_.setDate(y.getDate()+1);for(let b=0;b<7;b++){const C=new Date(_);C.setDate(_.getDate()+b);const I=C.toISOString().split("T")[0];B.push({value:I,label:C.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:C.toLocaleDateString("en-US",{weekday:"short"})}),a.value[I]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}return B},w=()=>{const B=[],y=new Date,_=y.getDay(),b=new Date(y);b.setDate(y.getDate()-(_===0?6:_-1));for(let C=0;C<7;C++){const I=new Date(b);I.setDate(b.getDate()+C);const M=I.toISOString().split("T")[0];B.push({value:M,label:I.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:I.toLocaleDateString("en-US",{weekday:"short"})}),a.value[M]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}return B},g=()=>{d.value=!0,m.value="",p.value=w(),u.value=p.value[0].value,R()};et(()=>{s(),p.value=h()});const R=async()=>{try{if(s(),p.value.length===0)return;const B=p.value[0].value,y=p.value[p.value.length-1].value,_=await te.get("/api/availabilities",{params:{start_date:B,end_date:y,user_id:o.userId}});_.data&&_.data.availabilities&&(p.value.forEach(b=>{a.value[b.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),_.data.availabilities.forEach(b=>{const C=b.date.split("T")[0];a.value[C]&&(a.value[C].isSelected=!0,a.value[C].isAvailable=b.is_available,b.is_available?a.value[C].timeSlots=b.time_slots&&b.time_slots.length>0?[...b.time_slots]:[{start_time:"",end_time:""}]:a.value[C].reason=b.reason||"")}))}catch(B){console.error("Error fetching existing availabilities:",B)}};fe(()=>o.show,async B=>{B?(l.value={},m.value="",d.value=!1,p.value=h(),await R(),p.value.length>0&&(u.value=p.value[0].value)):u.value=null},{immediate:!0});const x=W(()=>a.value[u.value]||{isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}),E=()=>{const B=x.value.timeSlots;B&&B.push({start_time:"",end_time:""})},S=B=>{const y=x.value.timeSlots;y&&y.length>1&&y.splice(B,1)},P=B=>{x.value.isAvailable=B,B?x.value.reason="":x.value.timeSlots=[{start_time:"",end_time:""}]},O=()=>{console.log("hit");const B=x.value;for(const y of p.value){const _=y.value;_!==u.value&&(a.value[_]=JSON.parse(JSON.stringify(B)),a.value[_].isSelected=!0)}i.success("Availability applied to all days!")},j=async()=>{if(r.value=!0,l.value={},d.value&&!m.value.trim()){l.value.lateReason="Please provide a reason for this late submission.",r.value=!1;return}const B=[];for(const y of p.value){const _=y.value,b=a.value[_];let C={};if(b.isSelected){if(b.isAvailable)if(b.timeSlots.some(I=>!I.start_time||!I.end_time))C.timeSlots="Please fill in all time slots.";else for(const I of b.timeSlots){const M=I.start_time.split(":").map(Number),q=I.end_time.split(":").map(Number);if(M[0]*60+M[1]>=q[0]*60+q[1]){C.timeSlots="End time must be after start time.";break}}else b.reason.trim()||(C.reason="Please provide a reason for unavailability.");Object.keys(C).length>0&&(l.value[_]=C),Object.keys(C).length===0&&B.push({date:_,is_available:b.isAvailable,reason:b.isAvailable?null:b.reason,time_slots:b.isAvailable?b.timeSlots:null})}}if(B.length===0){l.value.general="Please select and set availability for at least one day.",r.value=!1;return}try{s();const y={availabilities:B,reason_for_late_submission:d.value?m.value:null};await te.post("/api/availabilities/batch",y),i.success("Availability saved successfully!"),n("availability-saved"),setTimeout(()=>n("close"),1500)}catch(y){console.error("Error saving availability:",y),i.error("An error occurred while saving your availability.")}finally{r.value=!1}};return(B,y)=>(f(),U(Qs,{show:e.show,onClose:y[4]||(y[4]=_=>B.$emit("close")),"max-width":"4xl"},{default:N(()=>{var _,b,C,I;return[c("div",vl,[y[16]||(y[16]=c("h2",{class:"text-2xl font-bold text-gray-900"}," Set Your Weekly Availability ",-1)),c("p",yl,[y[5]||(y[5]=$(" Select a day to quickly set your schedule for the upcoming week. ",-1)),d.value?T("",!0):(f(),v("span",{key:0,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:g}," Missed the deadline? Submit for this week. "))]),d.value?(f(),v("div",_l,[y[6]||(y[6]=c("div",{class:"flex items-center"},[c("svg",{class:"h-5 w-5 text-yellow-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c("path",{"fill-rule":"evenodd",d:"M8.257 3.344a1.5 1.5 0 012.486 0l5.446 9.176A1.5 1.5 0 0114.246 15H5.754a1.5 1.5 0 01-1.238-2.48zM9 11a1 1 0 102 0V7a1 1 0 10-2 0v4zm1-3a1 1 0 100 2h.01a1 1 0 100-2H10z","clip-rule":"evenodd"})]),c("p",{class:"font-semibold"},"Late Submission for Current Week")],-1)),y[7]||(y[7]=c("p",{class:"mt-2 text-sm"}," Please provide a reason for submitting late. We acknowledge that availability submissions are due by Thursday evening. ",-1)),c("div",bl,[k(K,{value:"Reason for late submission"}),le(c("textarea",{"onUpdate:modelValue":y[0]||(y[0]=M=>m.value=M),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., I was out sick, I forgot, I had no access to the system"},null,512),[[$e,m.value]]),k(Q,{message:l.value.lateReason,class:"mt-2"},null,8,["message"])])])):T("",!0),c("div",kl,[c("div",wl,[(f(!0),v(ae,null,re(p.value,M=>{var q;return f(),v("div",{key:M.value,class:H(["p-4 rounded-xl border cursor-pointer transition-all duration-200 ease-in-out",{"bg-indigo-50 border-indigo-500 shadow-lg":u.value===M.value,"bg-white border-gray-200 hover:border-indigo-400 hover:shadow-md":u.value!==M.value,"border-red-400 bg-red-50":l.value[M.value],"opacity-70":M.isPast}]),onClick:J=>u.value=M.value},[c("div",Sl,[c("div",xl,[c("div",{class:H(["text-lg font-bold",{"text-indigo-600":u.value===M.value,"text-gray-800":u.value!==M.value}])},V(M.day),3),c("div",Tl,V(M.label.split(", ")[1]),1)]),(q=a.value[M.value])!=null&&q.isSelected?(f(),v("span",{key:0,class:H(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",{"bg-emerald-100 text-emerald-800":a.value[M.value].isAvailable,"bg-amber-100 text-amber-800":!a.value[M.value].isAvailable}])},[a.value[M.value].isAvailable?(f(),v("span",Cl,"Available")):(f(),v("span",Nl,"Unavailable"))],2)):(f(),v("span",Il," Not Set "))])],10,El)}),128))]),u.value?(f(),v("div",Al,[c("h3",Ol," Availability for "+V((_=p.value.find(M=>M.value===u.value))==null?void 0:_.label),1),c("div",{class:"mb-4 text-sm text-right"},[c("button",{type:"button",onClick:O,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out"},y[8]||(y[8]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),c("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"})],-1),$(" Apply to all days ",-1)]))]),c("div",$l,[y[10]||(y[10]=c("span",{class:"text-sm font-medium text-gray-700"},"I am available on this day",-1)),c("label",Ml,[c("input",{type:"checkbox",checked:x.value.isAvailable,onChange:y[1]||(y[1]=M=>P(M.target.checked)),class:"sr-only peer"},null,40,Pl),y[9]||(y[9]=c("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1))])]),k(Q,{message:(b=l.value[u.value])==null?void 0:b.general,class:"mt-2"},null,8,["message"]),x.value.isAvailable?(f(),v("div",Dl,[k(K,{value:"Available Time Slots",class:"text-gray-800 mb-2"}),k(Q,{message:(C=l.value[u.value])==null?void 0:C.timeSlots,class:"mt-2 mb-4"},null,8,["message"]),(f(!0),v(ae,null,re(x.value.timeSlots,(M,q)=>(f(),v("div",{key:q,class:"flex items-center space-x-2 mb-4"},[c("div",Rl,[le(c("input",{type:"time","onUpdate:modelValue":J=>M.start_time=J,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,Ll),[[$e,M.start_time]])]),y[12]||(y[12]=c("span",{class:"text-gray-500"},"-",-1)),c("div",Vl,[le(c("input",{type:"time","onUpdate:modelValue":J=>M.end_time=J,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,jl),[[$e,M.end_time]])]),x.value.timeSlots.length>1?(f(),v("button",{key:0,type:"button",onClick:J=>S(q),class:"p-2 text-red-600 hover:text-red-800 transition duration-150 ease-in-out"},y[11]||(y[11]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,Bl)):T("",!0)]))),128)),c("button",{type:"button",onClick:E,class:"mt-2 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},y[13]||(y[13]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),$(" Add Another Time Slot ",-1)]))])):(f(),v("div",Ul,[k(K,{value:"Reason for Not Available",class:"text-gray-800 mb-2"}),le(c("textarea",{"onUpdate:modelValue":y[2]||(y[2]=M=>x.value.reason=M),rows:"3",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,512),[[$e,x.value.reason]]),k(Q,{message:(I=l.value[u.value])==null?void 0:I.reason,class:"mt-2"},null,8,["message"])]))])):T("",!0)]),c("div",Fl,[k(Dt,{onClick:y[3]||(y[3]=M=>B.$emit("close"))},{default:N(()=>y[14]||(y[14]=[$(" Cancel ",-1)])),_:1,__:[14]}),k(ve,{onClick:j,disabled:r.value||!u.value,class:H({"opacity-50":r.value||!u.value})},{default:N(()=>[r.value?(f(),v("span",Xl,y[15]||(y[15]=[c("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),$(" Saving... ",-1)]))):(f(),v("span",Hl,"Save Availability"))]),_:1},8,["disabled","class"])])])]}),_:1},8,["show"]))}},zl={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},Wl={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},Gl={class:"flex justify-center"},Kl={__name:"AvailabilityBlocker",setup(e){const t=D(!1),s=D(!0),o=D(!1),n=D([]),i=W(()=>{var g;return((g=Ft().props.auth.user)==null?void 0:g.id)||null}),a=()=>{const g=localStorage.getItem("authToken");g&&!te.defaults.headers.common.Authorization&&(te.defaults.headers.common.Authorization=`Bearer ${g}`)},l=async()=>{s.value=!0;const g=localStorage.getItem("shouldBlockUser"),R=localStorage.getItem("allWeekdaysCovered");if(g==="true"&&R==="false")t.value=!0,await r();else try{a();const x=await te.get("/api/availability-prompt");t.value=x.data.should_block_user&&!x.data.all_weekdays_covered,t.value&&await r()}catch(x){console.error("Error checking if user should be blocked:",x),t.value=!1}s.value=!1},r=async()=>{try{a();const g=await te.get("/api/availability-prompt");u(g.data.next_week_start,g.data.next_week_end)}catch(g){console.error("Error fetching next week dates:",g)}},u=(g,R)=>{const x=[],E=new Date(g),S=new Date(R),P=new Date(E);for(;P<=S;)x.push({value:P.toISOString().split("T")[0],label:P.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),P.setDate(P.getDate()+1);n.value=x},m=()=>{o.value=!0},d=()=>{l()},p=g=>{t.value=g.detail.shouldBlockUser&&!g.detail.allWeekdaysCovered},h=()=>{document.visibilityState==="visible"&&rt(()=>{l()})},w=g=>{(g.key==="shouldBlockUser"||g.key==="allWeekdaysCovered")&&rt(()=>{l()})};return et(()=>{l(),window.addEventListener("availability-status-updated",p),document.addEventListener("visibilitychange",h),window.addEventListener("storage",w)}),hs(()=>{window.removeEventListener("availability-status-updated",p),document.removeEventListener("visibilitychange",h),window.removeEventListener("storage",w)}),(g,R)=>t.value&&!s.value?(f(),v("div",zl,[c("div",Wl,[R[2]||(R[2]=Ra('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div><p class="mb-6 text-gray-700"> You must submit your availability for all weekdays of next week before you can continue using the application. This is required for planning meetings and work schedules. </p>',2)),c("div",Gl,[k(ve,{onClick:m,class:"bg-red-600 hover:bg-red-700"},{default:N(()=>R[1]||(R[1]=[$(" Submit Availability Now ",-1)])),_:1,__:[1]})]),k(ql,{show:o.value,"next-week-dates":n.value,date:n.value.length>0?n.value[0].value:"",userId:i.value,onClose:R[0]||(R[0]=x=>o.value=!1),onAvailabilitySaved:d},null,8,["show","next-week-dates","date","userId"])])])):T("",!0)}},Jl={class:"p-6"},Yl={class:"flex justify-between items-center mb-4"},Ql={class:"text-lg font-medium text-gray-900"},Zl={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},eu={class:"block sm:inline"},tu={key:0,class:"mt-6 flex justify-end space-x-3"},su={__name:"BaseFormModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Modal Title"},apiEndpoint:{type:String,required:!1},httpMethod:{type:String,default:"post",validator:e=>["post","put","patch","delete"].includes(e.toLowerCase())},formData:{type:Object,required:!0},submitButtonText:{type:String,default:"Save"},successMessage:{type:String,default:"Operation successful!"},formatDataForApi:{type:Function,default:e=>e},beforeSubmit:{type:Function,default:()=>!0},showFooter:{type:Boolean,default:!0}},emits:["close","submitted","error"],setup(e,{emit:t}){const s=e,o=t,n=D(!1),i=D({}),a=D("");fe(()=>s.show,u=>{u&&(i.value={},a.value="",n.value=!1)});const l=async()=>{var u;n.value=!0,i.value={},a.value="";try{if(await s.beforeSubmit()===!1){n.value=!1;return}const d=s.formatDataForApi(s.formData);let p;const h=s.httpMethod.toLowerCase();if(h==="post")p=await window.axios.post(s.apiEndpoint,d);else if(h==="put")p=await window.axios.put(s.apiEndpoint,d);else if(h==="patch")p=await window.axios.patch(s.apiEndpoint,d);else if(h==="delete")p=await window.axios.delete(s.apiEndpoint,{data:d});else throw new Error(`Unsupported HTTP method: ${s.httpMethod}`);Ie(s.successMessage),o("submitted",p.data),o("close")}catch(m){console.error("API submission error:",m);let d="An unexpected error occurred.";m.response?m.response.status===422?(i.value=m.response.data.errors||{},d=m.response.data.message||"Please correct the errors in the form."):(d=m.response.data.message||"An unexpected error occurred.",a.value=d):(d="A network error occurred or the server is unreachable.",a.value=d),Object.keys(i.value).length>0?a.value="Please correct the errors in the form.":((u=m.response)==null?void 0:u.status)!==422&&(a.value=d),me(d),o("error",m)}finally{n.value=!1}},r=()=>{o("close")};return(u,m)=>(f(),U(Qs,{show:e.show,onClose:r},{default:N(()=>[c("div",Jl,[c("div",Yl,[c("h2",Ql,V(e.title),1),c("button",{onClick:r,class:"text-gray-400 hover:text-gray-500"},m[0]||(m[0]=[c("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a.value?(f(),v("div",Zl,[c("span",eu,V(a.value),1)])):T("",!0),c("form",{onSubmit:Js(l,["prevent"])},[Re(u.$slots,"default",{errors:i.value},void 0,!0),e.showFooter?(f(),v("div",tu,[k(Dt,{onClick:r,type:"button",disabled:n.value},{default:N(()=>m[1]||(m[1]=[$(" Cancel ",-1)])),_:1,__:[1]},8,["disabled"]),k(ve,{type:"submit",disabled:n.value,class:H({"opacity-75 cursor-not-allowed":n.value})},{default:N(()=>[$(V(n.value?"Submitting...":e.submitButtonText),1)]),_:1},8,["disabled","class"])])):T("",!0)],32)])]),_:3},8,["show"]))}},Gt=St(su,[["__scopeId","data-v-5ed3c88d"]]),nu=(e,t)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>e(...o),t)}},ou={class:"relative"},au={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},iu=["onClick"],ru={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},lu=["onClick"],uu={key:1,class:"px-4 py-2 text-sm text-gray-500"},cu={key:2,class:"px-4 py-2 text-sm text-gray-500"},du={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=D(""),i=D([]),a=D([]),l=D(!1),r=D(null);function u(){o("update:modelValue",a.value.map(x=>x.id))}fe(()=>s.initialTags,x=>{if(a.value=[],x&&x.length>0){const O=[],j=new Set;x.forEach(B=>{j.has(B.id)||(O.push(B),j.add(B.id))}),a.value.push(...O)}const E=x.map(O=>O.id),S=Array.isArray(s.modelValue)?s.modelValue:[];(E.length!==S.length||E.some(O=>!S.includes(O))||S.some(O=>!E.includes(O)))&&u()},{immediate:!0});const m=nu(async x=>{if(x.length<2){i.value=[],l.value=!1;return}try{const E=await te.get(`/api/tags/search?query=${x}`);i.value=E.data,l.value=!0}catch(E){console.error("Error fetching tags:",E),i.value=[],l.value=!1}},300);fe(n,x=>{s.disabled||m(x)});const d=x=>{a.value.some(E=>E.id===x.id)||(a.value.push(x),n.value="",i.value=[],l.value=!1,u()),rt(()=>r.value.focus())},p=()=>{if(s.disabled)return;const x=n.value.trim();if(!x)return;const E=i.value.find(P=>P.name.toLowerCase()===x.toLowerCase()),S=a.value.some(P=>P.name.toLowerCase()===x.toLowerCase());if(E)d(E);else if(S)n.value="",i.value=[],l.value=!1;else{const P={id:`new_${x.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:x};a.value.push(P),n.value="",i.value=[],l.value=!1,u()}rt(()=>r.value.focus())},h=x=>{s.disabled||(a.value=a.value.filter(E=>E.id!==x.id),u(),rt(()=>r.value.focus()))},w=()=>{s.disabled||n.value===""&&a.value.length>0&&h(a.value[a.value.length-1])},g=W(()=>i.value.filter(x=>!a.value.some(E=>E.id===x.id))),R=x=>{r.value&&!r.value.$el.contains(x.target)&&(l.value=!1,n.value="")};return et(()=>{document.addEventListener("click",R)}),hs(()=>{document.removeEventListener("click",R)}),(x,E)=>(f(),v("div",ou,[k(K,{value:e.label,class:"mb-1"},null,8,["value"]),c("div",au,[(f(!0),v(ae,null,re(a.value,S=>(f(),v("span",{key:S.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[$(V(S.name)+" ",1),e.disabled?T("",!0):(f(),v("button",{key:0,type:"button",onClick:P=>h(S),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},E[3]||(E[3]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,iu))]))),128)),k(De,{ref_key:"inputRef",ref:r,type:"text",placeholder:a.value.length===0?e.placeholder:"",modelValue:n.value,"onUpdate:modelValue":E[0]||(E[0]=S=>n.value=S),onFocus:E[1]||(E[1]=S=>l.value=!0),onKeydown:[es(Js(p,["prevent"]),["enter"]),E[2]||(E[2]=es(S=>l.value=!1,["tab"])),es(w,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:e.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),l.value&&(g.value.length>0||n.value.length>=2||g.value.length===0&&n.value.length<2)&&!e.disabled?(f(),v("div",ru,[(f(!0),v(ae,null,re(g.value,S=>(f(),v("div",{key:S.id,onClick:P=>d(S),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},V(S.name),9,lu))),128)),!i.value.some(S=>S.name.toLowerCase()===n.value.toLowerCase())&&n.value.length>=2?(f(),v("div",{key:0,onClick:p,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+V(n.value)+'" ',1)):T("",!0),g.value.length===0&&n.value.length<2?(f(),v("div",uu," Type at least 2 characters to search for tags. ")):T("",!0),g.value.length===0&&n.value.length>=2&&!i.value.some(S=>S.name.toLowerCase()===n.value.toLowerCase())?(f(),v("div",cu,[E[4]||(E[4]=$(" No matching tags found. Press ",-1)),E[5]||(E[5]=c("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),$(' to add "'+V(n.value)+'" as a new tag. ',1)])):T("",!0)])):T("",!0),k(Q,{message:e.error,class:"mt-2"},null,8,["message"])]))}},ga=St(du,[["__scopeId","data-v-4d528a4c"]]),fu={class:"space-y-4"},pu="Add New Milestone",mu="/api/milestones",hu="post",gu="Create Milestone",vu="Milestone created successfully!",yu={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=vt({name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i=vt({completion_date:null}),a=["Not Started","In Progress","Completed","Overdue"];fe(()=>s.show,m=>{m&&(Object.assign(n,{name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i.completion_date=null)},{immediate:!0});const l=()=>(i.completion_date=null,n.completion_date?!0:(i.completion_date=["Completion date is required."],!1)),r=m=>{o("saved",m),o("close")},u=()=>{o("close")};return(m,d)=>(f(),U(Gt,{show:e.show,title:pu,"api-endpoint":mu,"http-method":hu,"form-data":n,"submit-button-text":gu,"success-message":vu,"before-submit":l,onClose:u,onSubmitted:r},{default:N(({errors:p})=>[c("div",fu,[c("div",null,[k(K,{for:"milestone-name",value:"Milestone Name"}),k(De,{id:"milestone-name",modelValue:n.name,"onUpdate:modelValue":d[0]||(d[0]=h=>n.name=h),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),k(Q,{message:p.name?p.name[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"milestone-description",value:"Description"}),le(c("textarea",{id:"milestone-description","onUpdate:modelValue":d[1]||(d[1]=h=>n.description=h),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[$e,n.description]]),k(Q,{message:p.description?p.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"milestone-completion-date",value:"Completion Date"}),k(De,{id:"milestone-completion-date",modelValue:n.completion_date,"onUpdate:modelValue":d[2]||(d[2]=h=>n.completion_date=h),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),k(Q,{message:p.completion_date?p.completion_date[0]:i.completion_date?i.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"milestone-status",value:"Status"}),k(Ce,{id:"milestone-status",modelValue:n.status,"onUpdate:modelValue":d[3]||(d[3]=h=>n.status=h),options:a.map(h=>({value:h,label:h})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),k(Q,{message:p.status?p.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},_u={class:"space-y-4"},bu={key:0},ku={key:0,class:"text-sm text-gray-500"},wu={key:0,class:"text-sm text-gray-500"},Eu={key:0,class:"text-sm text-gray-500"},Su={class:"flex items-center gap-2 mt-1"},xu={key:0,class:"text-sm text-gray-500"},Tu=["disabled"],Cu="Create New Task",Nu="/api/tasks",Iu="post",Au="Create Task",Ou="Task created successfully!",$u={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=vt({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),i=["To Do","In Progress","Done","Blocked","Archived"],a=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],l=D([]),r=D([]),u=D([]),m=D([]),d=D(!0),p=D(!1),h=D(!1),w=D(!1),g=D(!1);fe(()=>s.show,async _=>{_&&(Object.assign(n,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),s.projectId?await x(s.projectId):await R())},{immediate:!0}),fe(()=>n.project_id,async _=>{_?await x(_):(r.value=[],u.value=[],m.value=[])});const R=async()=>{d.value=!0;try{const _=await window.axios.get("/api/projects-simplified");l.value=_.data.map(b=>({value:b.id,label:b.name}))}catch(_){console.error("Error fetching projects:",_),l.value=[]}finally{d.value=!1}},x=async _=>{if(_){p.value=!0,h.value=!0,w.value=!0;try{const[b,C,I]=await Promise.all([window.axios.get(`/api/projects/${_}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${_}/milestones`)]);r.value=b.data.map(M=>({value:M.id,label:M.name})),u.value=C.data.map(M=>({value:M.id,label:M.name})),m.value=I.data.map(M=>({value:M.id,label:M.name}))}catch(b){console.error("Error fetching associated task data:",b),r.value=[],u.value=[],m.value=[]}finally{p.value=!1,h.value=!1,w.value=!1}}},E=_=>{o("saved",_),o("close")},S=()=>{o("close")},P=()=>{n.project_id?g.value=!0:alert("Please select a project before adding a milestone.")},O=_=>{if(g.value=!1,_&&_.id&&_.name){const b={value:_.id,label:_.name};m.value.some(C=>C.value===b.value)||m.value.push(b),n.milestone_id=b.value}},j=W(()=>r.value),B=W(()=>u.value),y=W(()=>m.value);return(_,b)=>(f(),v(ae,null,[k(Gt,{show:e.show,title:Cu,"api-endpoint":Nu,"http-method":Iu,"form-data":n,"submit-button-text":Au,"success-message":Ou,onClose:S,onSubmitted:E},{default:N(({errors:C})=>[c("div",_u,[e.projectId?T("",!0):(f(),v("div",bu,[k(K,{for:"task-project",value:"Project"}),d.value?(f(),v("div",ku,"Loading projects...")):(f(),U(Ce,{key:1,id:"task-project",modelValue:n.project_id,"onUpdate:modelValue":b[0]||(b[0]=I=>n.project_id=I),options:l.value,"value-key":"value","label-key":"label",placeholder:"Select a project",class:"mt-1",required:!0},null,8,["modelValue","options"])),k(Q,{message:C.project_id?C.project_id[0]:"",class:"mt-2"},null,8,["message"])])),c("div",null,[k(K,{for:"task-name",value:"Task Name"}),k(De,{id:"task-name",modelValue:n.name,"onUpdate:modelValue":b[1]||(b[1]=I=>n.name=I),type:"text",class:"mt-1 block w-full",placeholder:"Enter task name",required:""},null,8,["modelValue"]),k(Q,{message:C.name?C.name[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"task-description",value:"Description"}),le(c("textarea",{id:"task-description","onUpdate:modelValue":b[2]||(b[2]=I=>n.description=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[$e,n.description]]),k(Q,{message:C.description?C.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"task-status",value:"Status"}),k(Ce,{id:"task-status",modelValue:n.status,"onUpdate:modelValue":b[3]||(b[3]=I=>n.status=I),options:i.map(I=>({value:I,label:I})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),k(Q,{message:C.status?C.status[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"task-priority",value:"Priority"}),k(Ce,{id:"task-priority",modelValue:n.priority,"onUpdate:modelValue":b[4]||(b[4]=I=>n.priority=I),options:a,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1"},null,8,["modelValue"]),k(Q,{message:C.priority?C.priority[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"task-due-date",value:"Due Date"}),k(De,{id:"task-due-date",modelValue:n.due_date,"onUpdate:modelValue":b[5]||(b[5]=I=>n.due_date=I),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),k(Q,{message:C.due_date?C.due_date[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"task-assigned-to",value:"Assigned To"}),p.value?(f(),v("div",wu,"Loading users...")):(f(),U(Ce,{key:1,id:"task-assigned-to",modelValue:n.assigned_to_user_id,"onUpdate:modelValue":b[6]||(b[6]=I=>n.assigned_to_user_id=I),options:j.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),k(Q,{message:C.assigned_to_user_id?C.assigned_to_user_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"task-type",value:"Task Type"}),h.value?(f(),v("div",Eu,"Loading task types...")):(f(),U(Ce,{key:1,id:"task-type",modelValue:n.task_type_id,"onUpdate:modelValue":b[7]||(b[7]=I=>n.task_type_id=I),options:B.value,"value-key":"value","label-key":"label",placeholder:"Select a task type",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),k(Q,{message:C.task_type_id?C.task_type_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"task-milestone",value:"Milestone"}),c("div",Su,[w.value?(f(),v("div",xu,"Loading milestones...")):(f(),U(Ce,{key:1,id:"task-milestone",modelValue:n.milestone_id,"onUpdate:modelValue":b[8]||(b[8]=I=>n.milestone_id=I),options:y.value,"value-key":"value","label-key":"label",placeholder:"No milestone",class:"flex-grow","allow-empty":!0,disabled:!n.project_id},null,8,["modelValue","options","disabled"])),c("button",{type:"button",onClick:P,disabled:!n.project_id||w.value,class:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add New Milestone"},b[11]||(b[11]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,Tu)]),k(Q,{message:C.milestone_id?C.milestone_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(ga,{modelValue:n.tags,"onUpdate:modelValue":b[9]||(b[9]=I=>n.tags=I),initialTags:n.tags_data,label:"Tags",placeholder:"Search or add tags",error:C.tags?C.tags[0]:"",disabled:!n.project_id},null,8,["modelValue","initialTags","error","disabled"])])])]),_:1},8,["show","form-data"]),k(yu,{show:g.value,"project-id":n.project_id,onClose:b[10]||(b[10]=C=>g.value=!1),onSaved:O},null,8,["show","project-id"])],64))}},Mu={class:"space-y-4"},Pu={class:"flex items-center mt-4"},Du={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(e,{emit:t}){const s=e,o=t,n=vt({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,tags:[]}),i=W(()=>[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}]),a=u=>u,l=u=>{o("resourceCreated",u),r()},r=()=>{n.title="",n.description="",n.url="",n.type="website",n.thumbnail_url="",n.visible_to_client=!0,n.tags=[],o("close")};return(u,m)=>(f(),U(Gt,{show:s.show,title:"Add New Shareable Resource",apiEndpoint:s.apiEndpoint,httpMethod:"post",formData:n,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",formatDataForApi:a,onSubmitted:l,onClose:r},{default:N(({errors:d})=>[c("div",Mu,[c("div",null,[k(K,{for:"title",value:"Title",class:"mb-1"}),k(De,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.title,"onUpdate:modelValue":m[0]||(m[0]=p=>n.title=p),required:""},null,8,["modelValue"]),k(Q,{message:d.title?d.title[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"url",value:"Resource URL",class:"mb-1"}),k(De,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.url,"onUpdate:modelValue":m[1]||(m[1]=p=>n.url=p),required:""},null,8,["modelValue"]),k(Q,{message:d.url?d.url[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"type",value:"Resource Type",class:"mb-1"}),k(Ce,{id:"type",modelValue:n.type,"onUpdate:modelValue":m[2]||(m[2]=p=>n.type=p),options:i.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),k(Q,{message:d.type?d.type[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),k(De,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.thumbnail_url,"onUpdate:modelValue":m[3]||(m[3]=p=>n.thumbnail_url=p)},null,8,["modelValue"]),k(Q,{message:d.thumbnail_url?d.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(K,{for:"description",value:"Description (Optional)",class:"mb-1"}),le(c("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":m[4]||(m[4]=p=>n.description=p),rows:"3"},null,512),[[$e,n.description]]),k(Q,{message:d.description?d.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[k(ga,{modelValue:n.tags,"onUpdate:modelValue":m[5]||(m[5]=p=>n.tags=p),label:"Associated Tags",placeholder:"Search or add tags",error:d.tags?d.tags[0]:""},null,8,["modelValue","error"])]),c("div",Pu,[k(Ha,{id:"visible_to_client",checked:n.visible_to_client,"onUpdate:checked":m[6]||(m[6]=p=>n.visible_to_client=p)},null,8,["checked"]),k(K,{for:"visible_to_client",value:"Visible to Client",class:"ml-2"}),k(Q,{message:d.visible_to_client?d.visible_to_client[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},Ru=St(Du,[["__scopeId","data-v-3e3a6a9f"]]),Lu={key:0,class:"sidebar-wrapper"},Vu={class:"fixed inset-0 z-[100] flex pointer-events-none"},ju={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},Bu={class:"text-xl font-semibold text-gray-900"},Uu={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},Fu={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},Xu={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(e,{emit:t}){const s=e,o=t,n=D(s.initialWidth),i=D(!1),a=d=>{i.value=!0,document.addEventListener("pointermove",l),document.addEventListener("pointerup",r)},l=d=>{if(!i.value)return;const p=window.innerWidth,w=(p-d.clientX)/p*100,g=Math.max(s.minWidth,Math.min(s.maxWidth,w));n.value=g},r=()=>{i.value=!1,document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",r)};fe(()=>s.show,d=>{d?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const u=()=>{o("update:show",!1),o("close")},m=W(()=>window.innerWidth<768);return fe(m,d=>{d&&s.show?n.value=100:!d&&s.show&&(n.value=s.initialWidth)},{immediate:!0}),fe(()=>s.show,d=>{d&&(m.value?n.value=100:n.value=s.initialWidth)}),(d,p)=>(f(),U(Va,{to:"body"},[k(fo,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:N(()=>[e.show?(f(),v("div",Lu,[c("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity z-[99]",onClick:u}),c("div",Vu,[c("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl pointer-events-auto",style:La({width:m.value?"100%":`${n.value}vw`})},[m.value?T("",!0):(f(),v("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:a,title:"Drag to resize"},null,32)),c("div",ju,[c("h3",Bu,V(e.title),1),c("button",{onClick:u,class:"text-gray-400 hover:text-gray-600 transition-colors"},p[0]||(p[0]=[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",Uu,[Re(d.$slots,"content",{},void 0,!0)]),d.$slots.footer?(f(),v("div",Fu,[Re(d.$slots,"footer",{},void 0,!0)])):T("",!0)],4)])])):T("",!0)]),_:3})]))}},va=St(Xu,[["__scopeId","data-v-2d864577"]]),Hu={class:"flex border-b border-gray-200"},qu={key:0,class:"ml-2 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full"},zu={class:"p-4 space-y-2 overflow-y-auto"},Wu={key:0,class:"p-6 text-center text-gray-500"},Gu={key:0},Ku={key:1},Ju=["onClick"],Yu={class:"flex-1 min-w-0"},Qu={class:"flex items-start justify-between gap-2 mb-1"},Zu={class:"flex-1 min-w-0"},ec={key:0,class:"text-base font-semibold text-gray-900 truncate"},tc={key:1,class:"text-xs text-gray-500"},sc={key:0,class:"text-sm text-gray-600 mt-1 mb-2"},nc={class:"flex items-center text-xs text-gray-500 font-medium"},oc={key:0},ac={key:1,class:"mx-2"},ic={key:2},rc={__name:"NotificationsSidebar",setup(e){const t=W(()=>Pt.value.notifications),s=D("New"),o=W(()=>s.value==="New"?t.value.filter(l=>!l.isRead):t.value),n=async l=>{await io(l.view_id);const r=l.task_id||i(l.url),u=l.project_id||a(l.url);r&&u?(ro(r,u),$n()):(console.warn("Could not open task sidebar. Falling back to opening URL in new tab."),l.url&&window.open(l.url,"_blank"))},i=l=>{const r=l.match(/\/task\/(\d+)/);return r?parseInt(r[1]):null},a=l=>{const r=l.match(/\/project\/(\d+)\//);return r?parseInt(r[1]):null};return(l,r)=>(f(),U(va,{show:L(Pt).show,"onUpdate:show":L($n),title:"Notifications","initial-width":35,class:"z-[100]"},{content:N(()=>[c("div",Hu,[c("button",{onClick:r[0]||(r[0]=u=>s.value="New"),class:H([{"border-blue-600 text-blue-600 font-semibold":s.value==="New","border-transparent text-gray-500 hover:text-gray-700":s.value!=="New"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])},[r[2]||(r[2]=$(" New ",-1)),t.value.filter(u=>!u.isRead).length>0?(f(),v("span",qu,V(t.value.filter(u=>!u.isRead).length),1)):T("",!0)],2),c("button",{onClick:r[1]||(r[1]=u=>s.value="All"),class:H([{"border-blue-600 text-blue-600 font-semibold":s.value==="All","border-transparent text-gray-500 hover:text-gray-700":s.value!=="All"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])}," All ",2)]),c("div",zu,[o.value.length===0?(f(),v("div",Wu,[s.value==="New"?(f(),v("span",Gu,"You have no new notifications.")):(f(),v("span",Ku,"You have no notifications."))])):T("",!0),(f(!0),v(ae,null,re(o.value,u=>(f(),v("div",{key:u.id,class:H(["bg-white rounded-xl shadow-sm p-4 flex items-start space-x-4 border border-gray-200 transition-all duration-200 hover:shadow-md cursor-pointer",{"bg-gray-50":u.isRead}]),onClick:m=>n(u)},[c("div",Yu,[c("div",Qu,[c("div",Zu,[u.title?(f(),v("h3",ec,V(u.title),1)):T("",!0),u.project_name?(f(),v("p",tc,V(u.project_name),1)):T("",!0)])]),u.message?(f(),v("p",sc,V(u.message),1)):T("",!0),c("div",nc,[u.due_date?(f(),v("span",oc,"Due: "+V(L(ao)(u.due_date)),1)):T("",!0),u.due_date&&u.priority?(f(),v("span",ac,"•")):T("",!0),u.priority?(f(),v("span",ic,"Priority: "+V(u.priority),1)):T("",!0)])])],10,Ju))),128))])]),_:1},8,["show","onUpdate:show"]))}},lc={class:"space-y-4"},uc={key:0,class:"text-red-600 text-xs mt-1"},cc={key:0,class:"text-red-600 text-xs mt-1"},dc={key:0,class:"text-red-600 text-xs mt-1"},fc={__name:"KudoModal",props:{show:{type:Boolean,default:!1}},emits:["close","submitted"],setup(e,{emit:t}){const s=t,o=D([]),n=D([]),i=vt({recipient_id:"",project_id:"",comment:""}),a=D({}),l=async()=>{try{const{data:d}=await window.axios.get("/api/projects-simplified");o.value=(d||[]).map(p=>({value:p.id,label:p.name}))}catch{o.value=[]}},r=async d=>{if(n.value=[],!!d)try{const{data:p}=await window.axios.get(`/api/projects/${d}/users`);n.value=(p||[]).map(h=>({value:h.id,label:`${h.name} (${h.email})`}))}catch{n.value=[]}};fe(()=>i.project_id,d=>{d&&r(d)}),et(()=>{l()});const u=()=>{i.recipient_id="",i.project_id="",i.comment="",a.value={}},m=d=>{u(),s("submitted",d)};return(d,p)=>(f(),U(Gt,{show:e.show,title:"Give a Kudo ✨","api-endpoint":"/api/kudos","http-method":"post","form-data":i,"submit-button-text":"Submit Kudo","success-message":"Kudo submitted! Pending approval.",onClose:p[3]||(p[3]=h=>d.$emit("close")),onSubmitted:m},{default:N(({errors:h})=>[c("div",lc,[c("div",null,[p[4]||(p[4]=c("label",{class:"block text-sm font-medium text-gray-700"},"Project",-1)),k(Ce,{options:o.value,modelValue:i.project_id,"onUpdate:modelValue":p[0]||(p[0]=w=>i.project_id=w),placeholder:"Select a project..."},null,8,["options","modelValue"]),h.project_id?(f(),v("p",uc,V(h.project_id[0]),1)):T("",!0)]),c("div",null,[p[5]||(p[5]=c("label",{class:"block text-sm font-medium text-gray-700"},"Recipient",-1)),k(Ce,{options:n.value,modelValue:i.recipient_id,"onUpdate:modelValue":p[1]||(p[1]=w=>i.recipient_id=w),placeholder:"Select a teammate..."},null,8,["options","modelValue"]),h.recipient_id?(f(),v("p",cc,V(h.recipient_id[0]),1)):T("",!0)]),c("div",null,[p[6]||(p[6]=c("label",{class:"block text-sm font-medium text-gray-700"},"Comment",-1)),le(c("textarea",{"onUpdate:modelValue":p[2]||(p[2]=w=>i.comment=w),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., Thank you for helping with the last-minute changes!"},null,512),[[$e,i.comment]]),h.comment?(f(),v("p",dc,V(h.comment[0]),1)):T("",!0)])])]),_:1},8,["show","form-data"]))}},pc={class:"flex items-center p-4 h-16 border-b border-gray-700"},mc={key:0,class:"text-xl font-semibold flex-1 truncate"},hc=["title"],gc={key:0,class:"p-4 border-b border-gray-700"},vc={class:"relative"},yc={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},_c={key:0,class:"mb-4"},bc={class:"ml-2 mt-2 space-y-1"},kc=["onClick"],wc={class:"text-sm font-medium text-gray-300 truncate"},Ec={class:"ml-4 mt-1 space-y-1"},Sc={class:"truncate"},xc={key:1,class:"mb-4"},Tc={class:"ml-2 mt-2 space-y-1"},Cc=["onClick"],Nc={class:"text-sm font-medium text-gray-300 truncate"},Ic={class:"ml-4 mt-1 space-y-1"},Ac={class:"truncate"},Oc={key:2,class:"mb-4"},$c={class:"ml-2 mt-2 space-y-1"},Mc={class:"truncate"},Pc={key:3,class:"mb-4"},Dc={class:"ml-2 mt-2 space-y-1"},Rc={class:"truncate"},Lc={key:4,class:"text-gray-400 text-sm text-center py-4"},Vc={key:5,class:"text-gray-400 text-sm text-center py-4"},jc={key:2,class:"flex flex-col items-center pt-4 space-y-4"},Bc={key:0,class:"text-gray-400 text-xs text-center px-2"},Uc={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(e,{emit:t}){const s=e,o=t,n=D(localStorage.getItem("leftSidebarCollapsed")!=="false"),i=D(""),a=D({}),l=W(()=>{const E=new Set;return s.allProjects.forEach(S=>{S.project_type&&E.add(S.project_type)}),Array.from(E).sort()}),r=W(()=>{const E=new Set;return s.allProjects.forEach(S=>{Array.isArray(S.tags)&&S.tags.forEach(P=>E.add(P))}),Array.from(E).sort()}),u=W(()=>{if(!i.value)return s.allProjects;const E=i.value.toLowerCase();return s.allProjects.filter(S=>{var P,O,j;return S.name.toLowerCase().includes(E)||((P=S.description)==null?void 0:P.toLowerCase().includes(E))||((O=S.project_type)==null?void 0:O.toLowerCase().includes(E))||Array.isArray(S.tags)&&S.tags.some(B=>B.toLowerCase().includes(E))||((j=S.status)==null?void 0:j.toLowerCase().includes(E))})}),m=W(()=>{const E={};u.value.forEach(S=>{S.project_type&&S.status==="active"&&(E[S.project_type]||(E[S.project_type]=[]),E[S.project_type].push(S))});for(const S in E)E[S].sort((P,O)=>P.name.localeCompare(O.name));return E}),d=W(()=>{const E={};u.value.forEach(S=>{Array.isArray(S.tags)&&S.tags.length>0&&S.tags.forEach(P=>{E[P]||(E[P]=[]),E[P].push(S)})});for(const S in E)E[S]=[...new Set(E[S])].sort((P,O)=>P.name.localeCompare(O.name));return E}),p=W(()=>u.value.filter(E=>E.status!=="active").sort((E,S)=>E.name.localeCompare(S.name))),h=W(()=>u.value.filter(E=>!E.project_type&&(!Array.isArray(E.tags)||E.tags.length===0)).sort((E,S)=>E.name.localeCompare(S.name)));fe(()=>s.allProjects,()=>{l.value.forEach(E=>{const S=`type-${E}`;a.value[S]===void 0&&(a.value[S]=!0)}),r.value.forEach(E=>{const S=`tag-${E}`;a.value[S]===void 0&&(a.value[S]=!0)}),a.value["main-types"]===void 0&&(a.value["main-types"]=!1),a.value["main-tags"]===void 0&&(a.value["main-tags"]=!1),a.value["inactive-projects"]===void 0&&(a.value["inactive-projects"]=!1),a.value.uncategorized===void 0&&(a.value.uncategorized=!1)},{immediate:!0}),fe(n,E=>{localStorage.setItem("leftSidebarCollapsed",E)});const w=()=>{n.value=!n.value},g=E=>{a.value[E]=!a.value[E]},R=E=>{o("project-selected",E)},x=()=>{i.value=""};return(E,S)=>(f(),v("div",{class:H({"w-64":!n.value,"w-16":n.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[c("div",pc,[n.value?T("",!0):(f(),v("h2",mc,"Projects")),c("button",{onClick:w,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:n.value?"Expand Sidebar":"Collapse Sidebar"},[(f(),v("svg",{class:H(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":n.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},S[5]||(S[5]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,hc)]),n.value?T("",!0):(f(),v("div",gc,[c("div",vc,[le(c("input",{type:"text","onUpdate:modelValue":S[0]||(S[0]=P=>i.value=P),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[$e,i.value]]),i.value?(f(),v("button",{key:0,onClick:x,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},S[6]||(S[6]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):T("",!0)])])),n.value?(f(),v("div",jc,[(f(!0),v(ae,null,re(s.allProjects,P=>(f(),U(L(Ue),{key:P.id,href:E.route("projects.show",P.id),onClick:O=>R(P.id),class:H({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":P.id===e.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":P.id!==e.activeProjectId}),title:P.name},{default:N(()=>[$(V(P.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),e.allProjects.length===0?(f(),v("div",Bc," No Projects ")):T("",!0)])):(f(),v("div",yc,[Object.keys(m.value).length>0?(f(),v("div",_c,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:S[1]||(S[1]=P=>g("main-types"))},[S[8]||(S[8]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(f(),v("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},S[7]||(S[7]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),le(c("div",bc,[(f(!0),v(ae,null,re(m.value,(P,O)=>(f(),v("div",{key:O},[c("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:j=>g(`type-${O}`)},[c("h4",wc,V(O),1),(f(),v("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`type-${O}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},S[9]||(S[9]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,kc),le(c("ul",Ec,[(f(!0),v(ae,null,re(P,j=>(f(),v("li",{key:j.id},[k(L(Ue),{href:E.route("projects.show",j.id),onClick:B=>R(j.id),class:H({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":j.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":j.id!==e.activeProjectId,"font-bold":j.id===e.activeProjectId})},{default:N(()=>[c("span",Sc,V(j.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ge,!a.value[`type-${O}`]]])]))),128))],512),[[Ge,!a.value["main-types"]]])])):T("",!0),Object.keys(d.value).length>0?(f(),v("div",xc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:S[2]||(S[2]=P=>g("main-tags"))},[S[11]||(S[11]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(f(),v("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},S[10]||(S[10]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),le(c("div",Tc,[(f(!0),v(ae,null,re(d.value,(P,O)=>(f(),v("div",{key:O},[c("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:j=>g(`tag-${O}`)},[c("h4",Nc,V(O),1),(f(),v("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`tag-${O}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},S[12]||(S[12]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Cc),le(c("ul",Ic,[(f(!0),v(ae,null,re(P,j=>(f(),v("li",{key:j.id},[k(L(Ue),{href:E.route("projects.show",j.id),onClick:B=>R(j.id),class:H({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":j.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":j.id!==e.activeProjectId,"font-bold":j.id===e.activeProjectId})},{default:N(()=>[c("span",Ac,V(j.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ge,!a.value[`tag-${O}`]]])]))),128))],512),[[Ge,!a.value["main-tags"]]])])):T("",!0),p.value.length>0?(f(),v("div",Oc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:S[3]||(S[3]=P=>g("inactive-projects"))},[S[14]||(S[14]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(f(),v("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},S[13]||(S[13]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),le(c("ul",$c,[(f(!0),v(ae,null,re(p.value,P=>(f(),v("li",{key:P.id},[k(L(Ue),{href:E.route("projects.show",P.id),onClick:O=>R(P.id),class:H({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":P.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":P.id!==e.activeProjectId,"font-bold":P.id===e.activeProjectId})},{default:N(()=>[c("span",Mc,V(P.name)+" ("+V(P.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ge,!a.value["inactive-projects"]]])])):T("",!0),h.value.length>0?(f(),v("div",Pc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:S[4]||(S[4]=P=>g("uncategorized"))},[S[16]||(S[16]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(f(),v("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},S[15]||(S[15]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),le(c("ul",Dc,[(f(!0),v(ae,null,re(h.value,P=>(f(),v("li",{key:P.id},[k(L(Ue),{href:E.route("projects.show",P.id),onClick:O=>R(P.id),class:H({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":P.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":P.id!==e.activeProjectId,"font-bold":P.id===e.activeProjectId})},{default:N(()=>[c("span",Rc,V(P.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ge,!a.value.uncategorized]])])):T("",!0),u.value.length===0?(f(),v("div",Lc," No projects found matching your search. ")):e.allProjects.length===0&&!i.value?(f(),v("div",Vc," No projects available. ")):T("",!0)]))],2))}},Fc=St(Uc,[["__scopeId","data-v-417d431f"]]),Xc={class:"relative"},ya={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(e){const t=e,s=l=>{a.value&&l.key==="Escape"&&(a.value=!1)};et(()=>document.addEventListener("keydown",s)),hs(()=>document.removeEventListener("keydown",s));const o=W(()=>{const l={48:"w-48",64:"w-64",72:"w-72",80:"w-80",96:"w-96",full:"w-full",screen:"w-screen",auto:""},r=t.width.toString();return l[r]??l[48]}),n=W(()=>t.width.toString()==="screen"),i=W(()=>t.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":t.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),a=D(!1);return(l,r)=>(f(),v("div",Xc,[c("div",{onClick:r[0]||(r[0]=u=>a.value=!a.value)},[Re(l.$slots,"trigger")]),le(c("div",{class:"fixed inset-0 z-40",onClick:r[1]||(r[1]=u=>a.value=!1)},null,512),[[Ge,a.value]]),k(fo,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:N(()=>[le(c("div",{class:H(["z-50 mt-2 rounded-md shadow-lg",n.value?"fixed left-0 right-0":"absolute",i.value,o.value]),style:{display:"none"},onClick:r[2]||(r[2]=u=>a.value=!1)},[c("div",{class:H(["rounded-md ring-1 ring-black ring-opacity-5",e.contentClasses])},[Re(l.$slots,"content")],2)],2),[[Ge,a.value]])]),_:3})]))}},ge={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){return(t,s)=>(f(),U(L(Ue),po({href:e.href,method:e.method,as:e.as},t.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:N(()=>[Re(t.$slots,"default")]),_:3},16,["href","method","as"]))}},ht={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(e){const t=e,s=W(()=>t.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(f(),U(L(Ue),{href:e.href,class:H(s.value)},{default:N(()=>[Re(o.$slots,"default")]),_:3},8,["href","class"]))}};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hc=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),qc=e=>{const t=Hc(e);return t.charAt(0).toUpperCase()+t.slice(1)},zc=(...e)=>e.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim(),so=e=>e==="";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ot={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=({name:e,iconNode:t,absoluteStrokeWidth:s,"absolute-stroke-width":o,strokeWidth:n,"stroke-width":i,size:a=Ot.width,color:l=Ot.stroke,...r},{slots:u})=>Us("svg",{...Ot,...r,width:a,height:a,stroke:l,"stroke-width":so(s)||so(o)||s===!0||o===!0?Number(n||i||Ot["stroke-width"])*24/Number(a):n||i||Ot["stroke-width"],class:zc("lucide",r.class,...e?[`lucide-${to(qc(e))}-icon`,`lucide-${to(e)}`]:["lucide-icon"])},[...t.map(m=>Us(...m)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=(e,t)=>(s,{slots:o,attrs:n})=>Us(Wc,{...n,...s,iconNode:t,name:e},o);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=_a("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=_a("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Jc={class:"hidden sm:flex sm:items-center"},Yc={class:"mx-auto w-full max-w-6xl"},Qc={class:"grid grid-cols-2 md:grid-cols-4 gap-8"},Zc={class:"space-y-1"},ed={class:"space-y-1"},td={class:"space-y-1"},sd={class:"space-y-1"},nd={__name:"AdminDropdown",setup(e){const{canDo:t}=Ys(),s=t("manage_projects"),o=t("create_users"),n=t("manage_roles"),i=t("manage_task_types"),a=t("create_clients"),l=t("manage_project_tiers")||t("view_project_tiers");return(r,u)=>(f(),v("div",Jc,[k(ya,{align:"left",width:"screen","content-classes":"py-6 bg-white p-6 w-full shadow-lg"},{trigger:N(()=>u[0]||(u[0]=[c("span",{class:"inline-flex rounded-md"},[c("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 hover:text-gray-900 focus:outline-none"},[$(" Admin "),c("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:N(()=>[c("div",Yc,[c("div",Qc,[c("div",null,[u[4]||(u[4]=c("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Management",-1)),c("div",Zc,[L(s)?(f(),U(ge,{key:0,href:r.route("projects.index"),active:r.route().current("projects.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[1]||(u[1]=[$("Projects",-1)])),_:1,__:[1]},8,["href","active"])):T("",!0),L(a)?(f(),U(ge,{key:1,href:r.route("clients.index"),active:r.route().current("clients.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[2]||(u[2]=[$("Clients",-1)])),_:1,__:[2]},8,["href","active"])):T("",!0),L(o)?(f(),U(ge,{key:2,href:r.route("users.index"),active:r.route().current("users.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[3]||(u[3]=[$("Users",-1)])),_:1,__:[3]},8,["href","active"])):T("",!0)])]),c("div",null,[u[8]||(u[8]=c("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Planning / Sharing",-1)),c("div",ed,[L(o)?(f(),U(ge,{key:0,href:r.route("availability.index"),active:r.route().current("availability.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[5]||(u[5]=[$("Weekly Availability",-1)])),_:1,__:[5]},8,["href","active"])):T("",!0),L(t)("manage_notices")?(f(),U(ge,{key:1,href:r.route("admin.notice-board.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[6]||(u[6]=[$("Notice Board",-1)])),_:1,__:[6]},8,["href"])):T("",!0),L(t)("manage_notices")?(f(),U(ge,{key:2,href:r.route("shareable-resources.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[7]||(u[7]=[$("Shareable Resources",-1)])),_:1,__:[7]},8,["href"])):T("",!0)])]),c("div",null,[u[13]||(u[13]=c("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Configuration",-1)),c("div",td,[L(i)?(f(),U(ge,{key:0,href:r.route("task-types.index"),active:r.route().current("task-types.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[9]||(u[9]=[$("Task Types",-1)])),_:1,__:[9]},8,["href","active"])):T("",!0),L(l)||L(t)("create_project_tiers")||L(t)("edit_project_tiers")?(f(),U(ge,{key:1,href:"/admin/project-tiers",class:"!px-2 !py-1.5"},{default:N(()=>u[10]||(u[10]=[$("Project Tiers",-1)])),_:1,__:[10]})):T("",!0),L(t)("manage_email_templates")?(f(),U(ge,{key:2,href:r.route("email-templates.index"),active:r.route().current("email-templates.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[11]||(u[11]=[$("Email Templates",-1)])),_:1,__:[11]},8,["href","active"])):T("",!0),L(t)("manage_placeholder_definitions")?(f(),U(ge,{key:3,href:r.route("placeholder-definitions.index"),active:r.route().current("placeholder-definitions.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[12]||(u[12]=[$("Placeholder Definitions",-1)])),_:1,__:[12]},8,["href","active"])):T("",!0)])]),c("div",null,[u[18]||(u[18]=c("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Access & Finance",-1)),c("div",sd,[L(n)?(f(),U(ge,{key:0,href:r.route("admin.roles.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[14]||(u[14]=[$("Manage Roles",-1)])),_:1,__:[14]},8,["href"])):T("",!0),L(t)("manage_permissions")?(f(),U(ge,{key:1,href:r.route("admin.permissions.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[15]||(u[15]=[$("Manage Permissions",-1)])),_:1,__:[15]},8,["href"])):T("",!0),L(t)("manage_monthly_budgets")?(f(),U(ge,{key:2,href:"/admin/monthly-budgets",class:"!px-2 !py-1.5"},{default:N(()=>u[16]||(u[16]=[$("Monthly Budgets",-1)])),_:1,__:[16]})):T("",!0),L(t)("view_monthly_budgets")?(f(),U(ge,{key:3,href:"/admin/bonus-calculator",class:"!px-2 !py-1.5"},{default:N(()=>u[17]||(u[17]=[$("Bonus Calculator",-1)])),_:1,__:[17]})):T("",!0)])])])])]),_:1})]))}},od={class:"relative ms-3"},ad={class:"inline-flex rounded-md"},id={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},rd={__name:"UserDropdown",emits:["logoutSuccess","logoutError"],setup(e,{emit:t}){const s=W(()=>Ft().props.auth.user),o=t,n=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,o("logoutSuccess")},i=a=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",o("logoutError",a)};return(a,l)=>(f(),v("div",od,[k(ya,{align:"right",width:"48"},{trigger:N(()=>{var r;return[c("span",ad,[c("button",id,[$(V(s.value.name)+" ("+V((r=s.value.role_data)==null?void 0:r.name)+") ",1),l[0]||(l[0]=c("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:N(()=>[k(ge,{href:a.route("profile.edit")},{default:N(()=>l[1]||(l[1]=[$(" Profile ",-1)])),_:1,__:[1]},8,["href"]),k(ge,{href:a.route("logout"),method:"post",as:"button",onSuccess:n,onError:i},{default:N(()=>l[2]||(l[2]=[$(" Log Out ",-1)])),_:1,__:[2]},8,["href"])]),_:1})]))}},ld={class:"border-b border-gray-100 bg-white z-10 relative w-full"},ud={class:"w-full px-4 sm:px-6 lg:px-8"},cd={class:"flex h-16 justify-between"},dd={class:"flex flex-1 min-w-0"},fd={class:"flex shrink-0 items-center"},pd={class:"hidden sm:-my-px sm:ms-10 sm:flex sm:flex-wrap sm:gap-4 overflow-x-auto no-scrollbar"},md={class:"hidden sm:ms-6 sm:flex sm:items-center"},hd={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},gd={class:"-me-2 flex items-center sm:hidden"},vd={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},yd={__name:"TopNavigation",props:{unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","open-kudo-modal"],setup(e,{emit:t}){const s=t,o=D(!1);W(()=>Ft().props.auth.user);const{canDo:n}=Ys(),i=n("manage_roles");return(a,l)=>(f(),v("nav",ld,[c("div",ud,[c("div",cd,[c("div",dd,[c("div",fd,[k(L(Ue),{href:a.route("dashboard")},{default:N(()=>[k(qa,{class:"block h-16 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),c("div",pd,[k(ht,{href:a.route("dashboard"),active:a.route().current("dashboard")},{default:N(()=>l[5]||(l[5]=[$(" Dashboard ",-1)])),_:1,__:[5]},8,["href","active"]),k(ht,{href:a.route("inbox"),active:a.route().current("inbox")},{default:N(()=>l[6]||(l[6]=[$(" Inbox ",-1)])),_:1,__:[6]},8,["href","active"]),k(ht,{href:a.route("bonus-system.index"),active:a.route().current("bonus-system.index")},{default:N(()=>l[7]||(l[7]=[$(" Bonus System ",-1)])),_:1,__:[7]},8,["href","active"]),k(ht,{href:a.route("leaderboard.index"),active:a.route().current("leaderboard.index")},{default:N(()=>l[8]||(l[8]=[$(" Leaderboard ",-1)])),_:1,__:[8]},8,["href","active"]),k(ht,{href:a.route("kudos.index"),active:a.route().current("kudos.index")},{default:N(()=>l[9]||(l[9]=[$(" Kudos ",-1)])),_:1,__:[9]},8,["href","active"]),L(n)("add_expendables").value?(f(),U(ht,{key:0,href:a.route("project-expendables.index"),class:"!px-2 !py-1.5"},{default:N(()=>l[10]||(l[10]=[$("Project Expendables",-1)])),_:1,__:[10]},8,["href"])):T("",!0),L(i)?(f(),U(nd,{key:1})):T("",!0)])]),c("div",md,[k(ve,{type:"button",onClick:l[0]||(l[0]=r=>s("openCreateTaskModal")),class:"mr-2 px-4 py-2 text-sm"},{default:N(()=>l[11]||(l[11]=[$(" Add Task ",-1)])),_:1,__:[11]}),k(ve,{type:"button",onClick:l[1]||(l[1]=r=>s("openAddResource")),class:"mr-2 px-4 py-2 text-sm"},{default:N(()=>l[12]||(l[12]=[$(" Add Resource ",-1)])),_:1,__:[12]}),L(n)("create_kudos")?(f(),U(ve,{key:0,type:"button",onClick:l[2]||(l[2]=r=>a.$emit("open-kudo-modal")),class:"mr-2 px-4 py-2 text-sm bg-orange-500 hover:bg-orange-600"},{default:N(()=>l[13]||(l[13]=[$(" ✨ Give Kudo ",-1)])),_:1,__:[13]})):T("",!0),c("button",{onClick:l[3]||(l[3]=r=>s("openNotificationsSidebar")),class:"relative flex-shrink-0 text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors duration-200 mr-4","aria-label":"View all notifications"},[k(L(Gc),{class:"h-6 w-6"}),e.unreadNotificationCount>0?(f(),v("span",hd,V(e.unreadNotificationCount),1)):T("",!0)]),k(rd)]),c("div",gd,[c("button",{onClick:l[4]||(l[4]=r=>o.value=!o.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(f(),v("svg",vd,[c("path",{class:H({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),c("path",{class:H({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])])]))}},ie={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){const t=e,s=W(()=>t.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(f(),U(L(Ue),po({href:e.href,method:e.method,as:e.as},o.$attrs,{class:s.value}),{default:N(()=>[Re(o.$slots,"default")]),_:3},16,["href","method","as","class"]))}},_d={class:"space-y-1 pb-3 pt-2"},bd={key:0,class:"mt-3 space-y-1"},kd={class:"border-t border-gray-200 pb-1 pt-4"},wd={class:"px-4"},Ed={class:"text-base font-medium text-gray-800"},Sd={class:"text-sm font-medium text-gray-500"},xd={class:"text-sm font-medium text-gray-500 capitalize"},Td={class:"mt-3 space-y-1"},Cd={__name:"MobileNavigation",props:{showingNavigationDropdown:{type:Boolean,required:!0},unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","logoutSuccess","logoutError"],setup(e,{emit:t}){const s=t,o=W(()=>Ft().props.auth.user),{canDo:n}=Ys(),i=n("manage_projects"),a=n("compose_emails"),l=n("approve_emails"),r=n("create_users"),u=n("manage_roles"),m=n("manage_task_types"),d=n("create_clients"),p=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,s("logoutSuccess")},h=w=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",s("logoutError",w)};return(w,g)=>{var R;return f(),v("div",{class:H([{block:e.showingNavigationDropdown,hidden:!e.showingNavigationDropdown},"sm:hidden"])},[c("div",_d,[L(u)?(f(),v("div",bd,[g[18]||(g[18]=c("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),k(ie,{href:w.route("dashboard"),active:w.route().current("dashboard")},{default:N(()=>g[3]||(g[3]=[$(" Dashboard ",-1)])),_:1,__:[3]},8,["href","active"]),L(n)("view_emails")?(f(),U(ie,{key:0,href:w.route("inbox"),active:w.route().current("inbox")},{default:N(()=>g[4]||(g[4]=[$(" Inbox ",-1)])),_:1,__:[4]},8,["href","active"])):T("",!0),L(d)?(f(),U(ie,{key:1,href:w.route("clients.index"),active:w.route().current("clients.index")},{default:N(()=>g[5]||(g[5]=[$(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):T("",!0),L(i)?(f(),U(ie,{key:2,href:w.route("projects.index"),active:w.route().current("projects.index")},{default:N(()=>g[6]||(g[6]=[$(" Projects ",-1)])),_:1,__:[6]},8,["href","active"])):T("",!0),L(r)?(f(),U(ie,{key:3,href:w.route("users.index"),active:w.route().current("users.index")},{default:N(()=>g[7]||(g[7]=[$(" Users ",-1)])),_:1,__:[7]},8,["href","active"])):T("",!0),L(a)?(f(),U(ie,{key:4,href:w.route("emails.compose"),active:w.route().current("emails.compose")},{default:N(()=>g[8]||(g[8]=[$(" Compose Email ",-1)])),_:1,__:[8]},8,["href","active"])):T("",!0),L(l)?(f(),U(ie,{key:5,href:w.route("emails.pending"),active:w.route().current("emails.pending")},{default:N(()=>g[9]||(g[9]=[$(" Approve Emails ",-1)])),_:1,__:[9]},8,["href","active"])):T("",!0),L(a)?(f(),U(ie,{key:6,href:w.route("emails.rejected"),active:w.route().current("emails.rejected")},{default:N(()=>g[10]||(g[10]=[$(" Rejected Emails ",-1)])),_:1,__:[10]},8,["href","active"])):T("",!0),L(r)?(f(),U(ie,{key:7,href:w.route("availability.index"),active:w.route().current("availability.index")},{default:N(()=>g[11]||(g[11]=[$(" Weekly Availability ",-1)])),_:1,__:[11]},8,["href","active"])):T("",!0),L(n)("manage_roles")?(f(),U(ie,{key:8,href:w.route("admin.roles.index"),active:w.route().current("admin.roles.index")},{default:N(()=>g[12]||(g[12]=[$(" Manage Roles ",-1)])),_:1,__:[12]},8,["href","active"])):T("",!0),L(n)("manage_permissions")?(f(),U(ie,{key:9,href:w.route("admin.permissions.index"),active:w.route().current("admin.permissions.index")},{default:N(()=>g[13]||(g[13]=[$(" Manage Permissions ",-1)])),_:1,__:[13]},8,["href","active"])):T("",!0),L(m)?(f(),U(ie,{key:10,href:w.route("task-types.index"),active:w.route().current("task-types.index")},{default:N(()=>g[14]||(g[14]=[$(" Task Types ",-1)])),_:1,__:[14]},8,["href","active"])):T("",!0),L(n)("manage_email_templates")?(f(),U(ie,{key:11,href:w.route("email-templates.index"),active:w.route().current("email-templates.index")},{default:N(()=>g[15]||(g[15]=[$(" Email Templates ",-1)])),_:1,__:[15]},8,["href","active"])):T("",!0),L(n)("manage_placeholder_definitions")?(f(),U(ie,{key:12,href:w.route("placeholder-definitions.index"),active:w.route().current("placeholder-definitions.index")},{default:N(()=>g[16]||(g[16]=[$(" Placeholder Definitions ",-1)])),_:1,__:[16]},8,["href","active"])):T("",!0),L(n)("view_shareable_resources")?(f(),U(ie,{key:13,href:w.route("shareable-resources.index"),active:w.route().current("shareable-resources.index")},{default:N(()=>g[17]||(g[17]=[$(" Shareable Resources ",-1)])),_:1,__:[17]},8,["href","active"])):T("",!0)])):T("",!0)]),c("div",kd,[c("div",wd,[c("div",Ed,V(o.value.name),1),c("div",Sd,V(o.value.email),1),c("div",xd,V((R=o.value.role_data)==null?void 0:R.name),1)]),c("div",Td,[k(ie,{as:"button",onClick:g[0]||(g[0]=x=>s("openCreateTaskModal"))},{default:N(()=>g[19]||(g[19]=[$(" Add Task ",-1)])),_:1,__:[19]}),k(ie,{as:"button",onClick:g[1]||(g[1]=x=>s("openAddResource"))},{default:N(()=>g[20]||(g[20]=[$(" Add Resource ",-1)])),_:1,__:[20]}),k(ie,{as:"button",onClick:g[2]||(g[2]=x=>s("openNotificationsSidebar"))},{default:N(()=>[$(" Notifications ("+V(e.unreadNotificationCount)+") ",1)]),_:1}),k(ie,{href:w.route("profile.edit")},{default:N(()=>g[21]||(g[21]=[$(" Profile ",-1)])),_:1,__:[21]},8,["href"]),k(ie,{href:w.route("logout"),method:"post",as:"button",onSuccess:p,onError:h},{default:N(()=>g[22]||(g[22]=[$(" Log Out ",-1)])),_:1,__:[22]},8,["href"])])])],2)}}},Nd={class:"space-y-4"},Id={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},Ad={class:"text-sm font-medium text-gray-900"},Od={class:"text-xs text-gray-500 mt-1"},$d={class:"mb-4"},Md="post",Pd="Add Note",Dd="Note added successfully!",Rd={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(e,{emit:t}){const s=e,o=t,n=vt({note:""}),i=W(()=>{var u;return`Add Note to Task: "${(u=s.taskForNote)==null?void 0:u.name}"`}),a=W(()=>{var u;return`/api/tasks/${(u=s.taskForNote)==null?void 0:u.id}/notes`});fe(()=>s.show,u=>{u&&Object.assign(n,{note:""})},{immediate:!0});const l=u=>{o("note-added",u),o("close")},r=()=>{o("close")};return(u,m)=>(f(),U(Gt,{show:e.show,title:i.value,"api-endpoint":a.value,"http-method":Md,"form-data":n,"submit-button-text":Pd,"success-message":Dd,onClose:r,onSubmitted:l},{default:N(({errors:d})=>[c("div",Nd,[e.taskForNote?(f(),v("div",Id,[c("p",Ad,V(e.taskForNote.name),1),c("p",Od,"Status: "+V(e.taskForNote.status),1)])):T("",!0),c("div",$d,[k(K,{for:"task-note-content",value:"Note Content"}),le(c("textarea",{id:"task-note-content","onUpdate:modelValue":m[0]||(m[0]=p=>n.note=p),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[$e,n.note]]),k(Q,{message:d.note?d.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},Ld={class:"task-history-list"},Vd={key:0,class:"text-center py-4"},jd={key:1,class:"text-gray-500 text-sm py-2"},Bd={key:2,class:"space-y-3"},Ud={class:"flex items-start"},Fd={class:"text-xl mr-2"},Xd={class:"text-sm text-gray-700"},Hd={class:"text-xs text-gray-500 mt-1"},qd={__name:"TaskHistoryList",props:{activities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(e){const t=o=>o?new Date(o).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",s=o=>(console.log(o),o.includes("created")?"🆕":o.includes("started")?"🚀":o.includes("paused")?"⏸️":o.includes("resumed")?"▶️":o.includes("unblocked")?"🔓":o.includes("blocked")?"⛔":o.includes("completed")?"✅":o.includes("revised")?"🔄":o.includes("deleted")?"🗑️":o.includes("assigned")?"👤":o.includes("updated")?"📝":o.includes("added note")?"🗒️":o.includes("commented")?"💬":"📋");return(o,n)=>(f(),v("div",Ld,[e.loading?(f(),v("div",Vd,n[0]||(n[0]=[c("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"},null,-1),c("p",{class:"mt-2 text-gray-500"},"Loading activity history...",-1)]))):e.activities.length===0?(f(),v("div",jd," No activity history available for this task. ")):(f(),v("div",Bd,[(f(!0),v(ae,null,re(e.activities,i=>{var a;return f(),v("div",{key:i.id,class:"p-3 bg-gray-50 rounded-md"},[c("div",Ud,[c("span",Fd,V(s(i.description)),1),c("div",null,[c("p",Xd,V(i.description),1),c("p",Hd," By "+V(((a=i.causer)==null?void 0:a.name)||"System")+" on "+V(t(i.created_at)),1)])])])}),128))]))]))}},zd=St(qd,[["__scopeId","data-v-423d54af"]]),Qp=async()=>{try{return(await te.get("/api/assigned-tasks")).data}catch(e){throw console.error("Error fetching assigned tasks:",e),me("Failed to load assigned tasks"),e}},Zp=async e=>{try{return(await te.get(`/api/projects/${e}/tasks`)).data}catch(t){throw console.error("Error fetching project tasks:",t),me("Failed to load project tasks"),t}},em=async e=>{try{return(await te.get(`/api/projects/${e}/due-and-overdue-tasks`)).data}catch(t){throw console.error("Error fetching due and overdue tasks:",t),me("Failed to load due and overdue tasks"),t}},Wd=async e=>{if(!e||e.status==="In Progress")return e;try{tt("Starting task...");const t=await te.post(`/api/tasks/${e.id}/start`);return Ie("Task started successfully"),t.data}catch(t){throw console.error("Error starting task:",t),me("Failed to start task. Please try again."),t}},Gd=async e=>{if(!e||e.status!=="In Progress")return Se('Task can only be paused from "In Progress" status.'),e;try{tt("Pausing task...");const t=await te.post(`/api/tasks/${e.id}/pause`);return Ie("Task paused successfully"),t.data}catch(t){throw console.error("Error pausing task:",t),me("Failed to pause task. Please try again."),t}},Kd=async e=>{if(!e||e.status!=="Paused")return Se('Task can only be resumed from "Paused" status.'),e;try{tt("Resuming task...");const t=await te.post(`/api/tasks/${e.id}/resume`);return Ie("Task resumed successfully"),t.data}catch(t){throw console.error("Error resuming task:",t),me("Failed to resume task. Please try again."),t}},Jd=async e=>{if(!e||e.status==="Done")return e;if(e.status!=="In Progress")throw Se("Task must be started before it can be completed"),new Error("Task must be started before it can be completed");try{tt("Completing task...");const t=await te.patch(`/api/tasks/${e.id}/complete`);return Ie("Task completed successfully"),t.data}catch(t){throw console.error("Error completing task:",t),t.response&&t.response.status===422?Se(t.response.data.message||"Task must be started before it can be completed"):me("Failed to complete task. Please try again."),t}},Yd=async(e,t)=>{if(!e||e.status==="Blocked")return Se("Task is already blocked."),e;if(e.status==="Done")return Se("Completed tasks cannot be blocked."),e;if(!t)throw Se("Please provide a reason for blocking the task"),new Error("Blocking reason is required");try{tt("Blocking task...");const s=await te.post(`/api/tasks/${e.id}/block`,{reason:t});return Ie("Task blocked successfully"),s.data}catch(s){throw console.error("Error blocking task:",s),me("Failed to block task. Please try again."),s}},Qd=async e=>{if(!e||e.status!=="Blocked")return Se("Task is not in a blocked state."),e;try{tt("Unblocking task...");const t=await te.post(`/api/tasks/${e.id}/unblock`);return Ie("Task unblocked successfully"),t.data}catch(t){throw console.error("Error unblocking task:",t),me("Failed to unblock task. Please try again."),t}},Zd=async e=>{if(!e||e.status!=="Done")return Se("Only completed tasks can be revised."),e;try{tt("Revising task...");const t=await te.post(`/api/tasks/${e.id}/revise`);return Ie("Task revised successfully"),t.data}catch(t){throw console.error("Error revising task:",t),t.response&&t.response.status===422?Se(t.response.data.message||"Only completed tasks can be revised"):me("Failed to revise task. Please try again."),t}},ef=async e=>{if(!e)return!1;if(e.status!=="To Do")throw Se("Only tasks in To Do status can be deleted"),new Error("Only tasks in To Do status can be deleted");if(!confirm("Are you sure you want to delete this task? This action cannot be undone."))return!1;try{return tt("Deleting task..."),await te.delete(`/api/tasks/${e.id}`),Ie("Task deleted successfully"),!0}catch(t){throw console.error("Error deleting task:",t),me("Failed to delete task. Please try again."),t}},tf=e=>{switch(e){case"To Do":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Paused":return"bg-orange-100 text-orange-800";case"Blocked":return"bg-red-100 text-red-800";case"Done":return"bg-green-100 text-green-800";case"Archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},tm=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},sm=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Medium",sf=["checked","onChange"],nf={__name:"ChecklistComponent",props:{items:{type:Array,required:!0},apiEndpoint:{type:String,required:!0},title:{type:String,default:"Checklist"},containerClass:{type:String,default:"mt-4 p-3 bg-gray-100 rounded-lg text-sm text-gray-700 border border-gray-200"},titleClass:{type:String,default:"font-semibold text-gray-900 mb-2"},itemsContainerClass:{type:String,default:"space-y-1"},itemClass:{type:String,default:"flex items-center space-x-2"},checkboxClass:{type:String,default:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},completedItemClass:{type:String,default:"line-through text-gray-500"},successMessage:{type:String,default:"Checklist item updated!"},errorMessage:{type:String,default:"Failed to update checklist item"},payloadTransformer:{type:Function,default:null},checkListStyle:{type:String,default:"checklist"}},emits:["update:items","item-toggled"],setup(e,{emit:t}){const s=e,o=t,n=D(JSON.parse(JSON.stringify(s.items)));fe(()=>s.items,a=>{n.value=JSON.parse(JSON.stringify(a))},{deep:!0});async function i(a){const l=n.value[a],r=!l.completed;l.completed=r;try{let u;s.payloadTransformer?u=s.payloadTransformer(n.value,a):u={items:n.value},await te.put(s.apiEndpoint,u),o("update:items",n.value),o("item-toggled",{index:a,item:l,completed:r}),Ie(s.successMessage)}catch(u){console.error("Error updating checklist item:",u),l.completed=!r,me(s.errorMessage)}}return(a,l)=>n.value&&n.value.length>0?(f(),v("div",{key:0,class:H(e.containerClass)},[c("p",{class:H(e.titleClass)},V(e.title),3),c("ul",{class:H(e.itemsContainerClass)},[(f(!0),v(ae,null,re(n.value,(r,u)=>(f(),v("li",{key:u,class:H(e.itemClass)},[e.checkListStyle==="checklist"?(f(),v("input",{key:0,type:"checkbox",checked:r.completed,onChange:m=>i(u),class:H(e.checkboxClass)},null,42,sf)):T("",!0),c("span",{class:H({[e.completedItemClass]:r.completed})},V(r.name),3)],2))),128))],2)],2)):T("",!0)}};function no(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z","clip-rule":"evenodd"})])}const of={class:"mt-4"},af={__name:"ChecklistCreator",props:{modelValue:{type:Array,required:!0},placeholder:{type:String,default:"e.g., Task 1, Task 2, Task 3"},label:{type:String,default:"Checklist Items"},density:{type:String,default:"spacious",validator:e=>["spacious","tight","notes"].includes(e)}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=D([]),i=D([]),a=D(!1);fe(()=>s.modelValue,d=>{a.value=!0,n.value=JSON.parse(JSON.stringify(d)),(n.value.length===0||n.value[n.value.length-1].name.trim()!=="")&&n.value.push({name:"",completed:!1}),rt(()=>{a.value=!1})},{immediate:!0,deep:!0}),fe(()=>n.value,d=>{a.value||o("update:modelValue",d)},{deep:!0});function l(d){n.value.splice(d,1),n.value.length===0&&n.value.push({name:"",completed:!1})}function r(d){d===n.value.length-1&&n.value[d].name.trim()!==""&&n.value.push({name:"",completed:!1})}function u(d){d<n.value.length-1&&rt(()=>{var p;(p=i.value[d+1])==null||p.focus()})}const m=W(()=>s.density==="tight"?{listClass:"space-y-1",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-1 text-sm"}:s.density==="notes"?{listClass:"space-y-0.5",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-0.5 text-sm border-transparent focus:border-transparent focus:ring-0 bg-transparent"}:{listClass:"space-y-2",itemClass:"flex items-center space-x-2",inputClass:""});return(d,p)=>(f(),v("div",of,[e.label?(f(),U(K,{key:0,value:e.label},null,8,["value"])):T("",!0),c("ul",{class:H(m.value.listClass)},[(f(!0),v(ae,null,re(n.value,(h,w)=>(f(),v("li",{key:w,class:H(m.value.itemClass)},[e.density==="notes"?(f(),U(L(no),{key:0,class:"h4 w-4",onClick:g=>l(w)},null,8,["onClick"])):T("",!0),k(De,{modelValue:h.name,"onUpdate:modelValue":g=>h.name=g,type:"text",class:H(["flex-1",m.value.inputClass]),placeholder:w===n.value.length-1?e.placeholder:"",onInput:g=>r(w),onKeyup:es(Js(g=>u(w),["prevent"]),["enter"]),ref_for:!0,ref:g=>{g&&(i.value[w]=g)}},null,8,["modelValue","onUpdate:modelValue","class","placeholder","onInput","onKeyup"]),n.value.length>1&&e.density!=="notes"?(f(),U(Zs,{key:1,type:"button",onClick:g=>l(w)},{default:N(()=>[k(L(no),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):T("",!0)],2))),128))],2)]))}},rf={key:0,class:"text-center py-8 text-gray-500"},lf={key:1,class:"text-center py-8 text-red-600"},uf={key:2,class:"space-y-6"},cf={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},df={class:"text-xl font-bold text-gray-900 mb-2"},ff={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},pf={key:0,class:"text-indigo-600 font-medium"},mf={key:1,class:"text-purple-600 font-medium"},hf={class:"text-gray-700 leading-relaxed"},gf={class:"mt-4 flex flex-wrap gap-2"},vf={key:0,class:"text-xs text-gray-500 mt-1"},yf={key:0,class:"bg-yellow-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm"},_f={class:"flex items-center"},bf={class:"ml-3"},kf={class:"mt-2 text-sm text-yellow-700"},wf={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm mb-4"},Ef={class:"flex justify-between items-center border-b pb-2 mb-4"},Sf={key:0},xf={key:1},Tf={key:0,class:"mb-4"},Cf={class:"flex justify-end mt-4"},Nf={key:2,class:"text-gray-500 text-sm py-2"},If={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},Af={class:"flex items-center justify-between py-2 border-b border-gray-100"},Of={class:"flex-1 text-right"},$f={key:0,class:"text-xs text-gray-400 ml-1"},Mf={key:1,class:"flex items-center space-x-2"},Pf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Df={class:"flex-1 text-right"},Rf={key:1,class:"flex items-center space-x-2"},Lf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Vf={class:"flex-1 text-right"},jf={key:0,class:"text-xs text-gray-400 ml-1"},Bf={key:1,class:"flex items-center space-x-2"},Uf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Ff={class:"text-gray-700"},Xf={class:"flex items-start py-2 border-b border-gray-100"},Hf={class:"flex-1 flex flex-wrap gap-2"},qf={key:0,class:"text-gray-500 text-sm"},zf={class:"bg-white p-4 rounded-lg shadow-sm"},Wf={class:"flex justify-between items-center mb-4 border-b pb-2"},Gf={key:0,class:"space-y-3"},Kf={class:"text-sm text-gray-700"},Jf={class:"text-xs text-gray-500 mt-1"},Yf={key:1,class:"text-gray-500 text-sm py-2"},Qf={class:"bg-white p-4 rounded-lg shadow-sm"},Zf={key:3,class:"text-center py-8 text-gray-500"},ep={key:4,class:"mt-4 flex flex-col items-center"},tp={key:0,class:"text-xs text-red-500 mt-1"},sp={class:"p-6"},np={class:"mb-4"},op={class:"flex justify-end space-x-3"},ap={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(e,{emit:t}){const s=e,o=t,n=D(null),i=D(!0),a=D(""),l=D(!1),r=D(!1),u=D(!1),m=D(null),d=D(null),p=D(null),h=D([]),w=D(!1),g=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],R=D(!1),x=D(!1),E=D([{name:"",completed:!1}]),S=D(!1),P=async()=>{i.value=!0,a.value="";try{const F=await window.axios.get(`/api/tasks/${s.taskId}`);n.value=F.data,m.value=n.value.assigned_to_id||null,d.value=n.value.due_date||null,p.value=n.value.priority||"medium",O()}catch(F){a.value="Failed to load task details.",console.error("Error fetching task details:",F)}finally{i.value=!1}},O=async()=>{w.value=!0;try{const F=await window.axios.get("/api/activities",{params:{subject_type:"App\\Models\\Task",subject_id:s.taskId}});h.value=F.data}catch(F){console.error("Error fetching task activities:",F)}finally{w.value=!1}};fe(()=>s.taskId,F=>{F?P():n.value=null},{immediate:!0});const j=W(()=>s.projectUsers.map(F=>({value:F.id,label:F.name}))),B=async()=>{if(!n.value||m.value===n.value.assigned_to_id){l.value=!1;return}try{const F=await window.axios.patch(`/api/tasks/${n.value.id}`,{assigned_to_user_id:m.value});n.value=F.data,o("task-updated",n.value)}catch(F){console.error("Error updating assigned user:",F),m.value=n.value.assigned_to_id,me("Failed to update assigned user. Please try again.")}finally{l.value=!1}},y=async()=>{if(!n.value||d.value===n.value.due_date){r.value=!1;return}try{const F=await window.axios.patch(`/api/tasks/${n.value.id}`,{due_date:d.value});n.value=F.data,o("task-updated",n.value)}catch(F){console.error("Error updating due date:",F),d.value=n.value.due_date,me("Failed to update due date. Please try again.")}finally{r.value=!1}},_=async()=>{if(!n.value||p.value===n.value.priority){u.value=!1;return}try{const F=await window.axios.patch(`/api/tasks/${n.value.id}`,{priority:p.value});n.value=F.data,o("task-updated",n.value)}catch(F){console.error("Error updating priority:",F),p.value=n.value.priority,me("Failed to update priority. Please try again.")}finally{u.value=!1}},b=()=>{R.value=!0},C=()=>{P(),R.value=!1},I=async()=>{try{await ef(n.value),o("task-deleted",n.value.id),o("close")}catch(F){console.error("Error deleting task:",F)}},M=async()=>{try{n.value=await Wd(n.value),o("task-updated",n.value),O()}catch(F){console.error("Error starting task:",F)}},q=async()=>{try{n.value=await Gd(n.value),o("task-updated",n.value),O()}catch(F){console.error("Error pausing task:",F)}},J=async()=>{try{n.value=await Kd(n.value),o("task-updated",n.value),O()}catch(F){console.error("Error resuming task:",F)}},Me=async()=>{try{n.value=await Jd(n.value),o("task-updated",n.value),O()}catch(F){console.error("Error completing task:",F)}},Le=async()=>{try{n.value=await Zd(n.value),o("task-updated",n.value),O()}catch(F){console.error("Error revising task:",F)}},pt=()=>{var F;x.value=!x.value,x.value&&((F=n.value.details)!=null&&F.checklist&&n.value.details.checklist.length>0?(E.value=JSON.parse(JSON.stringify(n.value.details.checklist)),E.value[E.value.length-1].name!==""&&E.value.push({name:"",completed:!1})):E.value=[{name:"",completed:!1}])},Kt=async()=>{if(!S.value){S.value=!0;try{const F=E.value.filter(nt=>nt.name.trim()!==""),A={details:{...n.value.details,checklist:F}},st=await window.axios.patch(`/api/tasks/${n.value.id}`,A);n.value=st.data,x.value=!1,Ie("Checklist saved successfully"),o("task-updated",n.value)}catch(F){console.error("Error saving checklist:",F),me("Failed to save checklist")}finally{S.value=!1}}},Ae=D(!1),Pe=D(""),ba=()=>{Pe.value="",Ae.value=!0},ka=async()=>{if(!Pe.value.trim()){Se("Please provide a reason for blocking the task");return}try{n.value=await Yd(n.value,Pe.value),Ie("Task blocked successfully"),o("task-updated",n.value),O(),Ae.value=!1}catch(F){console.error("Error blocking task:",F)}},wa=async()=>{try{n.value=await Qd(n.value),o("task-updated",n.value),O()}catch(F){console.error("Error unblocking task:",F)}},Ea=W(()=>n.value?tf(n.value.status):""),Ps=W(()=>{var A,st,nt,Ct;if(!h.value||((A=n.value)==null?void 0:A.status)!=="Blocked")return null;const F=h.value.find(Nt=>{var It,At;return Nt.event==="updated"&&((At=(It=Nt.properties)==null?void 0:It.attributes)==null?void 0:At.status)==="Blocked"});return F?(console.log(F.properties),{causer:((st=F.causer)==null?void 0:st.name)||"Unknown",reason:((Ct=(nt=F.properties)==null?void 0:nt.attributes)==null?void 0:Ct.block_reason)||"No reason provided."}):null});return(F,A)=>{var st,nt,Ct,Nt,It,At,An;return f(),v("div",null,[i.value?(f(),v("div",rf," Loading task details... ")):a.value?(f(),v("div",lf,V(a.value),1)):n.value?(f(),v("div",uf,[c("div",cf,[c("h4",df,V(n.value.name),1),c("div",ff,[c("span",{class:H(["px-2 py-1 rounded-full text-xs font-medium",Ea.value])},V(n.value.status),3),n.value.task_type?(f(),v("span",pf," | "+V((st=n.value.task_type)==null?void 0:st.name)+" | ",1)):T("",!0),A[14]||(A[14]=c("br",null,null,-1)),(nt=n.value.milestone)!=null&&nt.name?(f(),v("span",mf,V((Ct=n.value.milestone)==null?void 0:Ct.name),1)):T("",!0)]),c("p",hf,V(n.value.description||"No description provided."),1),c("div",gf,[n.value.status==="To Do"?(f(),U(ve,{key:0,onClick:M,class:"bg-blue-600 hover:bg-blue-700"},{default:N(()=>A[15]||(A[15]=[$(" Start Task ",-1)])),_:1,__:[15]})):n.value.status==="In Progress"?(f(),U(ve,{key:1,onClick:q,class:"bg-orange-600 hover:bg-orange-700"},{default:N(()=>A[16]||(A[16]=[$(" Pause Task ",-1)])),_:1,__:[16]})):n.value.status==="Paused"?(f(),U(ve,{key:2,onClick:J,class:"bg-blue-600 hover:bg-blue-700"},{default:N(()=>A[17]||(A[17]=[$(" Resume Task ",-1)])),_:1,__:[17]})):n.value.status==="Blocked"?(f(),U(ve,{key:3,onClick:wa,class:"bg-green-600 hover:bg-green-700"},{default:N(()=>A[18]||(A[18]=[$(" Unblock Task ",-1)])),_:1,__:[18]})):T("",!0),n.value.status==="To Do"||n.value.status==="In Progress"||n.value.status==="Paused"?(f(),U(ve,{key:4,onClick:ba,class:"bg-red-600 hover:bg-red-700"},{default:N(()=>A[19]||(A[19]=[$(" Block Task ",-1)])),_:1,__:[19]})):T("",!0),n.value.status==="In Progress"?(f(),U(ve,{key:5,onClick:Me,class:"bg-green-600 hover:bg-green-700"},{default:N(()=>A[20]||(A[20]=[$(" Complete Task ",-1)])),_:1,__:[20]})):T("",!0),n.value.status==="Done"?(f(),U(ve,{key:6,onClick:Le,class:"bg-yellow-600 hover:bg-yellow-700"},{default:N(()=>A[21]||(A[21]=[$(" Revise Task ",-1)])),_:1,__:[21]})):T("",!0)]),n.value.status==="Done"?(f(),v("div",vf,' Revising will change the task status back to "To Do" ')):T("",!0)]),n.value.status==="Blocked"&&Ps.value?(f(),v("div",yf,[c("div",_f,[A[23]||(A[23]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11.75 13a.75.75 0 01-1.5 0v-2.25a.75.75 0 011.5 0V13zm-1.5-7.5a.75.75 0 011.5 0v1.5a.75.75 0 01-1.5 0V5.5z","clip-rule":"evenodd"})])],-1)),c("div",bf,[A[22]||(A[22]=c("h3",{class:"text-sm font-medium text-yellow-800"},"Task Blocked",-1)),c("div",kf,[c("p",null,"This task was blocked by **"+V(Ps.value.causer)+"** with the following reason:",1),c("p",null,V(Ps.value.reason),1)])])])])):T("",!0),c("div",wf,[c("div",Ef,[A[24]||(A[24]=c("h5",{class:"text-lg font-semibold text-gray-800"},"Task Checklist",-1)),c("button",{onClick:pt,class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center"},[x.value?(f(),v("span",xf,"Cancel")):(f(),v("span",Sf,V((Nt=n.value.details)!=null&&Nt.checklist&&n.value.details.checklist.length>0?"Edit Checklist":"Add Checklist"),1))])]),x.value?(f(),v("div",Tf,[k(af,{modelValue:E.value,"onUpdate:modelValue":A[0]||(A[0]=Y=>E.value=Y),placeholder:"e.g., Review design, Update documentation",label:"Checklist Items",density:"notes"},null,8,["modelValue"]),c("div",Cf,[k(ve,{onClick:Kt,disabled:S.value,class:"flex items-center space-x-1"},{default:N(()=>[k(L(Kc),{class:"h-4 w-4"}),A[25]||(A[25]=c("span",null,"Save Checklist",-1))]),_:1,__:[25]},8,["disabled"])])])):T("",!0),(It=n.value.details)!=null&&It.checklist&&n.value.details.checklist.length>0&&!x.value?(f(),U(nf,{key:1,items:n.value.details.checklist,"api-endpoint":`/api/tasks/${n.value.id}`,title:"Items to complete:","payload-transformer":Y=>({details:{...n.value.details,checklist:Y}})},null,8,["items","api-endpoint","payload-transformer"])):T("",!0),(!((At=n.value.details)!=null&&At.checklist)||n.value.details.checklist.length===0)&&!x.value?(f(),v("div",Nf,' No checklist items for this task yet. Click "Add Checklist" to create one. ')):T("",!0)]),c("div",If,[A[32]||(A[32]=c("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),c("div",Af,[k(K,{class:"min-w-[100px] text-gray-600"},{default:N(()=>A[26]||(A[26]=[$("Assigned To:",-1)])),_:1,__:[26]}),c("div",Of,[l.value?(f(),v("div",Mf,[k(Ce,{id:"edit-assigned-to",modelValue:m.value,"onUpdate:modelValue":A[2]||(A[2]=Y=>m.value=Y),options:j.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),c("button",{onClick:B,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:A[3]||(A[3]=Y=>l.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),v("div",{key:0,onClick:A[1]||(A[1]=Y=>n.value.status!=="Done"?l.value=!0:Se("Cannot change assignment for a completed task. Use the Revise button to change the task status first.")),class:H(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[$(V(((An=n.value.assigned_to)==null?void 0:An.name)||"Unassigned")+" ",1),n.value.status!=="Done"?(f(),v("span",$f,"(Click to edit)")):T("",!0)],2))])]),c("div",Pf,[k(K,{class:"min-w-[100px] text-gray-600"},{default:N(()=>A[27]||(A[27]=[$("Due Date:",-1)])),_:1,__:[27]}),c("div",Df,[r.value?(f(),v("div",Rf,[k(De,{id:"edit-due-date",modelValue:d.value,"onUpdate:modelValue":A[5]||(A[5]=Y=>d.value=Y),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),c("button",{onClick:y,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:A[6]||(A[6]=Y=>r.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),v("div",{key:0,onClick:A[4]||(A[4]=Y=>r.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[$(V(n.value.due_date?L(za)(n.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),A[28]||(A[28]=c("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),c("div",Lf,[k(K,{class:"min-w-[100px] text-gray-600"},{default:N(()=>A[29]||(A[29]=[$("Priority:",-1)])),_:1,__:[29]}),c("div",Vf,[u.value?(f(),v("div",Bf,[k(Ce,{id:"edit-priority",modelValue:p.value,"onUpdate:modelValue":A[8]||(A[8]=Y=>p.value=Y),options:g,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1 flex-1"},null,8,["modelValue"]),c("button",{onClick:_,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:A[9]||(A[9]=Y=>u.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),v("div",{key:0,onClick:A[7]||(A[7]=Y=>n.value.status!=="Done"?u.value=!0:Se("Cannot change priority for a completed task. Use the Revise button to change the task status first.")),class:H(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[c("span",{class:H({"text-red-600 font-medium":n.value.priority==="high","text-yellow-600 font-medium":n.value.priority==="medium","text-green-600 font-medium":n.value.priority==="low"})},V(n.value.priority?n.value.priority.charAt(0).toUpperCase()+n.value.priority.slice(1):"Medium"),3),n.value.status!=="Done"?(f(),v("span",jf,"(Click to edit)")):T("",!0)],2))])]),c("div",Uf,[k(K,{class:"min-w-[100px] text-gray-600"},{default:N(()=>A[30]||(A[30]=[$("Created:",-1)])),_:1,__:[30]}),c("span",Ff,V(n.value.created_at?new Date(n.value.created_at).toLocaleDateString():"N/A"),1)]),c("div",Xf,[k(K,{class:"min-w-[100px] text-gray-600 mt-1"},{default:N(()=>A[31]||(A[31]=[$("Tags:",-1)])),_:1,__:[31]}),c("div",Hf,[(f(!0),v(ae,null,re(n.value.tags,Y=>(f(),v("span",{key:Y.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},V(Y.name),1))),128)),!n.value.tags||n.value.tags.length===0?(f(),v("span",qf,"No tags")):T("",!0)])])]),c("div",zf,[c("div",Wf,[A[34]||(A[34]=c("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),k(ve,{onClick:b,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:N(()=>A[33]||(A[33]=[$(" Add Note ",-1)])),_:1,__:[33]})]),n.value.notes&&n.value.notes.length>0?(f(),v("div",Gf,[(f(!0),v(ae,null,re(n.value.notes,Y=>(f(),v("div",{key:Y.id,class:"p-3 bg-gray-50 rounded-md"},[c("p",Kf,V(Y.content),1),c("p",Jf," By "+V(Y.creator_name||"Unknown")+" on "+V(new Date(Y.created_at).toLocaleDateString()),1)]))),128))])):(f(),v("div",Yf,"No notes for this task yet."))]),c("div",Qf,[A[35]||(A[35]=c("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"History",-1)),k(zd,{activities:h.value,loading:w.value},null,8,["activities","loading"])])])):(f(),v("div",Zf," Select a task to view details. ")),n.value&&n.value.status!=="Done"?(f(),v("div",ep,[k(Zs,{onClick:I,disabled:n.value.status!=="To Do"},{default:N(()=>A[36]||(A[36]=[$(" Delete Task ",-1)])),_:1,__:[36]},8,["disabled"]),n.value.status!=="To Do"?(f(),v("p",tp,"Task can only be deleted in 'To Do' status.")):T("",!0)])):T("",!0),k(Rd,{show:R.value,"task-for-note":n.value,onClose:A[10]||(A[10]=Y=>R.value=!1),onNoteAdded:C},null,8,["show","task-for-note"]),k(Qs,{show:Ae.value,onClose:A[13]||(A[13]=Y=>Ae.value=!1)},{default:N(()=>[c("div",sp,[A[40]||(A[40]=c("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Block Task ",-1)),c("div",np,[A[37]||(A[37]=c("p",{class:"text-sm text-gray-600 mb-2"}," Please provide a reason for blocking this task: ",-1)),le(c("textarea",{"onUpdate:modelValue":A[11]||(A[11]=Y=>Pe.value=Y),class:"w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3",placeholder:"Enter reason for blocking..."},null,512),[[$e,Pe.value]])]),c("div",op,[k(Dt,{onClick:A[12]||(A[12]=Y=>Ae.value=!1)},{default:N(()=>A[38]||(A[38]=[$(" Cancel ",-1)])),_:1,__:[38]}),k(ve,{onClick:ka,disabled:!Pe.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:N(()=>A[39]||(A[39]=[$(" Block Task ",-1)])),_:1,__:[39]},8,["disabled"])])])]),_:1},8,["show"])])}}},ip={key:1,class:"p-4 text-gray-500"},rp={key:0,class:"flex justify-end space-x-3"},lp={__name:"TaskSidebar",emits:["taskUpdated","taskDeleted"],setup(e){const t=D(null);return(s,o)=>(f(),U(va,{show:L(ze).show,"onUpdate:show":L(Ds),title:L(ze).taskId?"Task Details":"Details",initialWidth:50},{content:N(()=>[L(ze).taskId?(f(),U(ap,{key:0,"task-id":L(ze).taskId,"project-id":L(ze).projectId,"project-users":L(ze).projectUsers,ref_key:"taskDetailSidebarRef",ref:t,onClose:L(Ds),onTaskUpdated:o[0]||(o[0]=n=>{s.$emit("taskUpdated",n)}),onTaskDeleted:o[1]||(o[1]=n=>{s.$emit("taskDeleted",n),L(Ds)()})},null,8,["task-id","project-id","project-users","onClose"])):L(ze).show?(f(),v("div",ip," No task selected or task ID is missing. ")):T("",!0)]),footer:N(()=>[L(ze).taskId?(f(),v("div",rp,[t.value&&t.value.task&&t.value.task.status!=="In Progress"&&t.value.task.status!=="Done"?(f(),U(Dt,{key:0,onClick:t.value.startTask,class:"bg-blue-50 text-blue-700 hover:bg-blue-100"},{default:N(()=>o[2]||(o[2]=[$(" Start Task ",-1)])),_:1,__:[2]},8,["onClick"])):T("",!0),t.value&&t.value.task&&t.value.task.status==="In Progress"?(f(),U(Dt,{key:1,onClick:t.value.completeTask,class:"bg-green-50 text-green-700 hover:bg-green-100"},{default:N(()=>o[3]||(o[3]=[$(" Complete Task ",-1)])),_:1,__:[3]},8,["onClick"])):T("",!0),t.value&&t.value.task?(f(),U(Zs,{key:2,onClick:t.value.deleteTask,class:"bg-red-50 text-red-700 hover:bg-red-100"},{default:N(()=>o[4]||(o[4]=[$(" Delete Task ",-1)])),_:1,__:[4]},8,["onClick"])):T("",!0)])):T("",!0)]),_:1},8,["show","onUpdate:show","title"]))}};function up(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function oo(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"})])}function cp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function dp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function fp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"})])}function pp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const mp={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},hp={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},gp={class:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},vp={class:"max-h-[70vh] overflow-y-auto p-6 space-y-4"},yp={key:0,class:"text-center text-gray-500 py-8"},_p={class:"flex items-start justify-between gap-4"},bp={class:"flex-1 min-w-0"},kp={class:"flex items-center gap-2 mb-2"},wp={class:"font-bold text-lg text-gray-900 dark:text-white truncate"},Ep={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line leading-relaxed"},Sp={key:0,class:"flex-shrink-0"},xp=["href"],Tp={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex flex-col md:flex-row items-center justify-between gap-4"},Cp={class:"flex items-center w-full md:w-auto"},Np={class:"flex justify-end gap-3 w-full md:w-auto"},Ip=["disabled"],Ap={key:0},Op={key:1},$p={__name:"NoticeboardModal",props:{show:{type:Boolean,default:!1},unreadNotices:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const s=e,o=t,n=D(!1),i=D(!1),a=async()=>{if(!(!n.value||i.value)){i.value=!0;try{const u=s.unreadNotices.map(m=>m.id);if(u.length===0){o("close");return}await te.post("/api/notices/acknowledge",{notice_ids:u}),n.value=!1,o("close")}catch(u){console.error("Failed to acknowledge notices",u)}finally{i.value=!1}}},l=u=>{switch(u){case"Warning":return dp;case"Updates":return fp;case"Final Notice":return cp;default:return oo}},r=u=>{switch(u){case"Warning":return"text-red-500 bg-red-100";case"Updates":return"text-blue-500 bg-blue-100";case"Final Notice":return"text-yellow-500 bg-yellow-100";default:return"text-indigo-500 bg-indigo-100"}};return(u,m)=>e.show?(f(),v("div",mp,[c("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:m[0]||(m[0]=d=>o("close"))}),c("div",{class:H(["relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-2xl w-full mx-auto transform transition-all duration-300 scale-100",{"scale-95 opacity-0":!e.show}])},[c("div",hp,[c("h3",gp,[k(L(oo),{class:"h-7 w-7 text-indigo-500"}),m[4]||(m[4]=$(" Important Notices ",-1))]),c("button",{onClick:m[1]||(m[1]=d=>o("close")),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},[k(L(pp),{class:"h-6 w-6"})])]),c("div",vp,[e.unreadNotices.length===0?(f(),v("div",yp," All notices have been read. ")):T("",!0),(f(!0),v(ae,null,re(e.unreadNotices,d=>(f(),v("div",{key:d.id,class:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-600"},[c("div",_p,[c("div",bp,[c("div",kp,[(f(),U(ja(l(d.type)),{class:H(["h-5 w-5",r(d.type)])},null,8,["class"])),c("div",wp,V(d.title),1)]),c("div",Ep,V(d.description),1)]),d.url?(f(),v("div",Sp,[c("a",{href:`/notices/${d.id}/redirect`,target:"_blank",class:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors font-medium text-sm"},[m[5]||(m[5]=$(" Open Link ",-1)),k(L(up),{class:"h-4 w-4 ml-1"})],8,xp)])):T("",!0)])]))),128))]),c("div",Tp,[c("div",Cp,[le(c("input",{id:"acknowledge",type:"checkbox","onUpdate:modelValue":m[2]||(m[2]=d=>n.value=d),class:"h-5 w-5 text-indigo-600 rounded-lg border-gray-300 dark:border-gray-500 dark:bg-gray-600 focus:ring-indigo-500 focus:ring-offset-0 transition-colors"},null,512),[[Ba,n.value]]),m[6]||(m[6]=c("label",{for:"acknowledge",class:"ml-3 text-sm text-gray-700 dark:text-gray-300 select-none"}," I have read and understood this notice. ",-1))]),c("div",Np,[c("button",{onClick:m[3]||(m[3]=d=>o("close")),class:"px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm font-medium"}," Close "),c("button",{onClick:a,disabled:!n.value||i.value,class:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-700 transition-colors text-sm font-medium"},[i.value?(f(),v("span",Ap,"Acknowledging...")):(f(),v("span",Op,"Acknowledge"))],8,Ip)])])],2)])):T("",!0)}},js=D(!1),$t=D([]),Bs=D(!1);function Mp(){const e=async()=>{var o;try{const n=await te.get("/api/notices/unread");$t.value=((o=n.data)==null?void 0:o.data)||[],js.value=$t.value.length>0}catch(n){console.error("Failed to fetch unread notices",n)}},t=async()=>{if(Bs.value)try{const o=$t.value.map(n=>n.id);if(o.length===0)return;await te.post("/api/notices/acknowledge",{notice_ids:o}),s()}catch(o){console.error("Failed to acknowledge notices",o)}},s=()=>{js.value=!1,$t.value=[],Bs.value=!1};return et(()=>{e()}),mo(()=>{}),{showNoticeModal:js,unreadNotices:$t,acknowledgeChecked:Bs,fetchUnreadNotices:e,acknowledgeNotices:t,closeModal:s}}const Pp={class:"flex h-screen overflow-hidden"},Dp={class:"flex-1 flex flex-col overflow-hidden"},Rp={key:0,class:"bg-white shadow"},Lp={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},Vp={class:"flex-1 overflow-y-auto"},nm={__name:"AuthenticatedLayout",setup(e){const t=D(!1),s=D(!1),o=D(!1),n=D(!1),i=D([]),a=D(!0),l=W(()=>Ft().props.id||null),{showNoticeModal:r,unreadNotices:u,fetchUnreadNotices:m,closeModal:d}=Mp(),p=D(null),h=async()=>{const O=localStorage.getItem("authToken");if(O){window.axios.defaults.headers.common.Authorization=`Bearer ${O}`;try{await window.axios.get("/api/user")}catch(j){j.response&&j.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},w=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization},g=O=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},R=async()=>{a.value=!0;try{const O=await window.axios.get("/api/projects-simplified");i.value=O.data}catch(O){console.error("Error fetching all projects for sidebar:",O),i.value=[]}finally{a.value=!1}},x=O=>{Xa.visit(route("projects.show",O))},E=W(()=>Pt.value.notifications.filter(O=>!O.isRead).length),S=O=>{console.log("Task updated globally.",O)},P=O=>{console.log("Task deleted globally.",O)};return et(()=>{h(),p.value&&Ua(p.value),R(),Fa(),Mn(m),m()}),mo(()=>{Mn(null)}),(O,j)=>(f(),v("div",Pp,[k(hi,{ref_key:"standardNotificationContainerRef",ref:p},null,512),k(li,{"sidebar-is-open":L(Pt).show},null,8,["sidebar-is-open"]),k(Kl),k(Fc,{"all-projects":i.value,"active-project-id":l.value,onProjectSelected:x},null,8,["all-projects","active-project-id"]),c("div",Dp,[k(yd,{"unread-notification-count":E.value,onOpenCreateTaskModal:j[0]||(j[0]=B=>s.value=!0),onOpenAddResource:j[1]||(j[1]=B=>o.value=!0),onOpenNotificationsSidebar:L(Pn),onOpenKudoModal:j[2]||(j[2]=B=>n.value=!0)},null,8,["unread-notification-count","onOpenNotificationsSidebar"]),k(Cd,{"showing-navigation-dropdown":t.value,"unread-notification-count":E.value,onOpenCreateTaskModal:j[3]||(j[3]=B=>s.value=!0),onOpenAddResource:j[4]||(j[4]=B=>o.value=!0),onOpenNotificationsSidebar:L(Pn),onLogoutSuccess:w,onLogoutError:g},null,8,["showing-navigation-dropdown","unread-notification-count","onOpenNotificationsSidebar"]),O.$slots.header?(f(),v("header",Rp,[c("div",Lp,[Re(O.$slots,"header")])])):T("",!0),c("main",Vp,[Re(O.$slots,"default")]),k($u,{show:s.value,onClose:j[5]||(j[5]=B=>s.value=!1),onSaved:j[6]||(j[6]=B=>s.value=!1)},null,8,["show"]),k(Ru,{"api-endpoint":"/api/shareable-resources",show:o.value,onClose:j[7]||(j[7]=B=>o.value=!1)},null,8,["show"]),k(fc,{show:n.value,onClose:j[8]||(j[8]=B=>n.value=!1),onSubmitted:j[9]||(j[9]=B=>n.value=!1)},null,8,["show"])]),k(lp,{onTaskUpdated:S,onTaskDeleted:P}),k(rc),k($p,{show:L(r),unreadNotices:L(u),onClose:L(d)},null,8,["show","unreadNotices","onClose"])]))}};export{Gt as B,Ru as C,ga as T,nm as _,yu as a,ql as b,sm as c,tm as d,Jd as e,Qp as f,tf as g,ef as h,Zd as i,Yd as j,nf as k,af as l,nu as m,no as n,Rd as o,Gd as p,Zp as q,Kd as r,Wd as s,$u as t,Qd as u,em as v};
