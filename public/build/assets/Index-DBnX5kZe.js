import{r as z,d as j,b as se,c as i,o as n,f as d,u as p,h as oe,g as ie,a as e,m as M,i as ne,v as ae,t as a,F as g,k as C,n as D,j as r,l as re,s as N}from"./app-uPy8Yanj.js";import{_ as le}from"./AuthenticatedLayout-Dwv72M8K.js";import{h as de}from"./moment-BLMuvzoS.js";import{_ as ce}from"./MultiSelectDropdown-C9XW7s3B.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as m}from"./createLucideIcon-BHs-fYpY.js";import{C as ue}from"./chevron-down-sj88QaIC.js";import"./PrimaryButton-CUP67PAJ.js";import"./Modal-Cl-gcwul.js";import"./InputLabel-BgdrSE6s.js";import"./InputError-BV67FZtY.js";import"./SecondaryButton-Ctm0znUG.js";import"./index-BfvJQR6g.js";import"./BaseFormModal-D6WKvZYx.js";import"./TextInput-abpFrQOn.js";import"./SelectDropdown-CNKbW8Oa.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./RightSidebar-DgMP5Vku.js";import"./ApplicationLogo-DCs-uS35.js";import"./plus-CZyDIUlf.js";import"./DangerButton-DbuWuTFn.js";import"./taskState-XbsN-wch.js";import"./NoticeboardModal-2sBhGhbR.js";import"./x-Cd0c1Z7R.js";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=m("alarm-clock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=m("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=m("clock-9",[["path",{d:"M12 6v6H8",key:"u39vzm"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=m("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=m("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=m("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=m("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=m("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=m("split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]),_e={class:"min-h-screen pb-20 font-sans text-zinc-900 bg-zinc-50"},ye={class:"bg-white border-b border-zinc-200 px-8 py-5 shadow-sm"},we={class:"max-w-[1600px] mx-auto grid grid-cols-1 md:grid-cols-12 gap-6 items-end"},ke={class:"md:col-span-5 relative z-50"},ze={class:"md:col-span-3"},Me={class:"flex items-center gap-3 border border-zinc-200 rounded-2xl px-4 py-2 bg-zinc-50/50"},Se={class:"md:col-span-4 flex gap-3 h-[42px]"},Ae=["disabled"],je=["disabled"],Ce={key:0,class:"max-w-[1600px] mx-auto mt-6 flex gap-2 overflow-x-auto pb-2 custom-scrollbar"},Ie=["onClick"],Re=["src"],Te={key:0,class:"max-w-[1600px] mx-auto p-8 space-y-8"},Le={class:"flex justify-between items-center bg-white/85 backdrop-blur-md p-5 rounded-[2.5rem] border border-white shadow-[0_4px_20px_-2px_rgba(0,0,0,0.03)]"},Ne={class:"flex items-center gap-4 pl-2"},De=["src"],Fe={class:"text-sm font-black text-zinc-900 tracking-tight"},Pe={class:"text-xs text-zinc-500 font-medium"},Ve={class:"text-zinc-700 font-bold"},$e={class:"flex items-center gap-3 pr-2"},Ee=["disabled"],Be=["disabled"],He={class:"shadow-[0_0_20px_rgba(99,102,241,0.1)] border border-indigo-500/20 bg-white p-6 rounded-[2.5rem] flex items-center gap-6 relative overflow-hidden"},Ue={class:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-indigo-200 shrink-0 relative z-10"},qe={class:"flex-1 relative z-10"},Ge={class:"text-sm text-zinc-600 leading-relaxed font-medium"},Oe={class:"text-zinc-900 font-bold bg-zinc-100 px-1.5 py-0.5 rounded"},Ye={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},We={class:"bg-white/85 backdrop-blur-md p-6 rounded-3xl border border-white shadow-[0_4px_20px_-2px_rgba(0,0,0,0.03)]"},Je={class:"flex justify-between items-start mb-4"},Ke={class:"p-2.5 bg-blue-50 text-blue-600 rounded-2xl"},Qe={class:"text-3xl font-black text-zinc-900 mt-1"},Xe={class:"bg-white/85 backdrop-blur-md p-6 rounded-3xl border border-white shadow-[0_4px_20px_-2px_rgba(0,0,0,0.03)]"},Ze={class:"flex justify-between items-start mb-4"},et={class:"p-2.5 bg-indigo-50 text-indigo-600 rounded-2xl"},tt={class:"text-3xl font-black text-zinc-900 mt-1 flex items-baseline gap-2"},st={class:"text-xs text-zinc-400 font-medium"},ot={class:"bg-white/85 backdrop-blur-md p-6 rounded-3xl border border-white shadow-[0_4px_20px_-2px_rgba(0,0,0,0.03)]"},it={class:"flex justify-between items-start mb-4"},nt={class:"p-2.5 bg-emerald-50 text-emerald-600 rounded-2xl"},at={class:"text-3xl font-black text-zinc-900 mt-1"},rt={class:"bg-white/85 backdrop-blur-md p-6 rounded-3xl border border-white shadow-[0_4px_20px_-2px_rgba(0,0,0,0.03)]"},lt={class:"flex justify-between items-start mb-4"},dt={class:"p-2.5 bg-purple-50 text-purple-600 rounded-2xl"},ct={class:"text-3xl font-black text-zinc-900 mt-1"},pt={class:"bg-white/85 backdrop-blur-md rounded-[2.5rem] p-10 border border-white shadow-[0_4px_20px_-2px_rgba(0,0,0,0.03)] relative overflow-hidden"},ut={class:"relative pt-12 pb-8"},xt={class:"space-y-8 relative z-10 pt-4"},bt={class:"relative h-12 flex items-center group"},mt={class:"grid grid-cols-[repeat(144,minmax(0,1fr))] gap-[1px] h-8 w-full bg-white p-[2px] rounded-xl border border-zinc-200 shadow-sm"},ht={class:"invisible group-hover/slot:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-3 bg-zinc-900 border border-zinc-700 text-white text-[10px] font-bold px-3 py-1.5 rounded-lg z-50 whitespace-nowrap pointer-events-none shadow-xl"},vt={class:"bg-white/85 backdrop-blur-md rounded-[2.5rem] border border-white shadow-[0_4px_20px_-2px_rgba(0,0,0,0.03)] overflow-hidden"},gt={class:"overflow-x-auto"},ft={class:"w-full text-left"},_t={class:"divide-y divide-zinc-50"},yt=["onClick"],wt={class:"px-8 py-6"},kt={class:"flex items-center gap-4"},zt={class:"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center border border-indigo-100 shrink-0"},Mt={class:"font-black text-zinc-700"},St={class:"text-[10px] font-bold text-zinc-400 uppercase tracking-tighter mt-0.5"},At={class:"px-8 py-6 font-mono font-bold text-zinc-600"},jt={class:"px-8 py-6"},Ct={class:"flex items-center gap-3"},It={class:"text-xs font-black text-emerald-600 w-8"},Rt={class:"flex-1 h-2 w-20 bg-zinc-100 rounded-full overflow-hidden border border-zinc-200 shadow-inner"},Tt={class:"px-8 py-6"},Lt={class:"text-xs font-black text-amber-500 bg-amber-50 px-2 py-1 rounded-md border border-amber-100"},Nt={class:"px-8 py-6 text-right"},Dt={key:0,class:"bg-zinc-50/70 border-t-0"},Ft={colspan:"5",class:"px-8 py-10 shadow-inner"},Pt={class:"grid grid-cols-1 xl:grid-cols-2 gap-8"},Vt={class:"space-y-4"},$t={class:"text-[10px] font-black text-zinc-400 uppercase tracking-widest flex items-center gap-2 mb-4"},Et={class:"bg-white rounded-[1.5rem] border border-zinc-200 overflow-hidden shadow-sm p-4"},Bt={key:0,class:"text-xs italic text-zinc-500 text-center py-4"},Ht={key:1,class:"space-y-3"},Ut={class:"font-bold text-zinc-700 font-mono"},qt={class:"space-y-4"},Gt={class:"text-[10px] font-black text-zinc-400 uppercase tracking-widest flex items-center gap-2 mb-4"},Ot={key:0,class:"text-xs italic text-zinc-500 bg-white p-6 rounded-[1.5rem] border text-center shadow-sm"},Yt={key:1,class:"space-y-6 pt-2 pl-4 border-l-2 border-zinc-200 ml-2"},Wt={class:"text-[11px] font-black text-zinc-800 uppercase tracking-tighter"},Jt={class:"text-[10px] text-zinc-400 font-bold mt-0.5"},Kt={key:0},Qt={colspan:"5",class:"px-8 py-12 text-center text-zinc-500 italic text-sm"},Xt={class:"w-16 h-16 bg-zinc-100 rounded-3xl flex items-center justify-center mx-auto mb-4 border border-zinc-200 shadow-inner"},Zt={key:1,class:"max-w-[1600px] mx-auto p-8 pt-12"},es={class:"bg-white/85 backdrop-blur-md p-16 rounded-[2.5rem] text-center border shadow-sm border-white"},ts={class:"w-20 h-20 bg-zinc-50 rounded-[2rem] flex items-center justify-center mx-auto mb-6 border border-zinc-200 shadow-inner"},ss=["disabled"],os={__name:"Index",props:{users:{type:Array,default:()=>[]}},setup(J){const I=J,f=z([]),_=z(de().format("YYYY-MM-DD")),y=z([]),l=z(!1),R=z(0),u=j(()=>y.value.length===0?null:y.value[R.value]||null),w=j(()=>u.value?u.value.user:null),K=o=>{if(!o)return"--:--";const t=o.split(":");return`${t[0]}:${t[1]}`},h=j(()=>u.value?u.value.stats_json||{}:null),F=j(()=>u.value?u.value.tasks_json||[]:[]),Q=j(()=>u.value&&u.value.timeline_json||Array(144).fill(0));async function S(){var o;l.value=!0;try{const t=new URLSearchParams;f.value.forEach(x=>t.append("user_ids[]",x)),t.append("date",_.value),t.append("all","1");const{data:c}=await N.get("/api/productivity/snapshots",{params:t});y.value=c,R.value=0}catch(t){console.error(t),(o=window.toast)==null||o.error("Failed to load reports")}finally{l.value=!1}}async function X(){var o,t;if(w.value){l.value=!0;try{const{data:c}=await N.post("/api/productivity/snapshots",{user_id:w.value.id,date:_.value,recreate:!0});(o=window.toast)==null||o.success("Report regenerated successfully!"),await S()}catch(c){console.error(c),(t=window.toast)==null||t.error("Failed to regenerate report")}finally{l.value=!1}}}async function Z(){var o,t;if(u.value&&confirm("Are you sure you want to delete this snapshot?")){l.value=!0;try{await N.delete(`/api/productivity/snapshots/${u.value.id}`),(o=window.toast)==null||o.success("Report deleted successfully!"),await S()}catch(c){console.error(c),(t=window.toast)==null||t.error("Failed to delete report")}finally{l.value=!1}}}async function P(){var t,c,x;if(f.value.length===0){alert("Please select a user to generate a report.");return}const o=f.value[0];l.value=!0;try{const{data:k}=await N.post("/api/productivity/snapshots",{user_id:o,date:_.value});(t=window.toast)==null||t.success("Report generated successfully!"),await S()}catch(k){((c=k.response)==null?void 0:c.status)===422?alert(k.response.data.message):(x=window.toast)==null||x.error("Failed to generate report")}finally{l.value=!1}}const T=z({}),ee=o=>{T.value[o]=!T.value[o]};se(()=>{I.users&&I.users.length>0&&(f.value=[I.users[0].value]),S()});const te=o=>o===1?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.3)] z-10 scale-y-[1.4] hover:scale-y-[1.6]":o===2?"bg-amber-400 opacity-80 z-10 scale-y-[1.1] hover:scale-y-[1.3]":"bg-zinc-100 hover:scale-y-[1.2]",V=o=>{const t=o*10,c=Math.floor(t/60),x=t%60;return`${String(c).padStart(2,"0")}:${String(x).padStart(2,"0")}`};return(o,t)=>(n(),i(g,null,[d(p(oe),{title:"Activity Hub 2.0"}),d(le,null,{default:ie(()=>{var c,x,k,$,E,B,H,U,q,G,O;return[e("div",_e,[e("section",ye,[e("div",we,[e("div",ke,[t[2]||(t[2]=e("label",{class:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block"},"Team Members",-1)),d(ce,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=s=>f.value=s),options:I.users,"is-multi":!0,placeholder:"Select members"},null,8,["modelValue","options"])]),e("div",ze,[t[3]||(t[3]=e("label",{class:"text-[10px] font-black text-zinc-400 uppercase tracking-widest mb-2 block"},"Reporting Date",-1)),e("div",Me,[d(p(be),{class:"w-4 h-4 text-zinc-400"}),ne(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=s=>_.value=s),class:"bg-transparent border-none text-xs font-bold text-zinc-700 focus:ring-0 p-0 w-full"},null,512),[[ae,_.value]])])]),e("div",Se,[e("button",{onClick:S,disabled:l.value,class:"flex-1 bg-zinc-900 text-white rounded-2xl font-bold text-xs uppercase tracking-widest shadow-xl shadow-zinc-200 hover:bg-zinc-800 active:scale-95 transition-all disabled:opacity-50"},a(l.value?"Loading...":"Refresh Insights"),9,Ae),e("button",{onClick:P,disabled:l.value,class:"flex-1 bg-indigo-600 text-white rounded-2xl font-bold text-xs uppercase tracking-widest shadow-xl shadow-indigo-200 hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50"}," Generate Report ",8,je)])]),y.value.length>1?(n(),i("div",Ce,[(n(!0),i(g,null,C(y.value,(s,b)=>{var A,v;return n(),i("button",{key:s.id,onClick:L=>R.value=b,class:D([R.value===b?"bg-indigo-50 border-indigo-200 text-indigo-700 ring-2 ring-indigo-500/20":"bg-white border-zinc-200 text-zinc-600 hover:bg-zinc-50","px-4 py-2 rounded-xl border text-xs font-bold flex items-center gap-2 transition-all whitespace-nowrap"])},[(A=s.user)!=null&&A.avatar_url?(n(),i("img",{key:0,src:s.user.avatar_url,class:"w-5 h-5 rounded-full"},null,8,Re)):M("",!0),r(" "+a((v=s.user)==null?void 0:v.name),1)],10,Ie)}),128))])):M("",!0)]),u.value?(n(),i("main",Te,[e("div",Le,[e("div",Ne,[(c=w.value)!=null&&c.avatar_url?(n(),i("img",{key:0,src:w.value.avatar_url,class:"w-12 h-12 rounded-2xl shadow-md border border-zinc-100"},null,8,De)):M("",!0),e("div",null,[e("h1",Fe,a((x=w.value)==null?void 0:x.name),1),e("p",Pe,[t[4]||(t[4]=r("Snapshot Date: ",-1)),e("span",Ve,a(_.value),1)])])]),e("div",$e,[e("button",{onClick:X,disabled:l.value,class:"text-xs font-bold text-zinc-600 border border-zinc-200 bg-white px-4 py-2.5 rounded-xl hover:bg-zinc-50 disabled:opacity-50 transition-all"}," Regenerate Data ",8,Ee),e("button",{onClick:Z,disabled:l.value,class:"text-xs font-bold text-rose-600 border border-rose-200 bg-rose-50 px-4 py-2.5 rounded-xl hover:bg-rose-100 disabled:opacity-50 transition-all"}," Delete Snapshot ",8,Be)])]),e("section",He,[t[7]||(t[7]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-indigo-50/50 to-purple-50/50 pointer-events-none"},null,-1)),e("div",Ue,[d(p(ge),{class:"w-7 h-7"})]),e("div",qe,[t[6]||(t[6]=e("h2",{class:"text-sm font-black text-indigo-600 uppercase tracking-widest mb-1"},"AI Intelligence Summary",-1)),e("p",Ge,[r(" Based on the generated heartbeat logs, "+a((k=w.value)==null?void 0:k.name)+" recorded ",1),e("span",Oe,a(($=h.value)==null?void 0:$.actual_online_minutes)+"m online duration",1),t[5]||(t[5]=r(". Comprehensive AI bottleneck detection and workflow friction insights are currently generating and will be available in subsequent platform updates. ",-1))])])]),e("section",Ye,[e("div",We,[e("div",Je,[e("div",Ke,[d(p(xe),{class:"w-5 h-5"})]),t[8]||(t[8]=e("span",{class:"text-[9px] font-black text-rose-500 bg-rose-50 px-2 py-1 rounded-lg border border-rose-100"},"FIRST SEEN",-1))]),t[9]||(t[9]=e("h3",{class:"text-zinc-400 text-[10px] font-black uppercase tracking-widest"},"Punctuality Adherence",-1)),e("div",Qe,a(K((E=h.value)==null?void 0:E.first_seen)),1),t[10]||(t[10]=e("p",{class:"text-[10px] text-zinc-400 mt-2 font-medium italic"},"First recorded heartbeat",-1))]),e("div",Xe,[e("div",Ze,[e("div",et,[d(p(me),{class:"w-5 h-5"})]),t[11]||(t[11]=e("span",{class:"text-[9px] font-black text-amber-600 bg-amber-50 px-2 py-1 rounded-lg border border-amber-100"},"HOURS GAP",-1))]),t[12]||(t[12]=e("h3",{class:"text-zinc-400 text-[10px] font-black uppercase tracking-widest"},"Promised vs. Actual",-1)),e("div",tt,[r(a(Math.round((((B=h.value)==null?void 0:B.actual_online_minutes)||0)/60*10)/10)+"h ",1),e("span",st,"/ "+a(Math.round((((H=h.value)==null?void 0:H.promised_minutes)||0)/60*10)/10)+"h slot",1)]),t[13]||(t[13]=e("p",{class:"text-[10px] text-zinc-400 mt-2 font-medium italic"},"Recorded time vs allocated slots",-1))]),e("div",ot,[e("div",it,[e("div",nt,[d(p(he),{class:"w-5 h-5"})]),t[14]||(t[14]=e("span",{class:"text-[9px] font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg border border-emerald-100"},"OPTIMAL",-1))]),t[16]||(t[16]=e("h3",{class:"text-zinc-400 text-[10px] font-black uppercase tracking-widest"},"Active Engagement",-1)),e("div",at,[r(a(((U=h.value)==null?void 0:U.actual_online_minutes)>0?Math.round(((q=h.value)==null?void 0:q.active_minutes)/((G=h.value)==null?void 0:G.actual_online_minutes)*100):0)+"% ",1),t[15]||(t[15]=e("span",{class:"text-xs text-zinc-400 font-medium"},"focused",-1))]),t[17]||(t[17]=e("p",{class:"text-[10px] text-zinc-400 mt-2 font-medium italic"},"Active time vs total idle ratio",-1))]),e("div",rt,[e("div",lt,[e("div",dt,[d(p(fe),{class:"w-5 h-5"})]),t[18]||(t[18]=e("span",{class:"text-[9px] font-black text-zinc-500 bg-zinc-50 px-2 py-1 rounded-lg border border-zinc-100"},"STABLE",-1))]),t[20]||(t[20]=e("h3",{class:"text-zinc-400 text-[10px] font-black uppercase tracking-widest"},"Context Switches",-1)),e("div",ct,[r(a((O=h.value)==null?void 0:O.context_switches)+" ",1),t[19]||(t[19]=e("span",{class:"text-xs text-zinc-400 font-medium"},"shifts",-1))]),t[21]||(t[21]=e("p",{class:"text-[10px] text-zinc-400 mt-2 font-medium italic"},"Application/domain changes",-1))])]),e("section",pt,[t[25]||(t[25]=e("div",{class:"flex justify-between items-end mb-12"},[e("div",null,[e("h2",{class:"text-2xl font-black text-zinc-900 tracking-tight"},"Daily Presence Barcode"),e("p",{class:"text-sm text-zinc-400 font-medium"},[r("A 24-hour visual distribution of "),e("span",{class:"text-emerald-500 font-bold"},"Active Heartbeats"),r(" vs "),e("span",{class:"text-amber-500 font-bold"},"Idle State"),r(".")])]),e("div",{class:"flex items-center gap-6 text-[10px] font-black uppercase tracking-widest text-zinc-400"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 bg-emerald-500 rounded-sm shadow-sm"}),r(" Active Work")]),e("div",{class:"flex items-center gap-2 text-amber-500"},[e("div",{class:"w-3 h-3 rounded-sm border bg-amber-400 shadow-sm"}),r(" Idle Break")]),e("div",{class:"flex items-center gap-2 text-zinc-300"},[e("div",{class:"w-3 h-3 rounded-sm border bg-zinc-100 shadow-sm"}),r(" Offline")])])],-1)),e("div",ut,[t[23]||(t[23]=e("div",{class:"absolute inset-y-0 bg-indigo-600/[0.035] border-x-2 border-dashed border-indigo-600/10 pointer-events-none rounded-2xl z-0",style:{left:"10%",width:"75%"}},null,-1)),t[24]||(t[24]=e("div",{class:"absolute top-0 left-0 right-0 flex justify-between text-[10px] font-black text-zinc-300 uppercase tracking-tighter border-b border-zinc-100 pb-2"},[e("span",null,"00:00"),e("span",null,"04:00"),e("span",null,"08:00"),e("span",null,"12:00"),e("span",null,"16:00"),e("span",null,"20:00"),e("span",null,"24:00")],-1)),e("div",xt,[e("div",bt,[t[22]||(t[22]=e("span",{class:"absolute md:-left-28 -left-0 -top-4 md:top-auto text-[9px] font-black text-zinc-400 uppercase tracking-tighter"},"Live Activity",-1)),e("div",mt,[(n(!0),i(g,null,C(Q.value,(s,b)=>(n(),i("div",{key:"slot-"+b,class:D(["w-full h-full rounded-[1px] transition-all cursor-pointer relative group/slot flex flex-col justify-end",te(s)])},[e("div",ht,a(V(b))+" - "+a(V(b+1))+" : "+a(s===1?"Active Track":s===2?"Idle State":"No Signal"),1)],2))),128))])])])])]),e("div",vt,[t[32]||(t[32]=e("div",{class:"px-8 py-6 border-b border-zinc-100 flex justify-between items-center bg-white/50"},[e("div",null,[e("h2",{class:"text-xl font-black text-zinc-900 tracking-tight"},"Active Task Analysis"),e("p",{class:"text-xs text-zinc-400 font-medium"},"Verify task durations with raw activity evidence grouped by issue.")])],-1)),e("div",gt,[e("table",ft,[t[31]||(t[31]=e("thead",null,[e("tr",{class:"text-[10px] font-black uppercase tracking-[0.15em] text-zinc-400 border-b border-zinc-50 bg-zinc-50/50"},[e("th",{class:"px-8 py-5"},"Task Objective"),e("th",{class:"px-8 py-5"},"Total Tracked"),e("th",{class:"px-8 py-5"},"Work Fidelity"),e("th",{class:"px-8 py-5"},"Idle Extent"),e("th",{class:"px-8 py-5 text-right w-20"},"Log")])],-1)),e("tbody",_t,[(n(!0),i(g,null,C(F.value,s=>{var b,A;return n(),i(g,{key:"tsk-"+s.task_id},[e("tr",{onClick:v=>ee(s.task_id),class:"group hover:bg-zinc-50/80 cursor-pointer transition-all"},[e("td",wt,[e("div",kt,[e("div",zt,[d(p(W),{class:"w-5 h-5"})]),e("div",null,[e("div",Mt,a(s.name),1),e("div",St,"ID: "+a(s.task_id),1)])])]),e("td",At,a(Math.round(s.active_mins+s.idle_mins))+" m ",1),e("td",jt,[e("div",Ct,[e("span",It,a(Math.round(s.active_mins/(s.active_mins+s.idle_mins||1)*100))+"% ",1),e("div",Rt,[e("div",{class:"h-full bg-emerald-500 transition-all shadow-[0_0_10px_rgba(16,185,129,0.3)]",style:re({width:s.active_mins/(s.active_mins+s.idle_mins||1)*100+"%"})},null,4)])])]),e("td",Tt,[e("span",Lt,a(Math.round(s.idle_mins/(s.active_mins+s.idle_mins||1)*100))+"% Interrupted ",1)]),e("td",Nt,[d(p(ue),{class:D(["w-5 h-5 text-zinc-300 transition-transform inline-block",T.value[s.task_id]?"rotate-180 text-zinc-600":"rotate-0"])},null,8,["class"])])],8,yt),T.value[s.task_id]?(n(),i("tr",Dt,[e("td",Ft,[e("div",Pt,[e("div",Vt,[e("h4",$t,[d(p(ve),{class:"w-3.5 h-3.5"}),t[26]||(t[26]=r(" High-Intensity Platforms Used ",-1))]),e("div",Et,[(b=s.top_domains)!=null&&b.length?(n(),i("ul",Ht,[(n(!0),i(g,null,C(s.top_domains,(v,L)=>(n(),i("li",{key:L,class:"flex justify-between items-center text-xs px-2 py-1 hover:bg-zinc-50 rounded-lg"},[e("span",Ut,a(v),1),t[27]||(t[27]=e("span",{class:"bg-zinc-100 text-zinc-500 px-2 py-0.5 rounded border border-zinc-200 text-[9px] font-black uppercase"},"Active Source",-1))]))),128))])):(n(),i("div",Bt,"No specific platform data recorded."))])]),e("div",qt,[e("h4",Gt,[d(p(Y),{class:"w-3.5 h-3.5"}),t[28]||(t[28]=r(" System Lifecycle Events ",-1))]),(A=s.system_events)!=null&&A.length?(n(),i("div",Yt,[(n(!0),i(g,null,C(s.system_events,(v,L)=>(n(),i("div",{key:L,class:"relative pl-8"},[t[29]||(t[29]=e("div",{class:"absolute -left-[25px] top-0.5 w-3 h-3 bg-zinc-400 rounded-full border-2 border-white shadow-sm ring-1 ring-zinc-200"},null,-1)),e("p",Wt,a(v.event),1),e("p",Jt,a(v.time),1)]))),128))])):(n(),i("div",Ot," No spatie system events tracked for this task. "))])])])])):M("",!0)],64)}),128)),F.value.length===0?(n(),i("tr",Kt,[e("td",Qt,[e("div",Xt,[d(p(W),{class:"w-6 h-6 text-zinc-300"})]),t[30]||(t[30]=r(" No task-specific tracking data recorded for this period. ",-1))])])):M("",!0)])])])])])):y.value.length===0&&!l.value?(n(),i("main",Zt,[e("div",es,[e("div",ts,[d(p(Y),{class:"h-8 w-8 text-zinc-300"})]),t[33]||(t[33]=e("h3",{class:"font-black text-zinc-900 text-xl tracking-tight"},"Data Not Processed",-1)),t[34]||(t[34]=e("p",{class:"text-zinc-500 text-sm mt-2 mb-8 max-w-sm mx-auto font-medium"},"No productivity snapshot is currently compiled for the selected date and personnel.",-1)),e("button",{onClick:P,disabled:l.value,class:"bg-zinc-900 text-white font-bold py-3.5 px-8 text-xs uppercase tracking-widest rounded-2xl hover:bg-zinc-800 active:scale-95 transition-all shadow-xl shadow-zinc-200"}," Compile New Snapshot ",8,ss)])])):M("",!0)])]}),_:1})],64))}},Cs=pe(os,[["__scopeId","data-v-572d98a4"]]);export{Cs as default};
