import{r as k,k as C,l as V,a as x,o as i,w as m,d as e,q as B,b as a,s as g,g as v,e as r,f as l,F as b,i as _,t as u,v as S,x as N,y as $,p,z as E,n as P}from"./app-CwLjNXT3.js";import{_ as q}from"./AuthenticatedLayout-BM_zJI8M.js";import{_ as f}from"./InputError-BZ-n7H_N.js";import{_ as y}from"./InputLabel-BSEjZJ95.js";import{P as A}from"./PrimaryButton-Bn1p3q-j.js";import{_ as M}from"./TextInput-C-mFm0N_.js";import"./Modal-uBVvV53I.js";import"./SecondaryButton-C1H9a7MO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SelectDropdown-DGCykHln.js";import"./Checkbox-C0IliKwo.js";import"./ApplicationLogo-B9jAedvC.js";import"./DangerButton-CBIP4jF7.js";import"./moment-BLMuvzoS.js";const U={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},z={class:"p-6 bg-white border-b border-gray-200"},T={class:"mb-6"},j={class:"flex space-x-2"},L=["value"],O={class:"mb-6"},R={class:"mb-6"},G={class:"mt-2 max-h-60 overflow-y-auto p-2 border border-gray-300 rounded-md"},H={key:0,class:"text-gray-500 text-sm"},I={key:1,class:"space-y-2"},J={class:"flex items-center h-5"},K=["id","value"],Q={class:"ml-3 text-sm"},W=["for"],X={class:"text-xs text-gray-500"},Y={key:0,class:"text-gray-500"},Z={class:"flex items-center justify-end mt-4"},pe={__name:"BulkCreate",props:{categories:Array,roles:Array},setup(d){const n=k(""),o=C({category:"",permissions:"",roles:[]});V(()=>o.category,c=>{c!=="new"&&(n.value="")});const w=()=>{o.category==="new"&&n.value&&(o.category=n.value),o.post(route("admin.permissions.bulk-store"),{onSuccess:()=>{o.reset(),n.value=""}})};return(c,s)=>(i(),x(q,null,{header:m(()=>s[4]||(s[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Bulk Create Permissions ",-1)])),default:m(()=>[e("div",U,[e("div",D,[e("div",F,[e("div",z,[e("form",{onSubmit:B(w,["prevent"])},[e("div",T,[a(y,{for:"category",value:"Category"}),e("div",j,[g(e("select",{id:"category",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":s[0]||(s[0]=t=>r(o).category=t),required:""},[s[5]||(s[5]=e("option",{value:"",disabled:""},"Select a category",-1)),(i(!0),l(b,null,_(d.categories,t=>(i(),l("option",{key:t,value:t},u(t),9,L))),128)),s[6]||(s[6]=e("option",{value:"new"},"+ Add New Category",-1))],512),[[S,r(o).category]]),r(o).category==="new"?(i(),x(M,{key:0,type:"text",class:"mt-1 block w-full",modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=t=>n.value=t),placeholder:"Enter new category name",required:""},null,8,["modelValue"])):v("",!0)]),a(f,{class:"mt-2",message:r(o).errors.category},null,8,["message"])]),e("div",O,[a(y,{for:"permissions",value:"Permissions (one per line)"}),g(e("textarea",{id:"permissions",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":s[2]||(s[2]=t=>r(o).permissions=t),rows:"10",required:"",placeholder:`Enter one permission name per line, e.g.:
View Clients
Create Clients
Edit Clients
Delete Clients`},null,512),[[N,r(o).permissions]]),s[7]||(s[7]=e("p",{class:"mt-1 text-sm text-gray-500"}," Enter one permission name per line. Slugs will be automatically generated. ",-1)),a(f,{class:"mt-2",message:r(o).errors.permissions},null,8,["message"])]),e("div",R,[a(y,{for:"roles",value:"Assign to Roles (Optional)"}),e("div",G,[!d.roles||d.roles.length===0?(i(),l("div",H," No roles available. ")):(i(),l("div",I,[(i(!0),l(b,null,_(d.roles,t=>(i(),l("div",{key:t.id,class:"flex items-start"},[e("div",J,[g(e("input",{id:`role-${t.id}`,type:"checkbox",value:t.id,"onUpdate:modelValue":s[3]||(s[3]=h=>r(o).roles=h),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,8,K),[[$,r(o).roles]])]),e("div",Q,[e("label",{for:`role-${t.id}`,class:"font-medium text-gray-700"},[p(u(t.name)+" ",1),e("span",X,"("+u(t.type)+")",1)],8,W),t.description?(i(),l("p",Y,u(t.description),1)):v("",!0)])]))),128))]))]),s[8]||(s[8]=e("p",{class:"mt-1 text-sm text-gray-500"}," Select roles to automatically assign these permissions to them. ",-1)),a(f,{class:"mt-2",message:r(o).errors.roles},null,8,["message"])]),e("div",Z,[a(r(E),{href:c.route("admin.permissions.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-300 disabled:opacity-25 transition mr-2"},{default:m(()=>s[9]||(s[9]=[p(" Cancel ",-1)])),_:1,__:[9]},8,["href"]),a(A,{class:P(["ml-4",{"opacity-25":r(o).processing}]),disabled:r(o).processing},{default:m(()=>s[10]||(s[10]=[p(" Create Permissions ",-1)])),_:1,__:[10]},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{pe as default};
