import{_ as C}from"./AuthenticatedLayout-m1j3JS-L.js";import{r as b,c as D,o as s,a as n,b as e,e as r,h as i,u as p,S as f,k as d,F as g,i as y,t as a,g as N,Q as P}from"./app-Cftj8kez.js";import{_ as B,a as S}from"./SecondaryButton-CVyu_OeR.js";import{D as j}from"./DangerButton-yraS37bK.js";import"./ApplicationLogo-DHDHjUvD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PrimaryButton-BNBWD5Jx.js";import"./InputError-Dysw4GLH.js";const V={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 bg-white border-b border-gray-200"},A={class:"flex justify-between items-center mb-6"},E={class:"flex space-x-2"},F={key:0,class:"text-center py-4"},M={key:1},Q={class:"text-lg font-medium text-gray-700 mb-4"},I={class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},R={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap"},z={class:"text-sm font-medium text-gray-900"},G={class:"px-6 py-4 whitespace-nowrap"},H={class:"text-sm text-gray-500"},J={class:"px-6 py-4"},K={class:"text-sm text-gray-500"},U={class:"px-6 py-4"},W={class:"text-sm text-gray-500"},X={key:0},Y={key:1,class:"flex flex-wrap gap-1"},Z={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},ee={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},te={class:"flex space-x-2"},se=["onClick"],oe={class:"p-6"},ie={class:"mt-6 flex justify-end"},xe={__name:"Index",props:{permissions:Object},setup(_){const m=b(!1),c=b(null),v=l=>{c.value=l,m.value=!0},u=()=>{m.value=!1,setTimeout(()=>{c.value=null},300)},w=()=>{c.value&&P.delete(route("admin.permissions.destroy",c.value.id),{onSuccess:()=>{u()}})};return(l,t)=>(s(),D(C,null,{header:n(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Permissions Management ",-1)])),default:n(()=>[e("div",V,[e("div",$,[e("div",O,[e("div",T,[e("div",A,[t[3]||(t[3]=e("h3",{class:"text-lg font-medium text-gray-900"},"Permissions",-1)),e("div",E,[r(p(f),{href:l.route("admin.permissions.create"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},{default:n(()=>t[1]||(t[1]=[d(" Create New Permission ")])),_:1,__:[1]},8,["href"]),r(p(f),{href:l.route("admin.permissions.bulk-create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-indigo-900 focus:ring focus:ring-indigo-300 disabled:opacity-25 transition"},{default:n(()=>t[2]||(t[2]=[d(" Bulk Create Permissions ")])),_:1,__:[2]},8,["href"])])]),Object.keys(_.permissions).length===0?(s(),i("div",F,t[4]||(t[4]=[e("p",null,"No permissions found. Create your first permission to get started.",-1)]))):(s(),i("div",M,[(s(!0),i(g,null,y(_.permissions,(k,h)=>(s(),i("div",{key:h,class:"mb-8"},[e("h4",Q,a(h),1),e("div",I,[e("table",L,[t[6]||(t[6]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Slug "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Roles "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",R,[(s(!0),i(g,null,y(k,o=>(s(),i("tr",{key:o.id},[e("td",q,[e("div",z,a(o.name),1)]),e("td",G,[e("div",H,a(o.slug),1)]),e("td",J,[e("div",K,a(o.description||"No description"),1)]),e("td",U,[e("div",W,[!o.roles||o.roles.length===0?(s(),i("span",X,"No roles")):(s(),i("div",Y,[(s(!0),i(g,null,y(o.roles.slice(0,3),x=>(s(),i("span",{key:x.id,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},a(x.name),1))),128)),o.roles.length>3?(s(),i("span",Z," +"+a(o.roles.length-3)+" more ",1)):N("",!0)]))])]),e("td",ee,[e("div",te,[r(p(f),{href:l.route("admin.permissions.edit",o.id),class:"text-indigo-600 hover:text-indigo-900"},{default:n(()=>t[5]||(t[5]=[d("Edit")])),_:2,__:[5]},1032,["href"]),e("button",{onClick:x=>v(o),class:"text-red-600 hover:text-red-900"}," Delete ",8,se)])])]))),128))])])])]))),128))]))])])])]),r(B,{show:m.value,onClose:u},{default:n(()=>[e("div",oe,[t[9]||(t[9]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this permission? ",-1)),t[10]||(t[10]=e("p",{class:"mt-1 text-sm text-gray-600"}," Once this permission is deleted, it will be removed from all roles that have it assigned. ",-1)),e("div",ie,[r(S,{onClick:u},{default:n(()=>t[7]||(t[7]=[d(" Cancel ")])),_:1,__:[7]}),r(j,{class:"ml-3",onClick:w},{default:n(()=>t[8]||(t[8]=[d(" Delete Permission ")])),_:1,__:[8]})])])]),_:1},8,["show"])]),_:1}))}};export{xe as default};
