import{A as Ya}from"./ApplicationLogo-D1Q9DCzT.js";import{B as Ge,J as Yt,s as B,r as N,i as p,o as f,b as o,f as ae,e as g,A as be,K as Ce,a as S,n as z,T as Ns,c as W,L as As,h as A,l as Ye,t as L,_ as qe,F as oe,j as ce,M as $a,w as le,d as $t,g as C,q as Oa,m as P,k as Pe,x as we,N as Kt,G as Pa,I as Xe,O as Na,P as Aa,D as Is,z as Ot,Q as Ht,R as Ia,S as Wa,U as La,V as ot,W as zt,p as Ra}from"./app-DaCiWf-u.js";import{P as at}from"./PrimaryButton-CL2HHibg.js";import{a as Ws,_ as Ls}from"./SecondaryButton-plBUvRQt.js";import{_ as Z}from"./InputLabel-6BCCDPXk.js";import{a as te,_ as Ne}from"./InputError-B25m48WO.js";import{_ as Ea}from"./Checkbox-B1s8McPv.js";const Ua={class:"relative"},Ds={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(e){const t=e,s=i=>{n.value&&i.key==="Escape"&&(n.value=!1)};Ge(()=>document.addEventListener("keydown",s)),Yt(()=>document.removeEventListener("keydown",s));const a=B(()=>({48:"w-48"})[t.width.toString()]),r=B(()=>t.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":t.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),n=N(!1);return(i,l)=>(f(),p("div",Ua,[o("div",{onClick:l[0]||(l[0]=v=>n.value=!n.value)},[be(i.$slots,"trigger")]),ae(o("div",{class:"fixed inset-0 z-40",onClick:l[1]||(l[1]=v=>n.value=!1)},null,512),[[Ce,n.value]]),g(Ns,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:S(()=>[ae(o("div",{class:z(["absolute z-50 mt-2 rounded-md shadow-lg",[a.value,r.value]]),style:{display:"none"},onClick:l[2]||(l[2]=v=>n.value=!1)},[o("div",{class:z(["rounded-md ring-1 ring-black ring-opacity-5",e.contentClasses])},[be(i.$slots,"content")],2)],2),[[Ce,n.value]])]),_:3})]))}},ue={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){return(t,s)=>(f(),W(A(Ye),As({href:e.href,method:e.method,as:e.as},t.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:S(()=>[be(t.$slots,"default")]),_:3},16,["href","method","as"]))}},Va={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(e){const t=e,s=B(()=>t.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(a,r)=>(f(),W(A(Ye),{href:e.href,class:z(s.value)},{default:S(()=>[be(a.$slots,"default")]),_:3},8,["href","class"]))}},ne={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){const t=e,s=B(()=>t.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(a,r)=>(f(),W(A(Ye),As({href:e.href,method:e.method,as:e.as},a.$attrs,{class:s.value}),{default:S(()=>[be(a.$slots,"default")]),_:3},16,["href","method","as","class"]))}},ja={class:"p-4 flex items-start"},Fa={class:"flex-shrink-0"},Ha=["d"],za={class:"ml-3 w-0 flex-1 pt-0.5"},Ba={class:"text-sm font-medium"},Ga={__name:"Notification",props:{type:{type:String,default:"info",validator:e=>["success","error","info","warning"].includes(e)},message:{type:String,required:!0},duration:{type:Number,default:5e3},id:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const s=e,a=t,r=N(!1),n=N(null),i=B(()=>{switch(s.type){case"success":return"bg-green-50 text-green-800 border-green-400";case"error":return"bg-red-50 text-red-800 border-red-400";case"warning":return"bg-yellow-50 text-yellow-800 border-yellow-400";default:return"bg-blue-50 text-blue-800 border-blue-400"}}),l=B(()=>{switch(s.type){case"success":return"text-green-500";case"error":return"text-red-500";case"warning":return"text-yellow-500";default:return"text-blue-500"}}),v=B(()=>{switch(s.type){case"success":return"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z";case"error":return"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z";case"warning":return"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z";default:return"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}),m=()=>{r.value=!1,n.value&&clearTimeout(n.value),setTimeout(()=>{a("close",s.id)},300)};return Ge(()=>{setTimeout(()=>{r.value=!0},100),s.duration>0&&(n.value=setTimeout(()=>{m()},s.duration))}),(_,k)=>(f(),p("div",{class:z(["fixed z-50 transition-all duration-300 ease-in-out transform",[r.value?"opacity-100 translate-y-0":"opacity-0 translate-y-2","max-w-sm w-full shadow-lg rounded-lg pointer-events-auto border-l-4",i.value]]),role:"alert"},[o("div",ja,[o("div",Fa,[(f(),p("svg",{class:z(["h-5 w-5",l.value]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:v.value,"clip-rule":"evenodd"},null,8,Ha)],2))]),o("div",za,[o("p",Ba,L(e.message),1)]),o("div",{class:"ml-4 flex-shrink-0 flex"},[o("button",{class:"bg-transparent rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:m},k[0]||(k[0]=[o("span",{class:"sr-only"},"Close",-1),o("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])])],2))}},qa={class:"fixed top-4 right-4 z-[9999] space-y-4 w-full max-w-sm"},Za={__name:"NotificationContainer",setup(e,{expose:t}){const s=N([]),a=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),r=(i,l="info",v=5e3)=>{const m=a();return s.value.push({id:m,message:i,type:l,duration:v}),m},n=i=>{const l=s.value.findIndex(v=>v.id===i);l!==-1&&s.value.splice(l,1)};return t({addNotification:r,removeNotification:n,success:(i,l)=>r(i,"success",l),error:(i,l)=>r(i,"error",l),info:(i,l)=>r(i,"info",l),warning:(i,l)=>r(i,"warning",l)}),(i,l)=>(f(),p("div",qa,[g($a,{name:"notification"},{default:S(()=>[(f(!0),p(oe,null,ce(s.value,v=>(f(),W(Ga,{key:v.id,id:v.id,type:v.type,message:v.message,duration:v.duration,onClose:n},null,8,["id","type","message","duration"]))),128))]),_:1})]))}},Ka=qe(Za,[["__scopeId","data-v-173810ba"]]),Ja={class:"p-6"},Qa={class:"mt-6"},Xa={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded"},er={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},tr={class:"flex items-center mb-3"},sr=["id","onUpdate:modelValue"],ar=["for"],rr={key:0,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},nr={key:0},ir={class:"mb-4"},or={class:"flex items-center"},lr=["id","checked","onChange"],ur=["for"],dr={key:0,class:"mb-4"},cr=["id","onUpdate:modelValue"],fr={key:1,class:"mb-4"},hr={class:"flex-1"},mr=["id","onUpdate:modelValue"],vr={class:"flex-1"},yr=["id","onUpdate:modelValue"],gr={key:0,class:"flex items-end pb-1"},pr=["onClick"],_r=["onClick"],wr={class:"mt-6 flex justify-end space-x-3"},kr={key:0,class:"flex items-center"},br={key:1},xr={__name:"AvailabilityModal",props:{show:Boolean,date:{type:String,default:()=>{const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}},nextWeekDates:{type:Array,default:()=>[]},userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(e,{emit:t}){const s=()=>{const T=localStorage.getItem("authToken");T&&!we.defaults.headers.common.Authorization&&(we.defaults.headers.common.Authorization=`Bearer ${T}`,console.log("Auth headers set in AvailabilityModal"))},a=e,r=t,n=N({}),i=N({}),l=N(!1),v=N(""),m=()=>{const T=[],b=new Date,u=new Date(b);u.setDate(b.getDate()+1);for(let d=0;d<7;d++){const h=new Date(u);h.setDate(u.getDate()+d);const D=h.toISOString().split("T")[0];T.push({value:D,label:h.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),n.value[D]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}return T},_=N([]);Ge(()=>{s(),a.nextWeekDates.length>0?(_.value=a.nextWeekDates,a.nextWeekDates.forEach(T=>{n.value[T.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}})):_.value=m()});const k=async()=>{try{if(s(),_.value.length===0)return;const T=_.value[0].value,b=_.value[_.value.length-1].value,u=await we.get("/api/availabilities",{params:{start_date:T,end_date:b,user_id:a.userId}});if(u.data&&u.data.availabilities){const d=u.data.availabilities;_.value.forEach(h=>{n.value[h.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),d.forEach(h=>{const D=h.date.split("T")[0];n.value[D]&&(n.value[D].isSelected=!0,n.value[D].isAvailable=h.is_available,h.is_available?n.value[D].timeSlots=h.time_slots&&h.time_slots.length>0?[...h.time_slots]:[{start_time:"",end_time:""}]:n.value[D].reason=h.reason||"")})}}catch(T){console.error("Error fetching existing availabilities:",T),_.value.forEach(b=>{n.value[b.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}})}};le(()=>a.show,async T=>{T&&(i.value={},v.value="",await k())},{immediate:!0});const $=T=>{n.value[T].timeSlots.push({start_time:"",end_time:""})},X=(T,b)=>{n.value[T].timeSlots.length>1&&n.value[T].timeSlots.splice(b,1)},E=(T,b)=>{n.value[T].isAvailable=b,b?n.value[T].reason="":n.value[T].timeSlots=[{start_time:"",end_time:""}]},Y=async()=>{l.value=!0,i.value={},v.value="";const T=[];let b=!1;for(const u of _.value){const d=u.value,h=n.value[d];if(h.isSelected){let D={};if(h.isAvailable)if(h.timeSlots.some(I=>!I.start_time||!I.end_time))D.timeSlots="Please fill in all time slots.",b=!0;else for(const I of h.timeSlots){const q=I.start_time.split(":").map(Number),y=I.end_time.split(":").map(Number);if(q.length!==2||y.length!==2||isNaN(q[0])||isNaN(q[1])||isNaN(y[0])||isNaN(y[1])){D.timeSlots="Invalid time format. Please use HH:MM format.",b=!0;break}const c=q[0]*60+q[1],K=y[0]*60+y[1];if(c>=K){D.timeSlots="End time must be after start time.",b=!0;break}}else h.reason.trim()||(D.reason="Please provide a reason for unavailability.",b=!0);Object.keys(D).length>0&&(i.value[d]=D),Object.keys(D).length===0&&T.push({date:d,is_available:h.isAvailable,reason:h.isAvailable?null:h.reason,time_slots:h.isAvailable?h.timeSlots:null})}}if(b){l.value=!1,i.value.general="Please correct the errors in the highlighted dates.";return}if(T.length===0){i.value.general="Please select at least one day to set availability for.",l.value=!1;return}try{s();const u=await we.post("/api/availabilities/batch",{availabilities:T});v.value="Availability saved successfully!";try{const d=await we.get("/api/availability-prompt");localStorage.setItem("shouldBlockUser",d.data.should_block_user),localStorage.setItem("allWeekdaysCovered",d.data.all_weekdays_covered);const h=new CustomEvent("availability-status-updated",{detail:{shouldBlockUser:d.data.should_block_user,allWeekdaysCovered:d.data.all_weekdays_covered}});window.dispatchEvent(h),console.log("Availability status updated from modal:",{shouldBlockUser:d.data.should_block_user,allWeekdaysCovered:d.data.all_weekdays_covered})}catch(d){console.error("Error updating availability status:",d)}r("availability-saved",u.data.availabilities),setTimeout(()=>{r("close")},1500)}catch(u){console.error("Error saving availability:",u),u.response&&u.response.data&&u.response.data.errors?i.value.general=u.response.data.message||"An error occurred while saving your availability.":u.response&&u.response.status===409?(v.value=u.response.data.message,setTimeout(()=>{r("close")},1500)):i.value.general="An unexpected error occurred while saving your availability."}finally{l.value=!1}};return(T,b)=>(f(),W(Ls,{show:e.show,onClose:b[1]||(b[1]=u=>T.$emit("close")),"max-width":"xl"},{default:S(()=>[o("div",Ja,[b[6]||(b[6]=o("h2",{class:"text-lg font-medium text-gray-900"}," Submit Your Weekly Availability ",-1)),b[7]||(b[7]=o("p",{class:"mt-1 text-sm text-gray-600"}," Please select the dates you wish to set availability for and provide your details for each. ",-1)),o("div",Qa,[o("form",{onSubmit:$t(Y,["prevent"])},[v.value?(f(),p("div",Xa,L(v.value),1)):C("",!0),i.value.general?(f(),p("div",er,L(i.value.general),1)):C("",!0),(f(!0),p(oe,null,ce(_.value,u=>{var d,h;return f(),p("div",{key:u.value,class:z(["mb-6 p-4 border rounded-lg shadow-sm",[n.value[u.value].isSelected?"border-indigo-300 bg-indigo-50":"border-gray-200",n.value[u.value].isSelected&&!i.value[u.value]?"border-l-4 border-l-indigo-500":""]])},[o("div",tr,[ae(o("input",{type:"checkbox",id:`select_date_${u.value}`,"onUpdate:modelValue":D=>n.value[u.value].isSelected=D,class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,sr),[[Oa,n.value[u.value].isSelected]]),o("label",{for:`select_date_${u.value}`,class:"ml-2 block text-base font-medium text-gray-800"},[P(L(u.label)+" ",1),n.value[u.value].isSelected?(f(),p("span",rr," Saved ")):C("",!0)],8,ar)]),n.value[u.value].isSelected?(f(),p("div",nr,[o("div",ir,[o("div",or,[o("input",{type:"checkbox",id:`isAvailableToggle_${u.value}`,checked:n.value[u.value].isAvailable,onChange:D=>E(u.value,D.target.checked),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,40,lr),o("label",{for:`isAvailableToggle_${u.value}`,class:"ml-2 block text-sm text-gray-700"}," I am available on this day ",8,ur)])]),n.value[u.value].isAvailable?C("",!0):(f(),p("div",dr,[g(Z,{for:`reason_${u.value}`,value:"Reason for Not Available"},null,8,["for"]),ae(o("textarea",{id:`reason_${u.value}`,"onUpdate:modelValue":D=>n.value[u.value].reason=D,rows:"2",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,8,cr),[[Pe,n.value[u.value].reason]]),g(te,{message:(d=i.value[u.value])==null?void 0:d.reason,class:"mt-2"},null,8,["message"])])),n.value[u.value].isAvailable?(f(),p("div",fr,[g(Z,{value:"Available Time Slots"}),g(te,{message:(h=i.value[u.value])==null?void 0:h.timeSlots,class:"mt-2"},null,8,["message"]),(f(!0),p(oe,null,ce(n.value[u.value].timeSlots,(D,I)=>(f(),p("div",{key:I,class:"flex items-center space-x-2 mt-2"},[o("div",hr,[g(Z,{for:`start_time_${u.value}_${I}`,value:"Start Time",class:"text-xs"},null,8,["for"]),ae(o("input",{id:`start_time_${u.value}_${I}`,type:"time","onUpdate:modelValue":q=>D.start_time=q,class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},null,8,mr),[[Pe,D.start_time]])]),o("div",vr,[g(Z,{for:`end_time_${u.value}_${I}`,value:"End Time",class:"text-xs"},null,8,["for"]),ae(o("input",{id:`end_time_${u.value}_${I}`,type:"time","onUpdate:modelValue":q=>D.end_time=q,class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},null,8,yr),[[Pe,D.end_time]])]),n.value[u.value].timeSlots.length>1?(f(),p("div",gr,[o("button",{type:"button",onClick:q=>X(u.value,I),class:"p-2 text-red-600 hover:text-red-800"},b[2]||(b[2]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,pr)])):C("",!0)]))),128)),o("button",{type:"button",onClick:D=>$(u.value),class:"mt-3 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},b[3]||(b[3]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),P(" Add Another Time Slot ",-1)]),8,_r)])):C("",!0)])):C("",!0)],2)}),128)),o("div",wr,[g(Ws,{onClick:b[0]||(b[0]=u=>T.$emit("close"))},{default:S(()=>b[4]||(b[4]=[P(" Cancel ",-1)])),_:1,__:[4]}),g(at,{disabled:l.value,class:z({"opacity-50":l.value})},{default:S(()=>[l.value?(f(),p("span",kr,b[5]||(b[5]=[o("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),P(" Saving... ",-1)]))):(f(),p("span",br,"Save Availability"))]),_:1},8,["disabled","class"])])],32)])])]),_:1},8,["show"]))}},Sr={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},Mr={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},Dr={class:"flex justify-center"},Tr={__name:"AvailabilityBlocker",setup(e){const t=N(!1),s=N(!0),a=N(!1),r=N([]),n=B(()=>{var Y;return((Y=Kt().props.auth.user)==null?void 0:Y.id)||null}),i=()=>{const Y=localStorage.getItem("authToken");Y&&!we.defaults.headers.common.Authorization&&(we.defaults.headers.common.Authorization=`Bearer ${Y}`)},l=async()=>{s.value=!0;const Y=localStorage.getItem("shouldBlockUser"),T=localStorage.getItem("allWeekdaysCovered");if(Y==="true"&&T==="false")t.value=!0,await v();else try{i();const b=await we.get("/api/availability-prompt");t.value=b.data.should_block_user&&!b.data.all_weekdays_covered,t.value&&await v()}catch(b){console.error("Error checking if user should be blocked:",b),t.value=!1}s.value=!1},v=async()=>{try{i();const Y=await we.get("/api/availability-prompt");m(Y.data.next_week_start,Y.data.next_week_end)}catch(Y){console.error("Error fetching next week dates:",Y)}},m=(Y,T)=>{const b=[],u=new Date(Y),d=new Date(T),h=new Date(u);for(;h<=d;)b.push({value:h.toISOString().split("T")[0],label:h.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),h.setDate(h.getDate()+1);r.value=b},_=()=>{a.value=!0},k=()=>{l()},$=Y=>{t.value=Y.detail.shouldBlockUser&&!Y.detail.allWeekdaysCovered},X=()=>{document.visibilityState==="visible"&&Xe(()=>{l()})},E=Y=>{(Y.key==="shouldBlockUser"||Y.key==="allWeekdaysCovered")&&Xe(()=>{l()})};return Ge(()=>{l(),window.addEventListener("availability-status-updated",$),document.addEventListener("visibilitychange",X),window.addEventListener("storage",E)}),Yt(()=>{window.removeEventListener("availability-status-updated",$),document.removeEventListener("visibilitychange",X),window.removeEventListener("storage",E)}),(Y,T)=>t.value&&!s.value?(f(),p("div",Sr,[o("div",Mr,[T[2]||(T[2]=Pa('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div><p class="mb-6 text-gray-700"> You must submit your availability for all weekdays of next week before you can continue using the application. This is required for planning meetings and work schedules. </p>',2)),o("div",Dr,[g(at,{onClick:_,class:"bg-red-600 hover:bg-red-700"},{default:S(()=>T[1]||(T[1]=[P(" Submit Availability Now ",-1)])),_:1,__:[1]})]),g(xr,{show:a.value,"next-week-dates":r.value,date:r.value.length>0?r.value[0].value:"",userId:n.value,onClose:T[0]||(T[0]=b=>a.value=!1),onAvailabilitySaved:k},null,8,["show","next-week-dates","date","userId"])])])):C("",!0)}},Cr={class:"p-6"},Yr={class:"flex justify-between items-center mb-4"},$r={class:"text-lg font-medium text-gray-900"},Or={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},Pr={class:"block sm:inline"},Nr={key:0,class:"mt-6 flex justify-end space-x-3"},Ar={__name:"BaseFormModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Modal Title"},apiEndpoint:{type:String,required:!1},httpMethod:{type:String,default:"post",validator:e=>["post","put","patch","delete"].includes(e.toLowerCase())},formData:{type:Object,required:!0},submitButtonText:{type:String,default:"Save"},successMessage:{type:String,default:"Operation successful!"},formatDataForApi:{type:Function,default:e=>e},showFooter:{type:Boolean,default:!0}},emits:["close","submitted","error"],setup(e,{emit:t}){const s=e,a=t,r=N(!1),n=N({}),i=N("");le(()=>s.show,m=>{m&&(n.value={},i.value="",r.value=!1)});const l=async()=>{r.value=!0,n.value={},i.value="";try{const m=s.formatDataForApi(s.formData);let _;const k=s.httpMethod.toLowerCase();if(k==="post")_=await window.axios.post(s.apiEndpoint,m);else if(k==="put")_=await window.axios.put(s.apiEndpoint,m);else if(k==="patch")_=await window.axios.patch(s.apiEndpoint,m);else if(k==="delete")_=await window.axios.delete(s.apiEndpoint,{data:m});else throw new Error(`Unsupported HTTP method: ${s.httpMethod}`);Na(s.successMessage),a("submitted",_.data),a("close")}catch(m){console.error("API submission error:",m),m.response?m.response.status===422?(n.value=m.response.data.errors,i.value="Please correct the errors in the form."):i.value=m.response.data.message||"An unexpected error occurred.":i.value="A network error occurred or the server is unreachable.",Aa(i.value),a("error",m)}finally{r.value=!1}},v=()=>{a("close")};return(m,_)=>(f(),W(Ls,{show:e.show,onClose:v},{default:S(()=>[o("div",Cr,[o("div",Yr,[o("h2",$r,L(e.title),1),o("button",{onClick:v,class:"text-gray-400 hover:text-gray-500"},_[0]||(_[0]=[o("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),i.value?(f(),p("div",Or,[o("span",Pr,L(i.value),1)])):C("",!0),o("form",{onSubmit:$t(l,["prevent"])},[be(m.$slots,"default",{errors:n.value},void 0,!0),e.showFooter?(f(),p("div",Nr,[g(Ws,{onClick:v,type:"button",disabled:r.value},{default:S(()=>_[1]||(_[1]=[P(" Cancel ",-1)])),_:1,__:[1]},8,["disabled"]),g(at,{type:"submit",disabled:r.value,class:z({"opacity-75 cursor-not-allowed":r.value})},{default:S(()=>[P(L(r.value?"Submitting...":e.submitButtonText),1)]),_:1},8,["disabled","class"])])):C("",!0)],32)])]),_:3},8,["show"]))}},Pt=qe(Ar,[["__scopeId","data-v-380ca613"]]),Ir=["disabled"],Wr={class:"absolute z-50 mt-1 w-full rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5"},Lr={class:"p-2 border-b border-gray-200"},Rr=["onClick"],Er={key:0,class:"block px-4 py-2 text-sm text-gray-500"},Ur={__name:"SelectDropdown",props:{modelValue:{type:[String,Number,Object,null],default:null},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select an option"},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"250px"},width:{type:String,default:"full"},labelClass:{type:String,default:"text-xs"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const s=e,a=t,r=N(!1),n=N(""),i=N(null),l=N(null),v=B(()=>{if(!n.value)return s.options;const E=n.value.toLowerCase();return s.options.filter(Y=>Y[s.labelKey].toLowerCase().includes(E))}),m=E=>{i.value&&!i.value.contains(E.target)&&(r.value=!1,n.value="")},_=E=>{E.key==="Escape"&&r.value&&(r.value=!1,n.value="")};Ge(()=>{document.addEventListener("click",m),document.addEventListener("keydown",_)}),Yt(()=>{document.removeEventListener("click",m),document.removeEventListener("keydown",_)});const k=B(()=>{if(s.modelValue===null||s.modelValue===void 0||s.modelValue==="")return s.placeholder;const E=s.options.find(Y=>Y[s.valueKey]===s.modelValue);return E?E[s.labelKey]:s.placeholder}),$=E=>{a("update:modelValue",E[s.valueKey]),a("change",E[s.valueKey]),r.value=!1,n.value=""},X=()=>{s.disabled||(r.value=!r.value,r.value&&Xe(()=>{l.value&&l.value.focus()}))};return le(()=>s.modelValue,E=>{(E==null||E==="")&&(n.value="")}),(E,Y)=>(f(),p("div",{ref_key:"dropdownRef",ref:i,class:z(["relative",{"w-full":e.width==="full"}])},[o("button",{type:"button",onClick:X,disabled:e.disabled,class:z(["border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full text-left px-3 py-2 text-gray-700 bg-white relative flex items-center justify-between",{"opacity-50 cursor-not-allowed":e.disabled}])},[o("span",{class:z({"text-gray-500":!s.modelValue})},L(k.value),3),Y[3]||(Y[3]=o("svg",{class:"h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))],10,Ir),ae(o("div",Wr,[o("div",Lr,[ae(o("input",{ref_key:"searchInputRef",ref:l,type:"text","onUpdate:modelValue":Y[0]||(Y[0]=T=>n.value=T),onInput:Y[1]||(Y[1]=T=>r.value=!0),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Search...",onClick:Y[2]||(Y[2]=$t(()=>{},["stop"]))},null,544),[[Pe,n.value]])]),o("div",{class:"py-1 overflow-y-auto",style:Is({maxHeight:e.maxHeight})},[(f(!0),p(oe,null,ce(v.value,T=>(f(),p("div",{key:T[e.valueKey],onClick:b=>$(T),class:z(["block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",{"bg-gray-100":T[e.valueKey]===e.modelValue}])},L(T[e.labelKey]),11,Rr))),128)),v.value.length===0?(f(),p("div",Er," No options available ")):C("",!0)],4)],512),[[Ce,r.value]])],2))}},Ue=qe(Ur,[["__scopeId","data-v-d2f1cfa0"]]),Vr={class:"space-y-4"},jr="Add New Milestone",Fr="/api/milestones",Hr="post",zr="Create Milestone",Br="Milestone created successfully!",Gr={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(e,{emit:t}){const s=e,a=t,r=Ot({name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),n=["Not Started","In Progress","Completed","Overdue"];le(()=>s.show,v=>{v&&Object.assign(r,{name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId})},{immediate:!0});const i=v=>{a("saved",v),a("close")},l=()=>{a("close")};return(v,m)=>(f(),W(Pt,{show:e.show,title:jr,"api-endpoint":Fr,"http-method":Hr,"form-data":r,"submit-button-text":zr,"success-message":Br,onClose:l,onSubmitted:i},{default:S(({errors:_})=>[o("div",Vr,[o("div",null,[g(Z,{for:"milestone-name",value:"Milestone Name"}),g(Ne,{id:"milestone-name",modelValue:r.name,"onUpdate:modelValue":m[0]||(m[0]=k=>r.name=k),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),g(te,{message:_.name?_.name[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"milestone-description",value:"Description"}),ae(o("textarea",{id:"milestone-description","onUpdate:modelValue":m[1]||(m[1]=k=>r.description=k),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[Pe,r.description]]),g(te,{message:_.description?_.description[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"milestone-completion-date",value:"Completion Date"}),g(Ne,{id:"milestone-completion-date",modelValue:r.completion_date,"onUpdate:modelValue":m[2]||(m[2]=k=>r.completion_date=k),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),g(te,{message:_.completion_date?_.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"milestone-status",value:"Status"}),g(Ue,{id:"milestone-status",modelValue:r.status,"onUpdate:modelValue":m[3]||(m[3]=k=>r.status=k),options:n.map(k=>({value:k,label:k})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),g(te,{message:_.status?_.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},qr={class:"space-y-4"},Zr={key:0},Kr={key:0,class:"text-sm text-gray-500"},Jr={key:0,class:"text-sm text-gray-500"},Qr={key:0,class:"text-sm text-gray-500"},Xr={class:"flex items-center gap-2 mt-1"},en={key:0,class:"text-sm text-gray-500"},tn=["disabled"],sn="Create New Task",an="/api/tasks",rn="post",nn="Create Task",on="Task created successfully!",ln={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,a=t,r=Ot({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId}),n=["To Do","In Progress","Done","Blocked","Archived"],i=N([]),l=N([]),v=N([]),m=N([]),_=N(!0),k=N(!1),$=N(!1),X=N(!1),E=N(!1);le(()=>s.show,async y=>{y&&(Object.assign(r,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId}),s.projectId?await T(s.projectId):await Y())},{immediate:!0}),le(()=>r.project_id,async y=>{y?await T(y):(l.value=[],v.value=[],m.value=[])});const Y=async()=>{_.value=!0;try{const y=await window.axios.get("/api/projects-simplified");i.value=y.data.map(c=>({value:c.id,label:c.name}))}catch(y){console.error("Error fetching projects:",y),i.value=[]}finally{_.value=!1}},T=async y=>{if(y){k.value=!0,$.value=!0,X.value=!0;try{const[c,K,H]=await Promise.all([window.axios.get(`/api/projects/${y}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${y}/milestones`)]);l.value=c.data.map(Ee=>({value:Ee.id,label:Ee.name})),v.value=K.data.map(Ee=>({value:Ee.id,label:Ee.name})),m.value=H.data.map(Ee=>({value:Ee.id,label:Ee.name}))}catch(c){console.error("Error fetching associated task data:",c),l.value=[],v.value=[],m.value=[]}finally{k.value=!1,$.value=!1,X.value=!1}}},b=y=>{a("saved",y),a("close")},u=()=>{a("close")},d=()=>{r.project_id?E.value=!0:alert("Please select a project before adding a milestone.")},h=y=>{if(E.value=!1,y&&y.id&&y.name){const c={value:y.id,label:y.name};m.value.some(K=>K.value===c.value)||m.value.push(c),r.milestone_id=c.value}},D=B(()=>l.value),I=B(()=>v.value),q=B(()=>m.value);return(y,c)=>(f(),p(oe,null,[g(Pt,{show:e.show,title:sn,"api-endpoint":an,"http-method":rn,"form-data":r,"submit-button-text":nn,"success-message":on,onClose:u,onSubmitted:b},{default:S(({errors:K})=>[o("div",qr,[e.projectId?C("",!0):(f(),p("div",Zr,[g(Z,{for:"task-project",value:"Project"}),_.value?(f(),p("div",Kr,"Loading projects...")):(f(),W(Ue,{key:1,id:"task-project",modelValue:r.project_id,"onUpdate:modelValue":c[0]||(c[0]=H=>r.project_id=H),options:i.value,"value-key":"value","label-key":"label",placeholder:"Select a project",class:"mt-1",required:!0},null,8,["modelValue","options"])),g(te,{message:K.project_id?K.project_id[0]:"",class:"mt-2"},null,8,["message"])])),o("div",null,[g(Z,{for:"task-name",value:"Task Name"}),g(Ne,{id:"task-name",modelValue:r.name,"onUpdate:modelValue":c[1]||(c[1]=H=>r.name=H),type:"text",class:"mt-1 block w-full",placeholder:"Enter task name",required:""},null,8,["modelValue"]),g(te,{message:K.name?K.name[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"task-description",value:"Description"}),ae(o("textarea",{id:"task-description","onUpdate:modelValue":c[2]||(c[2]=H=>r.description=H),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[Pe,r.description]]),g(te,{message:K.description?K.description[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"task-status",value:"Status"}),g(Ue,{id:"task-status",modelValue:r.status,"onUpdate:modelValue":c[3]||(c[3]=H=>r.status=H),options:n.map(H=>({value:H,label:H})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),g(te,{message:K.status?K.status[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"task-due-date",value:"Due Date"}),g(Ne,{id:"task-due-date",modelValue:r.due_date,"onUpdate:modelValue":c[4]||(c[4]=H=>r.due_date=H),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),g(te,{message:K.due_date?K.due_date[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"task-assigned-to",value:"Assigned To"}),k.value?(f(),p("div",Jr,"Loading users...")):(f(),W(Ue,{key:1,id:"task-assigned-to",modelValue:r.assigned_to_user_id,"onUpdate:modelValue":c[5]||(c[5]=H=>r.assigned_to_user_id=H),options:D.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),g(te,{message:K.assigned_to_user_id?K.assigned_to_user_id[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"task-type",value:"Task Type"}),$.value?(f(),p("div",Qr,"Loading task types...")):(f(),W(Ue,{key:1,id:"task-type",modelValue:r.task_type_id,"onUpdate:modelValue":c[6]||(c[6]=H=>r.task_type_id=H),options:I.value,"value-key":"value","label-key":"label",placeholder:"Select a task type",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),g(te,{message:K.task_type_id?K.task_type_id[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"task-milestone",value:"Milestone"}),o("div",Xr,[X.value?(f(),p("div",en,"Loading milestones...")):(f(),W(Ue,{key:1,id:"task-milestone",modelValue:r.milestone_id,"onUpdate:modelValue":c[7]||(c[7]=H=>r.milestone_id=H),options:q.value,"value-key":"value","label-key":"label",placeholder:"No milestone",class:"flex-grow","allow-empty":!0,disabled:!r.project_id},null,8,["modelValue","options","disabled"])),o("button",{type:"button",onClick:d,disabled:!r.project_id||X.value,class:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add New Milestone"},c[9]||(c[9]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,tn)]),g(te,{message:K.milestone_id?K.milestone_id[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]),g(Gr,{show:E.value,"project-id":r.project_id,onClose:c[8]||(c[8]=K=>E.value=!1),onSaved:h},null,8,["show","project-id"])],64))}},un=(e,t)=>{let s;return(...a)=>{clearTimeout(s),s=setTimeout(()=>e(...a),t)}},dn={class:"relative"},cn={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},fn=["onClick"],hn={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},mn=["onClick"],vn={key:1,class:"px-4 py-2 text-sm text-gray-500"},yn={key:2,class:"px-4 py-2 text-sm text-gray-500"},gn={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,a=t,r=N(""),n=N([]),i=N([]),l=N(!1),v=N(null);function m(){a("update:modelValue",i.value.map(b=>b.id))}le(()=>s.initialTags,b=>{if(i.value=[],b&&b.length>0){const D=[],I=new Set;b.forEach(q=>{I.has(q.id)||(D.push(q),I.add(q.id))}),i.value.push(...D)}const u=b.map(D=>D.id),d=Array.isArray(s.modelValue)?s.modelValue:[];(u.length!==d.length||u.some(D=>!d.includes(D))||d.some(D=>!u.includes(D)))&&m()},{immediate:!0});const _=un(async b=>{if(b.length<2){n.value=[],l.value=!1;return}try{const u=await we.get(`/api/tags/search?query=${b}`);n.value=u.data,l.value=!0}catch(u){console.error("Error fetching tags:",u),n.value=[],l.value=!1}},300);le(r,b=>{s.disabled||_(b)});const k=b=>{i.value.some(u=>u.id===b.id)||(i.value.push(b),r.value="",n.value=[],l.value=!1,m()),Xe(()=>v.value.focus())},$=()=>{if(s.disabled)return;const b=r.value.trim();if(!b)return;const u=n.value.find(h=>h.name.toLowerCase()===b.toLowerCase()),d=i.value.some(h=>h.name.toLowerCase()===b.toLowerCase());if(u)k(u);else if(d)r.value="",n.value=[],l.value=!1;else{const h={id:`new_${b.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:b};i.value.push(h),r.value="",n.value=[],l.value=!1,m()}Xe(()=>v.value.focus())},X=b=>{s.disabled||(i.value=i.value.filter(u=>u.id!==b.id),m(),Xe(()=>v.value.focus()))},E=()=>{s.disabled||r.value===""&&i.value.length>0&&X(i.value[i.value.length-1])},Y=B(()=>n.value.filter(b=>!i.value.some(u=>u.id===b.id))),T=b=>{v.value&&!v.value.$el.contains(b.target)&&(l.value=!1,r.value="")};return Ge(()=>{document.addEventListener("click",T)}),Yt(()=>{document.removeEventListener("click",T)}),(b,u)=>(f(),p("div",dn,[g(Z,{value:e.label,class:"mb-1"},null,8,["value"]),o("div",cn,[(f(!0),p(oe,null,ce(i.value,d=>(f(),p("span",{key:d.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[P(L(d.name)+" ",1),e.disabled?C("",!0):(f(),p("button",{key:0,type:"button",onClick:h=>X(d),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},u[3]||(u[3]=[o("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,fn))]))),128)),g(Ne,{ref_key:"inputRef",ref:v,type:"text",placeholder:i.value.length===0?e.placeholder:"",modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=d=>r.value=d),onFocus:u[1]||(u[1]=d=>l.value=!0),onKeydown:[Ht($t($,["prevent"]),["enter"]),u[2]||(u[2]=Ht(d=>l.value=!1,["tab"])),Ht(E,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:e.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),l.value&&(Y.value.length>0||r.value.length>=2||Y.value.length===0&&r.value.length<2)&&!e.disabled?(f(),p("div",hn,[(f(!0),p(oe,null,ce(Y.value,d=>(f(),p("div",{key:d.id,onClick:h=>k(d),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},L(d.name),9,mn))),128)),!n.value.some(d=>d.name.toLowerCase()===r.value.toLowerCase())&&r.value.length>=2?(f(),p("div",{key:0,onClick:$,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+L(r.value)+'" ',1)):C("",!0),Y.value.length===0&&r.value.length<2?(f(),p("div",vn," Type at least 2 characters to search for tags. ")):C("",!0),Y.value.length===0&&r.value.length>=2&&!n.value.some(d=>d.name.toLowerCase()===r.value.toLowerCase())?(f(),p("div",yn,[u[4]||(u[4]=P(" No matching tags found. Press ",-1)),u[5]||(u[5]=o("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),P(' to add "'+L(r.value)+'" as a new tag. ',1)])):C("",!0)])):C("",!0),g(te,{message:e.error,class:"mt-2"},null,8,["message"])]))}},pn=qe(gn,[["__scopeId","data-v-4d528a4c"]]),_n={class:"space-y-4"},wn={class:"flex items-center mt-4"},kn={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(e,{emit:t}){const s=e,a=t,r=Ot({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,tags:[]}),n=B(()=>[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}]),i=m=>m,l=m=>{a("resourceCreated",m),v()},v=()=>{r.title="",r.description="",r.url="",r.type="website",r.thumbnail_url="",r.visible_to_client=!0,r.tags=[],a("close")};return(m,_)=>(f(),W(Pt,{show:s.show,title:"Add New Shareable Resource",apiEndpoint:s.apiEndpoint,httpMethod:"post",formData:r,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",formatDataForApi:i,onSubmitted:l,onClose:v},{default:S(({errors:k})=>[o("div",_n,[o("div",null,[g(Z,{for:"title",value:"Title",class:"mb-1"}),g(Ne,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:r.title,"onUpdate:modelValue":_[0]||(_[0]=$=>r.title=$),required:""},null,8,["modelValue"]),g(te,{message:k.title?k.title[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"url",value:"Resource URL",class:"mb-1"}),g(Ne,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:r.url,"onUpdate:modelValue":_[1]||(_[1]=$=>r.url=$),required:""},null,8,["modelValue"]),g(te,{message:k.url?k.url[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"type",value:"Resource Type",class:"mb-1"}),g(Ue,{id:"type",modelValue:r.type,"onUpdate:modelValue":_[2]||(_[2]=$=>r.type=$),options:n.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),g(te,{message:k.type?k.type[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),g(Ne,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:r.thumbnail_url,"onUpdate:modelValue":_[3]||(_[3]=$=>r.thumbnail_url=$)},null,8,["modelValue"]),g(te,{message:k.thumbnail_url?k.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(Z,{for:"description",value:"Description (Optional)",class:"mb-1"}),ae(o("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":_[4]||(_[4]=$=>r.description=$),rows:"3"},null,512),[[Pe,r.description]]),g(te,{message:k.description?k.description[0]:"",class:"mt-2"},null,8,["message"])]),o("div",null,[g(pn,{modelValue:r.tags,"onUpdate:modelValue":_[5]||(_[5]=$=>r.tags=$),label:"Associated Tags",placeholder:"Search or add tags",error:k.tags?k.tags[0]:""},null,8,["modelValue","error"])]),o("div",wn,[g(Ea,{id:"visible_to_client",checked:r.visible_to_client,"onUpdate:checked":_[6]||(_[6]=$=>r.visible_to_client=$)},null,8,["checked"]),g(Z,{for:"visible_to_client",value:"Visible to Client",class:"ml-2"}),g(te,{message:k.visible_to_client?k.visible_to_client[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},bn=qe(kn,[["__scopeId","data-v-3e3a6a9f"]]),xn={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},Sn={class:"text-xl font-semibold text-gray-900"},Mn={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},Dn={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},Tn={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(e,{emit:t}){const s=e,a=t,r=N(s.initialWidth),n=N(!1),i=k=>{n.value=!0,document.addEventListener("pointermove",l),document.addEventListener("pointerup",v)},l=k=>{if(!n.value)return;const $=window.innerWidth,E=($-k.clientX)/$*100,Y=Math.max(s.minWidth,Math.min(s.maxWidth,E));r.value=Y},v=()=>{n.value=!1,document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",v)};le(()=>s.show,k=>{k?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const m=()=>{a("update:show",!1),a("close")},_=B(()=>window.innerWidth<768);return le(_,k=>{k&&s.show?r.value=100:!k&&s.show&&(r.value=s.initialWidth)},{immediate:!0}),le(()=>s.show,k=>{k&&(_.value?r.value=100:r.value=s.initialWidth)}),(k,$)=>(f(),W(Ia,{to:"body"},[g(Ns,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:S(()=>[e.show?(f(),p("div",{key:0,class:z(["fixed inset-0 z-50 flex",{"pointer-events-none":!e.show}])},[o("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl",style:Is({width:_.value?"100%":`${r.value}vw`})},[_.value?C("",!0):(f(),p("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:i,title:"Drag to resize"},null,32)),o("div",xn,[o("h3",Sn,L(e.title),1),o("button",{onClick:m,class:"text-gray-400 hover:text-gray-600 transition-colors"},$[0]||($[0]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),o("div",Mn,[be(k.$slots,"content",{},void 0,!0)]),k.$slots.footer?(f(),p("div",Dn,[be(k.$slots,"footer",{},void 0,!0)])):C("",!0)],4)],2)):C("",!0)]),_:3})]))}},Cn=qe(Tn,[["__scopeId","data-v-2a0ea880"]]);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Rs;function x(){return Rs.apply(null,arguments)}function Yn(e){Rs=e}function ge(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Be(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rs(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(j(e,t))return!1;return!0}function de(e){return e===void 0}function We(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function vt(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Es(e,t){var s=[],a,r=e.length;for(a=0;a<r;++a)s.push(t(e[a],a));return s}function Ve(e,t){for(var s in t)j(t,s)&&(e[s]=t[s]);return j(t,"toString")&&(e.toString=t.toString),j(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Se(e,t,s,a){return la(e,t,s,a,!0).utc()}function $n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function R(e){return e._pf==null&&(e._pf=$n()),e._pf}var Jt;Array.prototype.some?Jt=Array.prototype.some:Jt=function(e){var t=Object(this),s=t.length>>>0,a;for(a=0;a<s;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function ns(e){var t=null,s=!1,a=e._d&&!isNaN(e._d.getTime());if(a&&(t=R(e),s=Jt.call(t.parsedDateParts,function(r){return r!=null}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s),e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a;return e._isValid}function Nt(e){var t=Se(NaN);return e!=null?Ve(R(t),e):R(t).userInvalidated=!0,t}var Ts=x.momentProperties=[],Bt=!1;function is(e,t){var s,a,r,n=Ts.length;if(de(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),de(t._i)||(e._i=t._i),de(t._f)||(e._f=t._f),de(t._l)||(e._l=t._l),de(t._strict)||(e._strict=t._strict),de(t._tzm)||(e._tzm=t._tzm),de(t._isUTC)||(e._isUTC=t._isUTC),de(t._offset)||(e._offset=t._offset),de(t._pf)||(e._pf=R(t)),de(t._locale)||(e._locale=t._locale),n>0)for(s=0;s<n;s++)a=Ts[s],r=t[a],de(r)||(e[a]=r);return e}function yt(e){is(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Bt===!1&&(Bt=!0,x.updateOffset(this),Bt=!1)}function pe(e){return e instanceof yt||e!=null&&e._isAMomentObject!=null}function Us(e){x.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function me(e,t){var s=!0;return Ve(function(){if(x.deprecationHandler!=null&&x.deprecationHandler(null,e),s){var a=[],r,n,i,l=arguments.length;for(n=0;n<l;n++){if(r="",typeof arguments[n]=="object"){r+=`
[`+n+"] ";for(i in arguments[0])j(arguments[0],i)&&(r+=i+": "+arguments[0][i]+", ");r=r.slice(0,-2)}else r=arguments[n];a.push(r)}Us(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var Cs={};function Vs(e,t){x.deprecationHandler!=null&&x.deprecationHandler(e,t),Cs[e]||(Us(t),Cs[e]=!0)}x.suppressDeprecationWarnings=!1;x.deprecationHandler=null;function Me(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function On(e){var t,s;for(s in e)j(e,s)&&(t=e[s],Me(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Qt(e,t){var s=Ve({},e),a;for(a in t)j(t,a)&&(Be(e[a])&&Be(t[a])?(s[a]={},Ve(s[a],e[a]),Ve(s[a],t[a])):t[a]!=null?s[a]=t[a]:delete s[a]);for(a in e)j(e,a)&&!j(t,a)&&Be(e[a])&&(s[a]=Ve({},s[a]));return s}function os(e){e!=null&&this.set(e)}var Xt;Object.keys?Xt=Object.keys:Xt=function(e){var t,s=[];for(t in e)j(e,t)&&s.push(t);return s};var Pn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Nn(e,t,s){var a=this._calendar[e]||this._calendar.sameElse;return Me(a)?a.call(t,s):a}function xe(e,t,s){var a=""+Math.abs(e),r=t-a.length,n=e>=0;return(n?s?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}var ls=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_t=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Gt={},et={};function O(e,t,s,a){var r=a;typeof a=="string"&&(r=function(){return this[a]()}),e&&(et[e]=r),t&&(et[t[0]]=function(){return xe(r.apply(this,arguments),t[1],t[2])}),s&&(et[s]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function An(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function In(e){var t=e.match(ls),s,a;for(s=0,a=t.length;s<a;s++)et[t[s]]?t[s]=et[t[s]]:t[s]=An(t[s]);return function(r){var n="",i;for(i=0;i<a;i++)n+=Me(t[i])?t[i].call(r,e):t[i];return n}}function kt(e,t){return e.isValid()?(t=js(t,e.localeData()),Gt[t]=Gt[t]||In(t),Gt[t](e)):e.localeData().invalidDate()}function js(e,t){var s=5;function a(r){return t.longDateFormat(r)||r}for(_t.lastIndex=0;s>=0&&_t.test(e);)e=e.replace(_t,a),_t.lastIndex=0,s-=1;return e}var Wn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ln(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(ls).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var Rn="Invalid date";function En(){return this._invalidDate}var Un="%d",Vn=/\d{1,2}/;function jn(e){return this._ordinal.replace("%d",e)}var Fn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Hn(e,t,s,a){var r=this._relativeTime[s];return Me(r)?r(e,t,s,a):r.replace(/%d/i,e)}function zn(e,t){var s=this._relativeTime[e>0?"future":"past"];return Me(s)?s(t):s.replace(/%s/i,t)}var Ys={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ve(e){return typeof e=="string"?Ys[e]||Ys[e.toLowerCase()]:void 0}function us(e){var t={},s,a;for(a in e)j(e,a)&&(s=ve(a),s&&(t[s]=e[a]));return t}var Bn={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Gn(e){var t=[],s;for(s in e)j(e,s)&&t.push({unit:s,priority:Bn[s]});return t.sort(function(a,r){return a.priority-r.priority}),t}var Fs=/\d/,fe=/\d\d/,Hs=/\d{3}/,ds=/\d{4}/,At=/[+-]?\d{6}/,Q=/\d\d?/,zs=/\d\d\d\d?/,Bs=/\d\d\d\d\d\d?/,It=/\d{1,3}/,cs=/\d{1,4}/,Wt=/[+-]?\d{1,6}/,rt=/\d+/,Lt=/[+-]?\d+/,qn=/Z|[+-]\d\d:?\d\d/gi,Rt=/Z|[+-]\d\d(?::?\d\d)?/gi,Zn=/[+-]?\d+(\.\d{1,3})?/,gt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,nt=/^[1-9]\d?/,fs=/^([1-9]\d|\d)/,St;St={};function M(e,t,s){St[e]=Me(t)?t:function(a,r){return a&&s?s:t}}function Kn(e,t){return j(St,e)?St[e](t._strict,t._locale):new RegExp(Jn(e))}function Jn(e){return Ae(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,a,r,n){return s||a||r||n}))}function Ae(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function he(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function U(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=he(t)),s}var es={};function G(e,t){var s,a=t,r;for(typeof e=="string"&&(e=[e]),We(t)&&(a=function(n,i){i[t]=U(n)}),r=e.length,s=0;s<r;s++)es[e[s]]=a}function pt(e,t){G(e,function(s,a,r,n){r._w=r._w||{},t(s,r._w,r,n)})}function Qn(e,t,s){t!=null&&j(es,e)&&es[e](t,s._a,s,e)}function Et(e){return e%4===0&&e%100!==0||e%400===0}var ie=0,$e=1,ke=2,re=3,ye=4,Oe=5,ze=6,Xn=7,ei=8;O("Y",0,0,function(){var e=this.year();return e<=9999?xe(e,4):"+"+e});O(0,["YY",2],0,function(){return this.year()%100});O(0,["YYYY",4],0,"year");O(0,["YYYYY",5],0,"year");O(0,["YYYYYY",6,!0],0,"year");M("Y",Lt);M("YY",Q,fe);M("YYYY",cs,ds);M("YYYYY",Wt,At);M("YYYYYY",Wt,At);G(["YYYYY","YYYYYY"],ie);G("YYYY",function(e,t){t[ie]=e.length===2?x.parseTwoDigitYear(e):U(e)});G("YY",function(e,t){t[ie]=x.parseTwoDigitYear(e)});G("Y",function(e,t){t[ie]=parseInt(e,10)});function dt(e){return Et(e)?366:365}x.parseTwoDigitYear=function(e){return U(e)+(U(e)>68?1900:2e3)};var Gs=it("FullYear",!0);function ti(){return Et(this.year())}function it(e,t){return function(s){return s!=null?(qs(this,e,s),x.updateOffset(this,t),this):ct(this,e)}}function ct(e,t){if(!e.isValid())return NaN;var s=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return a?s.getUTCSeconds():s.getSeconds();case"Minutes":return a?s.getUTCMinutes():s.getMinutes();case"Hours":return a?s.getUTCHours():s.getHours();case"Date":return a?s.getUTCDate():s.getDate();case"Day":return a?s.getUTCDay():s.getDay();case"Month":return a?s.getUTCMonth():s.getMonth();case"FullYear":return a?s.getUTCFullYear():s.getFullYear();default:return NaN}}function qs(e,t,s){var a,r,n,i,l;if(!(!e.isValid()||isNaN(s))){switch(a=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?a.setUTCMilliseconds(s):a.setMilliseconds(s));case"Seconds":return void(r?a.setUTCSeconds(s):a.setSeconds(s));case"Minutes":return void(r?a.setUTCMinutes(s):a.setMinutes(s));case"Hours":return void(r?a.setUTCHours(s):a.setHours(s));case"Date":return void(r?a.setUTCDate(s):a.setDate(s));case"FullYear":break;default:return}n=s,i=e.month(),l=e.date(),l=l===29&&i===1&&!Et(n)?28:l,r?a.setUTCFullYear(n,i,l):a.setFullYear(n,i,l)}}function si(e){return e=ve(e),Me(this[e])?this[e]():this}function ai(e,t){if(typeof e=="object"){e=us(e);var s=Gn(e),a,r=s.length;for(a=0;a<r;a++)this[s[a].unit](e[s[a].unit])}else if(e=ve(e),Me(this[e]))return this[e](t);return this}function ri(e,t){return(e%t+t)%t}var se;Array.prototype.indexOf?se=Array.prototype.indexOf:se=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function hs(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=ri(t,12);return e+=(t-s)/12,s===1?Et(e)?29:28:31-s%7%2}O("M",["MM",2],"Mo",function(){return this.month()+1});O("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});O("MMMM",0,0,function(e){return this.localeData().months(this,e)});M("M",Q,nt);M("MM",Q,fe);M("MMM",function(e,t){return t.monthsShortRegex(e)});M("MMMM",function(e,t){return t.monthsRegex(e)});G(["M","MM"],function(e,t){t[$e]=U(e)-1});G(["MMM","MMMM"],function(e,t,s,a){var r=s._locale.monthsParse(e,a,s._strict);r!=null?t[$e]=r:R(s).invalidMonth=e});var ni="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Zs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ks=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ii=gt,oi=gt;function li(e,t){return e?ge(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ks).test(t)?"format":"standalone"][e.month()]:ge(this._months)?this._months:this._months.standalone}function ui(e,t){return e?ge(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ks.test(t)?"format":"standalone"][e.month()]:ge(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function di(e,t,s){var a,r,n,i=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)n=Se([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(n,"").toLocaleLowerCase();return s?t==="MMM"?(r=se.call(this._shortMonthsParse,i),r!==-1?r:null):(r=se.call(this._longMonthsParse,i),r!==-1?r:null):t==="MMM"?(r=se.call(this._shortMonthsParse,i),r!==-1?r:(r=se.call(this._longMonthsParse,i),r!==-1?r:null)):(r=se.call(this._longMonthsParse,i),r!==-1?r:(r=se.call(this._shortMonthsParse,i),r!==-1?r:null))}function ci(e,t,s){var a,r,n;if(this._monthsParseExact)return di.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=Se([2e3,a]),s&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!s&&!this._monthsParse[a]&&(n="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(n.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(s&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!s&&this._monthsParse[a].test(e))return a}}function Js(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=U(t);else if(t=e.localeData().monthsParse(t),!We(t))return e}var s=t,a=e.date();return a=a<29?a:Math.min(a,hs(e.year(),s)),e._isUTC?e._d.setUTCMonth(s,a):e._d.setMonth(s,a),e}function Qs(e){return e!=null?(Js(this,e),x.updateOffset(this,!0),this):ct(this,"Month")}function fi(){return hs(this.year(),this.month())}function hi(e){return this._monthsParseExact?(j(this,"_monthsRegex")||Xs.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=ii),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function mi(e){return this._monthsParseExact?(j(this,"_monthsRegex")||Xs.call(this),e?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=oi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Xs(){function e(v,m){return m.length-v.length}var t=[],s=[],a=[],r,n,i,l;for(r=0;r<12;r++)n=Se([2e3,r]),i=Ae(this.monthsShort(n,"")),l=Ae(this.months(n,"")),t.push(i),s.push(l),a.push(l),a.push(i);t.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function vi(e,t,s,a,r,n,i){var l;return e<100&&e>=0?(l=new Date(e+400,t,s,a,r,n,i),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,s,a,r,n,i),l}function ft(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Mt(e,t,s){var a=7+t-s,r=(7+ft(e,0,a).getUTCDay()-t)%7;return-r+a-1}function ea(e,t,s,a,r){var n=(7+s-a)%7,i=Mt(e,a,r),l=1+7*(t-1)+n+i,v,m;return l<=0?(v=e-1,m=dt(v)+l):l>dt(e)?(v=e+1,m=l-dt(e)):(v=e,m=l),{year:v,dayOfYear:m}}function ht(e,t,s){var a=Mt(e.year(),t,s),r=Math.floor((e.dayOfYear()-a-1)/7)+1,n,i;return r<1?(i=e.year()-1,n=r+Ie(i,t,s)):r>Ie(e.year(),t,s)?(n=r-Ie(e.year(),t,s),i=e.year()+1):(i=e.year(),n=r),{week:n,year:i}}function Ie(e,t,s){var a=Mt(e,t,s),r=Mt(e+1,t,s);return(dt(e)-a+r)/7}O("w",["ww",2],"wo","week");O("W",["WW",2],"Wo","isoWeek");M("w",Q,nt);M("ww",Q,fe);M("W",Q,nt);M("WW",Q,fe);pt(["w","ww","W","WW"],function(e,t,s,a){t[a.substr(0,1)]=U(e)});function yi(e){return ht(e,this._week.dow,this._week.doy).week}var gi={dow:0,doy:6};function pi(){return this._week.dow}function _i(){return this._week.doy}function wi(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function ki(e){var t=ht(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}O("d",0,"do","day");O("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});O("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});O("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});O("e",0,0,"weekday");O("E",0,0,"isoWeekday");M("d",Q);M("e",Q);M("E",Q);M("dd",function(e,t){return t.weekdaysMinRegex(e)});M("ddd",function(e,t){return t.weekdaysShortRegex(e)});M("dddd",function(e,t){return t.weekdaysRegex(e)});pt(["dd","ddd","dddd"],function(e,t,s,a){var r=s._locale.weekdaysParse(e,a,s._strict);r!=null?t.d=r:R(s).invalidWeekday=e});pt(["d","e","E"],function(e,t,s,a){t[a]=U(e)});function bi(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function xi(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ms(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Si="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ta="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Di=gt,Ti=gt,Ci=gt;function Yi(e,t){var s=ge(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?ms(s,this._week.dow):e?s[e.day()]:s}function $i(e){return e===!0?ms(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Oi(e){return e===!0?ms(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Pi(e,t,s){var a,r,n,i=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)n=Se([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(n,"").toLocaleLowerCase();return s?t==="dddd"?(r=se.call(this._weekdaysParse,i),r!==-1?r:null):t==="ddd"?(r=se.call(this._shortWeekdaysParse,i),r!==-1?r:null):(r=se.call(this._minWeekdaysParse,i),r!==-1?r:null):t==="dddd"?(r=se.call(this._weekdaysParse,i),r!==-1||(r=se.call(this._shortWeekdaysParse,i),r!==-1)?r:(r=se.call(this._minWeekdaysParse,i),r!==-1?r:null)):t==="ddd"?(r=se.call(this._shortWeekdaysParse,i),r!==-1||(r=se.call(this._weekdaysParse,i),r!==-1)?r:(r=se.call(this._minWeekdaysParse,i),r!==-1?r:null)):(r=se.call(this._minWeekdaysParse,i),r!==-1||(r=se.call(this._weekdaysParse,i),r!==-1)?r:(r=se.call(this._shortWeekdaysParse,i),r!==-1?r:null))}function Ni(e,t,s){var a,r,n;if(this._weekdaysParseExact)return Pi.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=Se([2e3,1]).day(a),s&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(n="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(n.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(s&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(s&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!s&&this._weekdaysParse[a].test(e))return a}}function Ai(e){if(!this.isValid())return e!=null?this:NaN;var t=ct(this,"Day");return e!=null?(e=bi(e,this.localeData()),this.add(e-t,"d")):t}function Ii(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Wi(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=xi(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Li(e){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||vs.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=Di),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ri(e){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||vs.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ti),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ei(e){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||vs.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ci),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vs(){function e(_,k){return k.length-_.length}var t=[],s=[],a=[],r=[],n,i,l,v,m;for(n=0;n<7;n++)i=Se([2e3,1]).day(n),l=Ae(this.weekdaysMin(i,"")),v=Ae(this.weekdaysShort(i,"")),m=Ae(this.weekdays(i,"")),t.push(l),s.push(v),a.push(m),r.push(l),r.push(v),r.push(m);t.sort(e),s.sort(e),a.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function ys(){return this.hours()%12||12}function Ui(){return this.hours()||24}O("H",["HH",2],0,"hour");O("h",["hh",2],0,ys);O("k",["kk",2],0,Ui);O("hmm",0,0,function(){return""+ys.apply(this)+xe(this.minutes(),2)});O("hmmss",0,0,function(){return""+ys.apply(this)+xe(this.minutes(),2)+xe(this.seconds(),2)});O("Hmm",0,0,function(){return""+this.hours()+xe(this.minutes(),2)});O("Hmmss",0,0,function(){return""+this.hours()+xe(this.minutes(),2)+xe(this.seconds(),2)});function sa(e,t){O(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}sa("a",!0);sa("A",!1);function aa(e,t){return t._meridiemParse}M("a",aa);M("A",aa);M("H",Q,fs);M("h",Q,nt);M("k",Q,nt);M("HH",Q,fe);M("hh",Q,fe);M("kk",Q,fe);M("hmm",zs);M("hmmss",Bs);M("Hmm",zs);M("Hmmss",Bs);G(["H","HH"],re);G(["k","kk"],function(e,t,s){var a=U(e);t[re]=a===24?0:a});G(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});G(["h","hh"],function(e,t,s){t[re]=U(e),R(s).bigHour=!0});G("hmm",function(e,t,s){var a=e.length-2;t[re]=U(e.substr(0,a)),t[ye]=U(e.substr(a)),R(s).bigHour=!0});G("hmmss",function(e,t,s){var a=e.length-4,r=e.length-2;t[re]=U(e.substr(0,a)),t[ye]=U(e.substr(a,2)),t[Oe]=U(e.substr(r)),R(s).bigHour=!0});G("Hmm",function(e,t,s){var a=e.length-2;t[re]=U(e.substr(0,a)),t[ye]=U(e.substr(a))});G("Hmmss",function(e,t,s){var a=e.length-4,r=e.length-2;t[re]=U(e.substr(0,a)),t[ye]=U(e.substr(a,2)),t[Oe]=U(e.substr(r))});function Vi(e){return(e+"").toLowerCase().charAt(0)==="p"}var ji=/[ap]\.?m?\.?/i,Fi=it("Hours",!0);function Hi(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var ra={calendar:Pn,longDateFormat:Wn,invalidDate:Rn,ordinal:Un,dayOfMonthOrdinalParse:Vn,relativeTime:Fn,months:ni,monthsShort:Zs,week:gi,weekdays:Si,weekdaysMin:Mi,weekdaysShort:ta,meridiemParse:ji},ee={},lt={},mt;function zi(e,t){var s,a=Math.min(e.length,t.length);for(s=0;s<a;s+=1)if(e[s]!==t[s])return s;return a}function $s(e){return e&&e.toLowerCase().replace("_","-")}function Bi(e){for(var t=0,s,a,r,n;t<e.length;){for(n=$s(e[t]).split("-"),s=n.length,a=$s(e[t+1]),a=a?a.split("-"):null;s>0;){if(r=Ut(n.slice(0,s).join("-")),r)return r;if(a&&a.length>=s&&zi(n,a)>=s-1)break;s--}t++}return mt}function Gi(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Ut(e){var t=null,s;if(ee[e]===void 0&&typeof module<"u"&&module&&module.exports&&Gi(e))try{t=mt._abbr,s=require,s("./locale/"+e),Fe(t)}catch{ee[e]=null}return ee[e]}function Fe(e,t){var s;return e&&(de(t)?s=Le(e):s=gs(e,t),s?mt=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),mt._abbr}function gs(e,t){if(t!==null){var s,a=ra;if(t.abbr=e,ee[e]!=null)Vs("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=ee[e]._config;else if(t.parentLocale!=null)if(ee[t.parentLocale]!=null)a=ee[t.parentLocale]._config;else if(s=Ut(t.parentLocale),s!=null)a=s._config;else return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;return ee[e]=new os(Qt(a,t)),lt[e]&&lt[e].forEach(function(r){gs(r.name,r.config)}),Fe(e),ee[e]}else return delete ee[e],null}function qi(e,t){if(t!=null){var s,a,r=ra;ee[e]!=null&&ee[e].parentLocale!=null?ee[e].set(Qt(ee[e]._config,t)):(a=Ut(e),a!=null&&(r=a._config),t=Qt(r,t),a==null&&(t.abbr=e),s=new os(t),s.parentLocale=ee[e],ee[e]=s),Fe(e)}else ee[e]!=null&&(ee[e].parentLocale!=null?(ee[e]=ee[e].parentLocale,e===Fe()&&Fe(e)):ee[e]!=null&&delete ee[e]);return ee[e]}function Le(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return mt;if(!ge(e)){if(t=Ut(e),t)return t;e=[e]}return Bi(e)}function Zi(){return Xt(ee)}function ps(e){var t,s=e._a;return s&&R(e).overflow===-2&&(t=s[$e]<0||s[$e]>11?$e:s[ke]<1||s[ke]>hs(s[ie],s[$e])?ke:s[re]<0||s[re]>24||s[re]===24&&(s[ye]!==0||s[Oe]!==0||s[ze]!==0)?re:s[ye]<0||s[ye]>59?ye:s[Oe]<0||s[Oe]>59?Oe:s[ze]<0||s[ze]>999?ze:-1,R(e)._overflowDayOfYear&&(t<ie||t>ke)&&(t=ke),R(e)._overflowWeeks&&t===-1&&(t=Xn),R(e)._overflowWeekday&&t===-1&&(t=ei),R(e).overflow=t),e}var Ki=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ji=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qi=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xi=/^\/?Date\((-?\d+)/i,eo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,to={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function na(e){var t,s,a=e._i,r=Ki.exec(a)||Ji.exec(a),n,i,l,v,m=wt.length,_=qt.length;if(r){for(R(e).iso=!0,t=0,s=m;t<s;t++)if(wt[t][1].exec(r[1])){i=wt[t][0],n=wt[t][2]!==!1;break}if(i==null){e._isValid=!1;return}if(r[3]){for(t=0,s=_;t<s;t++)if(qt[t][1].exec(r[3])){l=(r[2]||" ")+qt[t][0];break}if(l==null){e._isValid=!1;return}}if(!n&&l!=null){e._isValid=!1;return}if(r[4])if(Qi.exec(r[4]))v="Z";else{e._isValid=!1;return}e._f=i+(l||"")+(v||""),ws(e)}else e._isValid=!1}function so(e,t,s,a,r,n){var i=[ao(e),Zs.indexOf(t),parseInt(s,10),parseInt(a,10),parseInt(r,10)];return n&&i.push(parseInt(n,10)),i}function ao(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ro(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function no(e,t,s){if(e){var a=ta.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(a!==r)return R(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function io(e,t,s){if(e)return to[e];if(t)return 0;var a=parseInt(s,10),r=a%100,n=(a-r)/100;return n*60+r}function ia(e){var t=eo.exec(ro(e._i)),s;if(t){if(s=so(t[4],t[3],t[2],t[5],t[6],t[7]),!no(t[1],s,e))return;e._a=s,e._tzm=io(t[8],t[9],t[10]),e._d=ft.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),R(e).rfc2822=!0}else e._isValid=!1}function oo(e){var t=Xi.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(na(e),e._isValid===!1)delete e._isValid;else return;if(ia(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:x.createFromInputFallback(e)}x.createFromInputFallback=me("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Je(e,t,s){return e??t??s}function lo(e){var t=new Date(x.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function _s(e){var t,s,a=[],r,n,i;if(!e._d){for(r=lo(e),e._w&&e._a[ke]==null&&e._a[$e]==null&&uo(e),e._dayOfYear!=null&&(i=Je(e._a[ie],r[ie]),(e._dayOfYear>dt(i)||e._dayOfYear===0)&&(R(e)._overflowDayOfYear=!0),s=ft(i,0,e._dayOfYear),e._a[$e]=s.getUTCMonth(),e._a[ke]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[re]===24&&e._a[ye]===0&&e._a[Oe]===0&&e._a[ze]===0&&(e._nextDay=!0,e._a[re]=0),e._d=(e._useUTC?ft:vi).apply(null,a),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[re]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==n&&(R(e).weekdayMismatch=!0)}}function uo(e){var t,s,a,r,n,i,l,v,m;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(n=1,i=4,s=Je(t.GG,e._a[ie],ht(J(),1,4).year),a=Je(t.W,1),r=Je(t.E,1),(r<1||r>7)&&(v=!0)):(n=e._locale._week.dow,i=e._locale._week.doy,m=ht(J(),n,i),s=Je(t.gg,e._a[ie],m.year),a=Je(t.w,m.week),t.d!=null?(r=t.d,(r<0||r>6)&&(v=!0)):t.e!=null?(r=t.e+n,(t.e<0||t.e>6)&&(v=!0)):r=n),a<1||a>Ie(s,n,i)?R(e)._overflowWeeks=!0:v!=null?R(e)._overflowWeekday=!0:(l=ea(s,a,r,n,i),e._a[ie]=l.year,e._dayOfYear=l.dayOfYear)}x.ISO_8601=function(){};x.RFC_2822=function(){};function ws(e){if(e._f===x.ISO_8601){na(e);return}if(e._f===x.RFC_2822){ia(e);return}e._a=[],R(e).empty=!0;var t=""+e._i,s,a,r,n,i,l=t.length,v=0,m,_;for(r=js(e._f,e._locale).match(ls)||[],_=r.length,s=0;s<_;s++)n=r[s],a=(t.match(Kn(n,e))||[])[0],a&&(i=t.substr(0,t.indexOf(a)),i.length>0&&R(e).unusedInput.push(i),t=t.slice(t.indexOf(a)+a.length),v+=a.length),et[n]?(a?R(e).empty=!1:R(e).unusedTokens.push(n),Qn(n,a,e)):e._strict&&!a&&R(e).unusedTokens.push(n);R(e).charsLeftOver=l-v,t.length>0&&R(e).unusedInput.push(t),e._a[re]<=12&&R(e).bigHour===!0&&e._a[re]>0&&(R(e).bigHour=void 0),R(e).parsedDateParts=e._a.slice(0),R(e).meridiem=e._meridiem,e._a[re]=co(e._locale,e._a[re],e._meridiem),m=R(e).era,m!==null&&(e._a[ie]=e._locale.erasConvertYear(m,e._a[ie])),_s(e),ps(e)}function co(e,t,s){var a;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(a=e.isPM(s),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function fo(e){var t,s,a,r,n,i,l=!1,v=e._f.length;if(v===0){R(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<v;r++)n=0,i=!1,t=is({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],ws(t),ns(t)&&(i=!0),n+=R(t).charsLeftOver,n+=R(t).unusedTokens.length*10,R(t).score=n,l?n<a&&(a=n,s=t):(a==null||n<a||i)&&(a=n,s=t,i&&(l=!0));Ve(e,s||t)}function ho(e){if(!e._d){var t=us(e._i),s=t.day===void 0?t.date:t.day;e._a=Es([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),_s(e)}}function mo(e){var t=new yt(ps(oa(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function oa(e){var t=e._i,s=e._f;return e._locale=e._locale||Le(e._l),t===null||s===void 0&&t===""?Nt({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),pe(t)?new yt(ps(t)):(vt(t)?e._d=t:ge(s)?fo(e):s?ws(e):vo(e),ns(e)||(e._d=null),e))}function vo(e){var t=e._i;de(t)?e._d=new Date(x.now()):vt(t)?e._d=new Date(t.valueOf()):typeof t=="string"?oo(e):ge(t)?(e._a=Es(t.slice(0),function(s){return parseInt(s,10)}),_s(e)):Be(t)?ho(e):We(t)?e._d=new Date(t):x.createFromInputFallback(e)}function la(e,t,s,a,r){var n={};return(t===!0||t===!1)&&(a=t,t=void 0),(s===!0||s===!1)&&(a=s,s=void 0),(Be(e)&&rs(e)||ge(e)&&e.length===0)&&(e=void 0),n._isAMomentObject=!0,n._useUTC=n._isUTC=r,n._l=s,n._i=e,n._f=t,n._strict=a,mo(n)}function J(e,t,s,a){return la(e,t,s,a,!1)}var yo=me("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=J.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Nt()}),go=me("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=J.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Nt()});function ua(e,t){var s,a;if(t.length===1&&ge(t[0])&&(t=t[0]),!t.length)return J();for(s=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](s))&&(s=t[a]);return s}function po(){var e=[].slice.call(arguments,0);return ua("isBefore",e)}function _o(){var e=[].slice.call(arguments,0);return ua("isAfter",e)}var wo=function(){return Date.now?Date.now():+new Date},ut=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ko(e){var t,s=!1,a,r=ut.length;for(t in e)if(j(e,t)&&!(se.call(ut,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<r;++a)if(e[ut[a]]){if(s)return!1;parseFloat(e[ut[a]])!==U(e[ut[a]])&&(s=!0)}return!0}function bo(){return this._isValid}function xo(){return _e(NaN)}function Vt(e){var t=us(e),s=t.year||0,a=t.quarter||0,r=t.month||0,n=t.week||t.isoWeek||0,i=t.day||0,l=t.hour||0,v=t.minute||0,m=t.second||0,_=t.millisecond||0;this._isValid=ko(t),this._milliseconds=+_+m*1e3+v*6e4+l*1e3*60*60,this._days=+i+n*7,this._months=+r+a*3+s*12,this._data={},this._locale=Le(),this._bubble()}function bt(e){return e instanceof Vt}function ts(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function So(e,t,s){var a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),n=0,i;for(i=0;i<a;i++)U(e[i])!==U(t[i])&&n++;return n+r}function da(e,t){O(e,0,0,function(){var s=this.utcOffset(),a="+";return s<0&&(s=-s,a="-"),a+xe(~~(s/60),2)+t+xe(~~s%60,2)})}da("Z",":");da("ZZ","");M("Z",Rt);M("ZZ",Rt);G(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=ks(Rt,e)});var Mo=/([\+\-]|\d\d)/gi;function ks(e,t){var s=(t||"").match(e),a,r,n;return s===null?null:(a=s[s.length-1]||[],r=(a+"").match(Mo)||["-",0,0],n=+(r[1]*60)+U(r[2]),n===0?0:r[0]==="+"?n:-n)}function bs(e,t){var s,a;return t._isUTC?(s=t.clone(),a=(pe(e)||vt(e)?e.valueOf():J(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+a),x.updateOffset(s,!1),s):J(e).local()}function ss(e){return-Math.round(e._d.getTimezoneOffset())}x.updateOffset=function(){};function Do(e,t,s){var a=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=ks(Rt,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(r=ss(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?ha(this,_e(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,x.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:ss(this)}function To(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Co(e){return this.utcOffset(0,e)}function Yo(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ss(this),"m")),this}function $o(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=ks(qn,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Oo(e){return this.isValid()?(e=e?J(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Po(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function No(){if(!de(this._isDSTShifted))return this._isDSTShifted;var e={},t;return is(e,this),e=oa(e),e._a?(t=e._isUTC?Se(e._a):J(e._a),this._isDSTShifted=this.isValid()&&So(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ao(){return this.isValid()?!this._isUTC:!1}function Io(){return this.isValid()?this._isUTC:!1}function ca(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Wo=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Lo=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _e(e,t){var s=e,a=null,r,n,i;return bt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:We(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=Wo.exec(e))?(r=a[1]==="-"?-1:1,s={y:0,d:U(a[ke])*r,h:U(a[re])*r,m:U(a[ye])*r,s:U(a[Oe])*r,ms:U(ts(a[ze]*1e3))*r}):(a=Lo.exec(e))?(r=a[1]==="-"?-1:1,s={y:He(a[2],r),M:He(a[3],r),w:He(a[4],r),d:He(a[5],r),h:He(a[6],r),m:He(a[7],r),s:He(a[8],r)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(i=Ro(J(s.from),J(s.to)),s={},s.ms=i.milliseconds,s.M=i.months),n=new Vt(s),bt(e)&&j(e,"_locale")&&(n._locale=e._locale),bt(e)&&j(e,"_isValid")&&(n._isValid=e._isValid),n}_e.fn=Vt.prototype;_e.invalid=xo;function He(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function Os(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function Ro(e,t){var s;return e.isValid()&&t.isValid()?(t=bs(t,e),e.isBefore(t)?s=Os(e,t):(s=Os(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function fa(e,t){return function(s,a){var r,n;return a!==null&&!isNaN(+a)&&(Vs(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=s,s=a,a=n),r=_e(s,a),ha(this,r,e),this}}function ha(e,t,s,a){var r=t._milliseconds,n=ts(t._days),i=ts(t._months);e.isValid()&&(a=a??!0,i&&Js(e,ct(e,"Month")+i*s),n&&qs(e,"Date",ct(e,"Date")+n*s),r&&e._d.setTime(e._d.valueOf()+r*s),a&&x.updateOffset(e,n||i))}var Eo=fa(1,"add"),Uo=fa(-1,"subtract");function ma(e){return typeof e=="string"||e instanceof String}function Vo(e){return pe(e)||vt(e)||ma(e)||We(e)||Fo(e)||jo(e)||e===null||e===void 0}function jo(e){var t=Be(e)&&!rs(e),s=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,n,i=a.length;for(r=0;r<i;r+=1)n=a[r],s=s||j(e,n);return t&&s}function Fo(e){var t=ge(e),s=!1;return t&&(s=e.filter(function(a){return!We(a)&&ma(e)}).length===0),t&&s}function Ho(e){var t=Be(e)&&!rs(e),s=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,n;for(r=0;r<a.length;r+=1)n=a[r],s=s||j(e,n);return t&&s}function zo(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function Bo(e,t){arguments.length===1&&(arguments[0]?Vo(arguments[0])?(e=arguments[0],t=void 0):Ho(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||J(),a=bs(s,this).startOf("day"),r=x.calendarFormat(this,a)||"sameElse",n=t&&(Me(t[r])?t[r].call(this,s):t[r]);return this.format(n||this.localeData().calendar(r,this,J(s)))}function Go(){return new yt(this)}function qo(e,t){var s=pe(e)?e:J(e);return this.isValid()&&s.isValid()?(t=ve(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Zo(e,t){var s=pe(e)?e:J(e);return this.isValid()&&s.isValid()?(t=ve(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function Ko(e,t,s,a){var r=pe(e)?e:J(e),n=pe(t)?t:J(t);return this.isValid()&&r.isValid()&&n.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(r,s):!this.isBefore(r,s))&&(a[1]===")"?this.isBefore(n,s):!this.isAfter(n,s))):!1}function Jo(e,t){var s=pe(e)?e:J(e),a;return this.isValid()&&s.isValid()?(t=ve(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(a=s.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function Qo(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xo(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function el(e,t,s){var a,r,n;if(!this.isValid())return NaN;if(a=bs(e,this),!a.isValid())return NaN;switch(r=(a.utcOffset()-this.utcOffset())*6e4,t=ve(t),t){case"year":n=xt(this,a)/12;break;case"month":n=xt(this,a);break;case"quarter":n=xt(this,a)/3;break;case"second":n=(this-a)/1e3;break;case"minute":n=(this-a)/6e4;break;case"hour":n=(this-a)/36e5;break;case"day":n=(this-a-r)/864e5;break;case"week":n=(this-a-r)/6048e5;break;default:n=this-a}return s?n:he(n)}function xt(e,t){if(e.date()<t.date())return-xt(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(s,"months"),r,n;return t-a<0?(r=e.clone().add(s-1,"months"),n=(t-a)/(a-r)):(r=e.clone().add(s+1,"months"),n=(t-a)/(r-a)),-(s+n)||0}x.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";x.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function tl(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function sl(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?kt(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Me(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",kt(s,"Z")):kt(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function al(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,a,r,n;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",n=t+'[")]',this.format(s+a+r+n)}function rl(e){e||(e=this.isUtc()?x.defaultFormatUtc:x.defaultFormat);var t=kt(this,e);return this.localeData().postformat(t)}function nl(e,t){return this.isValid()&&(pe(e)&&e.isValid()||J(e).isValid())?_e({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function il(e){return this.from(J(),e)}function ol(e,t){return this.isValid()&&(pe(e)&&e.isValid()||J(e).isValid())?_e({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ll(e){return this.to(J(),e)}function va(e){var t;return e===void 0?this._locale._abbr:(t=Le(e),t!=null&&(this._locale=t),this)}var ya=me("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function ga(){return this._locale}var Dt=1e3,tt=60*Dt,Tt=60*tt,pa=(365*400+97)*24*Tt;function st(e,t){return(e%t+t)%t}function _a(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-pa:new Date(e,t,s).valueOf()}function wa(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-pa:Date.UTC(e,t,s)}function ul(e){var t,s;if(e=ve(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?wa:_a,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=st(t+(this._isUTC?0:this.utcOffset()*tt),Tt);break;case"minute":t=this._d.valueOf(),t-=st(t,tt);break;case"second":t=this._d.valueOf(),t-=st(t,Dt);break}return this._d.setTime(t),x.updateOffset(this,!0),this}function dl(e){var t,s;if(e=ve(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?wa:_a,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Tt-st(t+(this._isUTC?0:this.utcOffset()*tt),Tt)-1;break;case"minute":t=this._d.valueOf(),t+=tt-st(t,tt)-1;break;case"second":t=this._d.valueOf(),t+=Dt-st(t,Dt)-1;break}return this._d.setTime(t),x.updateOffset(this,!0),this}function cl(){return this._d.valueOf()-(this._offset||0)*6e4}function fl(){return Math.floor(this.valueOf()/1e3)}function hl(){return new Date(this.valueOf())}function ml(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function vl(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function yl(){return this.isValid()?this.toISOString():null}function gl(){return ns(this)}function pl(){return Ve({},R(this))}function _l(){return R(this).overflow}function wl(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}O("N",0,0,"eraAbbr");O("NN",0,0,"eraAbbr");O("NNN",0,0,"eraAbbr");O("NNNN",0,0,"eraName");O("NNNNN",0,0,"eraNarrow");O("y",["y",1],"yo","eraYear");O("y",["yy",2],0,"eraYear");O("y",["yyy",3],0,"eraYear");O("y",["yyyy",4],0,"eraYear");M("N",xs);M("NN",xs);M("NNN",xs);M("NNNN",Ol);M("NNNNN",Pl);G(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,a){var r=s._locale.erasParse(e,a,s._strict);r?R(s).era=r:R(s).invalidEra=e});M("y",rt);M("yy",rt);M("yyy",rt);M("yyyy",rt);M("yo",Nl);G(["y","yy","yyy","yyyy"],ie);G(["yo"],function(e,t,s,a){var r;s._locale._eraYearOrdinalRegex&&(r=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[ie]=s._locale.eraYearOrdinalParse(e,r):t[ie]=parseInt(e,10)});function kl(e,t){var s,a,r,n=this._eras||Le("en")._eras;for(s=0,a=n.length;s<a;++s){switch(typeof n[s].since){case"string":r=x(n[s].since).startOf("day"),n[s].since=r.valueOf();break}switch(typeof n[s].until){case"undefined":n[s].until=1/0;break;case"string":r=x(n[s].until).startOf("day").valueOf(),n[s].until=r.valueOf();break}}return n}function bl(e,t,s){var a,r,n=this.eras(),i,l,v;for(e=e.toUpperCase(),a=0,r=n.length;a<r;++a)if(i=n[a].name.toUpperCase(),l=n[a].abbr.toUpperCase(),v=n[a].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(l===e)return n[a];break;case"NNNN":if(i===e)return n[a];break;case"NNNNN":if(v===e)return n[a];break}else if([i,l,v].indexOf(e)>=0)return n[a]}function xl(e,t){var s=e.since<=e.until?1:-1;return t===void 0?x(e.since).year():x(e.since).year()+(t-e.offset)*s}function Sl(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].name;return""}function Ml(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].narrow;return""}function Dl(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].abbr;return""}function Tl(){var e,t,s,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=r[e].since<=r[e].until?1:-1,a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until||r[e].until<=a&&a<=r[e].since)return(this.year()-x(r[e].since).year())*s+r[e].offset;return this.year()}function Cl(e){return j(this,"_erasNameRegex")||Ss.call(this),e?this._erasNameRegex:this._erasRegex}function Yl(e){return j(this,"_erasAbbrRegex")||Ss.call(this),e?this._erasAbbrRegex:this._erasRegex}function $l(e){return j(this,"_erasNarrowRegex")||Ss.call(this),e?this._erasNarrowRegex:this._erasRegex}function xs(e,t){return t.erasAbbrRegex(e)}function Ol(e,t){return t.erasNameRegex(e)}function Pl(e,t){return t.erasNarrowRegex(e)}function Nl(e,t){return t._eraYearOrdinalRegex||rt}function Ss(){var e=[],t=[],s=[],a=[],r,n,i,l,v,m=this.eras();for(r=0,n=m.length;r<n;++r)i=Ae(m[r].name),l=Ae(m[r].abbr),v=Ae(m[r].narrow),t.push(i),e.push(l),s.push(v),a.push(i),a.push(l),a.push(v);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}O(0,["gg",2],0,function(){return this.weekYear()%100});O(0,["GG",2],0,function(){return this.isoWeekYear()%100});function jt(e,t){O(0,[e,e.length],0,t)}jt("gggg","weekYear");jt("ggggg","weekYear");jt("GGGG","isoWeekYear");jt("GGGGG","isoWeekYear");M("G",Lt);M("g",Lt);M("GG",Q,fe);M("gg",Q,fe);M("GGGG",cs,ds);M("gggg",cs,ds);M("GGGGG",Wt,At);M("ggggg",Wt,At);pt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,a){t[a.substr(0,2)]=U(e)});pt(["gg","GG"],function(e,t,s,a){t[a]=x.parseTwoDigitYear(e)});function Al(e){return ka.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Il(e){return ka.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wl(){return Ie(this.year(),1,4)}function Ll(){return Ie(this.isoWeekYear(),1,4)}function Rl(){var e=this.localeData()._week;return Ie(this.year(),e.dow,e.doy)}function El(){var e=this.localeData()._week;return Ie(this.weekYear(),e.dow,e.doy)}function ka(e,t,s,a,r){var n;return e==null?ht(this,a,r).year:(n=Ie(e,a,r),t>n&&(t=n),Ul.call(this,e,t,s,a,r))}function Ul(e,t,s,a,r){var n=ea(e,t,s,a,r),i=ft(n.year,0,n.dayOfYear);return this.year(i.getUTCFullYear()),this.month(i.getUTCMonth()),this.date(i.getUTCDate()),this}O("Q",0,"Qo","quarter");M("Q",Fs);G("Q",function(e,t){t[$e]=(U(e)-1)*3});function Vl(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}O("D",["DD",2],"Do","date");M("D",Q,nt);M("DD",Q,fe);M("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});G(["D","DD"],ke);G("Do",function(e,t){t[ke]=U(e.match(Q)[0])});var ba=it("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear");M("DDD",It);M("DDDD",Hs);G(["DDD","DDDD"],function(e,t,s){s._dayOfYear=U(e)});function jl(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}O("m",["mm",2],0,"minute");M("m",Q,fs);M("mm",Q,fe);G(["m","mm"],ye);var Fl=it("Minutes",!1);O("s",["ss",2],0,"second");M("s",Q,fs);M("ss",Q,fe);G(["s","ss"],Oe);var Hl=it("Seconds",!1);O("S",0,0,function(){return~~(this.millisecond()/100)});O(0,["SS",2],0,function(){return~~(this.millisecond()/10)});O(0,["SSS",3],0,"millisecond");O(0,["SSSS",4],0,function(){return this.millisecond()*10});O(0,["SSSSS",5],0,function(){return this.millisecond()*100});O(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});O(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});O(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});O(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});M("S",It,Fs);M("SS",It,fe);M("SSS",It,Hs);var je,xa;for(je="SSSS";je.length<=9;je+="S")M(je,rt);function zl(e,t){t[ze]=U(("0."+e)*1e3)}for(je="S";je.length<=9;je+="S")G(je,zl);xa=it("Milliseconds",!1);O("z",0,0,"zoneAbbr");O("zz",0,0,"zoneName");function Bl(){return this._isUTC?"UTC":""}function Gl(){return this._isUTC?"Coordinated Universal Time":""}var w=yt.prototype;w.add=Eo;w.calendar=Bo;w.clone=Go;w.diff=el;w.endOf=dl;w.format=rl;w.from=nl;w.fromNow=il;w.to=ol;w.toNow=ll;w.get=si;w.invalidAt=_l;w.isAfter=qo;w.isBefore=Zo;w.isBetween=Ko;w.isSame=Jo;w.isSameOrAfter=Qo;w.isSameOrBefore=Xo;w.isValid=gl;w.lang=ya;w.locale=va;w.localeData=ga;w.max=go;w.min=yo;w.parsingFlags=pl;w.set=ai;w.startOf=ul;w.subtract=Uo;w.toArray=ml;w.toObject=vl;w.toDate=hl;w.toISOString=sl;w.inspect=al;typeof Symbol<"u"&&Symbol.for!=null&&(w[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});w.toJSON=yl;w.toString=tl;w.unix=fl;w.valueOf=cl;w.creationData=wl;w.eraName=Sl;w.eraNarrow=Ml;w.eraAbbr=Dl;w.eraYear=Tl;w.year=Gs;w.isLeapYear=ti;w.weekYear=Al;w.isoWeekYear=Il;w.quarter=w.quarters=Vl;w.month=Qs;w.daysInMonth=fi;w.week=w.weeks=wi;w.isoWeek=w.isoWeeks=ki;w.weeksInYear=Rl;w.weeksInWeekYear=El;w.isoWeeksInYear=Wl;w.isoWeeksInISOWeekYear=Ll;w.date=ba;w.day=w.days=Ai;w.weekday=Ii;w.isoWeekday=Wi;w.dayOfYear=jl;w.hour=w.hours=Fi;w.minute=w.minutes=Fl;w.second=w.seconds=Hl;w.millisecond=w.milliseconds=xa;w.utcOffset=Do;w.utc=Co;w.local=Yo;w.parseZone=$o;w.hasAlignedHourOffset=Oo;w.isDST=Po;w.isLocal=Ao;w.isUtcOffset=Io;w.isUtc=ca;w.isUTC=ca;w.zoneAbbr=Bl;w.zoneName=Gl;w.dates=me("dates accessor is deprecated. Use date instead.",ba);w.months=me("months accessor is deprecated. Use month instead",Qs);w.years=me("years accessor is deprecated. Use year instead",Gs);w.zone=me("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",To);w.isDSTShifted=me("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",No);function ql(e){return J(e*1e3)}function Zl(){return J.apply(null,arguments).parseZone()}function Sa(e){return e}var F=os.prototype;F.calendar=Nn;F.longDateFormat=Ln;F.invalidDate=En;F.ordinal=jn;F.preparse=Sa;F.postformat=Sa;F.relativeTime=Hn;F.pastFuture=zn;F.set=On;F.eras=kl;F.erasParse=bl;F.erasConvertYear=xl;F.erasAbbrRegex=Yl;F.erasNameRegex=Cl;F.erasNarrowRegex=$l;F.months=li;F.monthsShort=ui;F.monthsParse=ci;F.monthsRegex=mi;F.monthsShortRegex=hi;F.week=yi;F.firstDayOfYear=_i;F.firstDayOfWeek=pi;F.weekdays=Yi;F.weekdaysMin=Oi;F.weekdaysShort=$i;F.weekdaysParse=Ni;F.weekdaysRegex=Li;F.weekdaysShortRegex=Ri;F.weekdaysMinRegex=Ei;F.isPM=Vi;F.meridiem=Hi;function Ct(e,t,s,a){var r=Le(),n=Se().set(a,t);return r[s](n,e)}function Ma(e,t,s){if(We(e)&&(t=e,e=void 0),e=e||"",t!=null)return Ct(e,t,s,"month");var a,r=[];for(a=0;a<12;a++)r[a]=Ct(e,a,s,"month");return r}function Ms(e,t,s,a){typeof e=="boolean"?(We(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,We(t)&&(s=t,t=void 0),t=t||"");var r=Le(),n=e?r._week.dow:0,i,l=[];if(s!=null)return Ct(t,(s+n)%7,a,"day");for(i=0;i<7;i++)l[i]=Ct(t,(i+n)%7,a,"day");return l}function Kl(e,t){return Ma(e,t,"months")}function Jl(e,t){return Ma(e,t,"monthsShort")}function Ql(e,t,s){return Ms(e,t,s,"weekdays")}function Xl(e,t,s){return Ms(e,t,s,"weekdaysShort")}function eu(e,t,s){return Ms(e,t,s,"weekdaysMin")}Fe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=U(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});x.lang=me("moment.lang is deprecated. Use moment.locale instead.",Fe);x.langData=me("moment.langData is deprecated. Use moment.localeData instead.",Le);var De=Math.abs;function tu(){var e=this._data;return this._milliseconds=De(this._milliseconds),this._days=De(this._days),this._months=De(this._months),e.milliseconds=De(e.milliseconds),e.seconds=De(e.seconds),e.minutes=De(e.minutes),e.hours=De(e.hours),e.months=De(e.months),e.years=De(e.years),this}function Da(e,t,s,a){var r=_e(t,s);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function su(e,t){return Da(this,e,t,1)}function au(e,t){return Da(this,e,t,-1)}function Ps(e){return e<0?Math.floor(e):Math.ceil(e)}function ru(){var e=this._milliseconds,t=this._days,s=this._months,a=this._data,r,n,i,l,v;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=Ps(as(s)+t)*864e5,t=0,s=0),a.milliseconds=e%1e3,r=he(e/1e3),a.seconds=r%60,n=he(r/60),a.minutes=n%60,i=he(n/60),a.hours=i%24,t+=he(i/24),v=he(Ta(t)),s+=v,t-=Ps(as(v)),l=he(s/12),s%=12,a.days=t,a.months=s,a.years=l,this}function Ta(e){return e*4800/146097}function as(e){return e*146097/4800}function nu(e){if(!this.isValid())return NaN;var t,s,a=this._milliseconds;if(e=ve(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,s=this._months+Ta(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(as(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function Re(e){return function(){return this.as(e)}}var Ca=Re("ms"),iu=Re("s"),ou=Re("m"),lu=Re("h"),uu=Re("d"),du=Re("w"),cu=Re("M"),fu=Re("Q"),hu=Re("y"),mu=Ca;function vu(){return _e(this)}function yu(e){return e=ve(e),this.isValid()?this[e+"s"]():NaN}function Ze(e){return function(){return this.isValid()?this._data[e]:NaN}}var gu=Ze("milliseconds"),pu=Ze("seconds"),_u=Ze("minutes"),wu=Ze("hours"),ku=Ze("days"),bu=Ze("months"),xu=Ze("years");function Su(){return he(this.days()/7)}var Te=Math.round,Qe={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Mu(e,t,s,a,r){return r.relativeTime(t||1,!!s,e,a)}function Du(e,t,s,a){var r=_e(e).abs(),n=Te(r.as("s")),i=Te(r.as("m")),l=Te(r.as("h")),v=Te(r.as("d")),m=Te(r.as("M")),_=Te(r.as("w")),k=Te(r.as("y")),$=n<=s.ss&&["s",n]||n<s.s&&["ss",n]||i<=1&&["m"]||i<s.m&&["mm",i]||l<=1&&["h"]||l<s.h&&["hh",l]||v<=1&&["d"]||v<s.d&&["dd",v];return s.w!=null&&($=$||_<=1&&["w"]||_<s.w&&["ww",_]),$=$||m<=1&&["M"]||m<s.M&&["MM",m]||k<=1&&["y"]||["yy",k],$[2]=t,$[3]=+e>0,$[4]=a,Mu.apply(null,$)}function Tu(e){return e===void 0?Te:typeof e=="function"?(Te=e,!0):!1}function Cu(e,t){return Qe[e]===void 0?!1:t===void 0?Qe[e]:(Qe[e]=t,e==="s"&&(Qe.ss=t-1),!0)}function Yu(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,a=Qe,r,n;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(a=Object.assign({},Qe,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),r=this.localeData(),n=Du(this,!s,a,r),s&&(n=r.pastFuture(+this,n)),r.postformat(n)}var Zt=Math.abs;function Ke(e){return(e>0)-(e<0)||+e}function Ft(){if(!this.isValid())return this.localeData().invalidDate();var e=Zt(this._milliseconds)/1e3,t=Zt(this._days),s=Zt(this._months),a,r,n,i,l=this.asSeconds(),v,m,_,k;return l?(a=he(e/60),r=he(a/60),e%=60,a%=60,n=he(s/12),s%=12,i=e?e.toFixed(3).replace(/\.?0+$/,""):"",v=l<0?"-":"",m=Ke(this._months)!==Ke(l)?"-":"",_=Ke(this._days)!==Ke(l)?"-":"",k=Ke(this._milliseconds)!==Ke(l)?"-":"",v+"P"+(n?m+n+"Y":"")+(s?m+s+"M":"")+(t?_+t+"D":"")+(r||a||e?"T":"")+(r?k+r+"H":"")+(a?k+a+"M":"")+(e?k+i+"S":"")):"P0D"}var V=Vt.prototype;V.isValid=bo;V.abs=tu;V.add=su;V.subtract=au;V.as=nu;V.asMilliseconds=Ca;V.asSeconds=iu;V.asMinutes=ou;V.asHours=lu;V.asDays=uu;V.asWeeks=du;V.asMonths=cu;V.asQuarters=fu;V.asYears=hu;V.valueOf=mu;V._bubble=ru;V.clone=vu;V.get=yu;V.milliseconds=gu;V.seconds=pu;V.minutes=_u;V.hours=wu;V.days=ku;V.weeks=Su;V.months=bu;V.years=xu;V.humanize=Yu;V.toISOString=Ft;V.toString=Ft;V.toJSON=Ft;V.locale=va;V.localeData=ga;V.toIsoString=me("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ft);V.lang=ya;O("X",0,0,"unix");O("x",0,0,"valueOf");M("x",Lt);M("X",Zn);G("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});G("x",function(e,t,s){s._d=new Date(U(e))});//! moment.js
x.version="2.30.1";Yn(J);x.fn=w;x.min=po;x.max=_o;x.now=wo;x.utc=Se;x.unix=ql;x.months=Kl;x.isDate=vt;x.locale=Fe;x.invalid=Nt;x.duration=_e;x.isMoment=pe;x.weekdays=Ql;x.parseZone=Zl;x.localeData=Le;x.isDuration=bt;x.monthsShort=Jl;x.weekdaysMin=eu;x.defineLocale=gs;x.updateLocale=qi;x.locales=Zi;x.weekdaysShort=Xl;x.normalizeUnits=ve;x.relativeTimeRounding=Tu;x.relativeTimeThreshold=Cu;x.calendarFormat=zo;x.prototype=w;x.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const $u={class:"space-y-4"},Ou={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},Pu={class:"text-sm font-medium text-gray-900"},Nu={class:"text-xs text-gray-500 mt-1"},Au={class:"mb-4"},Iu="post",Wu="Add Note",Lu="Note added successfully!",Ru={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(e,{emit:t}){const s=e,a=t,r=Ot({note:""}),n=B(()=>{var m;return`Add Note to Task: "${(m=s.taskForNote)==null?void 0:m.name}"`}),i=B(()=>{var m;return`/api/tasks/${(m=s.taskForNote)==null?void 0:m.id}/notes`});le(()=>s.show,m=>{m&&Object.assign(r,{note:""})},{immediate:!0});const l=m=>{a("note-added",m),a("close")},v=()=>{a("close")};return(m,_)=>(f(),W(Pt,{show:e.show,title:n.value,"api-endpoint":i.value,"http-method":Iu,"form-data":r,"submit-button-text":Wu,"success-message":Lu,onClose:v,onSubmitted:l},{default:S(({errors:k})=>[o("div",$u,[e.taskForNote?(f(),p("div",Ou,[o("p",Pu,L(e.taskForNote.name),1),o("p",Nu,"Status: "+L(e.taskForNote.status),1)])):C("",!0),o("div",Au,[g(Z,{for:"task-note-content",value:"Note Content"}),ae(o("textarea",{id:"task-note-content","onUpdate:modelValue":_[0]||(_[0]=$=>r.note=$),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[Pe,r.note]]),g(te,{message:k.note?k.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},Eu={key:0,class:"text-center py-8 text-gray-500"},Uu={key:1,class:"text-center py-8 text-red-600"},Vu={key:2,class:"space-y-6"},ju={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},Fu={class:"text-xl font-bold text-gray-900 mb-2"},Hu={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},zu={key:0,class:"text-indigo-600 font-medium"},Bu={key:1,class:"text-purple-600 font-medium"},Gu={class:"text-gray-700 leading-relaxed"},qu={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},Zu={class:"flex items-center justify-between py-2 border-b border-gray-100"},Ku={class:"flex-1 text-right"},Ju={key:1,class:"flex items-center space-x-2"},Qu={class:"flex items-center justify-between py-2 border-b border-gray-100"},Xu={class:"flex-1 text-right"},ed={key:1,class:"flex items-center space-x-2"},td={class:"flex items-center justify-between py-2 border-b border-gray-100"},sd={class:"text-gray-700"},ad={class:"bg-white p-4 rounded-lg shadow-sm"},rd={class:"flex justify-between items-center mb-4 border-b pb-2"},nd={key:0,class:"space-y-3"},id={class:"text-sm text-gray-700"},od={class:"text-xs text-gray-500 mt-1"},ld={key:1,class:"text-gray-500 text-sm py-2"},ud={key:3,class:"text-center py-8 text-gray-500"},dd={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(e,{emit:t}){const s=e,a=t,r=N(null),n=N(!0),i=N(""),l=N(!1),v=N(!1),m=N(null),_=N(null),k=N(!1),$=async()=>{n.value=!0,i.value="";try{const d=await window.axios.get(`/api/tasks/${s.taskId}`);r.value=d.data,m.value=r.value.assigned_to_id||null,_.value=r.value.due_date||null}catch(d){i.value="Failed to load task details.",console.error("Error fetching task details:",d)}finally{n.value=!1}};le(()=>s.taskId,d=>{d?$():r.value=null},{immediate:!0});const X=B(()=>s.projectUsers.map(d=>({value:d.id,label:d.name}))),E=async()=>{if(!r.value||m.value===r.value.assigned_to_id){l.value=!1;return}try{const d=await window.axios.patch(`/api/tasks/${r.value.id}`,{assigned_to_user_id:m.value});r.value=d.data,a("task-updated",r.value)}catch(d){console.error("Error updating assigned user:",d),m.value=r.value.assigned_to_id,alert("Failed to update assigned user. Please try again.")}finally{l.value=!1}},Y=async()=>{if(!r.value||_.value===r.value.due_date){v.value=!1;return}try{const d=await window.axios.patch(`/api/tasks/${r.value.id}`,{due_date:_.value});r.value=d.data,a("task-updated",r.value)}catch(d){console.error("Error updating due date:",d),_.value=r.value.due_date,alert("Failed to update due date. Please try again.")}finally{v.value=!1}},T=()=>{k.value=!0},b=()=>{$(),k.value=!1},u=B(()=>r.value?{"bg-yellow-100 text-yellow-800":r.value.status==="To Do","bg-blue-100 text-blue-800":r.value.status==="In Progress","bg-green-100 text-green-800":r.value.status==="Done","bg-red-100 text-red-800":r.value.status==="Blocked","bg-gray-100 text-gray-800":r.value.status==="Archived"}:"");return(d,h)=>{var D,I,q,y;return n.value?(f(),p("div",Eu," Loading task details... ")):i.value?(f(),p("div",Uu,L(i.value),1)):r.value?(f(),p("div",Vu,[o("div",ju,[o("h4",Fu,L(r.value.name),1),o("div",Hu,[o("span",{class:z(["px-2 py-1 rounded-full text-xs font-medium",u.value])},L(r.value.status),3),r.value.task_type?(f(),p("span",zu," | "+L((D=r.value.task_type)==null?void 0:D.name)+" | ",1)):C("",!0),h[7]||(h[7]=o("br",null,null,-1)),(I=r.value.milestone)!=null&&I.name?(f(),p("span",Bu,L((q=r.value.milestone)==null?void 0:q.name),1)):C("",!0)]),o("p",Gu,L(r.value.description||"No description provided."),1)]),o("div",qu,[h[13]||(h[13]=o("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),o("div",Zu,[g(Z,{class:"min-w-[100px] text-gray-600"},{default:S(()=>h[8]||(h[8]=[P("Assigned To:",-1)])),_:1,__:[8]}),o("div",Ku,[l.value?(f(),p("div",Ju,[g(Ue,{id:"edit-assigned-to",modelValue:m.value,"onUpdate:modelValue":h[1]||(h[1]=c=>m.value=c),options:X.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),o("button",{onClick:E,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),o("button",{onClick:h[2]||(h[2]=c=>l.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),p("div",{key:0,onClick:h[0]||(h[0]=c=>l.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[P(L(((y=r.value.assigned_to)==null?void 0:y.name)||"Unassigned")+" ",1),h[9]||(h[9]=o("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),o("div",Qu,[g(Z,{class:"min-w-[100px] text-gray-600"},{default:S(()=>h[10]||(h[10]=[P("Due Date:",-1)])),_:1,__:[10]}),o("div",Xu,[v.value?(f(),p("div",ed,[g(Ne,{id:"edit-due-date",modelValue:_.value,"onUpdate:modelValue":h[4]||(h[4]=c=>_.value=c),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),o("button",{onClick:Y,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),o("button",{onClick:h[5]||(h[5]=c=>v.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),p("div",{key:0,onClick:h[3]||(h[3]=c=>v.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[P(L(r.value.due_date?A(x)(r.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),h[11]||(h[11]=o("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),o("div",td,[g(Z,{class:"min-w-[100px] text-gray-600"},{default:S(()=>h[12]||(h[12]=[P("Created:",-1)])),_:1,__:[12]}),o("span",sd,L(r.value.created_at?new Date(r.value.created_at).toLocaleDateString():"N/A"),1)])]),o("div",ad,[o("div",rd,[h[15]||(h[15]=o("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),g(at,{onClick:T,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:S(()=>h[14]||(h[14]=[P(" Add Note ",-1)])),_:1,__:[14]})]),r.value.notes&&r.value.notes.length>0?(f(),p("div",nd,[(f(!0),p(oe,null,ce(r.value.notes,c=>(f(),p("div",{key:c.id,class:"p-3 bg-gray-50 rounded-md"},[o("p",id,L(c.content),1),o("p",od," By "+L(c.creator_name||"Unknown")+" on "+L(new Date(c.created_at).toLocaleDateString()),1)]))),128))])):(f(),p("div",ld,"No notes for this task yet."))]),g(Ru,{show:k.value,"task-for-note":r.value,onClose:h[6]||(h[6]=c=>k.value=!1),onNoteAdded:b},null,8,["show","task-for-note"])])):(f(),p("div",ud," Select a task to view details. "))}}},cd={class:"flex items-center p-4 h-16 border-b border-gray-700"},fd={key:0,class:"text-xl font-semibold flex-1 truncate"},hd=["title"],md={key:0,class:"p-4 border-b border-gray-700"},vd={class:"relative"},yd={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},gd={key:0,class:"mb-4"},pd={class:"ml-2 mt-2 space-y-1"},_d=["onClick"],wd={class:"text-sm font-medium text-gray-300 truncate"},kd={class:"ml-4 mt-1 space-y-1"},bd={class:"truncate"},xd={key:1,class:"mb-4"},Sd={class:"ml-2 mt-2 space-y-1"},Md=["onClick"],Dd={class:"text-sm font-medium text-gray-300 truncate"},Td={class:"ml-4 mt-1 space-y-1"},Cd={class:"truncate"},Yd={key:2,class:"mb-4"},$d={class:"ml-2 mt-2 space-y-1"},Od={class:"truncate"},Pd={key:3,class:"mb-4"},Nd={class:"ml-2 mt-2 space-y-1"},Ad={class:"truncate"},Id={key:4,class:"text-gray-400 text-sm text-center py-4"},Wd={key:5,class:"text-gray-400 text-sm text-center py-4"},Ld={key:2,class:"flex flex-col items-center pt-4 space-y-4"},Rd={key:0,class:"text-gray-400 text-xs text-center px-2"},Ed={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(e,{emit:t}){const s=e,a=t,r=N(localStorage.getItem("leftSidebarCollapsed")!=="false"),n=N(""),i=N({}),l=B(()=>{const u=new Set;return s.allProjects.forEach(d=>{d.project_type&&u.add(d.project_type)}),Array.from(u).sort()}),v=B(()=>{const u=new Set;return s.allProjects.forEach(d=>{Array.isArray(d.tags)&&d.tags.forEach(h=>u.add(h))}),Array.from(u).sort()}),m=B(()=>{if(!n.value)return s.allProjects;const u=n.value.toLowerCase();return s.allProjects.filter(d=>{var h,D,I;return d.name.toLowerCase().includes(u)||((h=d.description)==null?void 0:h.toLowerCase().includes(u))||((D=d.project_type)==null?void 0:D.toLowerCase().includes(u))||Array.isArray(d.tags)&&d.tags.some(q=>q.toLowerCase().includes(u))||((I=d.status)==null?void 0:I.toLowerCase().includes(u))})}),_=B(()=>{const u={};m.value.forEach(d=>{d.project_type&&d.status==="active"&&(u[d.project_type]||(u[d.project_type]=[]),u[d.project_type].push(d))});for(const d in u)u[d].sort((h,D)=>h.name.localeCompare(D.name));return u}),k=B(()=>{const u={};m.value.forEach(d=>{Array.isArray(d.tags)&&d.tags.length>0&&d.tags.forEach(h=>{u[h]||(u[h]=[]),u[h].push(d)})});for(const d in u)u[d]=[...new Set(u[d])].sort((h,D)=>h.name.localeCompare(D.name));return u}),$=B(()=>m.value.filter(u=>u.status!=="active").sort((u,d)=>u.name.localeCompare(d.name))),X=B(()=>m.value.filter(u=>!u.project_type&&(!Array.isArray(u.tags)||u.tags.length===0)).sort((u,d)=>u.name.localeCompare(d.name)));le(()=>s.allProjects,()=>{l.value.forEach(u=>{const d=`type-${u}`;i.value[d]===void 0&&(i.value[d]=!0)}),v.value.forEach(u=>{const d=`tag-${u}`;i.value[d]===void 0&&(i.value[d]=!0)}),i.value["main-types"]===void 0&&(i.value["main-types"]=!1),i.value["main-tags"]===void 0&&(i.value["main-tags"]=!1),i.value["inactive-projects"]===void 0&&(i.value["inactive-projects"]=!1),i.value.uncategorized===void 0&&(i.value.uncategorized=!1)},{immediate:!0}),le(r,u=>{localStorage.setItem("leftSidebarCollapsed",u)});const E=()=>{r.value=!r.value},Y=u=>{i.value[u]=!i.value[u]},T=u=>{a("project-selected",u)},b=()=>{n.value=""};return(u,d)=>(f(),p("div",{class:z({"w-64":!r.value,"w-16":r.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[o("div",cd,[r.value?C("",!0):(f(),p("h2",fd,"Projects")),o("button",{onClick:E,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:r.value?"Expand Sidebar":"Collapse Sidebar"},[(f(),p("svg",{class:z(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},d[5]||(d[5]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,hd)]),r.value?C("",!0):(f(),p("div",md,[o("div",vd,[ae(o("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=h=>n.value=h),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[Pe,n.value]]),n.value?(f(),p("button",{key:0,onClick:b,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},d[6]||(d[6]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):C("",!0)])])),r.value?(f(),p("div",Ld,[(f(!0),p(oe,null,ce(s.allProjects,h=>(f(),W(A(Ye),{key:h.id,href:u.route("projects.show",h.id),onClick:D=>T(h.id),class:z({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":h.id===e.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":h.id!==e.activeProjectId}),title:h.name},{default:S(()=>[P(L(h.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),e.allProjects.length===0?(f(),p("div",Rd," No Projects ")):C("",!0)])):(f(),p("div",yd,[Object.keys(_.value).length>0?(f(),p("div",gd,[o("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:d[1]||(d[1]=h=>Y("main-types"))},[d[8]||(d[8]=o("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(f(),p("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!i.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},d[7]||(d[7]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ae(o("div",pd,[(f(!0),p(oe,null,ce(_.value,(h,D)=>(f(),p("div",{key:D},[o("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:I=>Y(`type-${D}`)},[o("h4",wd,L(D),1),(f(),p("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!i.value[`type-${D}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},d[9]||(d[9]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,_d),ae(o("ul",kd,[(f(!0),p(oe,null,ce(h,I=>(f(),p("li",{key:I.id},[g(A(Ye),{href:u.route("projects.show",I.id),onClick:q=>T(I.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":I.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":I.id!==e.activeProjectId,"font-bold":I.id===e.activeProjectId})},{default:S(()=>[o("span",bd,L(I.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ce,!i.value[`type-${D}`]]])]))),128))],512),[[Ce,!i.value["main-types"]]])])):C("",!0),Object.keys(k.value).length>0?(f(),p("div",xd,[o("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:d[2]||(d[2]=h=>Y("main-tags"))},[d[11]||(d[11]=o("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(f(),p("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!i.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},d[10]||(d[10]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ae(o("div",Sd,[(f(!0),p(oe,null,ce(k.value,(h,D)=>(f(),p("div",{key:D},[o("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:I=>Y(`tag-${D}`)},[o("h4",Dd,L(D),1),(f(),p("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!i.value[`tag-${D}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},d[12]||(d[12]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Md),ae(o("ul",Td,[(f(!0),p(oe,null,ce(h,I=>(f(),p("li",{key:I.id},[g(A(Ye),{href:u.route("projects.show",I.id),onClick:q=>T(I.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":I.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":I.id!==e.activeProjectId,"font-bold":I.id===e.activeProjectId})},{default:S(()=>[o("span",Cd,L(I.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ce,!i.value[`tag-${D}`]]])]))),128))],512),[[Ce,!i.value["main-tags"]]])])):C("",!0),$.value.length>0?(f(),p("div",Yd,[o("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:d[3]||(d[3]=h=>Y("inactive-projects"))},[d[14]||(d[14]=o("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(f(),p("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!i.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},d[13]||(d[13]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ae(o("ul",$d,[(f(!0),p(oe,null,ce($.value,h=>(f(),p("li",{key:h.id},[g(A(Ye),{href:u.route("projects.show",h.id),onClick:D=>T(h.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":h.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":h.id!==e.activeProjectId,"font-bold":h.id===e.activeProjectId})},{default:S(()=>[o("span",Od,L(h.name)+" ("+L(h.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ce,!i.value["inactive-projects"]]])])):C("",!0),X.value.length>0?(f(),p("div",Pd,[o("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:d[4]||(d[4]=h=>Y("uncategorized"))},[d[16]||(d[16]=o("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(f(),p("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!i.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},d[15]||(d[15]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ae(o("ul",Nd,[(f(!0),p(oe,null,ce(X.value,h=>(f(),p("li",{key:h.id},[g(A(Ye),{href:u.route("projects.show",h.id),onClick:D=>T(h.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":h.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":h.id!==e.activeProjectId,"font-bold":h.id===e.activeProjectId})},{default:S(()=>[o("span",Ad,L(h.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ce,!i.value.uncategorized]])])):C("",!0),m.value.length===0?(f(),p("div",Id," No projects found matching your search. ")):e.allProjects.length===0&&!n.value?(f(),p("div",Wd," No projects available. ")):C("",!0)]))],2))}},Ud=qe(Ed,[["__scopeId","data-v-417d431f"]]),Vd={class:"flex h-screen overflow-hidden"},jd={class:"flex-1 flex flex-col overflow-hidden"},Fd={class:"border-b border-gray-100 bg-white z-10 relative"},Hd={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},zd={class:"flex h-16 justify-between"},Bd={class:"flex"},Gd={class:"flex shrink-0 items-center"},qd={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},Zd={key:0,class:"hidden sm:flex sm:items-center"},Kd={class:"hidden sm:ms-6 sm:flex sm:items-center"},Jd={class:"relative ms-3"},Qd={class:"inline-flex rounded-md"},Xd={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},ec={class:"-me-2 flex items-center sm:hidden"},tc={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},sc={class:"space-y-1 pb-3 pt-2"},ac={key:0,class:"mt-3 space-y-1"},rc={class:"border-t border-gray-200 pb-1 pt-4"},nc={class:"px-4"},ic={class:"text-base font-medium text-gray-800"},oc={class:"text-sm font-medium text-gray-500"},lc={class:"text-sm font-medium text-gray-500 capitalize"},uc={class:"mt-3 space-y-1"},dc={key:0,class:"bg-white shadow"},cc={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},fc={class:"flex-1 overflow-y-auto"},wc={__name:"AuthenticatedLayout",setup(e){const t=N(!1),s=B(()=>Kt().props.auth.user);B(()=>{var y;return((y=s.value.role_data)==null?void 0:y.name)||""});const{canDo:a}=Wa(),r=a("manage_projects"),n=a("compose_emails"),i=a("approve_emails"),l=a("create_users"),v=a("manage_roles"),m=a("manage_task_types"),_=a("create_clients"),k=N(!1),$=N(!1),X=N([]),E=N(!0),Y=B(()=>Kt().props.id||null),T=()=>{console.log("Task updated from sidebar. Refreshing project data if necessary.")},b=()=>{console.log("Task deleted from sidebar. Refreshing project data if necessary."),zt()},u=async()=>{const y=localStorage.getItem("authToken");if(y){window.axios.defaults.headers.common.Authorization=`Bearer ${y}`;try{await window.axios.get("/api/user")}catch(c){c.response&&c.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},d=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),delete window.axios.defaults.headers.common.Authorization},h=y=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},D=async()=>{E.value=!0;try{const y=await window.axios.get("/api/projects-simplified");X.value=y.data}catch(y){console.error("Error fetching all projects for sidebar:",y),X.value=[]}finally{E.value=!1}},I=y=>{Ra.visit(route("projects.show",y))},q=N(null);return Ge(()=>{u(),q.value&&La(q.value),D()}),(y,c)=>{var K;return f(),p("div",Vd,[g(Ka,{ref_key:"notificationContainerRef",ref:q},null,512),g(Tr),g(Ud,{"all-projects":X.value,"active-project-id":Y.value,onProjectSelected:I},null,8,["all-projects","active-project-id"]),o("div",jd,[o("nav",Fd,[o("div",Hd,[o("div",zd,[o("div",Bd,[o("div",Gd,[g(A(Ye),{href:y.route("dashboard")},{default:S(()=>[g(Ya,{class:"block h-16 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),o("div",qd,[g(Va,{href:y.route("dashboard"),active:y.route().current("dashboard")},{default:S(()=>c[8]||(c[8]=[P(" Dashboard ",-1)])),_:1,__:[8]},8,["href","active"]),A(v)?(f(),p("div",Zd,[g(Ds,{align:"right",width:"48"},{trigger:S(()=>c[9]||(c[9]=[o("span",{class:"inline-flex rounded-md"},[o("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},[P(" Admin "),o("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:S(()=>[A(r)?(f(),W(ue,{key:0,href:y.route("projects.index"),active:y.route().current("projects.index")},{default:S(()=>c[10]||(c[10]=[P(" Projects ",-1)])),_:1,__:[10]},8,["href","active"])):C("",!0),A(i)?(f(),W(ue,{key:1,href:y.route("emails.pending"),active:y.route().current("emails.pending")},{default:S(()=>c[11]||(c[11]=[P(" Approve Emails ",-1)])),_:1,__:[11]},8,["href","active"])):C("",!0),A(n)?(f(),W(ue,{key:2,href:y.route("emails.rejected"),active:y.route().current("emails.rejected")},{default:S(()=>c[12]||(c[12]=[P(" Rejected Emails ",-1)])),_:1,__:[12]},8,["href","active"])):C("",!0),A(l)?(f(),W(ue,{key:3,href:y.route("availability.index"),active:y.route().current("availability.index")},{default:S(()=>c[13]||(c[13]=[P(" Weekly Availability ",-1)])),_:1,__:[13]},8,["href","active"])):C("",!0),A(_)?(f(),W(ue,{key:4,href:y.route("clients.index"),active:y.route().current("clients.index")},{default:S(()=>c[14]||(c[14]=[P(" Clients ",-1)])),_:1,__:[14]},8,["href","active"])):C("",!0),A(l)?(f(),W(ue,{key:5,href:y.route("users.index"),active:y.route().current("users.index")},{default:S(()=>c[15]||(c[15]=[P(" Users ",-1)])),_:1,__:[15]},8,["href","active"])):C("",!0),A(m)?(f(),W(ue,{key:6,href:y.route("task-types.index"),active:y.route().current("task-types.index")},{default:S(()=>c[16]||(c[16]=[P(" Task Types ",-1)])),_:1,__:[16]},8,["href","active"])):C("",!0),A(a)("manage_bonus_configuration")?(f(),W(ue,{key:7,href:y.route("bonus-configuration.index"),active:y.route().current("bonus-configuration.index")},{default:S(()=>c[17]||(c[17]=[P(" Bonus Configuration ",-1)])),_:1,__:[17]},8,["href","active"])):C("",!0),A(a)("manage_email_templates")?(f(),W(ue,{key:8,href:y.route("email-templates.index"),active:y.route().current("email-templates.index")},{default:S(()=>c[18]||(c[18]=[P(" Email Templates ",-1)])),_:1,__:[18]},8,["href","active"])):C("",!0),A(a)("manage_placeholder_definitions")?(f(),W(ue,{key:9,href:y.route("placeholder-definitions.index"),active:y.route().current("placeholder-definitions.index")},{default:S(()=>c[19]||(c[19]=[P(" Placeholder Definitions ",-1)])),_:1,__:[19]},8,["href","active"])):C("",!0),A(a)("manage_roles")?(f(),W(ue,{key:10,href:y.route("admin.roles.index")},{default:S(()=>c[20]||(c[20]=[P(" Manage Roles ",-1)])),_:1,__:[20]},8,["href"])):C("",!0),A(a)("manage_permissions")?(f(),W(ue,{key:11,href:y.route("admin.permissions.index")},{default:S(()=>c[21]||(c[21]=[P(" Manage Permissions ",-1)])),_:1,__:[21]},8,["href"])):C("",!0)]),_:1})])):C("",!0)])]),o("div",Kd,[g(at,{type:"button",onClick:c[0]||(c[0]=H=>k.value=!0),class:"mr-4 px-4 py-2 text-sm"},{default:S(()=>c[22]||(c[22]=[P(" Add Task ",-1)])),_:1,__:[22]}),g(at,{type:"button",onClick:c[1]||(c[1]=H=>$.value=!0),class:"mr-4 px-4 py-2 text-sm"},{default:S(()=>c[23]||(c[23]=[P(" Add Resource ",-1)])),_:1,__:[23]}),o("div",Jd,[g(Ds,{align:"right",width:"48"},{trigger:S(()=>{var H;return[o("span",Qd,[o("button",Xd,[P(L(s.value.name)+" ("+L((H=s.value.role_data)==null?void 0:H.name)+") ",1),c[24]||(c[24]=o("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:S(()=>[g(ue,{href:y.route("profile.edit")},{default:S(()=>c[25]||(c[25]=[P(" Profile ",-1)])),_:1,__:[25]},8,["href"]),g(ue,{href:y.route("logout"),method:"post",as:"button",onSuccess:d,onError:h},{default:S(()=>c[26]||(c[26]=[P(" Log Out ",-1)])),_:1,__:[26]},8,["href"])]),_:1})])]),o("div",ec,[o("button",{onClick:c[2]||(c[2]=H=>t.value=!t.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(f(),p("svg",tc,[o("path",{class:z({hidden:t.value,"inline-flex":!t.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),o("path",{class:z({hidden:!t.value,"inline-flex":t.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),o("div",{class:z([{block:t.value,hidden:!t.value},"sm:hidden"])},[o("div",sc,[A(v)?(f(),p("div",ac,[c[41]||(c[41]=o("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),g(ne,{href:y.route("dashboard"),active:y.route().current("dashboard")},{default:S(()=>c[27]||(c[27]=[P(" Dashboard ",-1)])),_:1,__:[27]},8,["href","active"]),A(_)?(f(),W(ne,{key:0,href:y.route("clients.index"),active:y.route().current("clients.index")},{default:S(()=>c[28]||(c[28]=[P(" Clients ",-1)])),_:1,__:[28]},8,["href","active"])):C("",!0),A(r)?(f(),W(ne,{key:1,href:y.route("projects.index"),active:y.route().current("projects.index")},{default:S(()=>c[29]||(c[29]=[P(" Projects ",-1)])),_:1,__:[29]},8,["href","active"])):C("",!0),A(l)?(f(),W(ne,{key:2,href:y.route("users.index"),active:y.route().current("users.index")},{default:S(()=>c[30]||(c[30]=[P(" Users ",-1)])),_:1,__:[30]},8,["href","active"])):C("",!0),A(n)?(f(),W(ne,{key:3,href:y.route("emails.compose"),active:y.route().current("emails.compose")},{default:S(()=>c[31]||(c[31]=[P(" Compose Email ",-1)])),_:1,__:[31]},8,["href","active"])):C("",!0),A(i)?(f(),W(ne,{key:4,href:y.route("emails.pending"),active:y.route().current("emails.pending")},{default:S(()=>c[32]||(c[32]=[P(" Approve Emails ",-1)])),_:1,__:[32]},8,["href","active"])):C("",!0),A(n)?(f(),W(ne,{key:5,href:y.route("emails.rejected"),active:y.route().current("emails.rejected")},{default:S(()=>c[33]||(c[33]=[P(" Rejected Emails ",-1)])),_:1,__:[33]},8,["href","active"])):C("",!0),A(l)?(f(),W(ne,{key:6,href:y.route("availability.index"),active:y.route().current("availability.index")},{default:S(()=>c[34]||(c[34]=[P(" Weekly Availability ",-1)])),_:1,__:[34]},8,["href","active"])):C("",!0),A(a)("manage_roles")?(f(),W(ne,{key:7,href:y.route("admin.roles.index"),active:y.route().current("admin.roles.index")},{default:S(()=>c[35]||(c[35]=[P(" Manage Roles ",-1)])),_:1,__:[35]},8,["href","active"])):C("",!0),A(a)("manage_permissions")?(f(),W(ne,{key:8,href:y.route("admin.permissions.index"),active:y.route().current("admin.permissions.index")},{default:S(()=>c[36]||(c[36]=[P(" Manage Permissions ",-1)])),_:1,__:[36]},8,["href","active"])):C("",!0),A(a)("manage_bonus_configuration")?(f(),W(ne,{key:9,href:y.route("bonus-configuration.index"),active:y.route().current("bonus-configuration.index")},{default:S(()=>c[37]||(c[37]=[P(" Bonus Configuration ",-1)])),_:1,__:[37]},8,["href","active"])):C("",!0),A(m)?(f(),W(ne,{key:10,href:y.route("task-types.index"),active:y.route().current("task-types.index")},{default:S(()=>c[38]||(c[38]=[P(" Task Types ",-1)])),_:1,__:[38]},8,["href","active"])):C("",!0),A(a)("manage_email_templates")?(f(),W(ne,{key:11,href:y.route("email-templates.index"),active:y.route().current("email-templates.index")},{default:S(()=>c[39]||(c[39]=[P(" Email Templates ",-1)])),_:1,__:[39]},8,["href","active"])):C("",!0),A(a)("manage_placeholder_definitions")?(f(),W(ne,{key:12,href:y.route("placeholder-definitions.index"),active:y.route().current("placeholder-definitions.index")},{default:S(()=>c[40]||(c[40]=[P(" Placeholder Definitions ",-1)])),_:1,__:[40]},8,["href","active"])):C("",!0)])):C("",!0)]),o("div",rc,[o("div",nc,[o("div",ic,L(s.value.name),1),o("div",oc,L(s.value.email),1),o("div",lc,L((K=s.value.role_data)==null?void 0:K.name),1)]),o("div",uc,[g(ne,{as:"button",onClick:c[3]||(c[3]=H=>k.value=!0)},{default:S(()=>c[42]||(c[42]=[P(" Add Task ",-1)])),_:1,__:[42]}),g(ne,{as:"button",onClick:c[4]||(c[4]=H=>$.value=!0)},{default:S(()=>c[43]||(c[43]=[P(" Add Resource ",-1)])),_:1,__:[43]}),g(ne,{href:y.route("profile.edit")},{default:S(()=>c[44]||(c[44]=[P(" Profile ",-1)])),_:1,__:[44]},8,["href"]),g(ne,{href:y.route("logout"),method:"post",as:"button",onSuccess:d,onError:h},{default:S(()=>c[45]||(c[45]=[P(" Log Out ",-1)])),_:1,__:[45]},8,["href"])])])],2)]),y.$slots.header?(f(),p("header",dc,[o("div",cc,[be(y.$slots,"header")])])):C("",!0),o("main",fc,[be(y.$slots,"default")]),g(ln,{show:k.value,onClose:c[5]||(c[5]=H=>k.value=!1),onSaved:c[6]||(c[6]=H=>k.value=!1)},null,8,["show"]),g(bn,{"api-endpoint":"/api/shareable-resources",show:$.value,onClose:c[7]||(c[7]=H=>$.value=!1)},null,8,["show"])]),g(Cn,{show:A(ot).show,"onUpdate:show":A(zt),title:A(ot).taskId?"Task Details":"Details",initialWidth:50},{content:S(()=>[A(ot).taskId?(f(),W(dd,{key:0,"task-id":A(ot).taskId,"project-id":A(ot).projectId,"project-users":[],onClose:A(zt),onTaskUpdated:T,onTaskDeleted:b},null,8,["task-id","project-id","onClose"])):C("",!0)]),_:1},8,["show","onUpdate:show","title"])])}}};export{Pt as B,bn as C,Cn as R,Ue as S,pn as T,wc as _,xr as a,Gr as b,Ru as c,dd as d,ln as e,x as h};
