import{r as $,c as R,P as Le,f as ke,Q as Ye,a as o,i as _,o as a,F as ee,l as se,b as e,t as P,u as N,R as gt,S as Dt,T as bt,U as yt,j as K,p as ae,e as oe,g as B,w as k,m as T,d as v,v as L,x as de,E as Fe,V as Vt,n as Ge,y as He,s as ht,C as Ie,z as kt,G as Ke,N as fe,J as ce,W as et,k as Nt,O as Ae,X as wt,Y as Ut,Z as dt,K as $e,A as _e,_ as xt,$ as _t,D as st,a0 as he,a1 as Te,M as zt,a2 as Me,a3 as tt,H as At,a4 as Lt,a5 as Ft,a6 as ct,a7 as mt,I as Rt}from"./app-CW8FKIHI.js";import{_ as pe}from"./PrimaryButton-D2jVOVRa.js";import{_ as Ze}from"./Modal-9Kv6KwYw.js";import{_ as Z}from"./InputLabel-2WBNjNyf.js";import{_ as ie}from"./InputError-uybBfR1J.js";import{_ as Je}from"./SecondaryButton-BUMkGMtJ.js";import{r as Ot}from"./index-8IV6XVwS.js";import{B as Be}from"./BaseFormModal-DzYIKs4C.js";import{_ as xe}from"./TextInput-C38JnGvq.js";import{S as ye}from"./SelectDropdown-DPdfw3x9.js";import{d as Wt}from"./debounce-C-hnF4Z3.js";import{_ as Re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{A as Ht}from"./ApplicationLogo-DcTuxAyY.js";import{c as ot}from"./createLucideIcon-Bv1CWJst.js";import{P as vt}from"./plus-D7Cjlg0D.js";import{D as it}from"./DangerButton-DEPIXFpW.js";import{h as Kt}from"./moment-BLMuvzoS.js";import{_ as qt,a as Jt}from"./NoticeboardModal-BagKigTg.js";const Yt={key:0,class:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2"},Zt={key:0,class:"notification-list w-full max-w-xs space-y-2"},Qt={class:"flex-1 min-w-0"},Xt={class:"flex items-start justify-between gap-2 mb-1"},ea={class:"flex-1 min-w-0"},ta={key:0,class:"text-base font-semibold text-gray-800 truncate"},aa={key:1,class:"text-xs text-gray-500"},la={key:0,class:"text-xs text-gray-600 mb-2"},sa={class:"flex items-center justify-between mt-2"},oa={key:0,class:"text-xs text-gray-500 font-medium"},ia=["onClick"],ra={key:1,class:"flex justify-end w-full max-w-xs"},na={key:0},ua={key:1},Se="notification_minimized_state",da=3,ca={__name:"PushNotificationContainer",props:{sidebarIsOpen:{type:Boolean,default:!1}},setup(i){const n=$(!1),l=$(null),s=$(0),t=$(null),p=R(()=>Le.value.notifications.filter(r=>r.isNewPush).slice(0,da)),c=R(()=>{const r=Math.floor(s.value/60),u=s.value%60;return`${String(r).padStart(2,"0")}:${String(u).padStart(2,"0")}`}),b=r=>{if(!r)return null;const u=r.match(/\/task\/(\d+)/);return u?parseInt(u[1]):null},g=r=>{if(!r)return null;const u=r.match(/\/project\/(\d+)\//);return u?parseInt(u[1]):null},d=()=>{if(n.value=!n.value,clearTimeout(l.value),clearInterval(t.value),n.value){const r=Date.now()+3e5;localStorage.setItem(Se,JSON.stringify({isMinimized:!0,expiryTime:r})),l.value=setTimeout(()=>{n.value=!1,clearInterval(t.value),localStorage.removeItem(Se)},3e5),s.value=300,t.value=setInterval(()=>{s.value>0?s.value--:clearInterval(t.value)},1e3)}else localStorage.removeItem(Se)},f=async r=>{Dt(r.id),await bt(r.view_id);const u=r.task_id||b(r.url),m=r.project_id||g(r.url);u&&m?yt(u,m):(console.warn("Could not open task sidebar. Falling back to redirecting."),r.url&&(window.location.href=r.url))};return ke(()=>{const r=localStorage.getItem(Se);if(r)try{const{isMinimized:u,expiryTime:m}=JSON.parse(r),C=Date.now(),y=m-C;y>0?(n.value=u,s.value=Math.floor(y/1e3),l.value=setTimeout(()=>{n.value=!1,clearInterval(t.value),localStorage.removeItem(Se)},y),t.value=setInterval(()=>{s.value>0?s.value--:clearInterval(t.value)},1e3)):localStorage.removeItem(Se)}catch(u){console.error("Error restoring notification minimized state:",u),localStorage.removeItem(Se)}}),Ye(()=>{clearTimeout(l.value),clearInterval(t.value)}),(r,u)=>i.sidebarIsOpen?_("",!0):(a(),o("div",Yt,[!n.value&&p.value.length>0?(a(),o("div",Zt,[(a(!0),o(ee,null,se(p.value,m=>(a(),o("div",{key:m.id,class:"bg-white rounded-lg shadow-lg p-3 flex items-start space-x-3 border border-gray-200 transition-opacity duration-300 opacity-60 hover:opacity-100"},[e("div",Qt,[e("div",Xt,[e("div",ea,[m.title?(a(),o("h3",ta,P(m.title),1)):_("",!0),m.project_name?(a(),o("p",aa,P(m.project_name),1)):_("",!0)])]),m.message?(a(),o("p",la,P(m.message),1)):_("",!0),e("div",sa,[m.due_date?(a(),o("div",oa," Due: "+P(N(gt)(m.due_date)),1)):_("",!0),e("button",{onClick:C=>f(m),class:"px-2.5 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 shadow"},P(m.button_label||"View"),9,ia)])])]))),128))])):_("",!0),p.value.length>0?(a(),o("div",ra,[e("button",{onClick:d,class:"bg-white/80 backdrop-blur-sm text-gray-600 hover:text-gray-900 text-xs font-bold py-1 px-3 rounded-full shadow-md transition-all duration-300"},[n.value?(a(),o("span",na,"Show ("+P(c.value)+")",1)):(a(),o("span",ua,"Minimize"))])])):_("",!0)]))}},ma={class:"fixed top-4 right-4 z-[9999] flex flex-col items-end space-y-3"},va={class:"p-4"},pa={class:"text-sm font-medium text-white"},fa={key:0,class:"mt-3 flex gap-2"},ga=["onClick"],ba=["onClick"],ya={__name:"StandardNotificationContainer",setup(i,{expose:n}){const l=$([]),s=(g,d="info",f=5e3)=>{let r;typeof g=="object"&&g!==null?r={...g}:r={message:g,type:d,duration:f};const u=r.id||crypto.randomUUID(),m={id:u,message:r.message||"",type:r.type||"info",duration:typeof r.duration=="number"?r.duration:5e3,sticky:!!r.sticky,confirm:r.confirm||null};return l.value.unshift(m),!m.sticky&&!m.confirm&&setTimeout(()=>{t(u)},m.duration),u},t=g=>{const d=l.value.findIndex(f=>f.id===g);d>-1&&l.value.splice(d,1)},p=g=>{const d=l.value.find(f=>f.id===g);if(d&&d.confirm&&typeof d.confirm.onConfirm=="function")try{d.confirm.onConfirm()}catch{}t(g)},c=g=>{const d=l.value.find(f=>f.id===g);if(d&&d.confirm&&typeof d.confirm.onCancel=="function")try{d.confirm.onCancel()}catch{}t(g)},b=g=>{switch(g){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":default:return"bg-blue-500"}};return n({addNotification:s}),(g,d)=>(a(),o("div",ma,[(a(!0),o(ee,null,se(l.value,f=>(a(),o("div",{key:f.id,class:K(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto overflow-hidden",b(f.type)])},[e("div",va,[e("p",pa,P(f.message),1),f.confirm?(a(),o("div",fa,[e("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-white/90 text-slate-800 hover:bg-white",onClick:r=>p(f.id)},P(f.confirm.confirmText||"Confirm"),9,ga),e("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-transparent border border-white/70 text-white hover:bg-white/10",onClick:r=>c(f.id)},P(f.confirm.cancelText||"Cancel"),9,ba)])):_("",!0)])],2))),128))]))}};var qe={exports:{}},ha=qe.exports,pt;function ka(){return pt||(pt=1,function(i,n){(function(s,t){i.exports=t(Ot())})(ha,l=>(()=>{var s={113:(E,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.default=(O,V)=>{const G=O.__vccOpts||O;for(const[H,re]of V)G[H]=re;return G}},594:E=>{E.exports=l}},t={};function p(E){var I=t[E];if(I!==void 0)return I.exports;var O=t[E]={exports:{}};return s[E](O,O.exports,p),O.exports}p.d=(E,I)=>{for(var O in I)p.o(I,O)&&!p.o(E,O)&&Object.defineProperty(E,O,{enumerable:!0,get:I[O]})},p.o=(E,I)=>Object.prototype.hasOwnProperty.call(E,I),p.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var c={};p.r(c),p.d(c,{ToastComponent:()=>A,ToastPlugin:()=>U,ToastPositions:()=>m,default:()=>Q,useToast:()=>M});var b=p(594);const g=["innerHTML"];function d(E,I,O,V,G,H){return(0,b.openBlock)(),(0,b.createBlock)(b.Transition,{"enter-active-class":E.transition.enter,"leave-active-class":E.transition.leave},{default:(0,b.withCtx)(()=>[(0,b.withDirectives)((0,b.createElementVNode)("div",{ref:"root",role:"alert",class:(0,b.normalizeClass)(["v-toast__item",[`v-toast__item--${E.type}`,`v-toast__item--${E.position}`]]),onMouseover:I[0]||(I[0]=re=>E.toggleTimer(!0)),onMouseleave:I[1]||(I[1]=re=>E.toggleTimer(!1)),onClick:I[2]||(I[2]=function(){return E.whenClicked&&E.whenClicked(...arguments)})},[I[3]||(I[3]=(0,b.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,b.createElementVNode)("p",{class:"v-toast__text",innerHTML:E.message},null,8,g)],34),[[b.vShow,E.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function f(E){var I;typeof E.remove<"u"?E.remove():(I=E.parentNode)==null||I.removeChild(E)}function r(E,I,O){let V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const G=(0,b.h)(E,I,V),H=document.createElement("div");return H.classList.add("v-toast--pending"),O.appendChild(H),(0,b.render)(G,H),G.component}class u{constructor(I,O){this.startedAt=Date.now(),this.callback=I,this.delay=O,this.timer=setTimeout(I,O)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const m=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function C(E){return{all:E=E||new Map,on:function(I,O){var V=E.get(I);V?V.push(O):E.set(I,[O])},off:function(I,O){var V=E.get(I);V&&(O?V.splice(V.indexOf(O)>>>0,1):E.set(I,[]))},emit:function(I,O){var V=E.get(I);V&&V.slice().map(function(G){G(O)}),(V=E.get("*"))&&V.slice().map(function(G){G(I,O)})}}}const W=C(),D=(0,b.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:m.BOTTOM_RIGHT,validator(E){return Object.values(m).includes(E)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),W.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const E=document.body;E.appendChild(this.parentTop),E.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const E=this.$refs.root;(0,b.render)(null,E),f(E)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const E=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),f(E),this.isActive=!0,this.duration&&(this.timer=new u(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(E){!this.pauseOnHover||!this.timer||(E?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case m.TOP:case m.TOP_RIGHT:case m.TOP_LEFT:return this.parentTop;case m.BOTTOM:case m.BOTTOM_RIGHT:case m.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case m.TOP:case m.TOP_RIGHT:case m.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case m.BOTTOM:case m.BOTTOM_RIGHT:case m.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){W.off("toast-clear",this.dismiss)}});var h=p(113);const A=(0,h.default)(D,[["render",d]]),M=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(I){let O=null;typeof I=="string"&&(O=I);const G=Object.assign({},{message:O},E,I);return{dismiss:r(A,G,document.body).ctx.dismiss}},clear(){W.emit("toast-clear")},success(I){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:I,type:"success"},O))},error(I){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:I,type:"error"},O))},info(I){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:I,type:"info"},O))},warning(I){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:I,type:"warning"},O))},default(I){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:I,type:"default"},O))}}},U={install:function(E){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=M(I);E.config.globalProperties.$toast=O,E.provide("$toast",O)}},Q=U;return c})())}(qe)),qe.exports}var wa=ka();const xa={class:"p-8"},_a={class:"mt-2 text-sm text-gray-600"},Aa={key:0,class:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-lg"},Ta={class:"mt-4"},Ma={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},$a={class:"lg:col-span-1 space-y-3"},Ca=["onClick"],Sa={class:"flex items-center justify-between"},Ga={class:"flex items-center"},Pa={class:"ml-2 text-sm text-gray-500"},ja={key:0},Ea={key:1},Ia={key:1,class:"text-xs text-gray-400"},Ba={key:0,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner"},Da={class:"text-xl font-semibold text-gray-800 mb-4"},Va={class:"mb-4 text-sm text-right"},Na=["disabled"],Ua={class:"flex items-center justify-between mb-6 p-4 rounded-lg bg-white shadow-sm border border-gray-200"},za={class:"relative inline-flex items-center cursor-pointer"},La=["checked"],Fa={key:0},Ra={class:"flex-1"},Oa=["onUpdate:modelValue"],Wa={class:"flex-1"},Ha=["onUpdate:modelValue"],Ka=["onClick"],qa={key:1},Ja={key:1,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner flex items-center justify-center"},Ya={class:"px-6 py-4 bg-gray-50 border-t flex justify-end gap-3"},Za={key:0,class:"flex items-center"},Qa={key:1},Xa={__name:"AvailabilityModal",props:{show:Boolean,userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(i,{emit:n}){const l=()=>{const V=localStorage.getItem("authToken");V&&!ae.defaults.headers.common.Authorization&&(ae.defaults.headers.common.Authorization=`Bearer ${V}`)},s=i,t=n,p=wa.useToast(),c=$({}),b=$({}),g=$(!1),d=$(null),f=$(""),r=$(!1),u=$([]),m=()=>{const V=[],G=new Date,H=G.getDay(),re=H===0?1:8-H,J=new Date(G);J.setDate(G.getDate()+re);for(let X=0;X<7;X++){const F=new Date(J);F.setDate(J.getDate()+X);const ne=F.toISOString().split("T")[0];V.push({value:ne,label:F.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:F.toLocaleDateString("en-US",{weekday:"short"})})}return V},C=()=>{const V=[],G=new Date,H=G.getDay(),re=new Date(G);re.setDate(G.getDate()-(H===0?6:H-1));for(let J=0;J<7;J++){const X=new Date(re);X.setDate(re.getDate()+J);const F=X.toISOString().split("T")[0];V.push({value:F,label:X.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:X.toLocaleDateString("en-US",{weekday:"short"})})}return V},y=()=>{r.value=!0,f.value="",u.value=C(),d.value=null,D()},W=()=>{r.value=!1,f.value="",u.value=m(),d.value=null,D()};ke(()=>{l(),u.value=m(),D()});const D=async()=>{try{if(l(),u.value.length===0)return;const V=u.value[0].value,G=u.value[u.value.length-1].value,H=await ae.get("/api/availabilities",{params:{start_date:V,end_date:G,user_id:s.userId}});if(H.data&&H.data.availabilities){const re={};u.value.forEach(J=>{re[J.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),c.value=re,H.data.availabilities.forEach(J=>{const X=J.date.split("T")[0];c.value[X]&&(c.value[X].isAvailable=J.is_available,J.is_available?c.value[X].timeSlots=J.time_slots&&J.time_slots.length>0?[...J.time_slots]:[{start_time:"",end_time:""}]:c.value[X].reason=J.reason||"")})}}catch(V){console.error("Error fetching existing availabilities:",V)}};oe(()=>s.show,async V=>{if(V){b.value={},f.value="";try{l();const{data:G}=await ae.get("/api/availability-prompt");!(G.all_current_weekdays_covered??!0)?(r.value=!0,u.value=C()):(r.value=!1,u.value=m())}catch{r.value=!1,u.value=m()}await D(),d.value=null}else d.value=null},{immediate:!0});const h=R(()=>c.value[d.value]||{isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}),w=R(()=>Object.values(c.value).some(V=>V.isSelected)),A=R(()=>{const V=c.value[d.value];return V?V.isAvailable?V.timeSlots.some(G=>G.start_time&&G.end_time):V.reason.trim().split(/\s+/).filter(Boolean).length>=2:!1}),M=V=>{d.value=V},U=()=>{var G;const V=(G=c.value[d.value])==null?void 0:G.timeSlots;V&&(V.push({start_time:"",end_time:""}),c.value[d.value].isSelected=!0)},Q=V=>{var H;const G=(H=c.value[d.value])==null?void 0:H.timeSlots;G&&G.length>1&&(G.splice(V,1),c.value[d.value].isSelected=!0)},E=V=>{c.value[d.value]&&(c.value[d.value].isAvailable=V,c.value[d.value].isSelected=!0,V?c.value[d.value].reason="":c.value[d.value].timeSlots=[{start_time:"",end_time:""}])},I=()=>{const V=c.value[d.value];if(V){if(!A.value){V.isAvailable?b.value[d.value]={timeSlots:"Please fill in at least one time slot before applying to all days."}:b.value[d.value]={reason:"Reason must be at least 2 words to apply to all days."};return}delete b.value[d.value];for(const G of u.value){const H=G.value;c.value[H]=JSON.parse(JSON.stringify(V)),c.value[H].isSelected=!0}p.success("Availability applied to all days!")}},O=async()=>{if(g.value=!0,b.value={},r.value&&!f.value.trim()){b.value.lateReason="Please provide a reason for this late submission.",g.value=!1;return}const V=[];let G=!1;for(const H of u.value){const re=H.value,J=c.value[re];let X={};if(J.isSelected){if(J.isAvailable)if(J.timeSlots.some(F=>!F.start_time||!F.end_time))X.timeSlots="Please fill in all time slots.",G=!0;else for(const F of J.timeSlots){const ne=F.start_time.split(":").map(Number),me=F.end_time.split(":").map(Number);if(ne[0]*60+ne[1]>=me[0]*60+me[1]){X.timeSlots="End time must be after start time.",G=!0;break}}else J.reason.trim()||(X.reason="Please provide a reason for unavailability.",G=!0);Object.keys(X).length>0&&(b.value[re]=X),Object.keys(X).length===0&&V.push({date:re,is_available:J.isAvailable,reason:J.isAvailable?null:J.reason,time_slots:J.isAvailable?J.timeSlots:null})}}if(V.length===0&&!G){b.value.general="Please select and set availability for at least one day.",g.value=!1;return}if(G){g.value=!1;return}try{l();const H={availabilities:V,reason_for_late_submission:r.value?f.value:null};await ae.post("/api/availabilities/batch",H),p.success("Availability saved successfully!"),t("availability-saved"),t("close")}catch(H){console.error("Error saving availability:",H),p.error("An error occurred while saving your availability.")}finally{g.value=!1}};return(V,G)=>(a(),B(Ze,{show:i.show,onClose:G[7]||(G[7]=H=>V.$emit("close")),"max-width":"4xl",closeable:""},{default:k(()=>{var H,re,J,X;return[e("div",xa,[G[18]||(G[18]=e("h2",{class:"text-2xl font-bold text-gray-900"}," Set Your Weekly Availability ",-1)),e("p",_a,[G[8]||(G[8]=T(" Select a day to quickly set your schedule for the upcoming week. ",-1)),r.value?(a(),o("span",{key:1,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:W}," Go back to next week. ")):(a(),o("span",{key:0,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:y}," Missed the deadline? Submit for this week. "))]),r.value?(a(),o("div",Aa,[G[9]||(G[9]=e("div",{class:"flex items-center"},[e("svg",{class:"h-5 w-5 text-yellow-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.344a1.5 1.5 0 012.486 0l5.446 9.176A1.5 1.5 0 0114.246 15H5.754a1.5 1.5 0 01-1.238-2.48zM9 11a1 1 0 102 0V7a1 1 0 10-2 0v4zm1-3a1 1 0 100 2h.01a1 1 0 100-2H10z","clip-rule":"evenodd"})]),e("p",{class:"font-semibold"},"Late Submission for Current Week")],-1)),G[10]||(G[10]=e("p",{class:"mt-2 text-sm"}," Please provide a reason for submitting late. We acknowledge that availability submissions are due by Thursday evening. ",-1)),e("div",Ta,[v(Z,{value:"Reason for late submission"}),L(e("textarea",{"onUpdate:modelValue":G[0]||(G[0]=F=>f.value=F),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., I was out sick, I forgot, I had no access to the system"},null,512),[[de,f.value]]),v(ie,{message:b.value.lateReason,class:"mt-2"},null,8,["message"])])])):_("",!0),e("div",Ma,[e("div",$a,[(a(!0),o(ee,null,se(u.value,F=>{var ne,me,ge,Pe,je;return a(),o("div",{key:F.value,class:K(["p-4 rounded-xl border cursor-pointer transition-all duration-200 ease-in-out",{"bg-indigo-50 border-indigo-500 shadow-lg":d.value===F.value,"bg-white border-gray-200 hover:border-indigo-400 hover:shadow-md":d.value!==F.value,"border-red-400 bg-red-50":b.value[F.value],"opacity-70":F.isPast}]),onClick:Oe=>M(F.value)},[e("div",Sa,[e("div",Ga,[e("div",{class:K(["text-lg font-bold",{"text-indigo-600":d.value===F.value,"text-gray-800":d.value!==F.value}])},P(F.day),3),e("div",Pa,P(F.label.split(", ")[1]),1)]),(me=(ne=c.value[F.value])==null?void 0:ne.timeSlots[0])!=null&&me.start_time&&((Pe=(ge=c.value[F.value])==null?void 0:ge.timeSlots[0])!=null&&Pe.end_time)||(je=c.value[F.value])!=null&&je.reason?(a(),o("span",{key:0,class:K(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",{"bg-emerald-100 text-emerald-800":c.value[F.value].isAvailable,"bg-amber-100 text-amber-800":!c.value[F.value].isAvailable}])},[c.value[F.value].isAvailable?(a(),o("span",ja,"Available")):(a(),o("span",Ea,"Unavailable"))],2)):(a(),o("span",Ia," Not Set "))])],10,Ca)}),128))]),d.value?(a(),o("div",Ba,[e("h3",Da," Availability for "+P((H=u.value.find(F=>F.value===d.value))==null?void 0:H.label),1),e("div",Va,[e("button",{type:"button",onClick:I,disabled:!A.value,class:K([{"opacity-50 cursor-not-allowed":!A.value},"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out"])},G[11]||(G[11]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),e("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"})],-1),T(" Apply to all days ",-1)]),10,Na)]),e("div",Ua,[G[13]||(G[13]=e("span",{class:"text-sm font-medium text-gray-700"},"I am available on this day",-1)),e("label",za,[e("input",{type:"checkbox",checked:h.value.isAvailable,onChange:G[1]||(G[1]=F=>E(F.target.checked)),class:"sr-only peer"},null,40,La),G[12]||(G[12]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1))])]),v(ie,{message:(re=b.value[d.value])==null?void 0:re.general,class:"mt-2"},null,8,["message"]),h.value.isAvailable?(a(),o("div",Fa,[v(Z,{value:"Available Time Slots",class:"text-gray-800 mb-2"}),v(ie,{message:(J=b.value[d.value])==null?void 0:J.timeSlots,class:"mt-2 mb-4"},null,8,["message"]),(a(!0),o(ee,null,se(h.value.timeSlots,(F,ne)=>(a(),o("div",{key:ne,class:"flex items-center space-x-2 mb-4"},[e("div",Ra,[L(e("input",{type:"time","onUpdate:modelValue":me=>c.value[d.value].timeSlots[ne].start_time=me,onChange:G[2]||(G[2]=me=>c.value[d.value].isSelected=!0),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,40,Oa),[[de,c.value[d.value].timeSlots[ne].start_time]])]),G[15]||(G[15]=e("span",{class:"text-gray-500"},"-",-1)),e("div",Wa,[L(e("input",{type:"time","onUpdate:modelValue":me=>c.value[d.value].timeSlots[ne].end_time=me,onChange:G[3]||(G[3]=me=>c.value[d.value].isSelected=!0),class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,40,Ha),[[de,c.value[d.value].timeSlots[ne].end_time]])]),c.value[d.value].timeSlots.length>1?(a(),o("button",{key:0,type:"button",onClick:me=>Q(ne),class:"p-2 text-red-600 hover:text-red-800 transition duration-150 ease-in-out"},G[14]||(G[14]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,Ka)):_("",!0)]))),128)),e("button",{type:"button",onClick:U,class:"mt-2 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},G[16]||(G[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),T(" Add Another Time Slot ",-1)]))])):(a(),o("div",qa,[v(Z,{value:"Reason for Not Available",class:"text-gray-800 mb-2"}),L(e("textarea",{"onUpdate:modelValue":G[4]||(G[4]=F=>c.value[d.value].reason=F),onInput:G[5]||(G[5]=F=>c.value[d.value].isSelected=!0),rows:"3",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,544),[[de,c.value[d.value].reason]]),v(ie,{message:(X=b.value[d.value])==null?void 0:X.reason,class:"mt-2"},null,8,["message"])]))])):(a(),o("div",Ja,G[17]||(G[17]=[e("p",{class:"text-gray-500 text-lg font-medium"}," Please select a day from the left to set your availability. ",-1)])))])]),e("div",Ya,[v(Je,{onClick:G[6]||(G[6]=F=>V.$emit("close"))},{default:k(()=>G[19]||(G[19]=[T(" Cancel ",-1)])),_:1,__:[19]}),v(pe,{onClick:O,disabled:g.value||!w.value,class:K({"opacity-50 cursor-not-allowed":g.value||!w.value})},{default:k(()=>[g.value?(a(),o("span",Za,G[20]||(G[20]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),T(" Saving... ",-1)]))):(a(),o("span",Qa,"Save Availability"))]),_:1},8,["disabled","class"])])]}),_:1},8,["show"]))}},el={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},tl={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},al={class:"mb-4 text-gray-700"},ll={class:"flex justify-center"},sl={__name:"AvailabilityBlocker",setup(i){const n=$(!1),l=$(!0),s=$(!1),t=$(!0),p=$(!0),c=$(!1),b=R(()=>{var y;return((y=Fe().props.auth.user)==null?void 0:y.id)||null}),g=()=>{const y=localStorage.getItem("authToken");y&&!ae.defaults.headers.common.Authorization&&(ae.defaults.headers.common.Authorization=`Bearer ${y}`)},d=async()=>{l.value=!0;try{g();const{data:y}=await ae.get("/api/availability-prompt");n.value=!!y.should_block_user,t.value=!!y.all_current_weekdays_covered,p.value=!!(y.all_next_weekdays_covered??y.all_weekdays_covered),c.value=!!y.is_friday_onwards,localStorage.setItem("shouldBlockUser",String(n.value)),localStorage.setItem("allCurrentWeekdaysCovered",String(t.value)),localStorage.setItem("allNextWeekdaysCovered",String(p.value)),localStorage.setItem("allWeekdaysCovered",String(p.value));const W=new CustomEvent("availability-status-updated",{detail:{shouldBlockUser:n.value,allCurrentWeekdaysCovered:t.value,allNextWeekdaysCovered:p.value}});window.dispatchEvent(W)}catch(y){console.error("Error checking if user should be blocked:",y),n.value=!1}finally{l.value=!1}},f=()=>{s.value=!0},r=()=>{d()},u=y=>{n.value=!!y.detail.shouldBlockUser,"allCurrentWeekdaysCovered"in y.detail&&(t.value=!!y.detail.allCurrentWeekdaysCovered),"allNextWeekdaysCovered"in y.detail&&(p.value=!!y.detail.allNextWeekdaysCovered)},m=()=>{document.visibilityState==="visible"&&Ge(()=>{d()})},C=y=>{["shouldBlockUser","allWeekdaysCovered","allCurrentWeekdaysCovered","allNextWeekdaysCovered"].includes(y.key)&&Ge(()=>{d()})};return ke(()=>{d(),window.addEventListener("availability-status-updated",u),document.addEventListener("visibilitychange",m),window.addEventListener("storage",C)}),Ye(()=>{window.removeEventListener("availability-status-updated",u),document.removeEventListener("visibilitychange",m),window.removeEventListener("storage",C)}),(y,W)=>n.value&&!l.value?(a(),o("div",el,[e("div",tl,[W[2]||(W[2]=Vt('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div>',1)),e("p",al,[!t.value&&!p.value?(a(),o(ee,{key:0},[T(" You need to submit your availability for the current week (up to today) and for all weekdays of next week. ")],64)):t.value?(a(),o(ee,{key:2},[T(" You must submit your availability for all weekdays of next week before you can continue using the application. ")],64)):(a(),o(ee,{key:1},[T(" You need to submit your availability for the current week (up to today). ")],64))]),W[3]||(W[3]=e("p",{class:"mb-6 text-gray-600"}," This information is required for planning meetings and work schedules. ",-1)),e("div",ll,[v(pe,{onClick:f,class:"bg-red-600 hover:bg-red-700"},{default:k(()=>W[1]||(W[1]=[T(" Submit Availability Now ",-1)])),_:1,__:[1]})]),v(Xa,{show:s.value,userId:b.value,onClose:W[0]||(W[0]=D=>s.value=!1),onAvailabilitySaved:r},null,8,["show","userId"])])])):_("",!0)}},ol={class:"relative"},il={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},rl=["onClick"],nl={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},ul=["onClick"],dl={key:1,class:"px-4 py-2 text-sm text-gray-500"},cl={key:2,class:"px-4 py-2 text-sm text-gray-500"},ml={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(i,{emit:n}){const l=i,s=n,t=$(""),p=$([]),c=$([]),b=$(!1),g=$(null);function d(){s("update:modelValue",c.value.map(D=>D.id))}oe(()=>l.initialTags,D=>{if(c.value=[],D&&D.length>0){const M=[],U=new Set;D.forEach(Q=>{U.has(Q.id)||(M.push(Q),U.add(Q.id))}),c.value.push(...M)}const h=D.map(M=>M.id),w=Array.isArray(l.modelValue)?l.modelValue:[];(h.length!==w.length||h.some(M=>!w.includes(M))||w.some(M=>!h.includes(M)))&&d()},{immediate:!0});const f=Wt(async D=>{if(D.length<2){p.value=[],b.value=!1;return}try{const h=await ae.get(`/api/tags/search?query=${D}`);p.value=h.data,b.value=!0}catch(h){console.error("Error fetching tags:",h),p.value=[],b.value=!1}},300);oe(t,D=>{l.disabled||f(D)});const r=D=>{c.value.some(h=>h.id===D.id)||(c.value.push(D),t.value="",p.value=[],b.value=!1,d()),Ge(()=>g.value.focus())},u=()=>{if(l.disabled)return;const D=t.value.trim();if(!D)return;const h=p.value.find(A=>A.name.toLowerCase()===D.toLowerCase()),w=c.value.some(A=>A.name.toLowerCase()===D.toLowerCase());if(h)r(h);else if(w)t.value="",p.value=[],b.value=!1;else{const A={id:`new_${D.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:D};c.value.push(A),t.value="",p.value=[],b.value=!1,d()}Ge(()=>g.value.focus())},m=D=>{l.disabled||(c.value=c.value.filter(h=>h.id!==D.id),d(),Ge(()=>g.value.focus()))},C=()=>{l.disabled||t.value===""&&c.value.length>0&&m(c.value[c.value.length-1])},y=R(()=>p.value.filter(D=>!c.value.some(h=>h.id===D.id))),W=D=>{g.value&&!g.value.$el.contains(D.target)&&(b.value=!1,t.value="")};return ke(()=>{document.addEventListener("click",W)}),Ye(()=>{document.removeEventListener("click",W)}),(D,h)=>(a(),o("div",ol,[v(Z,{value:i.label,class:"mb-1"},null,8,["value"]),e("div",il,[(a(!0),o(ee,null,se(c.value,w=>(a(),o("span",{key:w.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[T(P(w.name)+" ",1),i.disabled?_("",!0):(a(),o("button",{key:0,type:"button",onClick:A=>m(w),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},h[3]||(h[3]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,rl))]))),128)),v(xe,{ref_key:"inputRef",ref:g,type:"text",placeholder:c.value.length===0?i.placeholder:"",modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=w=>t.value=w),onFocus:h[1]||(h[1]=w=>b.value=!0),onKeydown:[He(ht(u,["prevent"]),["enter"]),h[2]||(h[2]=He(w=>b.value=!1,["tab"])),He(C,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:i.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),b.value&&(y.value.length>0||t.value.length>=2||y.value.length===0&&t.value.length<2)&&!i.disabled?(a(),o("div",nl,[(a(!0),o(ee,null,se(y.value,w=>(a(),o("div",{key:w.id,onClick:A=>r(w),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},P(w.name),9,ul))),128)),!p.value.some(w=>w.name.toLowerCase()===t.value.toLowerCase())&&t.value.length>=2?(a(),o("div",{key:0,onClick:u,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+P(t.value)+'" ',1)):_("",!0),y.value.length===0&&t.value.length<2?(a(),o("div",dl," Type at least 2 characters to search for tags. ")):_("",!0),y.value.length===0&&t.value.length>=2&&!p.value.some(w=>w.name.toLowerCase()===t.value.toLowerCase())?(a(),o("div",cl,[h[4]||(h[4]=T(" No matching tags found. Press ",-1)),h[5]||(h[5]=e("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),T(' to add "'+P(t.value)+'" as a new tag. ',1)])):_("",!0)])):_("",!0),v(ie,{message:i.error,class:"mt-2"},null,8,["message"])]))}},Tt=Re(ml,[["__scopeId","data-v-4d528a4c"]]),vl={class:"space-y-4"},pl="Add New Milestone",fl="/api/milestones",gl="post",bl="Create Milestone",yl="Milestone created successfully!",hl={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(i,{emit:n}){const l=i,s=n,t=Ie({name:"",description:"",completion_date:null,status:"Not Started",project_id:l.projectId}),p=Ie({completion_date:null}),c=["Not Started","In Progress","Completed","Overdue"];oe(()=>l.show,f=>{f&&(Object.assign(t,{name:"",description:"",completion_date:null,status:"Not Started",project_id:l.projectId}),p.completion_date=null)},{immediate:!0});const b=()=>(p.completion_date=null,t.completion_date?!0:(p.completion_date=["Completion date is required."],!1)),g=f=>{s("saved",f),s("close")},d=()=>{s("close")};return(f,r)=>(a(),B(Be,{show:i.show,title:pl,"api-endpoint":fl,"http-method":gl,"form-data":t,"submit-button-text":bl,"success-message":yl,"before-submit":b,onClose:d,onSubmitted:g},{default:k(({errors:u})=>[e("div",vl,[e("div",null,[v(Z,{for:"milestone-name",value:"Milestone Name"}),v(xe,{id:"milestone-name",modelValue:t.name,"onUpdate:modelValue":r[0]||(r[0]=m=>t.name=m),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),v(ie,{message:u.name?u.name[0]:"",class:"mt-2"},null,8,["message"])]),e("div",null,[v(Z,{for:"milestone-description",value:"Description"}),L(e("textarea",{id:"milestone-description","onUpdate:modelValue":r[1]||(r[1]=m=>t.description=m),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[de,t.description]]),v(ie,{message:u.description?u.description[0]:"",class:"mt-2"},null,8,["message"])]),e("div",null,[v(Z,{for:"milestone-completion-date",value:"Completion Date"}),v(xe,{id:"milestone-completion-date",modelValue:t.completion_date,"onUpdate:modelValue":r[2]||(r[2]=m=>t.completion_date=m),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),v(ie,{message:u.completion_date?u.completion_date[0]:p.completion_date?p.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),e("div",null,[v(Z,{for:"milestone-status",value:"Status"}),v(ye,{id:"milestone-status",modelValue:t.status,"onUpdate:modelValue":r[3]||(r[3]=m=>t.status=m),options:c.map(m=>({value:m,label:m})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),v(ie,{message:u.status?u.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},kl={class:"p-4 sm:p-6"},wl={class:"flex items-center justify-between mb-4"},xl={class:"text-lg font-medium text-gray-900"},_l={class:"space-y-6"},Al={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Tl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ml={key:0},$l=["min"],Cl={key:1},Sl=["min"],Gl={key:2,class:"md:col-span-2"},Pl={class:"mt-2 flex flex-wrap gap-2"},jl=["value"],El={class:"ml-2 text-sm"},Il={class:"flex gap-2"},Bl=["value"],Dl=["value"],Vl={key:5,class:"md:col-span-2"},Nl={class:"p-3 rounded-md bg-gray-50 border border-gray-200 text-sm text-gray-800"},Ul={class:"flex items-center justify-end gap-3"},zl={__name:"SchedulePickerModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Schedule"},initial:{type:Object,default:()=>({})}},emits:["close","save"],setup(i,{emit:n}){function l(r=new Date){const u=h=>String(h).padStart(2,"0"),m=r.getFullYear(),C=u(r.getMonth()+1),y=u(r.getDate()),W=u(r.getHours()),D=u(r.getMinutes());return`${m}-${C}-${y}T${W}:${D}`}const s=i,t=n,p=$({name:"",description:"",start_at:l(new Date),end_at:"",mode:"once",time:new Date().toTimeString().slice(0,5),days_of_week:[],day_of_month:null,nth:1,dow_for_monthly:1,month:1,cron:""});oe(()=>s.show,r=>{r&&(p.value={name:s.initial.name||"",description:s.initial.description||"",start_at:s.initial.start_at||l(new Date),end_at:s.initial.end_at||"",mode:s.initial.mode||"once",time:s.initial.time||new Date().toTimeString().slice(0,5),days_of_week:s.initial.days_of_week||[],day_of_month:s.initial.day_of_month||null,nth:s.initial.nth||1,dow_for_monthly:s.initial.dow_for_monthly||1,month:s.initial.month||1,cron:s.initial.cron||""})});const c=[{value:"once",label:"Once"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"},{value:"cron",label:"Custom cron"}],b=R(()=>l(new Date)),g=R(()=>p.value.start_at||b.value),d=R(()=>{var m,C;const r=p.value,u=r.time||"00:00";switch(r.mode){case"once":return`One-time at ${(m=r.start_at)==null?void 0:m.replace("T"," ")} (deactivates after run)`;case"daily":return`Daily at ${u}`;case"weekly":if(!((C=r.days_of_week)!=null&&C.length))return`Weekly at ${u}`;const y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return`Weekly on ${r.days_of_week.map(h=>y[h]).join(", ")} at ${u}`;case"monthly":return r.day_of_month?`Monthly on day ${r.day_of_month} at ${u}`:`Monthly on the ${["First","Second","Third","Fourth","Fifth"][r.nth-1]} ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r.dow_for_monthly]} at ${u}`;case"yearly":return`Yearly on ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][(r.month||1)-1]} ${r.day_of_month||1} at ${u}`;case"cron":return`Custom cron: ${r.cron||"* * * * *"}`}});function f(){t("save",{...p.value})}return(r,u)=>(a(),B(Ze,{show:i.show,onClose:u[15]||(u[15]=()=>t("close"))},{default:k(()=>[e("div",kl,[e("div",wl,[e("h3",xl,P(i.title),1),e("button",{onClick:u[0]||(u[0]=()=>t("close")),class:"text-gray-500 hover:text-gray-700"},"✕")]),e("div",_l,[e("section",null,[e("div",Al,[e("div",null,[v(Z,{value:"Schedule Name"}),L(e("input",{"onUpdate:modelValue":u[1]||(u[1]=m=>p.value.name=m),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., Weekly reminder"},null,512),[[de,p.value.name]])]),e("div",null,[v(Z,{value:"Description (optional)"}),L(e("input",{"onUpdate:modelValue":u[2]||(u[2]=m=>p.value.description=m),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[de,p.value.description]])])])]),e("section",null,[e("div",Tl,[e("div",null,[v(Z,{value:"Run"}),v(ye,{modelValue:p.value.mode,"onUpdate:modelValue":u[3]||(u[3]=m=>p.value.mode=m),options:c,placeholder:"Select frequency..."},null,8,["modelValue"])]),p.value.mode!=="cron"&&p.value.mode!=="once"?(a(),o("div",Ml,[v(Z,{value:"Time"}),L(e("input",{"onUpdate:modelValue":u[4]||(u[4]=m=>p.value.time=m),type:"time",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[de,p.value.time]])])):_("",!0),e("div",null,[v(Z,{value:"Start at"}),L(e("input",{"onUpdate:modelValue":u[5]||(u[5]=m=>p.value.start_at=m),type:"datetime-local",min:b.value,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,8,$l),[[de,p.value.start_at]])]),p.value.mode!=="once"?(a(),o("div",Cl,[v(Z,{value:"End at (optional)"}),L(e("input",{"onUpdate:modelValue":u[6]||(u[6]=m=>p.value.end_at=m),type:"datetime-local",min:g.value,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,8,Sl),[[de,p.value.end_at]])])):_("",!0),p.value.mode==="weekly"?(a(),o("div",Gl,[v(Z,{value:"Days of the week"}),e("div",Pl,[(a(),o(ee,null,se(7,m=>e("label",{key:m-1,class:"inline-flex items-center"},[L(e("input",{class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500",type:"checkbox",value:m-1,"onUpdate:modelValue":u[7]||(u[7]=C=>p.value.days_of_week=C)},null,8,jl),[[kt,p.value.days_of_week]]),e("span",El,P(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][m-1]),1)])),64))])])):_("",!0),p.value.mode==="monthly"?(a(),o(ee,{key:3},[e("div",null,[v(Z,{value:"Day of month"}),L(e("input",{"onUpdate:modelValue":u[8]||(u[8]=m=>p.value.day_of_month=m),type:"number",min:"1",max:"31",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., 15"},null,512),[[de,p.value.day_of_month,void 0,{number:!0}]])]),e("div",null,[v(Z,{value:"Or: Nth weekday"}),e("div",Il,[L(e("select",{"onUpdate:modelValue":u[9]||(u[9]=m=>p.value.nth=m),class:"mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},u[16]||(u[16]=[e("option",{value:1},"First",-1),e("option",{value:2},"Second",-1),e("option",{value:3},"Third",-1),e("option",{value:4},"Fourth",-1),e("option",{value:5},"Fifth",-1)]),512),[[Ke,p.value.nth,void 0,{number:!0}]]),L(e("select",{"onUpdate:modelValue":u[10]||(u[10]=m=>p.value.dow_for_monthly=m),class:"mt-1 block w-1/2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[(a(),o(ee,null,se(7,m=>e("option",{key:m-1,value:m-1},P(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][m-1]),9,Bl)),64))],512),[[Ke,p.value.dow_for_monthly,void 0,{number:!0}]])])])],64)):_("",!0),p.value.mode==="yearly"?(a(),o(ee,{key:4},[e("div",null,[v(Z,{value:"Month"}),L(e("select",{"onUpdate:modelValue":u[11]||(u[11]=m=>p.value.month=m),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[(a(),o(ee,null,se(12,m=>e("option",{key:m,value:m},P(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][m-1]),9,Dl)),64))],512),[[Ke,p.value.month,void 0,{number:!0}]])]),e("div",null,[v(Z,{value:"Day of month"}),L(e("input",{"onUpdate:modelValue":u[12]||(u[12]=m=>p.value.day_of_month=m),type:"number",min:"1",max:"31",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[de,p.value.day_of_month,void 0,{number:!0}]])])],64)):_("",!0),p.value.mode==="cron"?(a(),o("div",Vl,[v(Z,{value:"Cron expression"}),L(e("input",{"onUpdate:modelValue":u[13]||(u[13]=m=>p.value.cron=m),type:"text",placeholder:"* * * * *",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[de,p.value.cron]])])):_("",!0)])]),e("section",null,[e("div",Nl,P(d.value),1),u[17]||(u[17]=e("p",{class:"text-[11px] text-gray-500 mt-1"},"Times are entered in your local timezone; they will be stored in the app timezone.",-1))]),e("div",Ul,[e("button",{onClick:u[14]||(u[14]=()=>t("close")),class:"px-4 py-2 rounded-md border border-gray-300 text-gray-700 bg-white hover:bg-gray-50"},"Cancel"),e("button",{onClick:f,class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500"},"Save")])])])]),_:1},8,["show"]))}};function Ll(){const i=$(!1),n=$(null);function l(){i.value=!0}function s(){i.value=!1}function t(c){n.value={...c},i.value=!1}async function p(c,b){var g,d;if(!n.value)return null;try{const f={...n.value,scheduled_item_type:c,scheduled_item_id:b},{data:r}=await window.axios.post("/api/schedules",f);return fe("Schedule created"),n.value=null,r}catch(f){return console.error("Failed to create schedule",f),ce(((d=(g=f==null?void 0:f.response)==null?void 0:g.data)==null?void 0:d.message)||"Failed to create schedule"),null}}return{showScheduleModal:i,scheduleDraft:n,open:l,close:s,onSaveDraft:t,attachAfterCreate:p}}const Fl={key:0,class:"mb-4"},Rl={key:1,class:"flex flex-col md:flex-row md:gap-8"},Ol={class:"flex-grow flex flex-col space-y-4"},Wl={key:0,class:"flex-grow flex flex-col"},Hl={key:0,class:"text-xs text-gray-500 mt-1"},Kl={class:"w-full md:w-72 flex-shrink-0 mt-6 md:mt-0 space-y-5"},ql={key:0},Jl={class:"space-y-5"},Yl={class:"flex items-center gap-3"},Zl={class:"flex-grow flex items-center gap-2"},Ql=["disabled"],Xl={class:"flex items-center gap-3"},es={key:0,class:"mt-5 flex items-center gap-3"},ts={key:1,class:"mt-5 flex items-center gap-3"},as={key:2,class:"mt-5 flex items-center gap-3"},ls={key:3,class:"mt-5 space-y-2"},ss={class:"flex items-center justify-between rounded-md bg-gray-100 p-1"},os={key:2,class:"mt-6 border-t pt-4"},is={class:"space-y-4 mb-4"},rs={key:0},ns={key:1},us={key:2,class:"flex items-center"},ds={key:3,class:"flex items-center justify-between"},cs={key:0,class:"text-sm text-gray-700"},ms={key:1,class:"text-sm text-gray-500"},vs={class:"flex items-center gap-2"},ps={class:"flex items-center gap-2 flex-wrap"},fs="Create New Task",gs="/api/tasks",bs="post",ys="Create Task",hs="Task created successfully!",ks={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(i,{emit:n}){const l=i,s=n,t=Ie({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:l.projectId,priority:"medium",needs_approval:!1,tags:[],tags_data:[]}),p=["To Do","In Progress","Done","Blocked","Archived"],c=$([]),b=$([]),g=$([]),d=$([]),f=$(!0),r=$(!1),u=$(!1),m=$(!1),C=$(!1),y=$(!1),W=$(!1),D=$(!1),h=$(!1),{showScheduleModal:w,scheduleDraft:A,open:M,close:U,onSaveDraft:Q,attachAfterCreate:E}=Ll(),I=R(()=>{const z=A.value;if(!z)return null;const S=z.time||"00:00";switch(z.mode){case"once":return`One-time at ${String(z.start_at||"").replace("T"," ")}`;case"daily":return`Daily at ${S}`;case"weekly":{const le=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return`Weekly on ${(z.days_of_week||[]).map(be=>le[be]).join(", ")||"—"} at ${S}`}case"monthly":return z.day_of_month?`Monthly on day ${z.day_of_month} at ${S}`:`Monthly on the ${["First","Second","Third","Fourth","Fifth"][(z.nth||1)-1]} ${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][z.dow_for_monthly||1]} at ${S}`;case"yearly":return`Yearly on ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][(z.month||1)-1]} ${z.day_of_month||1} at ${S}`;case"cron":return`Custom cron: ${z.cron||"* * * * *"}`}return null}),O=async()=>(A.value?t.schedule={...A.value}:t.schedule&&delete t.schedule,!0);oe(()=>l.show,async z=>{z&&(Object.assign(t,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:l.projectId,priority:"medium",needs_approval:!1,tags:[],tags_data:[]}),y.value=!1,W.value=!1,D.value=!1,h.value=!1,l.projectId?await G(l.projectId):await V())},{immediate:!0}),oe(()=>t.description,z=>{z.length<10&&(t.milestone_id=null)}),oe(()=>t.milestone_id,()=>{t.due_date=null}),oe(()=>t.due_date,()=>{t.assigned_to_user_id=null}),oe(()=>t.assigned_to_user_id,()=>{t.task_type_id=null}),oe(()=>t.task_type_id,()=>{t.priority="medium"}),oe(()=>t.project_id,async z=>{z?await G(z):(b.value=[],g.value=[],d.value=[])});const V=async()=>{f.value=!0;try{const z=await window.axios.get("/api/projects-simplified");c.value=z.data.map(S=>({value:S.id,label:S.name}))}catch(z){console.error("Error fetching projects:",z),c.value=[]}finally{f.value=!1}},G=async z=>{if(z){r.value=!0,u.value=!0,m.value=!0;try{const[S,le,q]=await Promise.all([window.axios.get(`/api/projects/${z}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${z}/milestones`)]);b.value=S.data.map(be=>({value:be.id,label:be.name})),g.value=le.data.map(be=>({value:be.id,label:be.name})),d.value=q.data}catch(S){console.error("Error fetching associated task data:",S),b.value=[],g.value=[],d.value=[]}finally{r.value=!1,u.value=!1,m.value=!1}}},H=R(()=>new Date().toISOString().split("T")[0]),re=R(()=>{if(!t.milestone_id)return"";const z=d.value.find(S=>S.id===t.milestone_id);return!z||!z.completion_date?"":z.completion_date.split("T")[0]}),J=$([]),X=z=>{J.value=Array.from(z.target.files||[])},F=async z=>{if(!J.value.length)return;const S=new FormData;J.value.forEach((le,q)=>S.append(`files[${q}]`,le)),S.append("model_type","Task"),S.append("model_id",z);try{await window.axios.post("/api/files",S,{headers:{"Content-Type":"multipart/form-data"}}),fe("Files uploaded to Google Drive.")}catch(le){console.error("Failed to upload task files",le),ce("Failed to upload files.")}},ne=async z=>{var S,le,q;try{const be=(z==null?void 0:z.id)||((S=z==null?void 0:z.task)==null?void 0:S.id)||((le=z==null?void 0:z.data)==null?void 0:le.id);be&&(await F(be),!(z!=null&&z.attached_schedule_id||(q=z==null?void 0:z.data)!=null&&q.attached_schedule_id)&&A.value&&await E("task",be))}finally{A.value=null,s("saved",z),s("close"),J.value=[]}},me=()=>{s("close")},ge=()=>{t.project_id?C.value=!0:alert("Please select a project before adding a milestone.")},Pe=z=>{C.value=!1,z&&z.id&&z.name&&(d.value.push(z),t.milestone_id=z.id)},je=R(()=>b.value),Oe=R(()=>g.value),Qe=R(()=>d.value);return(z,S)=>(a(),o(ee,null,[v(Be,{show:i.show,title:fs,"api-endpoint":gs,"http-method":bs,"form-data":t,"submit-button-text":ys,"success-message":hs,"before-submit":O,onClose:me,onSubmitted:ne,"max-width":"4xl"},{default:k(({errors:le})=>[e("div",null,[i.projectId?_("",!0):(a(),o("div",Fl,[v(ye,{id:"task-project",modelValue:t.project_id,"onUpdate:modelValue":S[0]||(S[0]=q=>t.project_id=q),options:c.value,"value-key":"value","label-key":"label",placeholder:"Select a project",required:!0},null,8,["modelValue","options"]),v(ie,{message:le.project_id?le.project_id[0]:"",class:"mt-2"},null,8,["message"])])),t.project_id?(a(),o("div",Rl,[e("div",Ol,[v(xe,{id:"task-name",modelValue:t.name,"onUpdate:modelValue":S[1]||(S[1]=q=>t.name=q),type:"text",class:"block w-full text-xl font-semibold border-gray-200",placeholder:"Task Title",required:""},null,8,["modelValue"]),v(ie,{message:le.name?le.name[0]:"",class:"mt-2"},null,8,["message"]),t.name?(a(),o("div",Wl,[L(e("textarea",{id:"task-description","onUpdate:modelValue":S[2]||(S[2]=q=>t.description=q),class:"flex-grow w-full rounded-md border-gray-200 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Add a description..."},null,512),[[de,t.description]]),v(ie,{message:le.description?le.description[0]:"",class:"mt-2"},null,8,["message"]),t.name&&t.description.length<10?(a(),o("p",Hl," Enter at least 10 characters to continue. ")):_("",!0)])):_("",!0)]),e("div",Kl,[t.description.length>=10?(a(),o("div",ql,[e("div",Jl,[e("div",Yl,[S[21]||(S[21]=e("svg",{class:"h-5 w-5 text-gray-500 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 20.25h12m-7.5-3.75v3.75m.75-12.75l3 3m0 0l3-3m-3 3v11.25m-4.5 0L7.5 21m0 0H6"})],-1)),e("div",Zl,[v(ye,{id:"task-milestone",modelValue:t.milestone_id,"onUpdate:modelValue":S[3]||(S[3]=q=>t.milestone_id=q),options:Qe.value,"value-key":"id","label-key":"name",placeholder:"Select Milestone",class:"flex-grow",required:""},null,8,["modelValue","options"]),e("button",{type:"button",onClick:ge,disabled:!t.project_id||m.value,class:"p-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 disabled:opacity-50",title:"Add New Milestone"},S[20]||(S[20]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,Ql)])]),v(ie,{message:le.milestone_id?le.milestone_id[0]:"",class:"mt-2"},null,8,["message"]),e("div",Xl,[S[22]||(S[22]=e("svg",{class:"h-5 w-5 text-gray-500 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9.563C9 9.252 9.252 9 9.563 9h4.874c.311 0 .563.252.563.563v4.874c0 .311-.252.563-.563.563H9.564A.562.562 0 019 14.437V9.564z"})],-1)),v(ye,{id:"task-status",modelValue:t.status,"onUpdate:modelValue":S[4]||(S[4]=q=>t.status=q),options:p.map(q=>({value:q,label:q})),"value-key":"value","label-key":"label",class:"flex-grow"},null,8,["modelValue","options"])])]),t.milestone_id?(a(),o("div",es,[S[23]||(S[23]=e("svg",{class:"h-5 w-5 text-gray-500 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})],-1)),v(xe,{id:"task-due-date",modelValue:t.due_date,"onUpdate:modelValue":S[5]||(S[5]=q=>t.due_date=q),type:"date",class:"flex-grow",min:H.value,max:re.value},null,8,["modelValue","min","max"])])):_("",!0),t.due_date?(a(),o("div",ts,[S[24]||(S[24]=e("svg",{class:"h-5 w-5 text-gray-500 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1)),v(ye,{id:"task-assigned-to",modelValue:t.assigned_to_user_id,"onUpdate:modelValue":S[6]||(S[6]=q=>t.assigned_to_user_id=q),options:je.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"flex-grow","allow-empty":!0},null,8,["modelValue","options"])])):_("",!0),t.assigned_to_user_id?(a(),o("div",as,[S[25]||(S[25]=e("svg",{class:"h-5 w-5 text-gray-500 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6z"})],-1)),v(ye,{id:"task-type",modelValue:t.task_type_id,"onUpdate:modelValue":S[7]||(S[7]=q=>t.task_type_id=q),options:Oe.value,"value-key":"value","label-key":"label",placeholder:"Select Type",class:"flex-grow",required:""},null,8,["modelValue","options"])])):_("",!0),t.task_type_id?(a(),o("div",ls,[v(Z,{value:"Priority"}),e("div",ss,[e("button",{type:"button",onClick:S[8]||(S[8]=q=>t.priority="low"),class:K(["px-3 py-1 text-sm rounded-md w-full flex items-center justify-center gap-2",t.priority==="low"?"bg-white shadow":"text-gray-600 hover:bg-gray-200"])},S[26]||(S[26]=[e("svg",{class:"h-4 w-4 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3"})],-1),T(" Low ",-1)]),2),e("button",{type:"button",onClick:S[9]||(S[9]=q=>t.priority="medium"),class:K(["px-3 py-1 text-sm rounded-md w-full flex items-center justify-center gap-2",t.priority==="medium"?"bg-white shadow":"text-gray-600 hover:bg-gray-200"])},S[27]||(S[27]=[e("svg",{class:"h-4 w-4 text-yellow-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9h16.5m-16.5 6.75h16.5"})],-1),T(" Medium ",-1)]),2),e("button",{type:"button",onClick:S[10]||(S[10]=q=>t.priority="high"),class:K(["px-3 py-1 text-sm rounded-md w-full flex items-center justify-center gap-2",t.priority==="high"?"bg-white shadow":"text-gray-600 hover:bg-gray-200"])},S[28]||(S[28]=[e("svg",{class:"h-4 w-4 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 10.5L12 3m0 0l7.5 7.5M12 3v18"})],-1),T(" High ",-1)]),2)])])):_("",!0)])):_("",!0)])])):_("",!0),t.description.length>=10?(a(),o("div",os,[e("div",is,[y.value?(a(),o("div",rs,[v(Tt,{modelValue:t.tags,"onUpdate:modelValue":S[11]||(S[11]=q=>t.tags=q),initialTags:t.tags_data,label:"Tags",placeholder:"Add tags...",error:le.tags?le.tags[0]:"",disabled:!t.project_id},null,8,["modelValue","initialTags","error","disabled"])])):_("",!0),W.value?(a(),o("div",ns,[v(Z,{for:"task-files",value:"Attachments"}),e("input",{id:"task-files",type:"file",class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100",multiple:"",onChange:X},null,32)])):_("",!0),h.value?(a(),o("div",us,[L(e("input",{id:"needs-approval",type:"checkbox","onUpdate:modelValue":S[12]||(S[12]=q=>t.needs_approval=q),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[kt,t.needs_approval]]),S[29]||(S[29]=e("label",{for:"needs-approval",class:"ml-2 block text-sm text-gray-700"},"This task needs approval",-1))])):_("",!0),D.value?(a(),o("div",ds,[e("div",null,[v(Z,{value:"Schedule"}),I.value?(a(),o("div",cs,"Planned: "+P(I.value),1)):(a(),o("div",ms,"No schedule attached"))]),e("div",vs,[e("button",{type:"button",onClick:S[13]||(S[13]=(...q)=>N(M)&&N(M)(...q)),class:"px-3 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-md hover:bg-indigo-100"},P(I.value?"Edit Schedule":"Add Schedule"),1),N(A)?(a(),o("button",{key:0,type:"button",onClick:S[14]||(S[14]=q=>A.value=null),class:"px-3 py-2 text-sm font-medium text-gray-600 bg-gray-100 rounded-md hover:bg-gray-200"},"Clear")):_("",!0)])])):_("",!0)]),e("div",ps,[e("button",{type:"button",onClick:S[15]||(S[15]=q=>y.value=!y.value),class:K(["flex items-center gap-1 text-sm text-gray-600 hover:text-black bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded-md transition-colors",{"bg-gray-300":y.value}])},S[30]||(S[30]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5a2 2 0 012 2v5a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2zm0 0v11a2 2 0 002 2h5a2 2 0 002-2v-5a2 2 0 00-2-2H7z"})],-1),T("Tag",-1)]),2),e("button",{type:"button",onClick:S[16]||(S[16]=q=>W.value=!W.value),class:K(["flex items-center gap-1 text-sm text-gray-600 hover:text-black bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded-md transition-colors",{"bg-gray-300":W.value}])},S[31]||(S[31]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})],-1),T("Attachment",-1)]),2),e("button",{type:"button",onClick:S[17]||(S[17]=q=>h.value=!h.value),class:K(["flex items-center gap-1 text-sm text-gray-600 hover:text-black bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded-md transition-colors",{"bg-gray-300":h.value}])},S[32]||(S[32]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),T("Approval",-1)]),2),e("button",{type:"button",onClick:S[18]||(S[18]=q=>D.value=!D.value),class:K(["flex items-center gap-1 text-sm text-gray-600 hover:text-black bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded-md transition-colors",{"bg-gray-300":D.value}])},S[33]||(S[33]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),T("Schedule",-1)]),2)])])):_("",!0)])]),_:1},8,["show","form-data"]),v(zl,{show:N(w),title:"Add Schedule",onClose:N(U),onSave:N(Q)},null,8,["show","onClose","onSave"]),v(hl,{show:C.value,"project-id":t.project_id,onClose:S[19]||(S[19]=le=>C.value=!1),onSaved:Pe},null,8,["show","project-id"])],64))}},ws={class:"space-y-4"},xs={class:"mt-4"},_s={class:"flex items-center space-x-6"},As={class:"inline-flex items-center"},Ts={class:"inline-flex items-center"},Ms={class:"inline-flex items-center"},$s={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(i,{emit:n}){const l=i,s=n,t=Ie({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,visibility:"client",tags:[]}),p=[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}],c=$(p);ke(async()=>{try{const{data:f}=await ae.get("/api/options/shareable_resource_types");Array.isArray(f)&&f.length&&(c.value=f)}catch{c.value=p}});const b=f=>{const r={title:f.title,description:f.description,url:f.url,type:f.type,thumbnail_url:f.thumbnail_url,visibility:f.visibility,tags:f.tags};if(Array.isArray(f.tags)&&f.tags.length){const u=f.tags.map(m=>typeof m=="object"&&m!==null?m.id:m).filter(Boolean);r.tag_ids=u}return r},g=f=>{s("resourceCreated",f),d()},d=()=>{t.title="",t.description="",t.url="",t.type="website",t.thumbnail_url="",t.visible_to_client=!0,t.tags=[],s("close")};return(f,r)=>(a(),B(Be,{show:l.show,title:"Add New Shareable Resource",apiEndpoint:l.apiEndpoint,httpMethod:"post",formData:t,formatDataForApi:b,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",onSubmitted:g,onClose:d},{default:k(({errors:u})=>[e("div",ws,[e("div",null,[v(Z,{for:"title",value:"Title",class:"mb-1"}),v(xe,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:t.title,"onUpdate:modelValue":r[0]||(r[0]=m=>t.title=m),required:""},null,8,["modelValue"]),v(ie,{message:u.title?u.title[0]:"",class:"mt-2"},null,8,["message"])]),e("div",null,[v(Z,{for:"url",value:"Resource URL",class:"mb-1"}),v(xe,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:t.url,"onUpdate:modelValue":r[1]||(r[1]=m=>t.url=m),required:""},null,8,["modelValue"]),v(ie,{message:u.url?u.url[0]:"",class:"mt-2"},null,8,["message"])]),e("div",null,[v(Z,{for:"type",value:"Resource Type",class:"mb-1"}),v(ye,{id:"type",modelValue:t.type,"onUpdate:modelValue":r[2]||(r[2]=m=>t.type=m),options:c.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),v(ie,{message:u.type?u.type[0]:"",class:"mt-2"},null,8,["message"])]),e("div",null,[v(Z,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),v(xe,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:t.thumbnail_url,"onUpdate:modelValue":r[3]||(r[3]=m=>t.thumbnail_url=m)},null,8,["modelValue"]),v(ie,{message:u.thumbnail_url?u.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),e("div",null,[v(Z,{for:"description",value:"Description (Optional)",class:"mb-1"}),L(e("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":r[4]||(r[4]=m=>t.description=m),rows:"3"},null,512),[[de,t.description]]),v(ie,{message:u.description?u.description[0]:"",class:"mt-2"},null,8,["message"])]),e("div",null,[v(Tt,{modelValue:t.tags,"onUpdate:modelValue":r[5]||(r[5]=m=>t.tags=m),label:"Associated Tags",placeholder:"Search or add tags",error:u.tags?u.tags[0]:""},null,8,["modelValue","error"])]),e("div",xs,[v(Z,{value:"Visibility",class:"mb-2"}),e("div",_s,[e("label",As,[L(e("input",{type:"radio",class:"form-radio",value:"client","onUpdate:modelValue":r[6]||(r[6]=m=>t.visibility=m)},null,512),[[et,t.visibility]]),r[9]||(r[9]=e("span",{class:"ml-2"},"Visible to Client",-1))]),e("label",Ts,[L(e("input",{type:"radio",class:"form-radio",value:"team","onUpdate:modelValue":r[7]||(r[7]=m=>t.visibility=m)},null,512),[[et,t.visibility]]),r[10]||(r[10]=e("span",{class:"ml-2"},"Visible to Team",-1))]),e("label",Ms,[L(e("input",{type:"radio",class:"form-radio",value:"private","onUpdate:modelValue":r[8]||(r[8]=m=>t.visibility=m)},null,512),[[et,t.visibility]]),r[11]||(r[11]=e("span",{class:"ml-2"},"Private",-1))])]),v(ie,{message:u.visibility?u.visibility[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},Cs=Re($s,[["__scopeId","data-v-9f619b0e"]]),Ss={key:0,class:"sidebar-wrapper"},Gs={class:"fixed inset-0 z-[100] flex pointer-events-none"},Ps={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},js={class:"text-xl font-semibold text-gray-900"},Es={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},Is={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},Bs={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(i,{emit:n}){const l=i,s=n,t=$(l.initialWidth),p=$(!1),c=r=>{p.value=!0,document.addEventListener("pointermove",b),document.addEventListener("pointerup",g)},b=r=>{if(!p.value)return;const u=window.innerWidth,C=(u-r.clientX)/u*100,y=Math.max(l.minWidth,Math.min(l.maxWidth,C));t.value=y},g=()=>{p.value=!1,document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",g)};oe(()=>l.show,r=>{r?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const d=()=>{s("update:show",!1),s("close")},f=R(()=>window.innerWidth<768);return oe(f,r=>{r&&l.show?t.value=100:!r&&l.show&&(t.value=l.initialWidth)},{immediate:!0}),oe(()=>l.show,r=>{r&&(f.value?t.value=100:t.value=l.initialWidth)}),(r,u)=>(a(),B(Ut,{to:"body"},[v(wt,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:k(()=>[i.show?(a(),o("div",Ss,[e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity z-[99]",onClick:d}),e("div",Gs,[e("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl pointer-events-auto",style:Nt({width:f.value?"100%":`${t.value}vw`})},[f.value?_("",!0):(a(),o("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:c,title:"Drag to resize"},null,32)),e("div",Ps,[e("h3",js,P(i.title),1),e("button",{onClick:d,class:"text-gray-400 hover:text-gray-600 transition-colors"},u[0]||(u[0]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Es,[Ae(r.$slots,"content",{},void 0,!0)]),r.$slots.footer?(a(),o("div",Is,[Ae(r.$slots,"footer",{},void 0,!0)])):_("",!0)],4)])])):_("",!0)]),_:3})]))}},Mt=Re(Bs,[["__scopeId","data-v-2d864577"]]),Ds={class:"flex border-b border-gray-200"},Vs={key:0,class:"ml-2 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full"},Ns={class:"p-4 space-y-2 overflow-y-auto"},Us={key:0,class:"p-6 text-center text-gray-500"},zs={key:0},Ls={key:1},Fs=["onClick"],Rs={class:"flex-1 min-w-0"},Os={class:"flex items-start justify-between gap-2 mb-1"},Ws={class:"flex-1 min-w-0"},Hs={key:0,class:"text-base font-semibold text-gray-900 truncate"},Ks={key:1,class:"text-xs text-gray-500"},qs={key:0,class:"text-sm text-gray-600 mt-1 mb-2"},Js={class:"flex items-center text-xs text-gray-500 font-medium"},Ys={key:0},Zs={key:1,class:"mx-2"},Qs={key:2},Xs={__name:"NotificationsSidebar",setup(i){const n=R(()=>Le.value.notifications),l=$("New"),s=R(()=>l.value==="New"?n.value.filter(b=>!b.isRead):n.value),t=async b=>{await bt(b.view_id);const g=b.task_id||p(b.url),d=b.project_id||c(b.url);g&&d?(yt(g,d),dt()):(console.warn("Could not open task sidebar. Falling back to opening URL in new tab."),b.url&&window.open(b.url,"_blank"))},p=b=>{const g=b.match(/\/task\/(\d+)/);return g?parseInt(g[1]):null},c=b=>{const g=b.match(/\/project\/(\d+)\//);return g?parseInt(g[1]):null};return(b,g)=>(a(),B(Mt,{show:N(Le).show,"onUpdate:show":N(dt),title:"Notifications","initial-width":35,class:"z-[100]"},{content:k(()=>[e("div",Ds,[e("button",{onClick:g[0]||(g[0]=d=>l.value="New"),class:K([{"border-blue-600 text-blue-600 font-semibold":l.value==="New","border-transparent text-gray-500 hover:text-gray-700":l.value!=="New"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])},[g[2]||(g[2]=T(" New ",-1)),n.value.filter(d=>!d.isRead).length>0?(a(),o("span",Vs,P(n.value.filter(d=>!d.isRead).length),1)):_("",!0)],2),e("button",{onClick:g[1]||(g[1]=d=>l.value="All"),class:K([{"border-blue-600 text-blue-600 font-semibold":l.value==="All","border-transparent text-gray-500 hover:text-gray-700":l.value!=="All"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])}," All ",2)]),e("div",Ns,[s.value.length===0?(a(),o("div",Us,[l.value==="New"?(a(),o("span",zs,"You have no new notifications.")):(a(),o("span",Ls,"You have no notifications."))])):_("",!0),(a(!0),o(ee,null,se(s.value,d=>(a(),o("div",{key:d.id,class:K(["bg-white rounded-xl shadow-sm p-4 flex items-start space-x-4 border border-gray-200 transition-all duration-200 hover:shadow-md cursor-pointer",{"bg-gray-50":d.isRead}]),onClick:f=>t(d)},[e("div",Rs,[e("div",Os,[e("div",Ws,[d.title?(a(),o("h3",Hs,P(d.title),1)):_("",!0),d.project_name?(a(),o("p",Ks,P(d.project_name),1)):_("",!0)])]),d.message?(a(),o("p",qs,P(d.message),1)):_("",!0),e("div",Js,[d.due_date?(a(),o("span",Ys,"Due: "+P(N(gt)(d.due_date)),1)):_("",!0),d.due_date&&d.priority?(a(),o("span",Zs,"•")):_("",!0),d.priority?(a(),o("span",Qs,"Priority: "+P(d.priority),1)):_("",!0)])])],10,Fs))),128))])]),_:1},8,["show","onUpdate:show"]))}},eo={class:"space-y-4"},to={key:0,class:"text-red-600 text-xs mt-1"},ao={key:0,class:"text-red-600 text-xs mt-1"},lo={key:0,class:"text-red-600 text-xs mt-1"},so={__name:"KudoModal",props:{show:{type:Boolean,default:!1}},emits:["close","submitted"],setup(i,{emit:n}){const l=n,s=$([]),t=$([]),p=Ie({recipient_id:"",project_id:"",comment:""}),c=$({}),b=async()=>{try{const{data:r}=await window.axios.get("/api/projects-simplified");s.value=(r||[]).map(u=>({value:u.id,label:u.name}))}catch{s.value=[]}},g=async r=>{if(t.value=[],!!r)try{const{data:u}=await window.axios.get(`/api/projects/${r}/users`);t.value=(u||[]).map(m=>({value:m.id,label:`${m.name} (${m.email})`}))}catch{t.value=[]}};oe(()=>p.project_id,r=>{r&&g(r)}),ke(()=>{b()});const d=()=>{p.recipient_id="",p.project_id="",p.comment="",c.value={}},f=r=>{d(),l("submitted",r)};return(r,u)=>(a(),B(Be,{show:i.show,title:"Give a Kudo ✨","api-endpoint":"/api/kudos","http-method":"post","form-data":p,"submit-button-text":"Submit Kudo","success-message":"Kudo submitted! Pending approval.",onClose:u[3]||(u[3]=m=>r.$emit("close")),onSubmitted:f},{default:k(({errors:m})=>[e("div",eo,[e("div",null,[u[4]||(u[4]=e("label",{class:"block text-sm font-medium text-gray-700"},"Project",-1)),v(ye,{options:s.value,modelValue:p.project_id,"onUpdate:modelValue":u[0]||(u[0]=C=>p.project_id=C),placeholder:"Select a project..."},null,8,["options","modelValue"]),m.project_id?(a(),o("p",to,P(m.project_id[0]),1)):_("",!0)]),e("div",null,[u[5]||(u[5]=e("label",{class:"block text-sm font-medium text-gray-700"},"Recipient",-1)),v(ye,{options:t.value,modelValue:p.recipient_id,"onUpdate:modelValue":u[1]||(u[1]=C=>p.recipient_id=C),placeholder:"Select a teammate..."},null,8,["options","modelValue"]),m.recipient_id?(a(),o("p",ao,P(m.recipient_id[0]),1)):_("",!0)]),e("div",null,[u[6]||(u[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Comment",-1)),L(e("textarea",{"onUpdate:modelValue":u[2]||(u[2]=C=>p.comment=C),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., Thank you for helping with the last-minute changes!"},null,512),[[de,p.comment]]),m.comment?(a(),o("p",lo,P(m.comment[0]),1)):_("",!0)])])]),_:1},8,["show","form-data"]))}},oo={class:"flex items-center p-4 h-16 border-b border-gray-700"},io={key:0,class:"text-xl font-semibold flex-1 truncate"},ro=["title"],no={key:0,class:"p-4 border-b border-gray-700"},uo={class:"relative"},co={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},mo={key:0,class:"mb-4"},vo={class:"ml-2 mt-2 space-y-1"},po=["onClick"],fo={class:"text-sm font-medium text-gray-300 truncate"},go={class:"ml-4 mt-1 space-y-1"},bo={class:"truncate"},yo={key:1,class:"mb-4"},ho={class:"ml-2 mt-2 space-y-1"},ko=["onClick"],wo={class:"text-sm font-medium text-gray-300 truncate"},xo={class:"ml-4 mt-1 space-y-1"},_o={class:"truncate"},Ao={key:2,class:"mb-4"},To={class:"ml-2 mt-2 space-y-1"},Mo={class:"truncate"},$o={key:3,class:"mb-4"},Co={class:"ml-2 mt-2 space-y-1"},So={class:"truncate"},Go={key:4,class:"text-gray-400 text-sm text-center py-4"},Po={key:5,class:"text-gray-400 text-sm text-center py-4"},jo={key:2,class:"flex flex-col items-center pt-4 space-y-4"},Eo={key:0,class:"text-gray-400 text-xs text-center px-2"},Io={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(i,{emit:n}){const l=i,s=n,t=$(localStorage.getItem("leftSidebarCollapsed")!=="false"),p=$(""),c=$({}),b=R(()=>{const h=new Set;return l.allProjects.forEach(w=>{w.project_type&&h.add(w.project_type)}),Array.from(h).sort()}),g=R(()=>{const h=new Set;return l.allProjects.forEach(w=>{Array.isArray(w.tags)&&w.tags.forEach(A=>h.add(A))}),Array.from(h).sort()}),d=R(()=>{if(!p.value)return l.allProjects;const h=p.value.toLowerCase();return l.allProjects.filter(w=>{var A,M,U;return w.name.toLowerCase().includes(h)||((A=w.description)==null?void 0:A.toLowerCase().includes(h))||((M=w.project_type)==null?void 0:M.toLowerCase().includes(h))||Array.isArray(w.tags)&&w.tags.some(Q=>Q.toLowerCase().includes(h))||((U=w.status)==null?void 0:U.toLowerCase().includes(h))})}),f=R(()=>{const h={};d.value.forEach(w=>{w.project_type&&w.status==="active"&&(h[w.project_type]||(h[w.project_type]=[]),h[w.project_type].push(w))});for(const w in h)h[w].sort((A,M)=>A.name.localeCompare(M.name));return h}),r=R(()=>{const h={};d.value.forEach(w=>{Array.isArray(w.tags)&&w.tags.length>0&&w.tags.forEach(A=>{h[A]||(h[A]=[]),h[A].push(w)})});for(const w in h)h[w]=[...new Set(h[w])].sort((A,M)=>A.name.localeCompare(M.name));return h}),u=R(()=>d.value.filter(h=>h.status!=="active").sort((h,w)=>h.name.localeCompare(w.name))),m=R(()=>d.value.filter(h=>!h.project_type&&(!Array.isArray(h.tags)||h.tags.length===0)).sort((h,w)=>h.name.localeCompare(w.name)));oe(()=>l.allProjects,()=>{b.value.forEach(h=>{const w=`type-${h}`;c.value[w]===void 0&&(c.value[w]=!0)}),g.value.forEach(h=>{const w=`tag-${h}`;c.value[w]===void 0&&(c.value[w]=!0)}),c.value["main-types"]===void 0&&(c.value["main-types"]=!1),c.value["main-tags"]===void 0&&(c.value["main-tags"]=!1),c.value["inactive-projects"]===void 0&&(c.value["inactive-projects"]=!1),c.value.uncategorized===void 0&&(c.value.uncategorized=!1)},{immediate:!0}),oe(t,h=>{localStorage.setItem("leftSidebarCollapsed",h)});const C=()=>{t.value=!t.value},y=h=>{c.value[h]=!c.value[h]},W=h=>{s("project-selected",h)},D=()=>{p.value=""};return(h,w)=>(a(),o("div",{class:K({"w-64":!t.value,"w-16":t.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[e("div",oo,[t.value?_("",!0):(a(),o("h2",io,"Projects")),e("button",{onClick:C,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:t.value?"Expand Sidebar":"Collapse Sidebar"},[(a(),o("svg",{class:K(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":t.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},w[5]||(w[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,ro)]),t.value?_("",!0):(a(),o("div",no,[e("div",uo,[L(e("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=A=>p.value=A),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[de,p.value]]),p.value?(a(),o("button",{key:0,onClick:D,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},w[6]||(w[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):_("",!0)])])),t.value?(a(),o("div",jo,[(a(!0),o(ee,null,se(l.allProjects,A=>(a(),B(N(_e),{key:A.id,href:h.route("projects.show",A.id),onClick:M=>W(A.id),class:K({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":A.id===i.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":A.id!==i.activeProjectId}),title:A.name},{default:k(()=>[T(P(A.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),i.allProjects.length===0?(a(),o("div",Eo," No Projects ")):_("",!0)])):(a(),o("div",co,[Object.keys(f.value).length>0?(a(),o("div",mo,[e("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[1]||(w[1]=A=>y("main-types"))},[w[8]||(w[8]=e("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(a(),o("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!c.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[7]||(w[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),L(e("div",vo,[(a(!0),o(ee,null,se(f.value,(A,M)=>(a(),o("div",{key:M},[e("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:U=>y(`type-${M}`)},[e("h4",fo,P(M),1),(a(),o("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!c.value[`type-${M}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[9]||(w[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,po),L(e("ul",go,[(a(!0),o(ee,null,se(A,U=>(a(),o("li",{key:U.id},[v(N(_e),{href:h.route("projects.show",U.id),onClick:Q=>W(U.id),class:K({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":U.id===i.activeProjectId,"hover:bg-gray-700 text-gray-200":U.id!==i.activeProjectId,"font-bold":U.id===i.activeProjectId})},{default:k(()=>[e("span",bo,P(U.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[$e,!c.value[`type-${M}`]]])]))),128))],512),[[$e,!c.value["main-types"]]])])):_("",!0),Object.keys(r.value).length>0?(a(),o("div",yo,[e("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[2]||(w[2]=A=>y("main-tags"))},[w[11]||(w[11]=e("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(a(),o("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!c.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[10]||(w[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),L(e("div",ho,[(a(!0),o(ee,null,se(r.value,(A,M)=>(a(),o("div",{key:M},[e("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:U=>y(`tag-${M}`)},[e("h4",wo,P(M),1),(a(),o("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!c.value[`tag-${M}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[12]||(w[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,ko),L(e("ul",xo,[(a(!0),o(ee,null,se(A,U=>(a(),o("li",{key:U.id},[v(N(_e),{href:h.route("projects.show",U.id),onClick:Q=>W(U.id),class:K({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":U.id===i.activeProjectId,"hover:bg-gray-700 text-gray-200":U.id!==i.activeProjectId,"font-bold":U.id===i.activeProjectId})},{default:k(()=>[e("span",_o,P(U.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[$e,!c.value[`tag-${M}`]]])]))),128))],512),[[$e,!c.value["main-tags"]]])])):_("",!0),u.value.length>0?(a(),o("div",Ao,[e("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[3]||(w[3]=A=>y("inactive-projects"))},[w[14]||(w[14]=e("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(a(),o("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!c.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[13]||(w[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),L(e("ul",To,[(a(!0),o(ee,null,se(u.value,A=>(a(),o("li",{key:A.id},[v(N(_e),{href:h.route("projects.show",A.id),onClick:M=>W(A.id),class:K({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":A.id===i.activeProjectId,"hover:bg-gray-700 text-gray-200":A.id!==i.activeProjectId,"font-bold":A.id===i.activeProjectId})},{default:k(()=>[e("span",Mo,P(A.name)+" ("+P(A.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[$e,!c.value["inactive-projects"]]])])):_("",!0),m.value.length>0?(a(),o("div",$o,[e("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[4]||(w[4]=A=>y("uncategorized"))},[w[16]||(w[16]=e("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(a(),o("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!c.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[15]||(w[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),L(e("ul",Co,[(a(!0),o(ee,null,se(m.value,A=>(a(),o("li",{key:A.id},[v(N(_e),{href:h.route("projects.show",A.id),onClick:M=>W(A.id),class:K({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":A.id===i.activeProjectId,"hover:bg-gray-700 text-gray-200":A.id!==i.activeProjectId,"font-bold":A.id===i.activeProjectId})},{default:k(()=>[e("span",So,P(A.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[$e,!c.value.uncategorized]])])):_("",!0),d.value.length===0?(a(),o("div",Go," No projects found matching your search. ")):i.allProjects.length===0&&!p.value?(a(),o("div",Po," No projects available. ")):_("",!0)]))],2))}},Bo=Re(Io,[["__scopeId","data-v-417d431f"]]),Do={class:"relative"},rt={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(i){const n=i,l=b=>{c.value&&b.key==="Escape"&&(c.value=!1)};ke(()=>document.addEventListener("keydown",l)),Ye(()=>document.removeEventListener("keydown",l));const s=R(()=>{const b={48:"w-48",64:"w-64",72:"w-72",80:"w-80",96:"w-96",full:"w-full",screen:"w-screen",auto:""},g=n.width.toString();return b[g]??b[48]}),t=R(()=>n.width.toString()==="screen"),p=R(()=>n.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":n.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),c=$(!1);return(b,g)=>(a(),o("div",Do,[e("div",{onClick:g[0]||(g[0]=d=>c.value=!c.value)},[Ae(b.$slots,"trigger")]),L(e("div",{class:"fixed inset-0 z-40",onClick:g[1]||(g[1]=d=>c.value=!1)},null,512),[[$e,c.value]]),v(wt,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:k(()=>[L(e("div",{class:K(["z-50 mt-2 rounded-md shadow-lg",t.value?"fixed left-0 right-0":"absolute",p.value,s.value]),style:{display:"none"},onClick:g[2]||(g[2]=d=>c.value=!1)},[e("div",{class:K(["rounded-md ring-1 ring-black ring-opacity-5",i.contentClasses])},[Ae(b.$slots,"content")],2)],2),[[$e,c.value]])]),_:3})]))}},te={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(i){return(n,l)=>(a(),B(N(_e),xt({href:i.href,method:i.method,as:i.as},n.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:k(()=>[Ae(n.$slots,"default")]),_:3},16,["href","method","as"]))}},we={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(i){const n=i,l=R(()=>n.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(s,t)=>(a(),B(N(_e),{href:i.href,class:K(l.value)},{default:k(()=>[Ae(s.$slots,"default")]),_:3},8,["href","class"]))}};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ot("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ot("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ot("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),zo={class:"hidden sm:flex sm:items-center"},Lo={class:"mx-auto w-full max-w-6xl"},Fo={class:"grid grid-cols-2 md:grid-cols-4 gap-8"},Ro={class:"space-y-1"},Oo={class:"space-y-1"},Wo={class:"space-y-1"},Ho={class:"space-y-1"},Ko={__name:"AdminDropdown",setup(i){return(n,l)=>{const s=_t("permission");return a(),o("div",zo,[v(rt,{align:"left",width:"screen","content-classes":"py-6 bg-white p-6 w-full shadow-lg"},{trigger:k(()=>l[0]||(l[0]=[e("span",{class:"inline-flex rounded-md"},[e("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 hover:text-gray-900 focus:outline-none"},[T(" Admin "),e("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:k(()=>[e("div",Lo,[e("div",Fo,[e("div",null,[l[6]||(l[6]=e("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Management",-1)),e("div",Ro,[L((a(),B(te,{href:n.route("projects.index"),active:n.route().current("projects.index"),class:"!px-2 !py-1.5"},{default:k(()=>l[1]||(l[1]=[T("Projects",-1)])),_:1,__:[1]},8,["href","active"])),[[s,"manage_projects"]]),L((a(),B(te,{href:n.route("clients.page"),active:n.route().current("clients.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[2]||(l[2]=[T("Clients",-1)])),_:1,__:[2]},8,["href","active"])),[[s,"create_clients"]]),L((a(),B(te,{href:n.route("users.page"),active:n.route().current("users.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[3]||(l[3]=[T("Users",-1)])),_:1,__:[3]},8,["href","active"])),[[s,"create_users"]]),L((a(),B(te,{href:n.route("leads.page"),active:n.route().current("leads.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[4]||(l[4]=[T("Leads",-1)])),_:1,__:[4]},8,["href","active"])),[[s,"manage_projects"]]),L((a(),B(te,{href:"/campaigns",active:n.$page.url&&n.$page.url.startsWith("/campaigns"),class:"!px-2 !py-1.5"},{default:k(()=>l[5]||(l[5]=[T("Campaigns",-1)])),_:1,__:[5]},8,["active"])),[[s,"manage_projects"]])])]),e("div",null,[l[10]||(l[10]=e("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Planning / Sharing",-1)),e("div",Oo,[L((a(),B(te,{href:n.route("availability.index"),active:n.route().current("availability.index"),class:"!px-2 !py-1.5"},{default:k(()=>l[7]||(l[7]=[T("Weekly Availability",-1)])),_:1,__:[7]},8,["href","active"])),[[s,"create_users"]]),L((a(),B(te,{href:n.route("admin.notice-board.index"),class:"!px-2 !py-1.5"},{default:k(()=>l[8]||(l[8]=[T("Notice Board",-1)])),_:1,__:[8]},8,["href"])),[[s,"manage_notices"]]),L((a(),B(te,{href:n.route("shareable-resources.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[9]||(l[9]=[T("Shareable Resources",-1)])),_:1,__:[9]},8,["href"])),[[s,"view_shareable_resources"]])])]),e("div",null,[l[18]||(l[18]=e("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Configuration",-1)),e("div",Wo,[L((a(),B(te,{href:n.route("task-types.page"),active:n.route().current("task-types.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[11]||(l[11]=[T("Task Types",-1)])),_:1,__:[11]},8,["href","active"])),[[s,"manage_projects"]]),L((a(),B(te,{href:"/admin/project-tiers",class:"!px-2 !py-1.5"},{default:k(()=>l[12]||(l[12]=[T("Project Tiers",-1)])),_:1,__:[12]})),[[s,"view_project_tiers"]]),L((a(),B(te,{href:n.route("email-templates.page"),active:n.route().current("email-templates.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[13]||(l[13]=[T("Email Templates",-1)])),_:1,__:[13]},8,["href","active"])),[[s,"manage_email_templates"]]),L((a(),B(te,{href:n.route("placeholder-definitions.page"),active:n.route().current("placeholder-definitions.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[14]||(l[14]=[T("Placeholder Definitions",-1)])),_:1,__:[14]},8,["href","active"])),[[s,"manage_placeholder_definitions"]]),L((a(),B(te,{href:n.route("automation.page"),active:n.route().current("automation.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[15]||(l[15]=[T("Automation",-1)])),_:1,__:[15]},8,["href","active"])),[[s,"create_automations"]]),L((a(),B(te,{href:n.route("prompts.page"),active:n.route().current("prompts.page"),class:"!px-2 !py-1.5"},{default:k(()=>l[16]||(l[16]=[T("Prompts",-1)])),_:1,__:[16]},8,["href","active"])),[[s,"create_automations"]]),L((a(),B(te,{href:n.route("schedules.index"),active:n.$page.url&&n.$page.url.startsWith("/schedules"),class:"!px-2 !py-1.5"},{default:k(()=>l[17]||(l[17]=[T("Schedules",-1)])),_:1,__:[17]},8,["href","active"])),[[s,"create_schedules"]])])]),e("div",null,[l[23]||(l[23]=e("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Access & Finance",-1)),e("div",Ho,[L((a(),B(te,{href:n.route("admin.roles.index"),class:"!px-2 !py-1.5"},{default:k(()=>l[19]||(l[19]=[T("Manage Roles",-1)])),_:1,__:[19]},8,["href"])),[[s,"manage_roles"]]),L((a(),B(te,{href:n.route("admin.permissions.index"),class:"!px-2 !py-1.5"},{default:k(()=>l[20]||(l[20]=[T("Manage Permissions",-1)])),_:1,__:[20]},8,["href"])),[[s,"assign_permissions"]]),L((a(),B(te,{href:"/admin/monthly-budgets",class:"!px-2 !py-1.5"},{default:k(()=>l[21]||(l[21]=[T("Monthly Budgets",-1)])),_:1,__:[21]})),[[s,"manage_monthly_budgets"]]),L((a(),B(te,{href:"/admin/bonus-calculator",class:"!px-2 !py-1.5"},{default:k(()=>l[22]||(l[22]=[T("Bonus Calculator",-1)])),_:1,__:[22]})),[[s,"view_monthly_budgets"]])])])])])]),_:1})])}}},qo={class:"relative ms-3"},Jo={class:"inline-flex rounded-md"},Yo={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},Zo={__name:"UserDropdown",emits:["logoutSuccess","logoutError"],setup(i,{emit:n}){const l=R(()=>Fe().props.auth.user),s=n,t=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,s("logoutSuccess")},p=c=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",s("logoutError",c)};return(c,b)=>(a(),o("div",qo,[v(rt,{align:"right",width:"48"},{trigger:k(()=>{var g;return[e("span",Jo,[e("button",Yo,[T(P(l.value.name)+" ("+P((g=l.value.role_data)==null?void 0:g.name)+") ",1),b[0]||(b[0]=e("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:k(()=>[v(te,{href:c.route("profile.edit")},{default:k(()=>b[1]||(b[1]=[T(" Profile ",-1)])),_:1,__:[1]},8,["href"]),v(te,{href:c.route("logout"),method:"post",as:"button",onSuccess:t,onError:p},{default:k(()=>b[2]||(b[2]=[T(" Log Out ",-1)])),_:1,__:[2]},8,["href"])]),_:1})]))}},Qo={class:"hidden sm:flex sm:items-center"},Xo={class:"mx-auto w-full max-w-6xl"},ei={class:"grid grid-cols-2 md:grid-cols-3 gap-8"},ti={class:"space-y-1"},ai={class:"space-y-1"},li={key:0},si={class:"space-y-1"},oi={__name:"BonusDropdown",setup(i){const{canDo:n}=st();return(l,s)=>(a(),o("div",Qo,[v(rt,{align:"left",width:"screen","content-classes":"py-6 bg-white p-6 w-full shadow-lg"},{trigger:k(()=>s[0]||(s[0]=[e("span",{class:"inline-flex rounded-md"},[e("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 hover:text-gray-900 focus:outline-none"},[T(" Team Resources "),e("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:k(()=>[e("div",Xo,[e("div",ei,[e("div",null,[s[4]||(s[4]=e("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Program",-1)),e("div",ti,[v(te,{href:l.route("bonus-system.index"),active:l.route().current("bonus-system.index"),class:"!px-2 !py-1.5"},{default:k(()=>s[1]||(s[1]=[T("Bonus System",-1)])),_:1,__:[1]},8,["href","active"]),v(te,{href:l.route("leaderboard.index"),active:l.route().current("leaderboard.index"),class:"!px-2 !py-1.5"},{default:k(()=>s[2]||(s[2]=[T("Leaderboard",-1)])),_:1,__:[2]},8,["href","active"]),v(te,{href:l.route("kudos.index"),active:l.route().current("kudos.index"),class:"!px-2 !py-1.5"},{default:k(()=>s[3]||(s[3]=[T("Kudos",-1)])),_:1,__:[3]},8,["href","active"])])]),e("div",null,[s[7]||(s[7]=e("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Valuable",-1)),e("div",ai,[v(te,{href:l.route("team-resources.page"),active:l.route().current("team-resources.page"),class:"!px-2 !py-1.5"},{default:k(()=>s[5]||(s[5]=[T("Resources",-1)])),_:1,__:[5]},8,["href","active"]),v(te,{href:l.route("presentations.index"),active:l.route().current("presentations.index"),class:"!px-2 !py-1.5"},{default:k(()=>s[6]||(s[6]=[T("Presentation",-1)])),_:1,__:[6]},8,["href","active"])])]),N(n)("add_expendables").value?(a(),o("div",li,[s[9]||(s[9]=e("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Management",-1)),e("div",si,[N(n)("add_expendables").value?(a(),B(te,{key:0,href:l.route("project-expendables.index"),class:"!px-2 !py-1.5"},{default:k(()=>s[8]||(s[8]=[T("Project Expendables",-1)])),_:1,__:[8]},8,["href"])):_("",!0)])])):_("",!0)])])]),_:1})]))}},ii={class:"bg-white z-[49] relative w-full shadow-sm border-b border-gray-100"},ri={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ni={class:"flex h-16 justify-between items-center"},ui={class:"flex-shrink-0 flex items-center"},di={class:"hidden sm:flex items-center space-x-6"},ci={key:0,class:"group relative inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 text-white text-sm font-semibold shadow-lg ring-2 ring-emerald-300/60 transition-all duration-300 ease-in-out"},mi={class:"font-bold"},vi={key:1,class:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 text-gray-500 text-sm font-medium"},pi={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},fi={class:"-mr-2 flex items-center sm:hidden"},gi={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},bi={class:"bg-gray-50 border-t border-gray-100 py-2 hidden sm:block"},yi={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},hi={class:"flex items-center justify-between"},ki={class:"flex items-center space-x-2 overflow-x-auto no-scrollbar"},wi={class:"flex items-center space-x-2 flex-shrink-0"},xi={class:"space-y-1 pt-2 pb-3"},_i={__name:"TopNavigation",props:{unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","open-kudo-modal"],setup(i,{emit:n}){const l=n,s=$(!1);R(()=>Fe().props.auth.user);const{canDo:t}=st(),p=t("manage_projects"),c=t("create_users"),b=t("manage_roles"),g=t("manage_task_types"),d=t("create_clients"),f=R(()=>t("manage_project_tiers").value||t("view_project_tiers").value||t("create_project_tiers").value||t("edit_project_tiers").value),r=t("manage_notices"),u=t("manage_email_templates"),m=t("manage_placeholder_definitions"),C=t("manage_permissions"),y=t("manage_monthly_budgets"),W=t("view_monthly_budgets");R(()=>p.value||c.value||b.value||g.value||d.value||f.value||r.value||u.value||m.value||C.value||y.value||W.value);const D=$(null),h=$(!0),w=$(null);return ke(async()=>{try{const{data:A}=await window.axios.get("/api/leaderboard/stats");D.value=(A==null?void 0:A.userMonthlyPoints)??0}catch(A){console.error("Failed to load monthly points",A),w.value="Failed to load points",D.value=0}finally{h.value=!1}}),(A,M)=>{const U=_t("permission");return a(),o("nav",ii,[e("div",ri,[e("div",ni,[e("div",ui,[v(N(_e),{href:A.route("dashboard")},{default:k(()=>[v(Ht,{class:"block h-14 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),e("div",di,[v(N(_e),{href:A.route("leaderboard.index"),class:"mr-3 cursor-pointer"},{default:k(()=>[h.value?(a(),o("div",vi," Loading... ")):(a(),o("div",ci,[M[5]||(M[5]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1)),e("span",mi,P(D.value??0),1),M[6]||(M[6]=e("span",{class:"ml-1 text-white/80"},"pts",-1))]))]),_:1},8,["href"]),e("button",{onClick:M[0]||(M[0]=Q=>l("openNotificationsSidebar")),class:"relative flex-shrink-0 text-gray-400 hover:text-indigo-600 p-2 rounded-full transition-colors duration-200","aria-label":"View all notifications"},[v(N(No),{class:"h-6 w-6"}),i.unreadNotificationCount>0?(a(),o("span",pi,P(i.unreadNotificationCount),1)):_("",!0)]),v(Zo)]),e("div",fi,[e("button",{onClick:M[1]||(M[1]=Q=>s.value=!s.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(a(),o("svg",gi,[e("path",{class:K({hidden:s.value,"inline-flex":!s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:K({hidden:!s.value,"inline-flex":s.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",bi,[e("div",yi,[e("div",hi,[e("div",ki,[v(we,{href:A.route("dashboard"),active:A.route().current("dashboard")},{default:k(()=>M[7]||(M[7]=[T(" Dashboard ",-1)])),_:1,__:[7]},8,["href","active"]),v(we,{href:A.route("inbox"),active:A.route().current("inbox")},{default:k(()=>M[8]||(M[8]=[T(" Inbox ",-1)])),_:1,__:[8]},8,["href","active"]),v(we,{href:A.route("workspace.index"),active:A.route().current("workspace.index")},{default:k(()=>M[9]||(M[9]=[T(" My Workspace ",-1)])),_:1,__:[9]},8,["href","active"]),v(oi),L(v(Ko,null,null,512),[[U,"view_admin_dropdown"]])]),e("div",wi,[v(pe,{type:"button",onClick:M[2]||(M[2]=Q=>l("openCreateTaskModal")),class:"px-3 py-1.5 text-sm"},{default:k(()=>[v(N(vt),{class:"h-4 w-4 mr-1.5"}),M[10]||(M[10]=e("span",null,"Add Task",-1))]),_:1,__:[10]}),v(pe,{type:"button",onClick:M[3]||(M[3]=Q=>l("openAddResource")),class:"px-3 py-1.5 text-sm"},{default:k(()=>[v(N(vt),{class:"h-4 w-4 mr-1.5"}),M[11]||(M[11]=e("span",null,"Add Resource",-1))]),_:1,__:[11]}),N(t)("create_kudos")?(a(),o("button",{key:0,type:"button",onClick:M[4]||(M[4]=Q=>A.$emit("open-kudo-modal")),class:"inline-flex items-center justify-center px-3 py-1.5 text-sm font-semibold rounded-lg bg-orange-500 text-white hover:bg-orange-600 transition-colors duration-200"},[v(N(Vo),{class:"h-4 w-4 mr-1.5"}),M[12]||(M[12]=e("span",null,"Give Kudo",-1))])):_("",!0)])])])]),e("div",{class:K([{block:s.value,hidden:!s.value},"sm:hidden"])},[e("div",xi,[v(we,{href:A.route("dashboard"),active:A.route().current("dashboard")},{default:k(()=>M[13]||(M[13]=[T(" Dashboard ",-1)])),_:1,__:[13]},8,["href","active"]),v(we,{href:A.route("inbox"),active:A.route().current("inbox")},{default:k(()=>M[14]||(M[14]=[T(" Inbox ",-1)])),_:1,__:[14]},8,["href","active"]),v(we,{href:A.route("workspace.index"),active:A.route().current("workspace.index")},{default:k(()=>M[15]||(M[15]=[T(" My Workspace ",-1)])),_:1,__:[15]},8,["href","active"]),v(we,{href:A.route("presentations.index"),active:A.route().current("presentations.index")},{default:k(()=>M[16]||(M[16]=[T(" Presentation ",-1)])),_:1,__:[16]},8,["href","active"]),v(we,{href:A.route("bonus-system.index"),active:A.route().current("bonus-system.index")},{default:k(()=>M[17]||(M[17]=[T(" Bonus System ",-1)])),_:1,__:[17]},8,["href","active"]),v(we,{href:A.route("leaderboard.index"),active:A.route().current("leaderboard.index")},{default:k(()=>M[18]||(M[18]=[T(" Leaderboard ",-1)])),_:1,__:[18]},8,["href","active"]),v(we,{href:A.route("kudos.index"),active:A.route().current("kudos.index")},{default:k(()=>M[19]||(M[19]=[T(" Kudos ",-1)])),_:1,__:[19]},8,["href","active"]),L((a(),B(we,{href:A.route("project-expendables.index")},{default:k(()=>M[20]||(M[20]=[T(" Project Expendables ",-1)])),_:1,__:[20]},8,["href"])),[[U,"add_expendables"]])])],2)])}}},ue={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(i){const n=i,l=R(()=>n.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(s,t)=>(a(),B(N(_e),xt({href:i.href,method:i.method,as:i.as},s.$attrs,{class:l.value}),{default:k(()=>[Ae(s.$slots,"default")]),_:3},16,["href","method","as","class"]))}},Ai={class:"space-y-1 pb-3 pt-2"},Ti={key:0,class:"mt-3 space-y-1"},Mi={class:"border-t border-gray-200 pb-1 pt-4"},$i={class:"px-4"},Ci={class:"text-base font-medium text-gray-800"},Si={class:"text-sm font-medium text-gray-500"},Gi={class:"text-sm font-medium text-gray-500 capitalize"},Pi={class:"mt-3 space-y-1"},ji={__name:"MobileNavigation",props:{showingNavigationDropdown:{type:Boolean,required:!0},unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","logoutSuccess","logoutError"],setup(i,{emit:n}){const l=n,s=R(()=>Fe().props.auth.user),{canDo:t}=st(),p=t("manage_projects"),c=t("compose_emails"),b=t("approve_emails"),g=t("create_users"),d=t("manage_roles"),f=t("manage_task_types"),r=t("create_clients"),u=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,l("logoutSuccess")},m=C=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",l("logoutError",C)};return(C,y)=>{var W;return a(),o("div",{class:K([{block:i.showingNavigationDropdown,hidden:!i.showingNavigationDropdown},"sm:hidden"])},[e("div",Ai,[N(d)?(a(),o("div",Ti,[y[19]||(y[19]=e("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),v(ue,{href:C.route("dashboard"),active:C.route().current("dashboard")},{default:k(()=>y[3]||(y[3]=[T(" Dashboard ",-1)])),_:1,__:[3]},8,["href","active"]),N(t)("view_emails")?(a(),B(ue,{key:0,href:C.route("inbox"),active:C.route().current("inbox")},{default:k(()=>y[4]||(y[4]=[T(" Inbox ",-1)])),_:1,__:[4]},8,["href","active"])):_("",!0),N(r)?(a(),B(ue,{key:1,href:C.route("clients.page"),active:C.route().current("clients.page")},{default:k(()=>y[5]||(y[5]=[T(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):_("",!0),N(p)?(a(),B(ue,{key:2,href:C.route("projects.index"),active:C.route().current("projects.index")},{default:k(()=>y[6]||(y[6]=[T(" Projects ",-1)])),_:1,__:[6]},8,["href","active"])):_("",!0),N(g)?(a(),B(ue,{key:3,href:C.route("users.page"),active:C.route().current("users.page")},{default:k(()=>y[7]||(y[7]=[T(" Users ",-1)])),_:1,__:[7]},8,["href","active"])):_("",!0),N(c)?(a(),B(ue,{key:4,href:C.route("emails.compose"),active:C.route().current("emails.compose")},{default:k(()=>y[8]||(y[8]=[T(" Compose Email ",-1)])),_:1,__:[8]},8,["href","active"])):_("",!0),N(b)?(a(),B(ue,{key:5,href:C.route("emails.pending"),active:C.route().current("emails.pending")},{default:k(()=>y[9]||(y[9]=[T(" Approve Emails ",-1)])),_:1,__:[9]},8,["href","active"])):_("",!0),N(c)?(a(),B(ue,{key:6,href:C.route("emails.rejected"),active:C.route().current("emails.rejected")},{default:k(()=>y[10]||(y[10]=[T(" Rejected Emails ",-1)])),_:1,__:[10]},8,["href","active"])):_("",!0),N(g)?(a(),B(ue,{key:7,href:C.route("availability.index"),active:C.route().current("availability.index")},{default:k(()=>y[11]||(y[11]=[T(" Weekly Availability ",-1)])),_:1,__:[11]},8,["href","active"])):_("",!0),N(t)("manage_roles")?(a(),B(ue,{key:8,href:C.route("admin.roles.index"),active:C.route().current("admin.roles.index")},{default:k(()=>y[12]||(y[12]=[T(" Manage Roles ",-1)])),_:1,__:[12]},8,["href","active"])):_("",!0),N(t)("manage_permissions")?(a(),B(ue,{key:9,href:C.route("admin.permissions.index"),active:C.route().current("admin.permissions.index")},{default:k(()=>y[13]||(y[13]=[T(" Manage Permissions ",-1)])),_:1,__:[13]},8,["href","active"])):_("",!0),N(f)?(a(),B(ue,{key:10,href:C.route("task-types.page"),active:C.route().current("task-types.page")},{default:k(()=>y[14]||(y[14]=[T(" Task Types ",-1)])),_:1,__:[14]},8,["href","active"])):_("",!0),N(t)("manage_email_templates")?(a(),B(ue,{key:11,href:C.route("email-templates.page"),active:C.route().current("email-templates.page")},{default:k(()=>y[15]||(y[15]=[T(" Email Templates ",-1)])),_:1,__:[15]},8,["href","active"])):_("",!0),N(t)("manage_placeholder_definitions")?(a(),B(ue,{key:12,href:C.route("placeholder-definitions.page"),active:C.route().current("placeholder-definitions.page")},{default:k(()=>y[16]||(y[16]=[T(" Placeholder Definitions ",-1)])),_:1,__:[16]},8,["href","active"])):_("",!0),N(t)("view_shareable_resources")?(a(),B(ue,{key:13,href:C.route("shareable-resources.page"),active:C.route().current("shareable-resources.page")},{default:k(()=>y[17]||(y[17]=[T(" Shareable Resources ",-1)])),_:1,__:[17]},8,["href","active"])):_("",!0),N(t)("view_shareable_resources")?(a(),B(ue,{key:14,href:C.route("team-resources.page"),active:C.route().current("team-resources.page")},{default:k(()=>y[18]||(y[18]=[T(" Team Resources ",-1)])),_:1,__:[18]},8,["href","active"])):_("",!0)])):_("",!0)]),e("div",Mi,[e("div",$i,[e("div",Ci,P(s.value.name),1),e("div",Si,P(s.value.email),1),e("div",Gi,P((W=s.value.role_data)==null?void 0:W.name),1)]),e("div",Pi,[v(ue,{as:"button",onClick:y[0]||(y[0]=D=>l("openCreateTaskModal"))},{default:k(()=>y[20]||(y[20]=[T(" Add Task ",-1)])),_:1,__:[20]}),v(ue,{as:"button",onClick:y[1]||(y[1]=D=>l("openAddResource"))},{default:k(()=>y[21]||(y[21]=[T(" Add Resource ",-1)])),_:1,__:[21]}),v(ue,{as:"button",onClick:y[2]||(y[2]=D=>l("openNotificationsSidebar"))},{default:k(()=>[T(" Notifications ("+P(i.unreadNotificationCount)+") ",1)]),_:1}),v(ue,{href:C.route("profile.edit")},{default:k(()=>y[22]||(y[22]=[T(" Profile ",-1)])),_:1,__:[22]},8,["href"]),v(ue,{href:C.route("logout"),method:"post",as:"button",onSuccess:u,onError:m},{default:k(()=>y[23]||(y[23]=[T(" Log Out ",-1)])),_:1,__:[23]},8,["href"])])])],2)}}},Ei={class:"space-y-4"},Ii={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},Bi={class:"text-sm font-medium text-gray-900"},Di={class:"text-xs text-gray-500 mt-1"},Vi={class:"mb-4"},Ni="post",Ui="Add Note",zi="Note added successfully!",Li={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(i,{emit:n}){const l=i,s=n,t=Ie({note:""}),p=R(()=>{var d;return`Add Note to Task: "${(d=l.taskForNote)==null?void 0:d.name}"`}),c=R(()=>{var d;return`/api/tasks/${(d=l.taskForNote)==null?void 0:d.id}/notes`});oe(()=>l.show,d=>{d&&Object.assign(t,{note:""})},{immediate:!0});const b=d=>{s("note-added",d),s("close")},g=()=>{s("close")};return(d,f)=>(a(),B(Be,{show:i.show,title:p.value,"api-endpoint":c.value,"http-method":Ni,"form-data":t,"submit-button-text":Ui,"success-message":zi,onClose:g,onSubmitted:b},{default:k(({errors:r})=>[e("div",Ei,[i.taskForNote?(a(),o("div",Ii,[e("p",Bi,P(i.taskForNote.name),1),e("p",Di,"Status: "+P(i.taskForNote.status),1)])):_("",!0),e("div",Vi,[v(Z,{for:"task-note-content",value:"Note Content"}),L(e("textarea",{id:"task-note-content","onUpdate:modelValue":f[0]||(f[0]=u=>t.note=u),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[de,t.note]]),v(ie,{message:r.note?r.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},Fi={class:"task-history-list"},Ri={key:0,class:"text-center py-4"},Oi={key:1,class:"text-gray-500 text-sm py-2"},Wi={key:2,class:"space-y-3"},Hi={class:"flex items-start"},Ki={class:"text-xl mr-2"},qi={class:"text-sm text-gray-700"},Ji={class:"text-xs text-gray-500 mt-1"},Yi={__name:"TaskHistoryList",props:{activities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(i){const n=s=>s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",l=s=>(console.log(s),s.includes("created")?"🆕":s.includes("started")?"🚀":s.includes("paused")?"⏸️":s.includes("resumed")?"▶️":s.includes("unblocked")?"🔓":s.includes("blocked")?"⛔":s.includes("completed")?"✅":s.includes("revised")?"🔄":s.includes("deleted")?"🗑️":s.includes("assigned")?"👤":s.includes("updated")?"📝":s.includes("added note")?"🗒️":s.includes("commented")?"💬":"📋");return(s,t)=>(a(),o("div",Fi,[i.loading?(a(),o("div",Ri,t[0]||(t[0]=[e("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"},null,-1),e("p",{class:"mt-2 text-gray-500"},"Loading activity history...",-1)]))):i.activities.length===0?(a(),o("div",Oi," No activity history available for this task. ")):(a(),o("div",Wi,[(a(!0),o(ee,null,se(i.activities,p=>{var c;return a(),o("div",{key:p.id,class:"p-3 bg-gray-50 rounded-md"},[e("div",Hi,[e("span",Ki,P(l(p.description)),1),e("div",null,[e("p",qi,P(p.description),1),e("p",Ji," By "+P(((c=p.causer)==null?void 0:c.name)||"System")+" on "+P(n(p.created_at)),1)])])])}),128))]))]))}},Zi=Re(Yi,[["__scopeId","data-v-423d54af"]]),Gu=async()=>{try{return(await ae.get("/api/assigned-tasks")).data}catch(i){throw console.error("Error fetching assigned tasks:",i),ce("Failed to load assigned tasks"),i}},Pu=async i=>{try{return(await ae.get(`/api/projects/${i}/tasks`)).data}catch(n){throw console.error("Error fetching project tasks:",n),ce("Failed to load project tasks"),n}},ju=async i=>{try{return(await ae.get(`/api/projects/${i}/due-and-overdue-tasks`)).data}catch(n){throw console.error("Error fetching due and overdue tasks:",n),ce("Failed to load due and overdue tasks"),n}},Qi=async i=>{if(!i||i.status==="In Progress")return i;try{Te("Starting task...");const n=await ae.post(`/api/tasks/${i.id}/start`);return fe("Task started successfully"),n.data}catch(n){throw console.error("Error starting task:",n),ce("Failed to start task. Please try again."),n}},Xi=async i=>{if(!i||i.status!=="In Progress")return he('Task can only be paused from "In Progress" status.'),i;try{Te("Pausing task...");const n=await ae.post(`/api/tasks/${i.id}/pause`);return fe("Task paused successfully"),n.data}catch(n){throw console.error("Error pausing task:",n),ce("Failed to pause task. Please try again."),n}},er=async i=>{if(!i||i.status!=="Paused")return he('Task can only be resumed from "Paused" status.'),i;try{Te("Resuming task...");const n=await ae.post(`/api/tasks/${i.id}/resume`);return fe("Task resumed successfully"),n.data}catch(n){throw console.error("Error resuming task:",n),ce("Failed to resume task. Please try again."),n}},tr=async i=>{if(!i||i.status==="Done")return i;if(i.status!=="In Progress")throw he("Task must be started before it can be completed"),new Error("Task must be started before it can be completed");try{Te("Completing task...");const n=await ae.patch(`/api/tasks/${i.id}/complete`);fe("Task completed successfully");const l=n.data;if(l!=null&&l.needs_approval){const s=(l==null?void 0:l.creator_name)||"the creator";Te(`This task requires approval. A notification has been sent to ${s}.`)}return l}catch(n){throw console.error("Error completing task:",n),n.response&&n.response.status===422?he(n.response.data.message||"Task must be started before it can be completed"):ce("Failed to complete task. Please try again."),n}},ar=async(i,n)=>{if(!i||i.status==="Blocked")return he("Task is already blocked."),i;if(i.status==="Done")return he("Completed tasks cannot be blocked."),i;if(!n)throw he("Please provide a reason for blocking the task"),new Error("Blocking reason is required");try{Te("Blocking task...");const l=await ae.post(`/api/tasks/${i.id}/block`,{reason:n});return fe("Task blocked successfully"),l.data}catch(l){throw console.error("Error blocking task:",l),ce("Failed to block task. Please try again."),l}},lr=async i=>{if(!i||i.status!=="Blocked")return he("Task is not in a blocked state."),i;try{Te("Unblocking task...");const n=await ae.post(`/api/tasks/${i.id}/unblock`);return fe("Task unblocked successfully"),n.data}catch(n){throw console.error("Error unblocking task:",n),ce("Failed to unblock task. Please try again."),n}},sr=async i=>{if(!i||i.status!=="Done")return he("Only completed tasks can be revised."),i;try{Te("Revising task...");const n=await ae.post(`/api/tasks/${i.id}/revise`);return fe("Task revised successfully"),n.data}catch(n){throw console.error("Error revising task:",n),n.response&&n.response.status===422?he(n.response.data.message||"Only completed tasks can be revised"):ce("Failed to revise task. Please try again."),n}},or=async i=>{if(!i)return!1;if(i.status!=="To Do")throw he("Only tasks in To Do status can be deleted"),new Error("Only tasks in To Do status can be deleted");if(!confirm("Are you sure you want to delete this task? This action cannot be undone."))return!1;try{return Te("Deleting task..."),await ae.delete(`/api/tasks/${i.id}`),fe("Task deleted successfully"),!0}catch(n){throw console.error("Error deleting task:",n),ce("Failed to delete task. Please try again."),n}},ir=i=>{switch(i){case"To Do":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Paused":return"bg-orange-100 text-orange-800";case"Blocked":return"bg-red-100 text-red-800";case"Done":return"bg-green-100 text-green-800";case"Archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Eu=i=>{switch(i){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Iu=i=>i?i.charAt(0).toUpperCase()+i.slice(1):"Medium";function ft(i,n){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z","clip-rule":"evenodd"})])}const rr={class:"mt-4"},nr={__name:"ChecklistCreator",props:{modelValue:{type:Array,required:!0},placeholder:{type:String,default:"e.g., Task 1, Task 2, Task 3"},label:{type:String,default:"Checklist Items"},density:{type:String,default:"spacious",validator:i=>["spacious","tight","notes"].includes(i)}},emits:["update:modelValue"],setup(i,{emit:n}){const l=i,s=n,t=$([]),p=$([]),c=$(!1);oe(()=>l.modelValue,r=>{c.value=!0,t.value=JSON.parse(JSON.stringify(r)),(t.value.length===0||t.value[t.value.length-1].name.trim()!=="")&&t.value.push({name:"",completed:!1}),Ge(()=>{c.value=!1})},{immediate:!0,deep:!0}),oe(()=>t.value,r=>{c.value||s("update:modelValue",r)},{deep:!0});function b(r){t.value.splice(r,1),t.value.length===0&&t.value.push({name:"",completed:!1})}function g(r){r===t.value.length-1&&t.value[r].name.trim()!==""&&t.value.push({name:"",completed:!1})}function d(r){r<t.value.length-1&&Ge(()=>{var u;(u=p.value[r+1])==null||u.focus()})}const f=R(()=>l.density==="tight"?{listClass:"space-y-1",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-1 text-sm"}:l.density==="notes"?{listClass:"space-y-0.5",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-0.5 text-sm border-transparent focus:border-transparent focus:ring-0 bg-transparent"}:{listClass:"space-y-2",itemClass:"flex items-center space-x-2",inputClass:""});return(r,u)=>(a(),o("div",rr,[i.label?(a(),B(Z,{key:0,value:i.label},null,8,["value"])):_("",!0),e("ul",{class:K(f.value.listClass)},[(a(!0),o(ee,null,se(t.value,(m,C)=>(a(),o("li",{key:C,class:K(f.value.itemClass)},[i.density==="notes"?(a(),B(N(ft),{key:0,class:"h4 w-4",onClick:y=>b(C)},null,8,["onClick"])):_("",!0),v(xe,{modelValue:m.name,"onUpdate:modelValue":y=>m.name=y,type:"text",class:K(["flex-1",f.value.inputClass]),placeholder:C===t.value.length-1?i.placeholder:"",onInput:y=>g(C),onKeyup:He(ht(y=>d(C),["prevent"]),["enter"]),ref_for:!0,ref:y=>{y&&(p.value[C]=y)}},null,8,["modelValue","onUpdate:modelValue","class","placeholder","onInput","onKeyup"]),t.value.length>1&&i.density!=="notes"?(a(),B(it,{key:1,type:"button",onClick:y=>b(C)},{default:k(()=>[v(N(ft),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):_("",!0)],2))),128))],2)]))}},ur={class:"p-6"},dr={class:"text-lg font-medium text-gray-900 mb-4"},cr={class:"mb-4"},mr=["placeholder"],vr={class:"flex justify-end space-x-3"},pr={__name:"BlockReasonModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Block Task"},confirmText:{type:String,default:"Block Task"},placeholder:{type:String,default:"Enter reason for blocking..."},initialReason:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["close","confirm"],setup(i,{emit:n}){const l=i,s=n,t=$("");oe(()=>l.show,b=>{b&&(t.value=l.initialReason||"")},{immediate:!0});const p=()=>s("close"),c=()=>{const b=(t.value||"").trim();b&&s("confirm",b)};return(b,g)=>(a(),B(Ze,{show:i.show,onClose:p},{default:k(()=>[e("div",ur,[e("h2",dr,P(i.title),1),e("div",cr,[g[1]||(g[1]=e("p",{class:"text-sm text-gray-600 mb-2"},"Please provide a reason:",-1)),L(e("textarea",{"onUpdate:modelValue":g[0]||(g[0]=d=>t.value=d),class:"w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3",placeholder:i.placeholder},null,8,mr),[[de,t.value]])]),e("div",vr,[v(Je,{onClick:p},{default:k(()=>g[2]||(g[2]=[T("Cancel",-1)])),_:1,__:[2]}),v(pe,{onClick:c,disabled:i.disabled||!t.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:k(()=>[T(P(i.confirmText),1)]),_:1},8,["disabled"])])])]),_:1},8,["show"]))}},fr={key:0,class:"text-center py-8 text-gray-500"},gr={key:1,class:"text-center py-8 text-red-600"},br={key:2,class:"space-y-6"},yr={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},hr={class:"text-xl font-bold text-gray-900 mb-2"},kr={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},wr={key:0,class:"text-indigo-600 font-medium"},xr={key:1,class:"text-purple-600 font-medium"},_r={class:"text-gray-700 leading-relaxed"},Ar={class:"mt-4 flex flex-wrap gap-2"},Tr={key:0,class:"text-xs text-gray-500 mt-1"},Mr={key:0,class:"bg-yellow-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm"},$r={class:"flex items-center"},Cr={class:"ml-3"},Sr={class:"mt-2 text-sm text-yellow-700"},Gr={key:1,class:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-lg shadow-sm"},Pr={class:"flex items-start"},jr={class:"ml-3"},Er={class:"mt-1 text-sm text-amber-700"},Ir={key:0},Br={class:"font-medium"},Dr={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm mb-4"},Vr={class:"flex justify-between items-center border-b pb-2 mb-4"},Nr={key:0},Ur={key:1},zr={key:0,class:"mb-4"},Lr={class:"flex justify-end mt-4"},Fr={key:2,class:"text-gray-500 text-sm py-2"},Rr={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},Or={class:"flex items-center justify-between py-2 border-b border-gray-100"},Wr={class:"flex-1 text-right"},Hr={key:0,class:"text-xs text-gray-400 ml-1"},Kr={key:1,class:"flex items-center space-x-2"},qr={class:"flex items-center justify-between py-2 border-b border-gray-100"},Jr={class:"flex-1 text-right"},Yr={key:1,class:"flex items-center space-x-2"},Zr={class:"flex items-center justify-between py-2 border-b border-gray-100"},Qr={class:"flex-1 text-right"},Xr={key:0,class:"text-xs text-gray-400 ml-1"},en={key:1,class:"flex items-center space-x-2"},tn={class:"flex items-center justify-between py-2 border-b border-gray-100"},an={class:"text-gray-700"},ln={class:"flex items-start py-2 border-b border-gray-100"},sn={class:"flex-1 flex flex-wrap gap-2"},on={key:0,class:"text-gray-500 text-sm"},rn={class:"bg-white p-4 rounded-lg shadow-sm"},nn={class:"mb-4 border-b pb-3 flex flex-col gap-3"},un={class:"flex items-center justify-between"},dn={class:"flex items-center gap-2"},cn=["disabled"],mn={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},vn={class:"flex items-center gap-3"},pn={class:"relative inline-flex items-center px-4 py-2 rounded-md border border-dashed border-indigo-300 text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer transition"},fn=["disabled"],gn={key:0,class:"flex flex-wrap gap-2"},bn=["title"],yn=["onClick"],hn={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},kn={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},wn={class:"aspect-video bg-gray-50 flex items-center justify-center overflow-hidden"},xn=["src","alt","onClick"],_n=["onClick"],An={class:"p-2 flex items-center justify-between"},Tn=["title","onClick"],Mn=["onClick"],$n={key:2,class:"text-sm text-gray-500"},Cn={class:"bg-white p-4 rounded-lg shadow-sm"},Sn={class:"flex justify-between items-center mb-4 border-b pb-2"},Gn={key:0,class:"space-y-3"},Pn={class:"text-sm text-gray-700"},jn={class:"text-xs text-gray-500 mt-1"},En={key:1,class:"text-gray-500 text-sm py-2"},In={class:"bg-white p-4 rounded-lg shadow-sm"},Bn={key:3,class:"text-center py-8 text-gray-500"},Dn={key:4,class:"mt-4 flex flex-col items-center"},Vn={key:0,class:"text-xs text-red-500 mt-1"},Nn={class:"p-4 sm:p-6 w-full max-w-4xl"},Un={class:"flex justify-between items-center mb-3"},zn=["title"],Ln={class:"bg-black/5 rounded-lg overflow-hidden",style:{"min-height":"320px"}},Fn=["src"],Rn=["src"],On={key:2,class:"p-6 text-center text-gray-700"},Wn=["href"],Hn={key:3,class:"p-6 text-center text-gray-500"},Kn={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(i,{emit:n}){const l=i,s=n,t=$(null),p=$(!0),c=$(""),b=$(!1),g=$(!1),d=$(!1),f=$(null),r=$(null),u=$(null),m=$([]),C=$(!1),y=$([]),W=$(!1),D=$(!1),h=$([]),w=async()=>{if(l.taskId){W.value=!0;try{const j=await window.axios.get("/api/files",{params:{model_type:"Task",model_id:l.taskId}});y.value=j.data||[]}catch(j){console.error("Error fetching task files",j)}finally{W.value=!1}}},A=j=>{h.value=Array.from(j.target.files||[])},M=async()=>{if(!h.value.length)return;D.value=!0;const j=new FormData;h.value.forEach((x,ve)=>j.append(`files[${ve}]`,x)),j.append("model_type","Task"),j.append("model_id",l.taskId);try{await window.axios.post("/api/files",j,{headers:{"Content-Type":"multipart/form-data"}}),fe("Files uploaded"),h.value=[],await w()}catch(x){console.error("Upload failed",x),ce("Failed to upload files")}finally{D.value=!1}},U=async j=>{if(await zt(`Delete file "${j.filename}"?`,{confirmText:"Delete",cancelText:"Cancel",type:"warning"}))try{await window.axios.delete(`/api/files/${j.id}`),fe("File deleted"),await w()}catch(ve){console.error("Delete failed",ve),ce("Failed to delete file")}},Q=$(!1),E=$(null),I=j=>{E.value=j,Q.value=!0},O=()=>{Q.value=!1,E.value=null},V=j=>j?j.thumbnail_url?j.thumbnail_url:j.mime_type&&j.mime_type.includes("image")&&j.path_url?j.path_url:null:null,G=j=>{if(!j)return{type:"none"};const x=j.path_url||null,ve=(j.mime_type||"").toLowerCase();return x?ve.includes("image")?{type:"image",src:x}:ve.includes("pdf")||ve.includes("text")||ve.includes("html")?{type:"iframe",src:x}:{type:"external_link",url:x}:{type:"none"}},H=R(()=>G(E.value)),re=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],J=$(!1),X=$(!1),F=$([{name:"",completed:!1}]),ne=$(!1),me=async()=>{p.value=!0,c.value="";try{const j=await window.axios.get(`/api/tasks/${l.taskId}`);t.value=j.data,f.value=t.value.assigned_to_id||null,r.value=t.value.due_date||null,u.value=t.value.priority||"medium",ge()}catch(j){c.value="Failed to load task details.",console.error("Error fetching task details:",j)}finally{p.value=!1}},ge=async()=>{C.value=!0;try{const j=await window.axios.get("/api/activities",{params:{subject_type:"App\\Models\\Task",subject_id:l.taskId}});m.value=j.data}catch(j){console.error("Error fetching task activities:",j)}finally{C.value=!1}};oe(()=>l.taskId,j=>{j?(me(),w()):(t.value=null,y.value=[])},{immediate:!0});const Pe=R(()=>l.projectUsers.map(j=>({value:j.id,label:j.name}))),je=async()=>{if(!t.value||f.value===t.value.assigned_to_id){b.value=!1;return}try{const j=await window.axios.patch(`/api/tasks/${t.value.id}`,{assigned_to_user_id:f.value});t.value=j.data,s("task-updated",t.value)}catch(j){console.error("Error updating assigned user:",j),f.value=t.value.assigned_to_id,ce("Failed to update assigned user. Please try again.")}finally{b.value=!1}},Oe=async()=>{if(!t.value||r.value===t.value.due_date){g.value=!1;return}try{const j=await window.axios.patch(`/api/tasks/${t.value.id}`,{due_date:r.value});t.value=j.data,s("task-updated",t.value)}catch(j){console.error("Error updating due date:",j),r.value=t.value.due_date,ce("Failed to update due date. Please try again.")}finally{g.value=!1}},Qe=async()=>{if(!t.value||u.value===t.value.priority){d.value=!1;return}try{const j=await window.axios.patch(`/api/tasks/${t.value.id}`,{priority:u.value});t.value=j.data,s("task-updated",t.value)}catch(j){console.error("Error updating priority:",j),u.value=t.value.priority,ce("Failed to update priority. Please try again.")}finally{d.value=!1}},z=()=>{J.value=!0},S=()=>{me(),J.value=!1},le=async()=>{try{await or(t.value),s("task-deleted",t.value.id),s("close")}catch(j){console.error("Error deleting task:",j)}},q=async()=>{try{t.value=await Qi(t.value),s("task-updated",t.value),ge()}catch(j){console.error("Error starting task:",j)}},be=async()=>{try{t.value=await Xi(t.value),s("task-updated",t.value),ge()}catch(j){console.error("Error pausing task:",j)}},nt=async()=>{try{t.value=await er(t.value),s("task-updated",t.value),ge()}catch(j){console.error("Error resuming task:",j)}},$t=async()=>{try{t.value=await tr(t.value),s("task-updated",t.value),ge()}catch(j){console.error("Error completing task:",j)}},Ct=async()=>{try{t.value=await sr(t.value),s("task-updated",t.value),ge()}catch(j){console.error("Error revising task:",j)}},St=()=>{var j;X.value=!X.value,X.value&&((j=t.value.details)!=null&&j.checklist&&t.value.details.checklist.length>0?(F.value=JSON.parse(JSON.stringify(t.value.details.checklist)),F.value[F.value.length-1].name!==""&&F.value.push({name:"",completed:!1})):F.value=[{name:"",completed:!1}])},Gt=async()=>{if(!ne.value){ne.value=!0;try{const j=F.value.filter(Ce=>Ce.name.trim()!==""),x={details:{...t.value.details,checklist:j}},ve=await window.axios.patch(`/api/tasks/${t.value.id}`,x);t.value=ve.data,X.value=!1,fe("Checklist saved successfully"),s("task-updated",t.value)}catch(j){console.error("Error saving checklist:",j),ce("Failed to save checklist")}finally{ne.value=!1}}},We=$(!1),Pt=()=>{We.value=!0},jt=async j=>{try{t.value=await ar(t.value,j),fe("Task blocked successfully"),s("task-updated",t.value),ge(),We.value=!1}catch(x){console.error("Error blocking task:",x)}},Et=async()=>{try{t.value=await lr(t.value),s("task-updated",t.value),ge()}catch(j){console.error("Error unblocking task:",j)}},It=R(()=>t.value?ir(t.value.status):""),Xe=R(()=>{var x,ve,Ce,De;if(!m.value||((x=t.value)==null?void 0:x.status)!=="Blocked")return null;const j=m.value.find(Ve=>{var Ne,Ue;return Ve.event==="updated"&&((Ue=(Ne=Ve.properties)==null?void 0:Ne.attributes)==null?void 0:Ue.status)==="Blocked"});return j?(console.log(j.properties),{causer:((ve=j.causer)==null?void 0:ve.name)||"Unknown",reason:((De=(Ce=j.properties)==null?void 0:Ce.attributes)==null?void 0:De.block_reason)||"No reason provided."}):null});return(j,x)=>{var ve,Ce,De,Ve,Ne,Ue,ut;return a(),o("div",null,[p.value?(a(),o("div",fr," Loading task details... ")):c.value?(a(),o("div",gr,P(c.value),1)):t.value?(a(),o("div",br,[e("div",yr,[e("h4",hr,P(t.value.name),1),e("div",kr,[e("span",{class:K(["px-2 py-1 rounded-full text-xs font-medium",It.value])},P(t.value.status),3),t.value.task_type?(a(),o("span",wr," | "+P((ve=t.value.task_type)==null?void 0:ve.name)+" | ",1)):_("",!0),x[12]||(x[12]=e("br",null,null,-1)),(Ce=t.value.milestone)!=null&&Ce.name?(a(),o("span",xr,P((De=t.value.milestone)==null?void 0:De.name),1)):_("",!0)]),e("p",_r,P(t.value.description||"No description provided."),1),e("div",Ar,[t.value.status==="To Do"?(a(),B(pe,{key:0,onClick:q,class:"bg-blue-600 hover:bg-blue-700"},{default:k(()=>x[13]||(x[13]=[T(" Start Task ",-1)])),_:1,__:[13]})):t.value.status==="In Progress"?(a(),B(pe,{key:1,onClick:be,class:"bg-orange-600 hover:bg-orange-700"},{default:k(()=>x[14]||(x[14]=[T(" Pause Task ",-1)])),_:1,__:[14]})):t.value.status==="Paused"?(a(),B(pe,{key:2,onClick:nt,class:"bg-blue-600 hover:bg-blue-700"},{default:k(()=>x[15]||(x[15]=[T(" Resume Task ",-1)])),_:1,__:[15]})):t.value.status==="Blocked"?(a(),B(pe,{key:3,onClick:Et,class:"bg-green-600 hover:bg-green-700"},{default:k(()=>x[16]||(x[16]=[T(" Unblock Task ",-1)])),_:1,__:[16]})):_("",!0),t.value.status==="To Do"||t.value.status==="In Progress"||t.value.status==="Paused"?(a(),B(pe,{key:4,onClick:Pt,class:"bg-red-600 hover:bg-red-700"},{default:k(()=>x[17]||(x[17]=[T(" Block Task ",-1)])),_:1,__:[17]})):_("",!0),t.value.status==="In Progress"?(a(),B(pe,{key:5,onClick:$t,class:"bg-green-600 hover:bg-green-700"},{default:k(()=>x[18]||(x[18]=[T(" Complete Task ",-1)])),_:1,__:[18]})):_("",!0),t.value.status==="Done"?(a(),B(pe,{key:6,onClick:Ct,class:"bg-yellow-600 hover:bg-yellow-700"},{default:k(()=>x[19]||(x[19]=[T(" Revise Task ",-1)])),_:1,__:[19]})):_("",!0)]),t.value.status==="Done"?(a(),o("div",Tr,' Revising will change the task status back to "To Do" ')):_("",!0)]),t.value.status==="Blocked"&&Xe.value?(a(),o("div",Mr,[e("div",$r,[x[21]||(x[21]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11.75 13a.75.75 0 01-1.5 0v-2.25a.75.75 0 011.5 0V13zm-1.5-7.5a.75.75 0 011.5 0v1.5a.75.75 0 01-1.5 0V5.5z","clip-rule":"evenodd"})])],-1)),e("div",Cr,[x[20]||(x[20]=e("h3",{class:"text-sm font-medium text-yellow-800"},"Task Blocked",-1)),e("div",Sr,[e("p",null,"This task was blocked by **"+P(Xe.value.causer)+"** with the following reason:",1),e("p",null,P(Xe.value.reason),1)])])])])):_("",!0),t.value.needs_approval?(a(),o("div",Gr,[e("div",Pr,[x[26]||(x[26]=e("svg",{class:"h-5 w-5 text-amber-500 mt-0.5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0V9a1 1 0 112 0v4zm-1 4a1.25 1.25 0 100-2.5A1.25 1.25 0 0010 17z","clip-rule":"evenodd"})],-1)),e("div",jr,[x[25]||(x[25]=e("h3",{class:"text-sm font-semibold text-amber-800"},"Approval required",-1)),e("p",Er,[x[23]||(x[23]=T(" Once completed, this task needs approval",-1)),t.value.creator_name?(a(),o("span",Ir,[x[22]||(x[22]=T(" from ",-1)),e("span",Br,P(t.value.creator_name),1)])):_("",!0),x[24]||(x[24]=T(". ",-1))])])])])):_("",!0),e("div",Dr,[e("div",Vr,[x[27]||(x[27]=e("h5",{class:"text-lg font-semibold text-gray-800"},"Task Checklist",-1)),e("button",{onClick:St,class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center"},[X.value?(a(),o("span",Ur,"Cancel")):(a(),o("span",Nr,P((Ve=t.value.details)!=null&&Ve.checklist&&t.value.details.checklist.length>0?"Edit Checklist":"Add Checklist"),1))])]),X.value?(a(),o("div",zr,[v(nr,{modelValue:F.value,"onUpdate:modelValue":x[0]||(x[0]=Y=>F.value=Y),placeholder:"e.g., Review design, Update documentation",label:"Checklist Items",density:"notes"},null,8,["modelValue"]),e("div",Lr,[v(pe,{onClick:Gt,disabled:ne.value,class:"flex items-center space-x-1"},{default:k(()=>[v(N(Uo),{class:"h-4 w-4"}),x[28]||(x[28]=e("span",null,"Save Checklist",-1))]),_:1,__:[28]},8,["disabled"])])])):_("",!0),(Ne=t.value.details)!=null&&Ne.checklist&&t.value.details.checklist.length>0&&!X.value?(a(),B(qt,{key:1,items:t.value.details.checklist,"api-endpoint":`/api/tasks/${t.value.id}`,title:"Items to complete:","payload-transformer":Y=>({details:{...t.value.details,checklist:Y}})},null,8,["items","api-endpoint","payload-transformer"])):_("",!0),(!((Ue=t.value.details)!=null&&Ue.checklist)||t.value.details.checklist.length===0)&&!X.value?(a(),o("div",Fr,' No checklist items for this task yet. Click "Add Checklist" to create one. ')):_("",!0)]),e("div",Rr,[x[35]||(x[35]=e("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),e("div",Or,[v(Z,{class:"min-w-[100px] text-gray-600"},{default:k(()=>x[29]||(x[29]=[T("Assigned To:",-1)])),_:1,__:[29]}),e("div",Wr,[b.value?(a(),o("div",Kr,[v(ye,{id:"edit-assigned-to",modelValue:f.value,"onUpdate:modelValue":x[2]||(x[2]=Y=>f.value=Y),options:Pe.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),e("button",{onClick:je,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),e("button",{onClick:x[3]||(x[3]=Y=>b.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(a(),o("div",{key:0,onClick:x[1]||(x[1]=Y=>t.value.status!=="Done"?b.value=!0:he("Cannot change assignment for a completed task. Use the Revise button to change the task status first.")),class:K(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":t.value.status!=="Done","text-gray-500":t.value.status==="Done"}])},[T(P(((ut=t.value.assigned_to)==null?void 0:ut.name)||"Unassigned")+" ",1),t.value.status!=="Done"?(a(),o("span",Hr,"(Click to edit)")):_("",!0)],2))])]),e("div",qr,[v(Z,{class:"min-w-[100px] text-gray-600"},{default:k(()=>x[30]||(x[30]=[T("Due Date:",-1)])),_:1,__:[30]}),e("div",Jr,[g.value?(a(),o("div",Yr,[v(xe,{id:"edit-due-date",modelValue:r.value,"onUpdate:modelValue":x[5]||(x[5]=Y=>r.value=Y),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),e("button",{onClick:Oe,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),e("button",{onClick:x[6]||(x[6]=Y=>g.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(a(),o("div",{key:0,onClick:x[4]||(x[4]=Y=>g.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[T(P(t.value.due_date?N(Kt)(t.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),x[31]||(x[31]=e("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),e("div",Zr,[v(Z,{class:"min-w-[100px] text-gray-600"},{default:k(()=>x[32]||(x[32]=[T("Priority:",-1)])),_:1,__:[32]}),e("div",Qr,[d.value?(a(),o("div",en,[v(ye,{id:"edit-priority",modelValue:u.value,"onUpdate:modelValue":x[8]||(x[8]=Y=>u.value=Y),options:re,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1 flex-1"},null,8,["modelValue"]),e("button",{onClick:Qe,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),e("button",{onClick:x[9]||(x[9]=Y=>d.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(a(),o("div",{key:0,onClick:x[7]||(x[7]=Y=>t.value.status!=="Done"?d.value=!0:he("Cannot change priority for a completed task. Use the Revise button to change the task status first.")),class:K(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":t.value.status!=="Done","text-gray-500":t.value.status==="Done"}])},[e("span",{class:K({"text-red-600 font-medium":t.value.priority==="high","text-yellow-600 font-medium":t.value.priority==="medium","text-green-600 font-medium":t.value.priority==="low"})},P(t.value.priority?t.value.priority.charAt(0).toUpperCase()+t.value.priority.slice(1):"Medium"),3),t.value.status!=="Done"?(a(),o("span",Xr,"(Click to edit)")):_("",!0)],2))])]),e("div",tn,[v(Z,{class:"min-w-[100px] text-gray-600"},{default:k(()=>x[33]||(x[33]=[T("Created:",-1)])),_:1,__:[33]}),e("span",an,P(t.value.created_at?new Date(t.value.created_at).toLocaleDateString():"N/A"),1)]),e("div",ln,[v(Z,{class:"min-w-[100px] text-gray-600 mt-1"},{default:k(()=>x[34]||(x[34]=[T("Tags:",-1)])),_:1,__:[34]}),e("div",sn,[(a(!0),o(ee,null,se(t.value.tags,Y=>(a(),o("span",{key:Y.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},P(Y.name),1))),128)),!t.value.tags||t.value.tags.length===0?(a(),o("span",on,"No tags")):_("",!0)])])]),e("div",rn,[e("div",nn,[e("div",un,[x[37]||(x[37]=e("h5",{class:"text-lg font-semibold text-gray-800"},"Files",-1)),e("div",dn,[e("button",{type:"button",class:"inline-flex items-center px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:D.value||h.value.length===0,onClick:M},[D.value?(a(),o("svg",mn,x[36]||(x[36]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):_("",!0),e("span",null,P(D.value?"Uploading...":"Upload"),1)],8,cn)])]),e("div",vn,[e("label",pn,[x[38]||(x[38]=e("svg",{class:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M4 12l1.5-1.5M20 12l-1.5-1.5M12 4v12"})],-1)),x[39]||(x[39]=e("span",{class:"font-medium"},"Choose Files",-1)),e("input",{class:"absolute inset-0 opacity-0 cursor-pointer",type:"file",multiple:"",onChange:A,disabled:D.value},null,40,fn)]),x[40]||(x[40]=e("p",{class:"text-xs text-gray-500"},"You can select multiple files. Images, PDFs, Docs are supported.",-1))]),h.value.length?(a(),o("div",gn,[(a(!0),o(ee,null,se(h.value,(Y,Ee)=>(a(),o("span",{key:Ee,class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-100 text-gray-800 text-xs"},[x[41]||(x[41]=e("svg",{class:"h-4 w-4 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),e("span",{class:"max-w-[160px] truncate",title:Y.name},P(Y.name),9,bn),e("button",{type:"button",class:"text-gray-500 hover:text-red-600",onClick:du=>h.value=h.value.filter((cu,Bt)=>Bt!==Ee)},"×",8,yn)]))),128))])):_("",!0)]),e("div",null,[W.value?(a(),o("div",hn,[(a(),o(ee,null,se(6,Y=>e("div",{key:Y,class:"h-28 bg-gray-100 rounded animate-pulse"})),64))])):y.value.length>0?(a(),o("div",kn,[(a(!0),o(ee,null,se(y.value,Y=>(a(),o("div",{key:Y.id,class:"group relative rounded-lg border border-gray-200 overflow-hidden bg-white shadow-sm hover:shadow-md transition"},[e("div",wn,[V(Y)?(a(),o("img",{key:0,src:V(Y),alt:Y.filename,class:"object-cover w-full h-full",onClick:Ee=>I(Y)},null,8,xn)):(a(),o("div",{key:1,class:"text-gray-400",onClick:Ee=>I(Y)},x[42]||(x[42]=[e("svg",{class:"h-10 w-10",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)]),8,_n))]),e("div",An,[e("button",{class:"text-xs text-blue-600 hover:underline truncate max-w-[70%] text-left",title:Y.filename,onClick:Ee=>I(Y)},P(Y.filename),9,Tn),e("button",{class:"text-red-600 hover:text-red-800 text-xs",onClick:Ee=>U(Y)},"Delete",8,Mn)])]))),128))])):(a(),o("div",$n,"No files attached."))])]),e("div",Cn,[e("div",Sn,[x[44]||(x[44]=e("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),v(pe,{onClick:z,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:k(()=>x[43]||(x[43]=[T(" Add Note ",-1)])),_:1,__:[43]})]),t.value.notes&&t.value.notes.length>0?(a(),o("div",Gn,[(a(!0),o(ee,null,se(t.value.notes,Y=>(a(),o("div",{key:Y.id,class:"p-3 bg-gray-50 rounded-md"},[e("p",Pn,P(Y.content),1),e("p",jn," By "+P(Y.creator_name||"Unknown")+" on "+P(new Date(Y.created_at).toLocaleDateString()),1)]))),128))])):(a(),o("div",En,"No notes for this task yet."))]),e("div",In,[x[45]||(x[45]=e("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"History",-1)),v(Zi,{activities:m.value,loading:C.value},null,8,["activities","loading"])])])):(a(),o("div",Bn," Select a task to view details. ")),t.value&&t.value.status!=="Done"?(a(),o("div",Dn,[v(it,{onClick:le,disabled:t.value.status!=="To Do"},{default:k(()=>x[46]||(x[46]=[T(" Delete Task ",-1)])),_:1,__:[46]},8,["disabled"]),t.value.status!=="To Do"?(a(),o("p",Vn,"Task can only be deleted in 'To Do' status.")):_("",!0)])):_("",!0),v(Li,{show:J.value,"task-for-note":t.value,onClose:x[10]||(x[10]=Y=>J.value=!1),onNoteAdded:S},null,8,["show","task-for-note"]),v(pr,{show:We.value,title:"Block Task","confirm-text":"Block Task",placeholder:"Enter reason for blocking...",onClose:x[11]||(x[11]=Y=>We.value=!1),onConfirm:jt},null,8,["show"]),v(Ze,{show:Q.value,onClose:O},{default:k(()=>[e("div",Nn,[e("div",Un,[e("h3",{class:"text-lg font-semibold text-gray-800 truncate",title:E.value&&E.value.filename?E.value.filename:""},P(E.value&&E.value.filename?E.value.filename:"Preview"),9,zn),e("button",{class:"text-gray-500 hover:text-gray-700",onClick:O},"✕")]),e("div",Ln,[T(P(H.value.type)+" ",1),H.value.type==="iframe"?(a(),o("iframe",{key:0,src:H.value.src,class:"w-full h-[70vh]",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,Fn)):H.value.type==="image"?(a(),o("img",{key:1,src:H.value.src,alt:"Preview",class:"w-full h-auto"},null,8,Rn)):H.value.type==="external_link"?(a(),o("div",On,[x[47]||(x[47]=e("p",null,"This file can't be embedded. You can open it using the link below:",-1)),e("a",{href:H.value.url,target:"_blank",class:"text-indigo-600 hover:underline break-all"},P(H.value.url),9,Wn)])):(a(),o("div",Hn,"No preview available."))])])]),_:1},8,["show"])])}}},qn={key:1,class:"p-4 text-gray-500"},Jn={key:0,class:"flex justify-end space-x-3"},Yn={__name:"TaskSidebar",emits:["taskUpdated","taskDeleted"],setup(i){const n=$(null);return(l,s)=>(a(),B(Mt,{show:N(Me).show,"onUpdate:show":N(tt),title:N(Me).taskId?"Task Details":"Details",initialWidth:50},{content:k(()=>[N(Me).taskId?(a(),B(Kn,{key:0,"task-id":N(Me).taskId,"project-id":N(Me).projectId,"project-users":N(Me).projectUsers,ref_key:"taskDetailSidebarRef",ref:n,onClose:N(tt),onTaskUpdated:s[0]||(s[0]=t=>{l.$emit("taskUpdated",t)}),onTaskDeleted:s[1]||(s[1]=t=>{l.$emit("taskDeleted",t),N(tt)()})},null,8,["task-id","project-id","project-users","onClose"])):N(Me).show?(a(),o("div",qn," No task selected or task ID is missing. ")):_("",!0)]),footer:k(()=>[N(Me).taskId?(a(),o("div",Jn,[n.value&&n.value.task&&n.value.task.status!=="In Progress"&&n.value.task.status!=="Done"?(a(),B(Je,{key:0,onClick:n.value.startTask,class:"bg-blue-50 text-blue-700 hover:bg-blue-100"},{default:k(()=>s[2]||(s[2]=[T(" Start Task ",-1)])),_:1,__:[2]},8,["onClick"])):_("",!0),n.value&&n.value.task&&n.value.task.status==="In Progress"?(a(),B(Je,{key:1,onClick:n.value.completeTask,class:"bg-green-50 text-green-700 hover:bg-green-100"},{default:k(()=>s[3]||(s[3]=[T(" Complete Task ",-1)])),_:1,__:[3]},8,["onClick"])):_("",!0),n.value&&n.value.task?(a(),B(it,{key:2,onClick:n.value.deleteTask,class:"bg-red-50 text-red-700 hover:bg-red-100"},{default:k(()=>s[4]||(s[4]=[T(" Delete Task ",-1)])),_:1,__:[4]},8,["onClick"])):_("",!0)])):_("",!0)]),_:1},8,["show","onUpdate:show","title"]))}},at=$(!1),ze=$([]),lt=$(!1);function Zn(){const i=async()=>{var s;try{const t=await ae.get("/api/notices/unread");ze.value=((s=t.data)==null?void 0:s.data)||[],at.value=ze.value.length>0}catch(t){console.error("Failed to fetch unread notices",t)}},n=async()=>{if(lt.value)try{const s=ze.value.map(t=>t.id);if(s.length===0)return;await ae.post("/api/notices/acknowledge",{notice_ids:s}),l()}catch(s){console.error("Failed to acknowledge notices",s)}},l=()=>{at.value=!1,ze.value=[],lt.value=!1};return ke(()=>{i()}),At(()=>{}),{showNoticeModal:at,unreadNotices:ze,acknowledgeChecked:lt,fetchUnreadNotices:i,acknowledgeNotices:n,closeModal:l}}const Qn={class:"mb-4"},Xn={__name:"TimezoneSelect",props:{modelValue:{type:String,default:null},label:{type:String,default:"Timezone"},placeholder:{type:String,default:"Select a timezone"},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:modelValue","change"],setup(i,{emit:n}){const l=i,s=n,t=R(()=>[{value:"Africa/Abidjan",label:"Africa/Abidjan (GMT+00:00)"},{value:"Africa/Accra",label:"Africa/Accra (GMT+00:00)"},{value:"Africa/Addis_Ababa",label:"Africa/Addis_Ababa (GMT+03:00)"},{value:"Africa/Algiers",label:"Africa/Algiers (GMT+01:00)"},{value:"Africa/Asmara",label:"Africa/Asmara (GMT+03:00)"},{value:"Africa/Bamako",label:"Africa/Bamako (GMT+00:00)"},{value:"Africa/Bangui",label:"Africa/Bangui (GMT+01:00)"},{value:"Africa/Banjul",label:"Africa/Banjul (GMT+00:00)"},{value:"Africa/Bissau",label:"Africa/Bissau (GMT+00:00)"},{value:"Africa/Blantyre",label:"Africa/Blantyre (GMT+02:00)"},{value:"Africa/Brazzaville",label:"Africa/Brazzaville (GMT+01:00)"},{value:"Africa/Bujumbura",label:"Africa/Bujumbura (GMT+02:00)"},{value:"Africa/Cairo",label:"Africa/Cairo (GMT+02:00)"},{value:"Africa/Casablanca",label:"Africa/Casablanca (GMT+01:00)"},{value:"Africa/Ceuta",label:"Africa/Ceuta (GMT+01:00)"},{value:"Africa/Conakry",label:"Africa/Conakry (GMT+00:00)"},{value:"Africa/Dakar",label:"Africa/Dakar (GMT+00:00)"},{value:"Africa/Dar_es_Salaam",label:"Africa/Dar_es_Salaam (GMT+03:00)"},{value:"Africa/Djibouti",label:"Africa/Djibouti (GMT+03:00)"},{value:"Africa/Douala",label:"Africa/Douala (GMT+01:00)"},{value:"Africa/El_Aaiun",label:"Africa/El_Aaiun (GMT+01:00)"},{value:"Africa/Freetown",label:"Africa/Freetown (GMT+00:00)"},{value:"Africa/Gaborone",label:"Africa/Gaborone (GMT+02:00)"},{value:"Africa/Harare",label:"Africa/Harare (GMT+02:00)"},{value:"Africa/Johannesburg",label:"Africa/Johannesburg (GMT+02:00)"},{value:"Africa/Juba",label:"Africa/Juba (GMT+03:00)"},{value:"Africa/Kampala",label:"Africa/Kampala (GMT+03:00)"},{value:"Africa/Khartoum",label:"Africa/Khartoum (GMT+02:00)"},{value:"Africa/Kigali",label:"Africa/Kigali (GMT+02:00)"},{value:"Africa/Kinshasa",label:"Africa/Kinshasa (GMT+01:00)"},{value:"Africa/Lagos",label:"Africa/Lagos (GMT+01:00)"},{value:"Africa/Libreville",label:"Africa/Libreville (GMT+01:00)"},{value:"Africa/Lome",label:"Africa/Lome (GMT+00:00)"},{value:"Africa/Luanda",label:"Africa/Luanda (GMT+01:00)"},{value:"Africa/Lubumbashi",label:"Africa/Lubumbashi (GMT+02:00)"},{value:"Africa/Lusaka",label:"Africa/Lusaka (GMT+02:00)"},{value:"Africa/Malabo",label:"Africa/Malabo (GMT+01:00)"},{value:"Africa/Maputo",label:"Africa/Maputo (GMT+02:00)"},{value:"Africa/Maseru",label:"Africa/Maseru (GMT+02:00)"},{value:"Africa/Mbabane",label:"Africa/Mbabane (GMT+02:00)"},{value:"Africa/Mogadishu",label:"Africa/Mogadishu (GMT+03:00)"},{value:"Africa/Monrovia",label:"Africa/Monrovia (GMT+00:00)"},{value:"Africa/Nairobi",label:"Africa/Nairobi (GMT+03:00)"},{value:"Africa/Ndjamena",label:"Africa/Ndjamena (GMT+01:00)"},{value:"Africa/Niamey",label:"Africa/Niamey (GMT+01:00)"},{value:"Africa/Nouakchott",label:"Africa/Nouakchott (GMT+00:00)"},{value:"Africa/Ouagadougou",label:"Africa/Ouagadougou (GMT+00:00)"},{value:"Africa/Porto-Novo",label:"Africa/Porto-Novo (GMT+01:00)"},{value:"Africa/Sao_Tome",label:"Africa/Sao_Tome (GMT+00:00)"},{value:"Africa/Tripoli",label:"Africa/Tripoli (GMT+02:00)"},{value:"Africa/Tunis",label:"Africa/Tunis (GMT+01:00)"},{value:"Africa/Windhoek",label:"Africa/Windhoek (GMT+02:00)"},{value:"America/Adak",label:"America/Adak (GMT-10:00)"},{value:"America/Anchorage",label:"America/Anchorage (GMT-09:00)"},{value:"America/Anguilla",label:"America/Anguilla (GMT-04:00)"},{value:"America/Antigua",label:"America/Antigua (GMT-04:00)"},{value:"America/Araguaina",label:"America/Araguaina (GMT-03:00)"},{value:"America/Argentina/Buenos_Aires",label:"America/Argentina/Buenos_Aires (GMT-03:00)"},{value:"America/Argentina/Catamarca",label:"America/Argentina/Catamarca (GMT-03:00)"},{value:"America/Argentina/Cordoba",label:"America/Argentina/Cordoba (GMT-03:00)"},{value:"America/Argentina/Jujuy",label:"America/Argentina/Jujuy (GMT-03:00)"},{value:"America/Argentina/La_Rioja",label:"America/Argentina/La_Rioja (GMT-03:00)"},{value:"America/Argentina/Mendoza",label:"America/Argentina/Mendoza (GMT-03:00)"},{value:"America/Argentina/Rio_Gallegos",label:"America/Argentina/Rio_Gallegos (GMT-03:00)"},{value:"America/Argentina/Salta",label:"America/Argentina/Salta (GMT-03:00)"},{value:"America/Argentina/San_Juan",label:"America/Argentina/San_Juan (GMT-03:00)"},{value:"America/Argentina/San_Luis",label:"America/Argentina/San_Luis (GMT-03:00)"},{value:"America/Argentina/Tucuman",label:"America/Argentina/Tucuman (GMT-03:00)"},{value:"America/Argentina/Ushuaia",label:"America/Argentina/Ushuaia (GMT-03:00)"},{value:"America/Aruba",label:"America/Aruba (GMT-04:00)"},{value:"America/Asuncion",label:"America/Asuncion (GMT-04:00)"},{value:"America/Atikokan",label:"America/Atikokan (GMT-05:00)"},{value:"America/Bahia",label:"America/Bahia (GMT-03:00)"},{value:"America/Bahia_Banderas",label:"America/Bahia_Banderas (GMT-06:00)"},{value:"America/Barbados",label:"America/Barbados (GMT-04:00)"},{value:"America/Belem",label:"America/Belem (GMT-03:00)"},{value:"America/Belize",label:"America/Belize (GMT-06:00)"},{value:"America/Blanc-Sablon",label:"America/Blanc-Sablon (GMT-04:00)"},{value:"America/Boa_Vista",label:"America/Boa_Vista (GMT-04:00)"},{value:"America/Bogota",label:"America/Bogota (GMT-05:00)"},{value:"America/Boise",label:"America/Boise (GMT-06:00)"},{value:"America/Cambridge_Bay",label:"America/Cambridge_Bay (GMT-06:00)"},{value:"America/Campo_Grande",label:"America/Campo_Grande (GMT-04:00)"},{value:"America/Cancun",label:"America/Cancun (GMT-05:00)"},{value:"America/Caracas",label:"America/Caracas (GMT-04:00)"},{value:"America/Cayenne",label:"America/Cayenne (GMT-03:00)"},{value:"America/Cayman",label:"America/Cayman (GMT-05:00)"},{value:"America/Chicago",label:"America/Chicago (GMT-05:00)"},{value:"America/Chihuahua",label:"America/Chihuahua (GMT-06:00)"},{value:"America/Ciudad_Juarez",label:"America/Ciudad_Juarez (GMT-06:00)"},{value:"America/Costa_Rica",label:"America/Costa_Rica (GMT-06:00)"},{value:"America/Creston",label:"America/Creston (GMT-07:00)"},{value:"America/Cuiaba",label:"America/Cuiaba (GMT-04:00)"},{value:"America/Curacao",label:"America/Curacao (GMT-04:00)"},{value:"America/Danmarkshavn",label:"America/Danmarkshavn (GMT+00:00)"},{value:"America/Dawson",label:"America/Dawson (GMT-07:00)"},{value:"America/Dawson_Creek",label:"America/Dawson_Creek (GMT-07:00)"},{value:"America/Denver",label:"America/Denver (GMT-06:00)"},{value:"America/Detroit",label:"America/Detroit (GMT-04:00)"},{value:"America/Dominica",label:"America/Dominica (GMT-04:00)"},{value:"America/Edmonton",label:"America/Edmonton (GMT-06:00)"},{value:"America/Eirunepe",label:"America/Eirunepe (GMT-05:00)"},{value:"America/El_Salvador",label:"America/El_Salvador (GMT-06:00)"},{value:"America/Fort_Nelson",label:"America/Fort_Nelson (GMT-07:00)"},{value:"America/Fortaleza",label:"America/Fortaleza (GMT-03:00)"},{value:"America/Glace_Bay",label:"America/Glace_Bay (GMT-03:00)"},{value:"America/Goose_Bay",label:"America/Goose_Bay (GMT-03:00)"},{value:"America/Grand_Turk",label:"America/Grand_Turk (GMT-04:00)"},{value:"America/Grenada",label:"America/Grenada (GMT-04:00)"},{value:"America/Guadeloupe",label:"America/Guadeloupe (GMT-04:00)"},{value:"America/Guatemala",label:"America/Guatemala (GMT-06:00)"},{value:"America/Guayaquil",label:"America/Guayaquil (GMT-05:00)"},{value:"America/Guyana",label:"America/Guyana (GMT-04:00)"},{value:"America/Halifax",label:"America/Halifax (GMT-03:00)"},{value:"America/Havana",label:"America/Havana (GMT-04:00)"},{value:"America/Hermosillo",label:"America/Hermosillo (GMT-07:00)"},{value:"America/Indiana/Indianapolis",label:"America/Indiana/Indianapolis (GMT-04:00)"},{value:"America/Indiana/Knox",label:"America/Indiana/Knox (GMT-05:00)"},{value:"America/Indiana/Marengo",label:"America/Indiana/Marengo (GMT-04:00)"},{value:"America/Indiana/Petersburg",label:"America/Indiana/Petersburg (GMT-04:00)"},{value:"America/Indiana/Vevay",label:"America/Indiana/Vevay (GMT-04:00)"},{value:"America/Indiana/Vincennes",label:"America/Indiana/Vincennes (GMT-04:00)"},{value:"America/Indiana/Winamac",label:"America/Indiana/Winamac (GMT-04:00)"},{value:"America/Inuvik",label:"America/Inuvik (GMT-06:00)"},{value:"America/Iqaluit",label:"America/Iqaluit (GMT-04:00)"},{value:"America/Jamaica",label:"America/Jamaica (GMT-05:00)"},{value:"America/Juneau",label:"America/Juneau (GMT-08:00)"},{value:"America/Kentucky/Louisville",label:"America/Kentucky/Louisville (GMT-04:00)"},{value:"America/Kentucky/Monticello",label:"America/Kentucky/Monticello (GMT-04:00)"},{value:"America/La_Paz",label:"America/La_Paz (GMT-04:00)"},{value:"America/Lima",label:"America/Lima (GMT-05:00)"},{value:"America/Los_Angeles",label:"America/Los_Angeles (GMT-07:00)"},{value:"America/Lower_Princes",label:"America/Lower_Princes (GMT-04:00)"},{value:"America/Maceio",label:"America/Maceio (GMT-03:00)"},{value:"America/Managua",label:"America/Managua (GMT-06:00)"},{value:"America/Manaus",label:"America/Manaus (GMT-04:00)"},{value:"America/Marigot",label:"America/Marigot (GMT-04:00)"},{value:"America/Martinique",label:"America/Martinique (GMT-04:00)"},{value:"America/Matamoros",label:"America/Matamoros (GMT-05:00)"},{value:"America/Mazatlan",label:"America/Mazatlan (GMT-06:00)"},{value:"America/Menominee",label:"America/Menominee (GMT-05:00)"},{value:"America/Merida",label:"America/Merida (GMT-05:00)"},{value:"America/Metlakatla",label:"America/Metlakatla (GMT-08:00)"},{value:"America/Mexico_City",label:"America/Mexico_City (GMT-05:00)"},{value:"America/Miquelon",label:"America/Miquelon (GMT-02:00)"},{value:"America/Moncton",label:"America/Moncton (GMT-03:00)"},{value:"America/Monterrey",label:"America/Monterrey (GMT-05:00)"},{value:"America/Montevideo",label:"America/Montevideo (GMT-03:00)"},{value:"America/Montserrat",label:"America/Montserrat (GMT-04:00)"},{value:"America/Nassau",label:"America/Nassau (GMT-04:00)"},{value:"America/New_York",label:"America/New_York (GMT-04:00)"},{value:"America/Nome",label:"America/Nome (GMT-08:00)"},{value:"America/Noronha",label:"America/Noronha (GMT-02:00)"},{value:"America/North_Dakota/Beulah",label:"America/North_Dakota/Beulah (GMT-05:00)"},{value:"America/North_Dakota/Center",label:"America/North_Dakota/Center (GMT-05:00)"},{value:"America/North_Dakota/New_Salem",label:"America/North_Dakota/New_Salem (GMT-05:00)"},{value:"America/Nuuk",label:"America/Nuuk (GMT-02:00)"},{value:"America/Ojinaga",label:"America/Ojinaga (GMT-06:00)"},{value:"America/Panama",label:"America/Panama (GMT-05:00)"},{value:"America/Paramaribo",label:"America/Paramaribo (GMT-03:00)"},{value:"America/Phoenix",label:"America/Phoenix (GMT-07:00)"},{value:"America/Port-au-Prince",label:"America/Port-au-Prince (GMT-04:00)"},{value:"America/Port_of_Spain",label:"America/Port_of_Spain (GMT-04:00)"},{value:"America/Puerto_Rico",label:"America/Puerto_Rico (GMT-04:00)"},{value:"America/Punta_Arenas",label:"America/Punta_Arenas (GMT-03:00)"},{value:"America/Rankin_Inlet",label:"America/Rankin_Inlet (GMT-05:00)"},{value:"America/Recife",label:"America/Recife (GMT-03:00)"},{value:"America/Regina",label:"America/Regina (GMT-06:00)"},{value:"America/Resolute",label:"America/Resolute (GMT-05:00)"},{value:"America/Rio_Branco",label:"America/Rio_Branco (GMT-05:00)"},{value:"America/Santarem",label:"America/Santarem (GMT-03:00)"},{value:"America/Santiago",label:"America/Santiago (GMT-04:00)"},{value:"America/Santo_Domingo",label:"America/Santo_Domingo (GMT-04:00)"},{value:"America/Sao_Paulo",label:"America/Sao_Paulo (GMT-03:00)"},{value:"America/Scoresbysund",label:"America/Scoresbysund (GMT+00:00)"},{value:"America/Sitka",label:"America/Sitka (GMT-08:00)"},{value:"America/St_Barthelemy",label:"America/St_Barthelemy (GMT-04:00)"},{value:"America/St_Johns",label:"America/St_Johns (GMT-02:30)"},{value:"America/St_Kitts",label:"America/St_Kitts (GMT-04:00)"},{value:"America/St_Lucia",label:"America/St_Lucia (GMT-04:00)"},{value:"America/St_Thomas",label:"America/St_Thomas (GMT-04:00)"},{value:"America/St_Vincent",label:"America/St_Vincent (GMT-04:00)"},{value:"America/Swift_Current",label:"America/Swift_Current (GMT-06:00)"},{value:"America/Tegucigalpa",label:"America/Tegucigalpa (GMT-06:00)"},{value:"America/Thule",label:"America/Thule (GMT-03:00)"},{value:"America/Tijuana",label:"America/Tijuana (GMT-07:00)"},{value:"America/Toronto",label:"America/Toronto (GMT-04:00)"},{value:"America/Tortola",label:"America/Tortola (GMT-04:00)"},{value:"America/Vancouver",label:"America/Vancouver (GMT-07:00)"},{value:"America/Whitehorse",label:"America/Whitehorse (GMT-07:00)"},{value:"America/Winnipeg",label:"America/Winnipeg (GMT-05:00)"},{value:"America/Yakutat",label:"America/Yakutat (GMT-08:00)"},{value:"America/Yellowknife",label:"America/Yellowknife (GMT-06:00)"},{value:"Antarctica/Casey",label:"Antarctica/Casey (GMT+11:00)"},{value:"Antarctica/Davis",label:"Antarctica/Davis (GMT+07:00)"},{value:"Antarctica/DumontDUrville",label:"Antarctica/DumontDUrville (GMT+10:00)"},{value:"Antarctica/Macquarie",label:"Antarctica/Macquarie (GMT+11:00)"},{value:"Antarctica/Mawson",label:"Antarctica/Mawson (GMT+05:00)"},{value:"Antarctica/Palmer",label:"Antarctica/Palmer (GMT-03:00)"},{value:"Antarctica/Rothera",label:"Antarctica/Rothera (GMT-03:00)"},{value:"Antarctica/Syowa",label:"Antarctica/Syowa (GMT+03:00)"},{value:"Antarctica/Troll",label:"Antarctica/Troll (GMT+00:00)"},{value:"Antarctica/Vostok",label:"Antarctica/Vostok (GMT+06:00)"},{value:"Asia/Almaty",label:"Asia/Almaty (GMT+05:00)"},{value:"Asia/Amman",label:"Asia/Amman (GMT+03:00)"},{value:"Asia/Anadyr",label:"Asia/Anadyr (GMT+12:00)"},{value:"Asia/Aqtau",label:"Asia/Aqtau (GMT+05:00)"},{value:"Asia/Aqtobe",label:"Asia/Aqtobe (GMT+05:00)"},{value:"Asia/Ashgabat",label:"Asia/Ashgabat (GMT+05:00)"},{value:"Asia/Atyrau",label:"Asia/Atyrau (GMT+05:00)"},{value:"Asia/Baghdad",label:"Asia/Baghdad (GMT+03:00)"},{value:"Asia/Baku",label:"Asia/Baku (GMT+04:00)"},{value:"Asia/Bangkok",label:"Asia/Bangkok (GMT+07:00)"},{value:"Asia/Barnaul",label:"Asia/Barnaul (GMT+07:00)"},{value:"Asia/Beirut",label:"Asia/Beirut (GMT+03:00)"},{value:"Asia/Bishkek",label:"Asia/Bishkek (GMT+06:00)"},{value:"Asia/Brunei",label:"Asia/Brunei (GMT+08:00)"},{value:"Asia/Chita",label:"Asia/Chita (GMT+09:00)"},{value:"Asia/Choibalsan",label:"Asia/Choibalsan (GMT+08:00)"},{value:"Asia/Colombo",label:"Asia/Colombo (GMT+05:30)"},{value:"Asia/Damascus",label:"Asia/Damascus (GMT+03:00)"},{value:"Asia/Dhaka",label:"Asia/Dhaka (GMT+06:00)"},{value:"Asia/Dili",label:"Asia/Dili (GMT+09:00)"},{value:"Asia/Dubai",label:"Asia/Dubai (GMT+04:00)"},{value:"Asia/Dushanbe",label:"Asia/Dushanbe (GMT+05:00)"},{value:"Asia/Famagusta",label:"Asia/Famagusta (GMT+03:00)"},{value:"Asia/Gaza",label:"Asia/Gaza (GMT+03:00)"},{value:"Asia/Hebron",label:"Asia/Hebron (GMT+03:00)"},{value:"Asia/Ho_Chi_Minh",label:"Asia/Ho_Chi_Minh (GMT+07:00)"},{value:"Asia/Hong_Kong",label:"Asia/Hong_Kong (GMT+08:00)"},{value:"Asia/Hovd",label:"Asia/Hovd (GMT+07:00)"},{value:"Asia/Irkutsk",label:"Asia/Irkutsk (GMT+08:00)"},{value:"Asia/Jakarta",label:"Asia/Jakarta (GMT+07:00)"},{value:"Asia/Jayapura",label:"Asia/Jayapura (GMT+09:00)"},{value:"Asia/Jerusalem",label:"Asia/Jerusalem (GMT+03:00)"},{value:"Asia/Kabul",label:"Asia/Kabul (GMT+04:30)"},{value:"Asia/Kamchatka",label:"Asia/Kamchatka (GMT+12:00)"},{value:"Asia/Karachi",label:"Asia/Karachi (GMT+05:00)"},{value:"Asia/Kathmandu",label:"Asia/Kathmandu (GMT+05:45)"},{value:"Asia/Khandyga",label:"Asia/Khandyga (GMT+09:00)"},{value:"Asia/Kolkata",label:"Asia/Kolkata (GMT+05:30)"},{value:"Asia/Krasnoyarsk",label:"Asia/Krasnoyarsk (GMT+07:00)"},{value:"Asia/Kuala_Lumpur",label:"Asia/Kuala_Lumpur (GMT+08:00)"},{value:"Asia/Kuching",label:"Asia/Kuching (GMT+08:00)"},{value:"Asia/Kuwait",label:"Asia/Kuwait (GMT+03:00)"},{value:"Asia/Macau",label:"Asia/Macau (GMT+08:00)"},{value:"Asia/Magadan",label:"Asia/Magadan (GMT+11:00)"},{value:"Asia/Makassar",label:"Asia/Makassar (GMT+08:00)"},{value:"Asia/Manila",label:"Asia/Manila (GMT+08:00)"},{value:"Asia/Muscat",label:"Asia/Muscat (GMT+04:00)"},{value:"Asia/Nicosia",label:"Asia/Nicosia (GMT+03:00)"},{value:"Asia/Novokuznetsk",label:"Asia/Novokuznetsk (GMT+07:00)"},{value:"Asia/Novosibirsk",label:"Asia/Novosibirsk (GMT+07:00)"},{value:"Asia/Omsk",label:"Asia/Omsk (GMT+06:00)"},{value:"Asia/Oral",label:"Asia/Oral (GMT+05:00)"},{value:"Asia/Phnom_Penh",label:"Asia/Phnom_Penh (GMT+07:00)"},{value:"Asia/Pontianak",label:"Asia/Pontianak (GMT+07:00)"},{value:"Asia/Pyongyang",label:"Asia/Pyongyang (GMT+09:00)"},{value:"Asia/Qatar",label:"Asia/Qatar (GMT+03:00)"},{value:"Asia/Qostanay",label:"Asia/Qostanay (GMT+05:00)"},{value:"Asia/Qyzylorda",label:"Asia/Qyzylorda (GMT+05:00)"},{value:"Asia/Riyadh",label:"Asia/Riyadh (GMT+03:00)"},{value:"Asia/Sakhalin",label:"Asia/Sakhalin (GMT+11:00)"},{value:"Asia/Samarkand",label:"Asia/Samarkand (GMT+05:00)"},{value:"Asia/Seoul",label:"Asia/Seoul (GMT+09:00)"},{value:"Asia/Shanghai",label:"Asia/Shanghai (GMT+08:00)"},{value:"Asia/Singapore",label:"Asia/Singapore (GMT+08:00)"},{value:"Asia/Srednekolymsk",label:"Asia/Srednekolymsk (GMT+11:00)"},{value:"Asia/Taipei",label:"Asia/Taipei (GMT+08:00)"},{value:"Asia/Tashkent",label:"Asia/Tashkent (GMT+05:00)"},{value:"Asia/Tbilisi",label:"Asia/Tbilisi (GMT+04:00)"},{value:"Asia/Tehran",label:"Asia/Tehran (GMT+03:30)"},{value:"Asia/Thimphu",label:"Asia/Thimphu (GMT+06:00)"},{value:"Asia/Tokyo",label:"Asia/Tokyo (GMT+09:00)"},{value:"Asia/Tomsk",label:"Asia/Tomsk (GMT+07:00)"},{value:"Asia/Ulaanbaatar",label:"Asia/Ulaanbaatar (GMT+08:00)"},{value:"Asia/Urumqi",label:"Asia/Urumqi (GMT+06:00)"},{value:"Asia/Ust-Nera",label:"Asia/Ust-Nera (GMT+10:00)"},{value:"Asia/Vladivostok",label:"Asia/Vladivostok (GMT+10:00)"},{value:"Asia/Yakutsk",label:"Asia/Yakutsk (GMT+09:00)"},{value:"Asia/Yangon",label:"Asia/Yangon (GMT+06:30)"},{value:"Asia/Yekaterinburg",label:"Asia/Yekaterinburg (GMT+05:00)"},{value:"Asia/Yerevan",label:"Asia/Yerevan (GMT+04:00)"},{value:"Atlantic/Azores",label:"Atlantic/Azores (GMT-01:00)"},{value:"Atlantic/Bermuda",label:"Atlantic/Bermuda (GMT-03:00)"},{value:"Atlantic/Canary",label:"Atlantic/Canary (GMT+00:00)"},{value:"Atlantic/Cape_Verde",label:"Atlantic/Cape_Verde (GMT-01:00)"},{value:"Atlantic/Faroe",label:"Atlantic/Faroe (GMT+00:00)"},{value:"Atlantic/Madeira",label:"Atlantic/Madeira (GMT+00:00)"},{value:"Atlantic/Reykjavik",label:"Atlantic/Reykjavik (GMT+00:00)"},{value:"Atlantic/South_Georgia",label:"Atlantic/South_Georgia (GMT-02:00)"},{value:"Atlantic/St_Helena",label:"Atlantic/St_Helena (GMT+00:00)"},{value:"Atlantic/Stanley",label:"Atlantic/Stanley (GMT-03:00)"},{value:"Australia/Adelaide",label:"Australia/Adelaide (GMT+09:30)"},{value:"Australia/Brisbane",label:"Australia/Brisbane (GMT+10:00)"},{value:"Australia/Broken_Hill",label:"Australia/Broken_Hill (GMT+09:30)"},{value:"Australia/Darwin",label:"Australia/Darwin (GMT+09:30)"},{value:"Australia/Eucla",label:"Australia/Eucla (GMT+08:45)"},{value:"Australia/Hobart",label:"Australia/Hobart (GMT+10:00)"},{value:"Australia/Lindeman",label:"Australia/Lindeman (GMT+10:00)"},{value:"Australia/Lord_Howe",label:"Australia/Lord_Howe (GMT+10:30)"},{value:"Australia/Melbourne",label:"Australia/Melbourne (GMT+10:00)"},{value:"Australia/Perth",label:"Australia/Perth (GMT+08:00)"},{value:"Australia/Sydney",label:"Australia/Sydney (GMT+10:00)"},{value:"Europe/Amsterdam",label:"Europe/Amsterdam (GMT+02:00)"},{value:"Europe/Andorra",label:"Europe/Andorra (GMT+02:00)"},{value:"Europe/Astrakhan",label:"Europe/Astrakhan (GMT+04:00)"},{value:"Europe/Athens",label:"Europe/Athens (GMT+03:00)"},{value:"Europe/Belgrade",label:"Europe/Belgrade (GMT+02:00)"},{value:"Europe/Berlin",label:"Europe/Berlin (GMT+02:00)"},{value:"Europe/Brussels",label:"Europe/Brussels (GMT+02:00)"},{value:"Europe/Bucharest",label:"Europe/Bucharest (GMT+03:00)"},{value:"Europe/Budapest",label:"Europe/Budapest (GMT+02:00)"},{value:"Europe/Chisinau",label:"Europe/Chisinau (GMT+03:00)"},{value:"Europe/Copenhagen",label:"Europe/Copenhagen (GMT+02:00)"},{value:"Europe/Dublin",label:"Europe/Dublin (GMT+01:00)"},{value:"Europe/Gibraltar",label:"Europe/Gibraltar (GMT+02:00)"},{value:"Europe/Helsinki",label:"Europe/Helsinki (GMT+03:00)"},{value:"Europe/Istanbul",label:"Europe/Istanbul (GMT+03:00)"},{value:"Europe/Kaliningrad",label:"Europe/Kaliningrad (GMT+02:00)"},{value:"Europe/Kirov",label:"Europe/Kirov (GMT+03:00)"},{value:"Europe/Kyiv",label:"Europe/Kyiv (GMT+03:00)"},{value:"Europe/Lisbon",label:"Europe/Lisbon (GMT+01:00)"},{value:"Europe/London",label:"Europe/London (GMT+01:00)"},{value:"Europe/Luxembourg",label:"Europe/Luxembourg (GMT+02:00)"},{value:"Europe/Madrid",label:"Europe/Madrid (GMT+02:00)"},{value:"Europe/Malta",label:"Europe/Malta (GMT+02:00)"},{value:"Europe/Minsk",label:"Europe/Minsk (GMT+03:00)"},{value:"Europe/Monaco",label:"Europe/Monaco (GMT+02:00)"},{value:"Europe/Moscow",label:"Europe/Moscow (GMT+03:00)"},{value:"Europe/Oslo",label:"Europe/Oslo (GMT+02:00)"},{value:"Europe/Paris",label:"Europe/Paris (GMT+02:00)"},{value:"Europe/Prague",label:"Europe/Prague (GMT+02:00)"},{value:"Europe/Riga",label:"Europe/Riga (GMT+03:00)"},{value:"Europe/Rome",label:"Europe/Rome (GMT+02:00)"},{value:"Europe/Samara",label:"Europe/Samara (GMT+04:00)"},{value:"Europe/San_Marino",label:"Europe/San_Marino (GMT+02:00)"},{value:"Europe/Sarajevo",label:"Europe/Sarajevo (GMT+02:00)"},{value:"Europe/Saratov",label:"Europe/Saratov (GMT+04:00)"},{value:"Europe/Simferopol",label:"Europe/Simferopol (GMT+03:00)"},{value:"Europe/Skopje",label:"Europe/Skopje (GMT+02:00)"},{value:"Europe/Sofia",label:"Europe/Sofia (GMT+03:00)"},{value:"Europe/Stockholm",label:"Europe/Stockholm (GMT+02:00)"},{value:"Europe/Tallinn",label:"Europe/Tallinn (GMT+03:00)"},{value:"Europe/Tirane",label:"Europe/Tirane (GMT+02:00)"},{value:"Europe/Ulyanovsk",label:"Europe/Ulyanovsk (GMT+04:00)"},{value:"Europe/Uzhgorod",label:"Europe/Uzhgorod (GMT+03:00)"},{value:"Europe/Vaduz",label:"Europe/Vaduz (GMT+02:00)"},{value:"Europe/Vatican",label:"Europe/Vatican (GMT+02:00)"},{value:"Europe/Vienna",label:"Europe/Vienna (GMT+02:00)"},{value:"Europe/Vilnius",label:"Europe/Vilnius (GMT+03:00)"},{value:"Europe/Volgograd",label:"Europe/Volgograd (GMT+03:00)"},{value:"Europe/Warsaw",label:"Europe/Warsaw (GMT+02:00)"},{value:"Europe/Zagreb",label:"Europe/Zagreb (GMT+02:00)"},{value:"Europe/Zaporozhye",label:"Europe/Zaporozhye (GMT+03:00)"},{value:"Europe/Zurich",label:"Europe/Zurich (GMT+02:00)"},{value:"Indian/Antananarivo",label:"Indian/Antananarivo (GMT+03:00)"},{value:"Indian/Chagos",label:"Indian/Chagos (GMT+06:00)"},{value:"Indian/Christmas",label:"Indian/Christmas (GMT+07:00)"},{value:"Indian/Cocos",label:"Indian/Cocos (GMT+06:30)"},{value:"Indian/Comoro",label:"Indian/Comoro (GMT+03:00)"},{value:"Indian/Kerguelen",label:"Indian/Kerguelen (GMT+05:00)"},{value:"Indian/Mahe",label:"Indian/Mahe (GMT+04:00)"},{value:"Indian/Maldives",label:"Indian/Maldives (GMT+05:00)"},{value:"Indian/Mauritius",label:"Indian/Mauritius (GMT+04:00)"},{value:"Indian/Mayotte",label:"Indian/Mayotte (GMT+03:00)"},{value:"Indian/Reunion",label:"Indian/Reunion (GMT+04:00)"},{value:"Pacific/Apia",label:"Pacific/Apia (GMT+13:00)"},{value:"Pacific/Auckland",label:"Pacific/Auckland (GMT+12:00)"},{value:"Pacific/Bougainville",label:"Pacific/Bougainville (GMT+11:00)"},{value:"Pacific/Chatham",label:"Pacific/Chatham (GMT+12:45)"},{value:"Pacific/Chuuk",label:"Pacific/Chuuk (GMT+10:00)"},{value:"Pacific/Easter",label:"Pacific/Easter (GMT-06:00)"},{value:"Pacific/Efate",label:"Pacific/Efate (GMT+11:00)"},{value:"Pacific/Fakaofo",label:"Pacific/Fakaofo (GMT+13:00)"},{value:"Pacific/Fiji",label:"Pacific/Fiji (GMT+12:00)"},{value:"Pacific/Funafuti",label:"Pacific/Funafuti (GMT+12:00)"},{value:"Pacific/Galapagos",label:"Pacific/Galapagos (GMT-06:00)"},{value:"Pacific/Gambier",label:"Pacific/Gambier (GMT-09:00)"},{value:"Pacific/Guadalcanal",label:"Pacific/Guadalcanal (GMT+11:00)"},{value:"Pacific/Guam",label:"Pacific/Guam (GMT+10:00)"},{value:"Pacific/Honolulu",label:"Pacific/Honolulu (GMT-10:00)"},{value:"Pacific/Kanton",label:"Pacific/Kanton (GMT+13:00)"},{value:"Pacific/Kiritimati",label:"Pacific/Kiritimati (GMT+14:00)"},{value:"Pacific/Kosrae",label:"Pacific/Kosrae (GMT+11:00)"},{value:"Pacific/Kwajalein",label:"Pacific/Kwajalein (GMT+12:00)"},{value:"Pacific/Majuro",label:"Pacific/Majuro (GMT+12:00)"},{value:"Pacific/Marquesas",label:"Pacific/Marquesas (GMT-09:30)"},{value:"Pacific/Midway",label:"Pacific/Midway (GMT-11:00)"},{value:"Pacific/Nauru",label:"Pacific/Nauru (GMT+12:00)"},{value:"Pacific/Niue",label:"Pacific/Niue (GMT-11:00)"},{value:"Pacific/Norfolk",label:"Pacific/Norfolk (GMT+11:00)"},{value:"Pacific/Noumea",label:"Pacific/Noumea (GMT+11:00)"},{value:"Pacific/Pago_Pago",label:"Pacific/Pago_Pago (GMT-11:00)"},{value:"Pacific/Palau",label:"Pacific/Palau (GMT+09:00)"},{value:"Pacific/Pitcairn",label:"Pacific/Pitcairn (GMT-08:00)"},{value:"Pacific/Pohnpei",label:"Pacific/Pohnpei (GMT+11:00)"},{value:"Pacific/Port_Moresby",label:"Pacific/Port_Moresby (GMT+10:00)"},{value:"Pacific/Rarotonga",label:"Pacific/Rarotonga (GMT-10:00)"},{value:"Pacific/Saipan",label:"Pacific/Saipan (GMT+10:00)"},{value:"Pacific/Tahiti",label:"Pacific/Tahiti (GMT-10:00)"},{value:"Pacific/Tarawa",label:"Pacific/Tarawa (GMT+12:00)"},{value:"Pacific/Tongatapu",label:"Pacific/Tongatapu (GMT+13:00)"},{value:"Pacific/Wake",label:"Pacific/Wake (GMT+12:00)"},{value:"Pacific/Wallis",label:"Pacific/Wallis (GMT+12:00)"}]),p=R({get:()=>l.modelValue,set:c=>{s("update:modelValue",c),s("change",c)}});return ke(()=>{if((l.modelValue===null||l.modelValue===void 0)&&!l.disabled)try{const c=Intl.DateTimeFormat().resolvedOptions().timeZone;t.value.find(g=>g.value===c)?p.value=c:console.warn(`Detected timezone "${c}" is not in the predefined list.`)}catch(c){console.error("Error auto-detecting timezone:",c)}}),(c,b)=>(a(),o("div",Qn,[v(Z,{for:i.label.toLowerCase().replace(/\s/g,"-"),value:i.label},null,8,["for","value"]),v(ye,{id:i.label.toLowerCase().replace(/\s/g,"-"),modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=g=>p.value=g),options:t.value,valueKey:"value",labelKey:"label",placeholder:i.placeholder,disabled:i.disabled,required:i.required,class:"mt-1 block w-full"},null,8,["id","modelValue","options","placeholder","disabled","required"]),v(ie,{message:i.error,class:"mt-2"},null,8,["message"])]))}},eu={key:0,class:"text-sm text-gray-600 mb-3"},tu=["value"],au={__name:"UserDataPromptModal",props:{show:{type:Boolean,default:!1},configItem:{type:Object,required:!0}},emits:["close","submitted","error"],setup(i,{emit:n}){const l=i,s=$({value:""});oe(()=>l.show,g=>{g&&(s.value={value:""})});const t=R(()=>{var g,d;return((d=(g=l.configItem)==null?void 0:g.api)==null?void 0:d.endpoint)||"/api/user/update-profile-field"}),p=R(()=>{var g,d;return((d=(g=l.configItem)==null?void 0:g.api)==null?void 0:d.method)||"post"}),c=g=>{var r,u,m,C,y;if((r=l.configItem)!=null&&r.toPayload)return l.configItem.toPayload(g.value);const d=((m=(u=l.configItem)==null?void 0:u.api)==null?void 0:m.fieldParam)||"field",f=((y=(C=l.configItem)==null?void 0:C.api)==null?void 0:y.valueParam)||"value";return{[d]:l.configItem.column,[f]:g.value}},b=R(()=>{var g;return((g=l.configItem)==null?void 0:g.title)||"Additional Information Required"});return(g,d)=>(a(),B(Be,{show:i.show,title:b.value,"api-endpoint":t.value,"http-method":p.value,"form-data":s.value,"submit-button-text":"Save","success-message":"Saved successfully","format-data-for-api":c,onClose:d[3]||(d[3]=f=>g.$emit("close")),onSubmitted:d[4]||(d[4]=f=>g.$emit("submitted",f)),onError:d[5]||(d[5]=f=>g.$emit("error",f))},{default:k(({errors:f})=>{var r,u,m,C,y,W,D,h,w,A,M,U,Q,E;return[(r=i.configItem)!=null&&r.description?(a(),o("p",eu,P(i.configItem.description),1)):_("",!0),e("div",null,[((m=(u=i.configItem)==null?void 0:u.input)==null?void 0:m.type)==="component"&&((y=(C=i.configItem)==null?void 0:C.input)==null?void 0:y.component)==="TimezoneSelect"?(a(),o(ee,{key:0},[v(Xn,{modelValue:s.value.value,"onUpdate:modelValue":d[0]||(d[0]=I=>s.value.value=I),required:!0},null,8,["modelValue"]),v(ie,{message:(W=f==null?void 0:f.value)==null?void 0:W[0],class:"mt-2"},null,8,["message"])],64)):((h=(D=i.configItem)==null?void 0:D.input)==null?void 0:h.type)==="select"?(a(),o(ee,{key:1},[v(Z,{value:((w=i.configItem)==null?void 0:w.label)||"Select an option"},null,8,["value"]),L(e("select",{"onUpdate:modelValue":d[1]||(d[1]=I=>s.value.value=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[d[6]||(d[6]=e("option",{disabled:"",value:""},"Please select",-1)),(a(!0),o(ee,null,se(((M=(A=i.configItem)==null?void 0:A.input)==null?void 0:M.options)||[],I=>(a(),o("option",{key:I.value||I,value:I.value||I},P(I.label||I),9,tu))),128))],512),[[Ke,s.value.value]]),v(ie,{message:(U=f==null?void 0:f.value)==null?void 0:U[0],class:"mt-2"},null,8,["message"])],64)):(a(),o(ee,{key:2},[v(Z,{value:((Q=i.configItem)==null?void 0:Q.label)||"Value"},null,8,["value"]),v(xe,{modelValue:s.value.value,"onUpdate:modelValue":d[2]||(d[2]=I=>s.value.value=I),class:"mt-1 block w-full"},null,8,["modelValue"]),v(ie,{message:(E=f==null?void 0:f.value)==null?void 0:E[0],class:"mt-2"},null,8,["message"])],64))])]}),_:1},8,["show","title","api-endpoint","http-method","form-data"]))}},lu=[{id:"users.timezone",model:"users",column:"timezone",title:"Set your timezone",description:"We could not detect your timezone during login. Please select your timezone to get correct schedule times.",input:{type:"component",component:"TimezoneSelect",props:{}},api:{endpoint:"/api/user/update-profile-field",method:"post",fieldParam:"field",valueParam:"value"},isMissing:i=>!(i!=null&&i.timezone),toPayload:i=>({field:"timezone",value:i})}],su={__name:"PromptOrchestrator",setup(i){const n=$(!1),l=$(null),s=$([]),t=()=>{const f=localStorage.getItem("authToken");f&&!ae.defaults.headers.common.Authorization&&(ae.defaults.headers.common.Authorization=`Bearer ${f}`)},p=async()=>{t();const{data:f}=await ae.get("/api/user");return f},c=f=>{const r=[];for(const u of lu)try{(typeof u.isMissing=="function"?u.isMissing(f):!(f!=null&&f[u.column]))&&r.push(u)}catch(m){console.error("Error evaluating prompt config",u,m)}return r},b=()=>{if(s.value.length===0){l.value=null,n.value=!1;return}l.value=s.value.shift(),n.value=!0},g=async()=>{try{const f=await p();s.value=c(f),b()}catch(f){console.error("PromptOrchestrator initialization failed",f)}},d=async()=>{try{const f=await p();s.value=c(f)}catch{}b()};return ke(()=>{g()}),(f,r)=>l.value?(a(),B(au,{key:0,show:n.value,"config-item":l.value,onClose:b,onSubmitted:d},null,8,["show","config-item"])):_("",!0)}},ou={class:"flex h-screen overflow-hidden"},iu={class:"flex-1 flex flex-col overflow-hidden"},ru={key:0,class:"bg-white shadow"},nu={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},uu={class:"flex-1 overflow-y-auto"},Bu={__name:"AuthenticatedLayout",setup(i){const n=$(!1),l=$(!1),s=$(!1),t=$(!1),p=$([]),c=$(!0),b=R(()=>Fe().props.id||null),{showNoticeModal:g,unreadNotices:d,fetchUnreadNotices:f,closeModal:r}=Zn(),u=$(null),m=async()=>{const M=localStorage.getItem("authToken");if(M){window.axios.defaults.headers.common.Authorization=`Bearer ${M}`;try{await window.axios.get("/api/user")}catch(U){U.response&&U.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},C=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization},y=M=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},W=async()=>{c.value=!0;try{const M=await window.axios.get("/api/projects-simplified");p.value=M.data}catch(M){console.error("Error fetching all projects for sidebar:",M),p.value=[]}finally{c.value=!1}},D=M=>{Rt.visit(route("projects.show",M))},h=R(()=>Le.value.notifications.filter(M=>!M.isRead).length),w=M=>{console.log("Task updated globally.",M)},A=M=>{console.log("Task deleted globally.",M)};return ke(()=>{m(),u.value&&Lt(u.value),W(),Ft(),ct(f),f()}),At(()=>{ct(null)}),(M,U)=>(a(),o("div",ou,[v(ya,{ref_key:"standardNotificationContainerRef",ref:u},null,512),v(ca,{"sidebar-is-open":N(Le).show},null,8,["sidebar-is-open"]),v(sl),v(Bo,{"all-projects":p.value,"active-project-id":b.value,onProjectSelected:D},null,8,["all-projects","active-project-id"]),e("div",iu,[v(_i,{"unread-notification-count":h.value,onOpenCreateTaskModal:U[0]||(U[0]=Q=>l.value=!0),onOpenAddResource:U[1]||(U[1]=Q=>s.value=!0),onOpenNotificationsSidebar:N(mt),onOpenKudoModal:U[2]||(U[2]=Q=>t.value=!0)},null,8,["unread-notification-count","onOpenNotificationsSidebar"]),v(ji,{"showing-navigation-dropdown":n.value,"unread-notification-count":h.value,onOpenCreateTaskModal:U[3]||(U[3]=Q=>l.value=!0),onOpenAddResource:U[4]||(U[4]=Q=>s.value=!0),onOpenNotificationsSidebar:N(mt),onLogoutSuccess:C,onLogoutError:y},null,8,["showing-navigation-dropdown","unread-notification-count","onOpenNotificationsSidebar"]),M.$slots.header?(a(),o("header",ru,[e("div",nu,[Ae(M.$slots,"header")])])):_("",!0),e("main",uu,[Ae(M.$slots,"default")]),v(ks,{show:l.value,onClose:U[5]||(U[5]=Q=>l.value=!1),onSaved:U[6]||(U[6]=Q=>l.value=!1)},null,8,["show"]),v(Cs,{"api-endpoint":"/api/shareable-resources",show:s.value,onClose:U[7]||(U[7]=Q=>s.value=!1)},null,8,["show"]),v(so,{show:t.value,onClose:U[8]||(U[8]=Q=>t.value=!1),onSubmitted:U[9]||(U[9]=Q=>t.value=!1)},null,8,["show"])]),v(Yn,{onTaskUpdated:w,onTaskDeleted:A}),v(Xs),v(Jt,{show:N(g),unreadNotices:N(d),onClose:N(r)},null,8,["show","unreadNotices","onClose"]),v(su)]))}};export{Cs as C,Mt as R,Tt as T,Bu as _,hl as a,Xa as b,Iu as c,Eu as d,tr as e,Gu as f,ir as g,or as h,sr as i,ar as j,Xn as k,nr as l,ft as m,Li as n,Pu as o,Xi as p,ks as q,er as r,Qi as s,ju as t,lr as u,pr as v};
