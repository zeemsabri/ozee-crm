import{r as w,x,w as _,c as g,o as i,a as n,b as o,d as V,e as r,u as t,f as p,j as k,g as h,h as f,F as C,i as S,t as N,v as B,S as U,k as y,n as P}from"./app-DZKMFnH5.js";import{_ as $}from"./AuthenticatedLayout-C19xpnYd.js";import{_ as d}from"./InputError-Tcq58wKD.js";import{_ as m,a as c}from"./TextInput-CrL1XZVZ.js";import{P as q}from"./PrimaryButton-Ds_WRDSR.js";import"./ApplicationLogo-BKvC_8Gv.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"py-12"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 bg-white border-b border-gray-200"},E={class:"mb-6"},F={class:"mb-6"},T={class:"mb-6"},z={class:"mb-6"},L={class:"flex space-x-2"},W=["value"],G={class:"flex items-center justify-end mt-4"},X={__name:"Create",props:{categories:Array},setup(b){const l=w(""),e=x({name:"",slug:"",description:"",category:""});_(()=>e.category,u=>{u!=="new"&&(l.value="")});const v=()=>{e.category==="new"&&l.value&&(e.category=l.value),e.post(route("admin.permissions.store"),{onSuccess:()=>{e.reset(),l.value=""}})};return(u,s)=>(i(),g($,null,{header:n(()=>s[5]||(s[5]=[o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create New Permission ",-1)])),default:n(()=>[o("div",D,[o("div",M,[o("div",j,[o("div",A,[o("form",{onSubmit:V(v,["prevent"])},[o("div",E,[r(m,{for:"name",value:"Name"}),r(c,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(e).name,"onUpdate:modelValue":s[0]||(s[0]=a=>t(e).name=a),required:"",autofocus:""},null,8,["modelValue"]),r(d,{class:"mt-2",message:t(e).errors.name},null,8,["message"])]),o("div",F,[r(m,{for:"slug",value:"Slug (optional)"}),r(c,{id:"slug",type:"text",class:"mt-1 block w-full",modelValue:t(e).slug,"onUpdate:modelValue":s[1]||(s[1]=a=>t(e).slug=a),placeholder:"Will be auto-generated if left empty"},null,8,["modelValue"]),r(d,{class:"mt-2",message:t(e).errors.slug},null,8,["message"])]),o("div",T,[r(m,{for:"description",value:"Description (optional)"}),p(o("textarea",{id:"description",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":s[2]||(s[2]=a=>t(e).description=a),rows:"3"},null,512),[[k,t(e).description]]),r(d,{class:"mt-2",message:t(e).errors.description},null,8,["message"])]),o("div",z,[r(m,{for:"category",value:"Category"}),o("div",L,[p(o("select",{id:"category",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":s[3]||(s[3]=a=>t(e).category=a),required:""},[s[6]||(s[6]=o("option",{value:"",disabled:""},"Select a category",-1)),(i(!0),f(C,null,S(b.categories,a=>(i(),f("option",{key:a,value:a},N(a),9,W))),128)),s[7]||(s[7]=o("option",{value:"new"},"+ Add New Category",-1))],512),[[B,t(e).category]]),t(e).category==="new"?(i(),g(c,{key:0,type:"text",class:"mt-1 block w-full",modelValue:l.value,"onUpdate:modelValue":s[4]||(s[4]=a=>l.value=a),placeholder:"Enter new category name",required:""},null,8,["modelValue"])):h("",!0)]),r(d,{class:"mt-2",message:t(e).errors.category},null,8,["message"])]),o("div",G,[r(t(U),{href:u.route("admin.permissions.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-300 disabled:opacity-25 transition mr-2"},{default:n(()=>s[8]||(s[8]=[y(" Cancel ")])),_:1,__:[8]},8,["href"]),r(q,{class:P(["ml-4",{"opacity-25":t(e).processing}]),disabled:t(e).processing},{default:n(()=>s[9]||(s[9]=[y(" Create Permission ")])),_:1,__:[9]},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{X as default};
