import{r as k,x as C,m as V,q as x,o as i,w as m,a as e,y as B,e as a,f as p,k as v,u as r,c as l,F as b,i as _,t as u,H as S,v as $,A as N,g,B as A,n as E}from"./app-DMAc5kaa.js";import{_ as q}from"./AuthenticatedLayout-zEAuuEui.js";import{_ as f}from"./InputError-BxOUuPyo.js";import{_ as y}from"./InputLabel-CdW4dNrA.js";import{_ as M}from"./PrimaryButton-CWm0eNGh.js";import{_ as U}from"./TextInput-DYhQ7qsP.js";import"./Modal-CC2W7pcQ.js";import"./SecondaryButton-D6nEwMwq.js";import"./index-DTPLmqB3.js";import"./BaseFormModal-jaEcHLeL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SelectDropdown-BMRyU8H7.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./RightSidebar-BlejhfuP.js";import"./ApplicationLogo-C5bvMYH7.js";import"./MultiSelectDropdown-S5vGcGmG.js";import"./createLucideIcon-BXBjCuhn.js";import"./plus-eJ8f2iX2.js";import"./DangerButton-BW0iNeBz.js";import"./moment-BLMuvzoS.js";import"./taskState-BEw_2nz4.js";import"./NoticeboardModal-BWyDpmD1.js";import"./x-DCFOlhRU.js";const D={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 bg-white border-b border-gray-200"},j={class:"mb-6"},z={class:"flex space-x-2"},H=["value"],L={class:"mb-6"},O={class:"mb-6"},R={class:"mt-2 max-h-60 overflow-y-auto p-2 border border-gray-300 rounded-md"},G={key:0,class:"text-gray-500 text-sm"},I={key:1,class:"space-y-2"},J={class:"flex items-center h-5"},K=["id","value"],Q={class:"ml-3 text-sm"},W=["for"],X={class:"text-xs text-gray-500"},Y={key:0,class:"text-gray-500"},Z={class:"flex items-center justify-end mt-4"},Ce={__name:"BulkCreate",props:{categories:Array,roles:Array},setup(d){const n=k(""),o=C({category:"",permissions:"",roles:[]});V(()=>o.category,c=>{c!=="new"&&(n.value="")});const w=()=>{o.category==="new"&&n.value&&(o.category=n.value),o.post(route("admin.permissions.bulk-store"),{onSuccess:()=>{o.reset(),n.value=""}})};return(c,s)=>(i(),x(q,null,{header:m(()=>s[4]||(s[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Bulk Create Permissions ",-1)])),default:m(()=>[e("div",D,[e("div",F,[e("div",P,[e("div",T,[e("form",{onSubmit:B(w,["prevent"])},[e("div",j,[a(y,{for:"category",value:"Category"}),e("div",z,[p(e("select",{id:"category",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":s[0]||(s[0]=t=>r(o).category=t),required:""},[s[5]||(s[5]=e("option",{value:"",disabled:""},"Select a category",-1)),(i(!0),l(b,null,_(d.categories,t=>(i(),l("option",{key:t,value:t},u(t),9,H))),128)),s[6]||(s[6]=e("option",{value:"new"},"+ Add New Category",-1))],512),[[S,r(o).category]]),r(o).category==="new"?(i(),x(U,{key:0,type:"text",class:"mt-1 block w-full",modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=t=>n.value=t),placeholder:"Enter new category name",required:""},null,8,["modelValue"])):v("",!0)]),a(f,{class:"mt-2",message:r(o).errors.category},null,8,["message"])]),e("div",L,[a(y,{for:"permissions",value:"Permissions (one per line)"}),p(e("textarea",{id:"permissions",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":s[2]||(s[2]=t=>r(o).permissions=t),rows:"10",required:"",placeholder:`Enter one permission name per line, e.g.:
View Clients
Create Clients
Edit Clients
Delete Clients`},null,512),[[$,r(o).permissions]]),s[7]||(s[7]=e("p",{class:"mt-1 text-sm text-gray-500"}," Enter one permission name per line. Slugs will be automatically generated. ",-1)),a(f,{class:"mt-2",message:r(o).errors.permissions},null,8,["message"])]),e("div",O,[a(y,{for:"roles",value:"Assign to Roles (Optional)"}),e("div",R,[!d.roles||d.roles.length===0?(i(),l("div",G," No roles available. ")):(i(),l("div",I,[(i(!0),l(b,null,_(d.roles,t=>(i(),l("div",{key:t.id,class:"flex items-start"},[e("div",J,[p(e("input",{id:`role-${t.id}`,type:"checkbox",value:t.id,"onUpdate:modelValue":s[3]||(s[3]=h=>r(o).roles=h),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,8,K),[[N,r(o).roles]])]),e("div",Q,[e("label",{for:`role-${t.id}`,class:"font-medium text-gray-700"},[g(u(t.name)+" ",1),e("span",X,"("+u(t.type)+")",1)],8,W),t.description?(i(),l("p",Y,u(t.description),1)):v("",!0)])]))),128))]))]),s[8]||(s[8]=e("p",{class:"mt-1 text-sm text-gray-500"}," Select roles to automatically assign these permissions to them. ",-1)),a(f,{class:"mt-2",message:r(o).errors.roles},null,8,["message"])]),e("div",Z,[a(r(A),{href:c.route("admin.permissions.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-300 disabled:opacity-25 transition mr-2"},{default:m(()=>s[9]||(s[9]=[g(" Cancel ",-1)])),_:1,__:[9]},8,["href"]),a(M,{class:E(["ml-4",{"opacity-25":r(o).processing}]),disabled:r(o).processing},{default:m(()=>s[10]||(s[10]=[g(" Create Permissions ",-1)])),_:1,__:[10]},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{Ce as default};
