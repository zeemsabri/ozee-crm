import{u as f}from"./workflowStore-CMOFNtRR.js";import h from"./ConfirmModal-Cofs_yX6.js";import v from"./WorkflowLogsModal-CIjfUMTf.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as k}from"./plus-BaY8fIzd.js";import{c as p}from"./createLucideIcon-uJ1YL3gn.js";import{C}from"./circle-x-sKsWoGL1.js";import{T as $}from"./trash-C0sVKEnz.js";import{b as L,c as n,o as a,a as e,f as l,u as r,l as m,F as w,j as A,n as T,t as u,i as g}from"./app-R-i7AP1m.js";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=p("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=p("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),j={class:"max-w-5xl mx-auto space-y-8"},z={class:"flex justify-between items-center"},B={class:"bg-white rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200"},D={class:"space-y-3"},W={key:0,class:"text-sm text-gray-500 text-center py-4"},H={key:1,class:"text-sm text-gray-500 text-center py-4"},I={class:"flex items-center space-x-4"},M={class:"font-semibold text-gray-800"},P={class:"text-xs text-gray-500 flex items-center space-x-1.5"},E={key:0,class:"text-green-600 flex items-center gap-1"},F={key:1,class:"text-gray-600 flex items-center gap-1"},S={class:"flex items-center space-x-2"},X=["for"],Y={class:"relative"},q=["id","checked","onChange"],G=["onClick"],J=["onClick"],K=["onClick"],O={__name:"AutomationHub",emits:["new","edit"],setup(Q,{emit:R}){const i=f(),c=L(()=>i.workflows),x=async o=>{await i.toggleWorkflowActive(o)},y=async o=>{i.showConfirm(`Delete "${o.name}"?`,"This action cannot be undone.",async()=>{await i.deleteWorkflow(o.id)})},b=o=>{i.showLogs(o)};return(o,t)=>(a(),n("div",j,[e("div",z,[t[2]||(t[2]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Automation Hub",-1)),e("button",{onClick:t[0]||(t[0]=s=>o.$emit("new")),class:"inline-flex items-center gap-x-2 rounded-md bg-indigo-600 px-3.5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},[l(r(k),{class:"h-5 w-5"}),t[1]||(t[1]=e("span",null,"Create New Automation",-1))])]),e("div",B,[t[9]||(t[9]=e("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"My Automations",-1)),e("div",D,[!c.value.length&&!r(i).isLoading?(a(),n("p",W," You haven't created any automations yet. ")):m("",!0),r(i).isLoading?(a(),n("p",H," Loading automations... ")):m("",!0),(a(!0),n(w,null,A(c.value,s=>(a(),n("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border"},[e("div",I,[e("div",{class:T(["flex items-center justify-center w-10 h-10 rounded-full",s.is_active?"bg-green-100":"bg-gray-200"])},t[3]||(t[3]=[e("span",{class:"text-xl"},"ðŸ¤–",-1)]),2),e("div",null,[e("p",M,u(s.name),1),e("p",P,[s.is_active?(a(),n("span",E,[l(r(V),{class:"h-4 w-4"}),t[4]||(t[4]=g(" Active",-1))])):(a(),n("span",F,[l(r(C),{class:"h-4 w-4"}),t[5]||(t[5]=g(" Inactive",-1))])),t[6]||(t[6]=e("span",{class:"text-gray-400"},"â€¢",-1)),e("span",null,"Trigger: "+u(s.trigger_event),1)])])]),e("div",S,[e("label",{for:`toggle-${s.id}`,class:"flex items-center cursor-pointer"},[e("div",Y,[e("input",{type:"checkbox",id:`toggle-${s.id}`,class:"sr-only",checked:s.is_active,onChange:d=>x(s)},null,40,q),t[7]||(t[7]=e("div",{class:"block bg-gray-300 w-12 h-6 rounded-full"},null,-1)),t[8]||(t[8]=e("div",{class:"dot absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition"},null,-1))])],8,X),e("button",{onClick:d=>b(s),class:"px-2 py-1 text-xs rounded-md border text-gray-600 hover:bg-gray-100",title:"View Logs"}," Logs ",8,G),e("button",{onClick:d=>o.$emit("edit",s.id),class:"p-2 text-gray-500 hover:text-indigo-600 rounded-md hover:bg-gray-100",title:"Edit"},[l(r(N),{class:"h-4 w-4"})],8,J),e("button",{onClick:d=>y(s),class:"p-2 text-gray-500 hover:text-red-600 rounded-md hover:bg-gray-100",title:"Delete"},[l(r($),{class:"h-4 w-4"})],8,K)])]))),128))])]),l(h),l(v)]))}},le=_(O,[["__scopeId","data-v-c3bc8126"]]);export{le as default};
