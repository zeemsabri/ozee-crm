import{_ as W}from"./AuthenticatedLayout-CQl1tDqT.js";import{r as l,f as G,e as H,H as J,a as Z,o as S,b as t,v as x,G as q,x as P,z as L,t as B,F as Q,g as X,w as U,d as V,u as tt,h as et}from"./app-D1j92mid.js";import"./auto-BIBwKD9g.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as $}from"./chart-DUfl3Dpl.js";import"./PrimaryButton-DKgcIZwH.js";import"./Modal-B1MgeQ1l.js";import"./InputLabel-DBtfOcRr.js";import"./InputError-DCNp6dZp.js";import"./SecondaryButton-Ba_LFbiX.js";import"./index-DZskEl6X.js";import"./BaseFormModal-D1HySJI3.js";import"./TextInput-BXe6p22v.js";import"./SelectDropdown-DUuuX2sh.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./ApplicationLogo-DKKTvJsW.js";import"./createLucideIcon-Dx2LDjmw.js";import"./plus-BO7zRjwX.js";import"./DangerButton-C7ZQVatA.js";import"./moment-BLMuvzoS.js";import"./NoticeboardModal-C0wQpXH0.js";const ot={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start"},st={class:"bg-white rounded-xl shadow-xl p-6 order-1 lg:order-2"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},at={class:"flex items-center mt-6 col-span-1 md:col-span-2"},nt={class:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6 text-center"},rt={class:"p-4 bg-gray-100 rounded-lg shadow-inner"},dt={class:"text-3xl font-bold text-[#2E2E2E] mt-2"},it={class:"p-4 bg-gray-100 rounded-lg shadow-inner"},ct={class:"text-3xl font-bold text-[#2E2E2E] mt-2"},ut={class:"bg-white rounded-xl shadow-xl p-6 order-2 lg:order-1"},mt={class:"text-2xl font-bold text-center mb-4"},pt={class:"text-gray-600 text-center mb-4"},bt={class:"chart-container"},xt={class:"bg-white rounded-xl shadow-xl p-6 mt-8"},ft={class:"chart-container"},gt={__name:"PMPayoutCalculator",setup(N){const f=l(3e4),s=l(13e3),y=l(5),v=l(5),h=l(!0),m=l("pm"),E=l(0),_=l(0),T=l(null),A=l(null);let d=null,p=null;const a={blue:"#00A6ED",green:"#72C544",yellow:"#FFB400"},F=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:0}).format(i),k=l("My Earning Breakdown"),C=l("This chart shows how your total potential payout is composed, with all payouts distributed at the end of the project."),D=()=>{const i=parseFloat(f.value)||0,e=parseFloat(s.value)||0,o=parseInt(y.value)||0,M=parseInt(v.value)||0,j=h.value,g=i*.1,w=e;let n=0;o>0&&(n=e/o*.05*M);const r=e*.05,c=i-(g+w+n+r);let b=0,u=0;j&&c>0&&(b=c*.2,u=c*.2);const O=g+n+b,z=w+r,I=u;E.value=O.toFixed(0),_.value=I.toFixed(0),m.value==="pm"?(k.value="My PM Earning Breakdown",C.value="This chart shows how my total potential payout as a Project Manager is composed, with all payouts distributed at the end of the project."):(k.value="My PA Earning Breakdown",C.value="This chart shows how my total potential payout as a Project Admin is composed, with all payouts distributed at the end of the project."),Y({pmBase:g,pmPerformanceBonus:n,pmOnTimeBonus:b,paOnTimeBonus:u,totalContractorPayout:z,totalPmPayout:O,totalPaPayout:I})},R=function(i){const e=i[0];let o=e.chart.data.labels[e.dataIndex];return Array.isArray(o)?o.join(" "):o},Y=({pmBase:i,pmPerformanceBonus:e,pmOnTimeBonus:o,paOnTimeBonus:M,totalContractorPayout:j,totalPmPayout:g,totalPaPayout:w})=>{if(T.value){const n=m.value==="pm"?["Base Allocation","Milestone Bonus","On-Time Bonus"]:["On-Time Delivery Bonus"],r=m.value==="pm"?[i,e,o]:[M],c=m.value==="pm"?[a.blue,a.yellow,a.green]:[a.green];d?(d.data.labels=n,d.data.datasets[0].data=r,d.data.datasets[0].backgroundColor=c,d.update()):d=new $(T.value,{type:"doughnut",data:{labels:n,datasets:[{label:"My Payout",data:r,backgroundColor:c,borderColor:"#ffffff",borderWidth:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{title:R,label:function(b){let u=b.label||"";return u&&(u+=": "),b.parsed!==null&&(u+=F(b.parsed)),u}}}},cutout:"60%"}})}if(A.value){const n=[j,g,w];p?(p.data.datasets[0].data=n,p.update()):p=new $(A.value,{type:"bar",data:{labels:["Total Contractor Payout","Total PM Payout","PA On-Time Bonus"],datasets:[{label:"Payout by Role (PKR)",data:n,backgroundColor:[a.blue,a.green,a.yellow],borderColor:[a.blue,a.green,a.yellow],borderWidth:1}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{title:R,label:function(r){let c=" Payout: ";return r.parsed.x!==null&&(c+=F(r.parsed.x)),c}}}},scales:{x:{beginAtZero:!0,ticks:{callback:function(r){return"PKR "+r/1e3+"k"}}}}}})}};return G(()=>{D()}),H([f,s,y,v,h,m],()=>{D()}),J(()=>{d&&(d.destroy(),d=null),p&&(p.destroy(),p=null)}),(i,e)=>(S(),Z(Q,null,[t("section",ot,[t("div",st,[e[15]||(e[15]=t("h2",{class:"text-3xl font-bold text-center mb-6"},"Your Earnings Calculator",-1)),e[16]||(e[16]=t("p",{class:"text-gray-600 text-center mb-8 max-w-2xl mx-auto"},"Use this tool to forecast your potential earnings. Adjust the numbers below to see how your payouts change based on project success and efficiency.",-1)),t("div",lt,[t("div",null,[e[7]||(e[7]=t("label",{for:"userRole",class:"block font-semibold text-sm mb-2 text-gray-700"},"Select Your Role",-1)),x(t("select",{id:"userRole","onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o),class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00A6ED]"},e[6]||(e[6]=[t("option",{value:"pm"},"Project Manager (PM)",-1),t("option",{value:"pa"},"Project Admin (PA)",-1)]),512),[[q,m.value]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"projectBudget",class:"block font-semibold text-sm mb-2 text-gray-700"},"Total Project Budget (PB)",-1)),x(t("input",{type:"number",id:"projectBudget","onUpdate:modelValue":e[1]||(e[1]=o=>f.value=o),class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00A6ED]"},null,512),[[P,f.value,void 0,{number:!0}]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"milestoneBudget",class:"block font-semibold text-sm mb-2 text-gray-700"},"Total Milestone Budgets",-1)),x(t("input",{type:"number",id:"milestoneBudget","onUpdate:modelValue":e[2]||(e[2]=o=>s.value=o),class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00A6ED]"},null,512),[[P,s.value,void 0,{number:!0}]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"numMilestones",class:"block font-semibold text-sm mb-2 text-gray-700"},"Total Number of Milestones",-1)),x(t("input",{type:"number",id:"numMilestones","onUpdate:modelValue":e[3]||(e[3]=o=>y.value=o),class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FFB400]"},null,512),[[P,y.value,void 0,{number:!0}]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"milestonesOnTime",class:"block font-semibold text-sm mb-2 text-gray-700"},"Milestones Completed On Time",-1)),x(t("input",{type:"number",id:"milestonesOnTime","onUpdate:modelValue":e[4]||(e[4]=o=>v.value=o),class:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#72C544]"},null,512),[[P,v.value,void 0,{number:!0}]])]),t("div",at,[x(t("input",{type:"checkbox",id:"onTimeCheck","onUpdate:modelValue":e[5]||(e[5]=o=>h.value=o),class:"form-checkbox text-[#00A6ED] h-5 w-5 rounded"},null,512),[[L,h.value]]),e[12]||(e[12]=t("label",{for:"onTimeCheck",class:"ml-2 font-semibold text-sm text-gray-700"},"Final Project Finished On Time?",-1))])]),t("div",nt,[t("div",rt,[e[13]||(e[13]=t("p",{class:"font-bold text-lg text-[#00A6ED]"},"PM's Potential Payout",-1)),t("p",dt,"PKR "+B(E.value),1)]),t("div",it,[e[14]||(e[14]=t("p",{class:"font-bold text-lg text-[#FFB400]"},"PA's Potential Payout",-1)),t("p",ct,"PKR "+B(_.value),1)])])]),t("div",ut,[t("h3",mt,B(k.value),1),t("p",pt,B(C.value),1),t("div",bt,[t("canvas",{ref_key:"myPayoutCanvas",ref:T},null,512)])])]),t("section",xt,[e[17]||(e[17]=t("h3",{class:"text-2xl font-bold text-center mb-4"},"Total Payout Distribution",-1)),e[18]||(e[18]=t("p",{class:"text-gray-600 text-center mb-4"},"This chart visualizes how the total project payouts are distributed among all key roles.",-1)),t("div",ft,[t("canvas",{ref_key:"totalDistributionCanvas",ref:A},null,512)])])],64))}},yt=K(gt,[["__scopeId","data-v-6f4f95fe"]]),vt={class:"py-8"},ht={class:"max-w-12xl mx-auto sm:px-6 lg:px-8"},wt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Pt={class:"p-6 text-gray-900"},Bt={class:"container mx-auto p-4 md:p-8"},Tt={class:"space-y-16"},At={__name:"Index",setup(N){return(f,s)=>(S(),X(W,null,{header:U(()=>s[0]||(s[0]=[t("div",{class:"flex items-center justify-between"},[t("h2",{class:"font-semibold text-2xl text-gray-800"},"PM Payout Calculator")],-1)])),default:U(()=>[V(tt(et),{title:"PM Payout Calculator"}),t("div",vt,[t("div",ht,[t("div",wt,[t("div",Pt,[t("div",Bt,[s[4]||(s[4]=t("header",{class:"text-center mb-12"},[t("h1",{class:"text-4xl md:text-5xl font-extrabold text-[#2E2E2E] mb-2"},"Your Project Incentive System"),t("p",{class:"text-lg text-gray-600 max-w-3xl mx-auto"},"A focused overview and calculator for Project Managers and Project Admins to understand and forecast their earnings based on a fixed Project Budget (PB).")],-1)),t("main",Tt,[s[1]||(s[1]=t("section",{class:"text-center bg-white rounded-xl shadow-2xl p-8"},[t("h2",{class:"text-2xl font-bold text-[#00A6ED] mb-2"},"Total Project Budget (PB)"),t("p",{class:"text-gray-600 mb-4"},"All payouts and bonuses are calculated from a single, fixed budget. The example below shows a common scenario."),t("div",{class:"text-7xl font-black text-[#2E2E2E]"}," PKR 30,000 ")],-1)),V(yt),s[2]||(s[2]=t("section",{class:"mt-16"},[t("h2",{class:"text-3xl font-bold text-center mb-8"},"The Journey to Payout"),t("div",{class:"flex flex-col md:flex-row items-center justify-center space-y-8 md:space-y-0 md:space-x-8"},[t("div",{class:"flex flex-col items-center"},[t("div",{class:"text-center p-6 flow-card-bg rounded-xl shadow-md flow-card-border"},[t("h4",{class:"font-bold text-lg text-[#00A6ED]"},"1. Project Begins"),t("p",{class:"text-gray-600 mt-2"},"All payouts are set to be accrued, with final distribution at the end of the project.")]),t("div",{class:"md:hidden mt-4 flow-connector"})]),t("div",{class:"hidden md:block flow-connector"}),t("div",{class:"flex flex-col items-center"},[t("div",{class:"text-center p-6 flow-card-bg rounded-xl shadow-md flow-card-border"},[t("h4",{class:"font-bold text-lg text-[#00A6ED]"},"2. Milestones Completed"),t("p",{class:"text-gray-600 mt-2"},"PM and Contractors accrue their 5% bonuses as each milestone is approved.")]),t("div",{class:"md:hidden mt-4 flow-connector"})]),t("div",{class:"hidden md:block flow-connector"}),t("div",{class:"flex flex-col items-center"},[t("div",{class:"text-center p-6 flow-card-bg rounded-xl shadow-md flow-card-border"},[t("h4",{class:"font-bold text-lg text-[#00A6ED]"},"3. On-Time Delivery?"),t("p",{class:"text-gray-600 mt-2"},"The final payouts depend on whether the project is completed by the deadline.")]),t("div",{class:"md:hidden mt-4 flow-connector"})]),t("div",{class:"hidden md:block flow-connector"}),t("div",{class:"flex flex-col items-center space-y-4"},[t("div",{class:"text-center p-4 flow-card-bg rounded-lg shadow-md flow-card-success-border"},[t("h4",{class:"font-bold text-lg text-[#72C544]"},"Yes: Full Payout"),t("p",{class:"text-gray-600"},"PM & PA get their 20% bonus. All payouts are distributed.")]),t("div",{class:"text-center p-4 flow-card-bg rounded-lg shadow-md flow-card-fail-border"},[t("h4",{class:"font-bold text-lg text-[#F2545B]"},"No: Partial Payout"),t("p",{class:"text-gray-600"},"The on-time bonuses are not paid out. All other payouts are distributed.")])])])],-1)),s[3]||(s[3]=t("section",{class:"mt-16"},[t("h2",{class:"text-3xl font-bold text-center mb-8"},"Payout Scenarios"),t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8"},[t("div",{class:"bg-white rounded-xl shadow-xl p-6 text-center border-t-4 flow-card-success-border"},[t("div",{class:"text-5xl mb-4"},"💰"),t("h3",{class:"text-2xl font-bold mb-2"},"Full Payout"),t("p",{class:"text-gray-600"},"This occurs when all project milestones are completed successfully and the project is delivered on or before the deadline. All bonuses are paid.")]),t("div",{class:"bg-white rounded-xl shadow-xl p-6 text-center border-t-4 flow-card-fail-border"},[t("div",{class:"text-5xl mb-4"},"😥"),t("h3",{class:"text-2xl font-bold mb-2"},"Partial Payout"),t("p",{class:"text-gray-600"},"A partial payout happens if the project is completed but is delivered late. The PM and PA do not receive their 20% on-time completion bonus.")]),t("div",{class:"bg-white rounded-xl shadow-xl p-6 text-center border-t-4 border-[#FFB400]"},[t("div",{class:"text-5xl mb-4"},"❌"),t("h3",{class:"text-2xl font-bold mb-2"},"No Payout"),t("p",{class:"text-gray-600"},"A team member receives no bonus if their specific conditions aren't met, such as a contractor's work being rejected or the project being canceled entirely.")])])],-1))])])])])])])]),_:1}))}},Zt=K(At,[["__scopeId","data-v-d3f0262b"]]);export{Zt as default};
