import{r as p,l as b,b as ke,m as z,c as l,o as n,e as F,u as je,h as De,w as E,a as e,Z as Ae,k,t as i,f as G,F as w,i as j,H as Se,v as ne,n as L,g as _,j as K}from"./app-DHObBZ9c.js";import{_ as Me}from"./AuthenticatedLayout-BcJ1gv5Q.js";import{C as ie}from"./CustomMultiSelect-CqsbNgTN.js";import{_ as Te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./PrimaryButton-CMuZWa9N.js";import"./Modal-CnjNBWod.js";import"./InputLabel-BHpLP9qY.js";import"./InputError-BKy5ap8n.js";import"./SecondaryButton-Th0NQ-wV.js";import"./index-CCWli2NZ.js";import"./BaseFormModal-DZJnzZ5U.js";import"./TextInput-Cnz1aj01.js";import"./SelectDropdown-CPLyGcRc.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./ApplicationLogo-Bf4g2w5U.js";import"./MultiSelectDropdown-BiEeMc7I.js";import"./createLucideIcon-C2r74J4U.js";import"./plus-BdelaFVR.js";import"./DangerButton-DRA4Va7w.js";import"./moment-BLMuvzoS.js";import"./NoticeboardModal-DTzEU-Pc.js";const Le={class:"py-10"},Ce={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$e={key:0,class:"fixed top-4 right-4 z-50 transform transition-all duration-300"},Ie={class:"bg-gray-900 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3"},Be={class:"text-xs text-gray-300"},Pe={class:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4"},Ue={class:"flex items-center bg-white p-1 rounded-lg shadow-sm border border-gray-200 overflow-visible max-w-full gap-2"},Fe={class:"flex items-center gap-2"},He=["value"],Ve={key:0,class:"flex items-center gap-2 text-xs text-gray-600"},Oe={class:"min-w-[220px]"},Ne={class:"min-w-[220px]"},Re={class:"flex bg-gray-200 p-1 rounded-lg"},ze={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ee={class:"lg:col-span-2"},Ge={key:0,class:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100"},Ke={class:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50"},We={class:"text-lg font-semibold text-gray-800"},Ye={class:"overflow-x-auto"},qe={class:"w-full text-left border-collapse"},Ze={class:"bg-gray-50 text-gray-600 text-xs uppercase tracking-wider border-b border-gray-100"},Je={class:"block text-[10px] text-gray-400 font-normal"},Qe={class:"divide-y divide-gray-100 text-sm"},Xe={class:"px-6 py-4 font-medium text-gray-900 flex items-center gap-3 sticky left-0 bg-white group-hover:bg-gray-50 transition-colors z-10 border-r border-gray-100"},et={class:"relative"},tt=["src"],st={key:0,class:"absolute -top-1 -right-1 flex h-3 w-3"},at={class:"flex justify-center"},rt=["innerHTML"],ot={key:1,class:"space-y-6"},lt={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-2 px-1 gap-4"},nt={class:"flex items-center gap-2 text-sm text-gray-600 bg-white p-1.5 rounded-lg border border-gray-200 shadow-sm"},it={key:0,class:"bg-white rounded-xl shadow-sm p-12 text-center border border-gray-100"},dt={key:1,class:"space-y-6"},ut={class:"bg-gray-50 px-5 py-3 border-b border-gray-200 flex justify-between items-center"},ct={class:"font-bold text-gray-800 text-lg flex items-center gap-2"},mt={class:"text-xs font-normal text-gray-500 bg-white border border-gray-200 px-2 py-0.5 rounded-full"},gt={class:"text-xs text-gray-500"},pt={class:"divide-y divide-gray-100"},vt={class:"flex items-start gap-4"},ft=["src"],yt={class:"flex-grow"},xt={class:"flex justify-between items-center mb-2"},ht={class:"flex items-center gap-2"},bt={class:"font-bold text-gray-900 text-sm"},wt={class:"text-xs text-gray-500"},_t={key:0,class:"text-yellow-600 bg-yellow-50 px-1.5 rounded font-bold text-[10px]"},kt=["innerHTML"],jt={key:0,class:"mt-3"},Dt={href:"#",class:"inline-flex items-center gap-1.5 px-2 py-1 rounded bg-gray-50 border border-gray-200 text-[11px] font-medium text-gray-600 hover:border-indigo-300 hover:text-indigo-600 transition-colors"},At={key:2,class:"space-y-4"},St={class:"flex justify-between items-start mb-3"},Mt={class:"flex items-center gap-3"},Tt=["src"],Lt={class:"font-bold text-gray-900"},Ct={class:"text-xs text-gray-500 flex items-center gap-2 mt-0.5"},$t={class:"bg-gray-100 px-1.5 py-0.5 rounded text-gray-600 font-medium"},It={key:0,class:"text-yellow-600 bg-yellow-50 px-1.5 rounded font-bold text-[10px]"},Bt=["innerHTML"],Pt={key:0,class:"mt-4 pl-10 ml-3"},Ut={href:"#",class:"inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-md bg-gray-50 border border-gray-200 text-xs text-gray-600 hover:border-indigo-300 hover:text-indigo-600 transition-colors"},Ft={class:"space-y-6"},Ht={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},Vt={class:"space-y-4"},Ot={class:"flex items-center gap-3"},Nt=["src"],Rt={class:"text-sm"},zt={class:"font-semibold text-gray-900"},Et={class:"text-xs text-gray-500"},Gt=["onClick"],Kt={key:0,class:"bg-red-50 rounded-xl shadow-sm p-5 border border-red-100"},Wt={class:"flex items-start gap-3"},Yt={class:"w-full"},qt={class:"space-y-2"},Zt={class:"text-sm font-semibold text-gray-800"},Jt={class:"text-[10px] text-gray-500"},Qt={class:"bg-white rounded-xl shadow-md p-6 border border-gray-100"},Xt={class:"space-y-5"},es={class:"flex justify-between text-xs mb-1.5"},ts={class:"font-bold text-gray-900"},ss={class:"w-full bg-gray-100 rounded-full h-2"},as={class:"flex justify-between text-xs mb-1.5"},rs={class:"font-bold text-gray-900"},os={class:"w-full bg-gray-100 rounded-full h-2"},ls={class:"flex justify-between text-xs mb-1.5"},ns={class:"font-bold text-gray-900"},is={class:"w-full bg-gray-100 rounded-full h-2"},ds={__name:"TeamPulseDashboard",setup(us){const C=p("matrix"),$=p("user"),d=p({range:"7",startDate:null,endDate:null}),x=p([]),v=p([]),H=p({show:!1,message:""}),h=p([]),D=p([]),N=p([]),f=p(null),M=p(null),A=p({filters:!1,feed:!1,matrix:!1,stats:!1}),g=p({filters:"",feed:"",matrix:"",stats:""}),I=p([]),W=[{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"7",label:"Last 7 Days"},{value:"14",label:"Last 14 Days"},{value:"30",label:"Last 30 Days"},{value:"custom",label:"Custom range"}],Y=b(()=>{const t=d.value.range,s=W.find(a=>a.value===t);return t==="custom"?d.value.startDate&&d.value.endDate?`${d.value.startDate} ‚Üí ${d.value.endDate}`:(s==null?void 0:s.label)||"Custom range":(s==null?void 0:s.label)||"Last 7 Days"}),de=b(()=>(D.value||[]).map(t=>({id:t.id??t.project_id,name:t.name??t.project_name??"Project"}))),ue=b(()=>(h.value||[]).map(t=>({id:t.id??t.user_id,name:t.name??t.user_name??"User"}))),R=()=>{const t={};return d.value.range&&(t.range=d.value.range),d.value.range==="custom"&&(d.value.startDate&&(t.start_date=d.value.startDate),d.value.endDate&&(t.end_date=d.value.endDate)),x.value.length===1?t.project_id=x.value[0]:x.value.length>1&&(t.project_ids=x.value.join(",")),v.value.length===1?t.user_id=v.value[0]:v.value.length>1&&(t.user_ids=v.value.join(",")),t},ce=async()=>{try{const{data:t}=await window.axios.get("/api/projects-simplified");D.value=Array.isArray(t)?t:[]}catch{g.value.filters=g.value.filters||"Failed to load projects"}},q=async()=>{try{const{data:t}=await window.axios.get("/api/users"),s=Array.isArray(t)?t:[];I.value=s,h.value=s}catch{g.value.filters=g.value.filters||"Failed to load users"}},me=async(t=[])=>{if(!t.length){await q();return}try{const s=new Map;await Promise.all(t.map(async r=>{const{data:o}=await window.axios.get(`/api/projects/${r}/users`);(Array.isArray(o)?o:[]).forEach(c=>{const y=c.id??c.user_id;s.has(y)||s.set(y,c)})}));const a=Array.from(s.values());h.value=a,I.value.length||(I.value=a)}catch{g.value.filters=g.value.filters||"Failed to load project users",I.value.length&&(h.value=I.value)}},ge=async()=>{A.value.filters=!0,g.value.filters="";try{const{data:t}=await window.axios.get("/api/standups/analytics/filters");h.value=Array.isArray(t==null?void 0:t.users)?t.users:[],D.value=Array.isArray(t==null?void 0:t.projects)?t.projects:[],t!=null&&t.defaultRange&&(d.value.range=String(t.defaultRange)),D.value.length||await ce(),await q()}catch{g.value.filters="Failed to load filters"}finally{A.value.filters=!1}},Z=async()=>{A.value.feed=!0,g.value.feed="";try{const{data:t}=await window.axios.get("/api/standups/analytics/feed",{params:R()}),s=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];N.value=s.map((a,r)=>{var o,c;return{id:a.id??`feed-${r}`,userId:a.user_id??a.userId??((o=a.user)==null?void 0:o.id)??null,projectId:a.project_id??a.projectId??((c=a.project)==null?void 0:c.id)??null,createdAt:a.created_at??a.createdAt??new Date().toISOString(),content:a.content??"",hasBlocker:!!(a.has_blocker??a.hasBlocker??a.blocker),taskId:a.task_id??a.taskId??null}})}catch{g.value.feed="Failed to load feed"}finally{A.value.feed=!1}},J=async()=>{A.value.matrix=!0,g.value.matrix="";try{const{data:t}=await window.axios.get("/api/standups/analytics/matrix",{params:R()});f.value=t||null,Array.isArray(t==null?void 0:t.users)&&!h.value.length&&(h.value=t.users),Array.isArray(t==null?void 0:t.projects)&&!D.value.length&&(D.value=t.projects)}catch{g.value.matrix="Failed to load matrix"}finally{A.value.matrix=!1}},Q=async()=>{A.value.stats=!0,g.value.stats="";try{const{data:t}=await window.axios.get("/api/standups/analytics/stats",{params:R()});M.value=t||null}catch{g.value.stats="Failed to load stats"}finally{A.value.stats=!1}},pe=async()=>{await Promise.all([ge(),Z(),J(),Q()])};ke(()=>{pe()});const X=()=>{Z(),J(),Q()};z(d,X,{deep:!0}),z([x,v],X,{deep:!0}),z(x,async t=>{await me(t)},{deep:!0});const ee=t=>{const s=new Date(t),a=Math.floor((new Date-s)/(1e3*60*60));return a<24?s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):a<48?"Yesterday":s.toLocaleDateString("en-US",{month:"short",day:"numeric"})},V=t=>new Date(t).getHours()>=10,te=t=>{const s=new Date(t),r=new Date-s,o=Math.floor(r/(1e3*60*60*24));return o===0?"today":o===1?"yesterday":o<7?`${o} days ago`:o<30?`${Math.floor(o/7)} weeks ago`:`${Math.floor(o/30)} months ago`},S=b(()=>N.value.filter(t=>!(x.value.length&&!x.value.includes(t.projectId)||v.value.length&&!v.value.includes(t.userId)))),ve=b(()=>{const t={};return S.value.forEach(s=>{t[s.projectId]||(t[s.projectId]={projectId:s.projectId,projectName:re(s.projectId).name,items:[]}),t[s.projectId].items.push(s)}),Object.values(t).sort((s,a)=>{var c,y;const r=((c=s.items[0])==null?void 0:c.createdAt)||0,o=((y=a.items[0])==null?void 0:y.createdAt)||0;return new Date(o)-new Date(r)})}),se=b(()=>{var a;if(Array.isArray((a=f.value)==null?void 0:a.headers)&&f.value.headers.length)return f.value.headers.map(r=>({name:r.name??r.label??r.date??"",date:r.display??r.pretty??r.date??"",full:r.full??r.value??r.date??"",isWeekend:!!(r.isWeekend??r.is_weekend)}));const t=parseInt(d.value.range||"7"),s=[];for(let r=0;r<t;r++){const o=new Date;o.setDate(o.getDate()-r),s.push({name:o.toLocaleDateString("en-US",{weekday:"short"}),date:o.toLocaleDateString("en-US",{month:"short",day:"numeric"}),full:o.toISOString().split("T")[0],isWeekend:o.getDay()===0||o.getDay()===6})}return s.reverse()}),fe=b(()=>{var s;const t=Array.isArray((s=f.value)==null?void 0:s.rows)&&f.value.rows.length?f.value.rows:h.value;return v.value.length?t.filter(a=>v.value.includes(a.id??a.user_id)):t}),ae=b(()=>(D.value||[]).filter(t=>t.is_ghost||t.ghost||t.id===103).map(t=>({...t,lastActivity:t.last_standup?te(t.last_standup):te(t.lastStandup||new Date().toISOString())}))),ye=b(()=>[...h.value||[]].map(t=>({...t,streak:t.streak??t.streak_days??0})).sort((t,s)=>(s.streak??0)-(t.streak??0)).slice(0,5)),T=b(()=>{if(M.value)return{completion:Math.round(M.value.completion??0),onTime:Math.round(M.value.on_time??M.value.onTime??0),blockerRatio:Math.round(M.value.blocker_ratio??M.value.blockerRatio??0)};const t=S.value.length;if(t===0)return{completion:0,onTime:0,blockerRatio:0};const s=S.value.filter(r=>V(r.createdAt)).length,a=S.value.filter(r=>r.hasBlocker).length;return{completion:85,onTime:Math.round((t-s)/t*100),blockerRatio:Math.round(a/t*100)}}),B=t=>String(t??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),xe=t=>{var a,r,o,c;if(!t||typeof t!="string")return{date:"",yesterday:"",today:"",blockers:""};if(!/<\/p>|<br\s*\/?>/i.test(t)){const y=t.match(/\*\*Daily Standup - ([^*]+)\*\*/)||t.match(/\*\*Daily Standup\s*-\s*([^\n*]+)\s*\*\*/)||t.match(/\*\*Daily Standup\*\*\s*-?\s*([^\n*]+)/),m=t.match(/\*\*Yesterday:\*\*\s*([^*]+?)(?=\s*\*\*Today:|\s*\*\*Blockers:|$)/i),u=t.match(/\*\*Today:\*\*\s*([^*]+?)(?=\s*\*\*Blockers:|$)/i),U=t.match(/\*\*Blockers:\*\*\s*([^*]+)$/i);return{date:y&&((a=y[1])==null?void 0:a.trim())||"",yesterday:m&&((r=m[1])==null?void 0:r.trim())||"",today:u&&((o=u[1])==null?void 0:o.trim())||"",blockers:U&&((c=U[1])==null?void 0:c.trim())||""}}return{date:"",yesterday:"",today:"",blockers:""}},P=t=>{var r;const a=(Array.isArray((r=f.value)==null?void 0:r.rows)&&f.value.rows.length?f.value.rows:h.value).find(o=>(o.id??o.user_id)===t);return a?{id:a.id??a.user_id,name:a.name??a.user_name??"Unknown",avatar:a.avatar??a.photo??"",streak:a.streak??a.streak_days??0}:{name:"Unknown",avatar:""}},re=t=>D.value.find(a=>(a.id??a.project_id)===t)||{name:"General"},oe=t=>{if(!t)return"";if(/<[a-z][\s\S]*>/i.test(t))return t;const s=xe(t);if(!s.yesterday&&!s.today&&!s.blockers){const r=t.replace(/\*\*(.*?)\*\*/g,"$1");return`<p>${B(r)}</p>`}const a=[];return s.date&&a.push(`<p class="text-xs text-gray-500 font-medium mb-1">${B(s.date)}</p>`),a.push(`<p class="mb-1"><strong>Yesterday:</strong> ${B(s.yesterday||"Nothing")}</p>`,`<p class="mb-1"><strong>Today:</strong> ${B(s.today||"Nothing")}</p>`,`<p class="mb-1"><strong>Blockers:</strong> ${B(s.blockers||"None")}</p>`),a.join("")},he=(t,s)=>{var y;const a=new Date(s),r=a.getDay()===0||a.getDay()===6,o=(((y=f.value)==null?void 0:y.rows)||[]).find(m=>(m.id??m.user_id)===t);if(o&&Array.isArray(o.statuses)){const m=o.statuses.find(u=>(u.date??u.full??u.day)===s);if(m){const u=String(m.status??m.value??"").toLowerCase(),U=m.submitted_at??m.time??null,O=U?new Date(U).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):"";if(u==="on_time"||u==="ontime"||u==="present")return`<div class="mx-auto w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center cursor-help text-xs" title="${O?`Submitted at ${O}`:"On time"}">‚úì</div>`;if(u==="late")return`<div class="mx-auto w-6 h-6 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center cursor-help text-xs" title="${O?`Late: ${O}`:"Late"}">‚ö†Ô∏è</div>`;if(u==="off"||u==="leave")return'<div class="mx-auto w-6 h-6 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center text-[10px]" title="On Leave">OFF</div>';if(u==="missed"||u==="absent")return'<div class="mx-auto w-6 h-6 rounded-full bg-red-100 text-red-600 flex items-center justify-center cursor-help text-xs" title="Missed Standup">‚úï</div>'}}const c=N.value.find(m=>{const u=new Date(m.createdAt).toISOString().split("T")[0];return m.userId===t&&u===s});if(c){const u=new Date(c.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return V(c.createdAt)?`<div class="mx-auto w-6 h-6 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center cursor-help text-xs" title="Late: Submitted at ${u}">‚ö†Ô∏è</div>`:`<div class="mx-auto w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center cursor-help text-xs" title="Submitted at ${u}">‚úì</div>`}return r?'<span class="text-gray-300 text-xs">-</span>':'<div class="mx-auto w-6 h-6 rounded-full bg-red-100 text-red-600 flex items-center justify-center cursor-help text-xs" title="Missed Standup">‚úï</div>'},le=t=>{H.value={show:!0,message:t},setTimeout(()=>H.value.show=!1,3e3)},be=t=>{le(`Kudo sent to ${t.name} for their ${t.streak} day streak!`)},we=()=>{const t=S.value.map(s=>{const a=new Date(s.createdAt).toLocaleDateString("en-US"),r=s.content.replace(/<[^>]*>?/gm,"");return`${P(s.userId).name} (${a}): 
${r}`}).join(`
---
`);navigator.clipboard.writeText(t).then(()=>{le(`Copied ${S.value.length} standups to clipboard`)})},_e=()=>{d.value={range:"7",project:"all",member:"all"}};return(t,s)=>(n(),l(w,null,[F(je(De),{title:"Team Pulse Dashboard"}),F(Me,null,{header:E(()=>s[9]||(s[9]=[e("div",{class:"flex items-center justify-between"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Team Pulse"),e("div",{class:"flex items-center gap-4"},[e("div",{class:"text-sm text-gray-500 flex items-center gap-2"},[e("span",{class:"w-2 h-2 rounded-full bg-green-500"}),_(" Live Data ")])])],-1)])),default:E(()=>[e("div",Le,[e("div",Ce,[F(Ae,{name:"fade"},{default:E(()=>[H.value.show?(n(),l("div",$e,[e("div",Ie,[s[11]||(s[11]=e("span",{class:"text-green-400 text-xl"},"‚úì",-1)),e("div",null,[s[10]||(s[10]=e("h4",{class:"font-bold text-sm"},"Success",-1)),e("p",Be,i(H.value.message),1)])])])):k("",!0)]),_:1}),e("div",Pe,[e("div",Ue,[e("div",Fe,[G(e("select",{"onUpdate:modelValue":s[0]||(s[0]=a=>d.value.range=a),class:"text-sm border-none focus:ring-0 text-gray-600 font-medium bg-transparent py-2 pl-3 pr-2 cursor-pointer hover:text-indigo-600"},[(n(),l(w,null,j(W,a=>e("option",{key:a.value,value:a.value},i(a.label),9,He)),64))],512),[[Se,d.value.range]]),d.value.range==="custom"?(n(),l("div",Ve,[G(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=a=>d.value.startDate=a),class:"border-gray-300 rounded-md text-xs px-2 py-1 focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[ne,d.value.startDate]]),s[12]||(s[12]=e("span",null,"to",-1)),G(e("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=a=>d.value.endDate=a),class:"border-gray-300 rounded-md text-xs px-2 py-1 focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[ne,d.value.endDate]])])):k("",!0)]),s[13]||(s[13]=e("div",{class:"w-px h-6 bg-gray-200 mx-2"},null,-1)),e("div",Oe,[F(ie,{modelValue:x.value,"onUpdate:modelValue":s[3]||(s[3]=a=>x.value=a),options:de.value,placeholder:"All Projects (searchable)","label-key":"name","track-by":"id"},null,8,["modelValue","options"])]),s[14]||(s[14]=e("div",{class:"w-px h-6 bg-gray-200 mx-2"},null,-1)),e("div",Ne,[F(ie,{modelValue:v.value,"onUpdate:modelValue":s[4]||(s[4]=a=>v.value=a),options:ue.value,placeholder:"All Members (searchable)","label-key":"name","track-by":"id"},null,8,["modelValue","options"])])]),e("div",Re,[e("button",{onClick:s[5]||(s[5]=a=>C.value="matrix"),class:L([C.value==="matrix"?"bg-white text-gray-800 shadow":"text-gray-600 hover:text-gray-800","px-4 py-2 text-sm font-semibold rounded-md transition-all duration-200"])}," Compliance Matrix ",2),e("button",{onClick:s[6]||(s[6]=a=>C.value="feed"),class:L([C.value==="feed"?"bg-white text-gray-800 shadow":"text-gray-600 hover:text-gray-800","px-4 py-2 text-sm font-medium rounded-md transition-all duration-200"])}," Daily Feed ",2)])]),e("div",ze,[e("div",Ee,[C.value==="matrix"?(n(),l("div",Ge,[e("div",Ke,[e("h3",We," Attendance: "+i(Y.value),1),s[15]||(s[15]=e("div",{class:"flex gap-4 text-xs text-gray-500 font-medium"},[e("span",{class:"flex items-center gap-1"},[e("span",{class:"w-2 h-2 rounded-full bg-green-500"}),_(" On Time")]),e("span",{class:"flex items-center gap-1"},[e("span",{class:"w-2 h-2 rounded-full bg-yellow-500"}),_(" Late (>10am)")]),e("span",{class:"flex items-center gap-1"},[e("span",{class:"w-2 h-2 rounded-full bg-red-500"}),_(" Missed")])],-1))]),e("div",Ye,[e("table",qe,[e("thead",null,[e("tr",Ze,[s[16]||(s[16]=e("th",{class:"px-6 py-4 font-semibold sticky left-0 bg-gray-50 z-10 shadow-sm"},"Team Member",-1)),(n(!0),l(w,null,j(se.value,a=>(n(),l("th",{key:a.full,class:"px-4 py-3 text-center min-w-[80px]"},[_(i(a.name)+" ",1),e("span",Je,i(a.date),1)]))),128))])]),e("tbody",Qe,[(n(!0),l(w,null,j(fe.value,a=>(n(),l("tr",{key:a.id,class:"hover:bg-gray-50 transition-colors group"},[e("td",Xe,[e("div",et,[e("img",{src:a.avatar,class:"w-8 h-8 rounded-full border border-gray-100"},null,8,tt),a.streak>5?(n(),l("div",st,s[17]||(s[17]=[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"},null,-1),e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-orange-500"},null,-1)]))):k("",!0)]),_(" "+i(a.name),1)]),(n(!0),l(w,null,j(se.value,r=>(n(),l("td",{key:r.full,class:"px-4 py-3 text-center"},[e("div",at,[e("span",{innerHTML:he(a.id,r.full)},null,8,rt)])]))),128))]))),128))])])])])):(n(),l("div",ot,[e("div",lt,[e("div",nt,[s[18]||(s[18]=e("span",{class:"font-medium px-2"},"Group by:",-1)),e("button",{onClick:s[7]||(s[7]=a=>$.value="user"),class:L([$.value==="user"?"bg-indigo-50 text-indigo-700 font-semibold":"text-gray-500 hover:text-gray-800","px-3 py-1 rounded-md transition-colors"])}," Individual ",2),s[19]||(s[19]=e("span",{class:"text-gray-200"},"|",-1)),e("button",{onClick:s[8]||(s[8]=a=>$.value="project"),class:L([$.value==="project"?"bg-indigo-50 text-indigo-700 font-semibold":"text-gray-500 hover:text-gray-800","px-3 py-1 rounded-md transition-colors"])}," Project ",2)]),e("button",{onClick:we,class:"text-xs font-medium text-indigo-600 hover:text-indigo-800 bg-indigo-50 hover:bg-indigo-100 px-3 py-1.5 rounded-md transition-colors flex items-center gap-1"},s[20]||(s[20]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})],-1),_(" Copy visible ",-1)]))]),S.value.length===0?(n(),l("div",it,[s[21]||(s[21]=e("div",{class:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})])],-1)),s[22]||(s[22]=e("h3",{class:"text-lg font-medium text-gray-900"},"No standups found",-1)),s[23]||(s[23]=e("p",{class:"text-gray-500 mt-1"},"Try adjusting your filters to see more data.",-1)),e("button",{onClick:_e,class:"mt-4 text-indigo-600 font-medium hover:underline"},"Clear Filters")])):k("",!0),$.value==="project"?(n(),l("div",dt,[(n(!0),l(w,null,j(ve.value,a=>(n(),l("div",{key:a.projectId,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},[e("div",ut,[e("h3",ct,[_(i(a.projectName)+" ",1),e("span",mt,i(a.items.length)+" Updates ",1)]),e("div",gt,i(Y.value),1)]),e("div",pt,[(n(!0),l(w,null,j(a.items,r=>(n(),l("div",{key:r.id,class:"p-5 hover:bg-gray-50/50 transition-colors"},[e("div",vt,[e("img",{src:P(r.userId).avatar,class:"w-10 h-10 rounded-full border border-gray-200 flex-shrink-0 mt-1"},null,8,ft),e("div",yt,[e("div",xt,[e("div",ht,[e("h4",bt,i(P(r.userId).name),1),s[24]||(s[24]=e("span",{class:"text-gray-300"},"‚Ä¢",-1)),e("span",wt,i(ee(r.createdAt)),1),V(r.createdAt)?(n(),l("span",_t,"LATE")):k("",!0)]),s[25]||(s[25]=e("button",{class:"text-gray-400 hover:text-indigo-600",title:"View in Google Chat"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1))]),e("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:oe(r.content)},null,8,kt),r.taskId?(n(),l("div",jt,[e("a",Dt,[s[26]||(s[26]=e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1)),_(" Task #"+i(r.taskId),1)])])):k("",!0)])])]))),128))])]))),128))])):(n(),l("div",At,[(n(!0),l(w,null,j(S.value,a=>(n(),l("div",{key:a.id,class:L(["bg-white rounded-xl shadow-sm border border-gray-100 p-5 transition hover:shadow-md group relative overflow-hidden",a.hasBlocker?"border-l-4 border-l-red-500":"border-l-4 border-l-green-500"])},[e("div",St,[e("div",Mt,[e("img",{src:P(a.userId).avatar,class:"w-10 h-10 rounded-full border border-gray-100"},null,8,Tt),e("div",null,[e("h4",Lt,i(P(a.userId).name),1),e("div",Ct,[e("span",$t,i(re(a.projectId).name),1),s[27]||(s[27]=e("span",{class:"text-gray-300"},"‚Ä¢",-1)),e("span",null,i(ee(a.createdAt)),1),V(a.createdAt)?(n(),l("span",It,"LATE")):k("",!0)])])]),s[28]||(s[28]=e("div",{class:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},[e("button",{class:"text-gray-400 hover:text-indigo-600 p-1 hover:bg-gray-50 rounded",title:"View in Google Chat"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])])],-1))]),e("div",{class:"prose prose-sm max-w-none text-gray-700 ml-13 pl-10 border-l border-gray-100",innerHTML:oe(a.content)},null,8,Bt),a.taskId?(n(),l("div",Pt,[e("a",Ut,[s[29]||(s[29]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1)),_(" Linked to Task #"+i(a.taskId),1)])])):k("",!0)],2))),128))]))]))]),e("div",Ft,[e("div",Ht,[s[30]||(s[30]=e("div",{class:"flex justify-between items-center mb-4"},[e("h3",{class:"text-lg font-bold text-gray-800"},"üî• Top Streaks")],-1)),e("ul",Vt,[(n(!0),l(w,null,j(ye.value,(a,r)=>(n(),l("li",{key:a.id,class:"flex items-center justify-between group"},[e("div",Ot,[e("div",{class:L(["w-6 text-center font-bold",r===0?"text-yellow-500 text-lg":r===1?"text-gray-400 text-lg":"text-gray-300 text-sm"])},i(r+1),3),e("img",{src:a.avatar,class:"w-8 h-8 rounded-full border border-gray-100"},null,8,Nt),e("div",Rt,[e("p",zt,i(a.name),1),e("p",Et,i(a.streak)+" Day Streak",1)])]),e("button",{onClick:o=>be(a),class:"opacity-0 group-hover:opacity-100 text-xs font-medium text-indigo-600 hover:bg-indigo-50 px-2 py-1 rounded transition-all"}," Send Kudo ",8,Gt)]))),128))])]),ae.value.length>0?(n(),l("div",Kt,[e("div",Wt,[s[34]||(s[34]=e("div",{class:"bg-red-100 p-2 rounded-full text-red-600 flex-shrink-0"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e("div",Yt,[s[32]||(s[32]=e("h4",{class:"font-bold text-red-900 text-sm"},"Ghost Project Alert",-1)),s[33]||(s[33]=e("p",{class:"text-xs text-red-700 mt-1 mb-3"},"Projects with active tasks but 0 standups in 48h.",-1)),e("div",qt,[(n(!0),l(w,null,j(ae.value,a=>(n(),l("div",{key:a.id,class:"bg-white rounded px-3 py-2 border border-red-200 shadow-sm flex justify-between items-center"},[e("div",null,[e("p",Zt,i(a.name),1),e("p",Jt,"Last standup: "+i(a.lastActivity),1)]),s[31]||(s[31]=e("button",{class:"text-xs text-red-600 hover:underline"},"Nudge Team",-1))]))),128))])])])])):k("",!0),e("div",Qt,[s[38]||(s[38]=e("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Engagement Pulse",-1)),e("div",Xt,[e("div",null,[e("div",es,[s[35]||(s[35]=e("span",{class:"text-gray-600 font-medium"},"Standup Completion",-1)),e("span",ts,i(T.value.completion)+"%",1)]),e("div",ss,[e("div",{class:"bg-indigo-600 h-2 rounded-full transition-all duration-1000",style:K({width:T.value.completion+"%"})},null,4)])]),e("div",null,[e("div",as,[s[36]||(s[36]=e("span",{class:"text-gray-600 font-medium"},"On-Time Rate",-1)),e("span",rs,i(T.value.onTime)+"%",1)]),e("div",os,[e("div",{class:"bg-yellow-500 h-2 rounded-full transition-all duration-1000",style:K({width:T.value.onTime+"%"})},null,4)])]),e("div",null,[e("div",ls,[s[37]||(s[37]=e("span",{class:"text-gray-600 font-medium"},"Blocker Ratio",-1)),e("span",ns,i(T.value.blockerRatio)+"%",1)]),e("div",is,[e("div",{class:"bg-red-400 h-2 rounded-full transition-all duration-1000",style:K({width:T.value.blockerRatio+"%"})},null,4)])])])])])])])])]),_:1})],64))}},Is=Te(ds,[["__scopeId","data-v-1510c6c9"]]);export{Is as default};
