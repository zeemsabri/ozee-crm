import{s as S,r as v,c as h,e as x,f as A,a as c,o as m,b as o,i as j,d as a,p as f}from"./app-cfLvAf14.js";import{_ as s}from"./InputLabel-D-91TLny.js";import{_ as i}from"./TextInput-DKI04P3v.js";import{S as n}from"./SelectDropdown-BFDCWom8.js";/* empty css                                                                       */import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"space-y-4"},R={key:0},_={class:"mt-1 relative rounded-md shadow-sm"},I={__name:"EmailFilters",props:{initialFilters:Object},emits:["change","reset"],setup(b,{emit:g}){const d=b,y=g,e=S({...d.initialFilters}),u=v([]),p=v([]),V=async()=>{try{const r=await f.get("/api/projects-simplified");u.value=r.data.map(l=>({value:l.id,label:l.name}));const t=await f.get("/api/users");p.value=t.data.map(l=>({value:l.id,label:l.name}))}catch(r){console.error("Error fetching filter options:",r)}},w=h(()=>{switch(e.type){case"sent":return[{value:"",label:"All Sent Statuses"},{value:"pending_approval",label:"Pending Approval"},{value:"sent",label:"Sent"}];case"received":return[{value:"",label:"All Received Statuses"},{value:"received",label:"Received"},{value:"pending_approval_received",label:"Pending Approval (Received)"}];default:return[{value:"",label:"All Statuses"},{value:"sent",label:"Sent"},{value:"received",label:"Received"},{value:"pending_approval",label:"Pending Approval"},{value:"pending_approval_received",label:"Pending Approval (Received)"}]}});x(e,r=>{y("change",r)},{deep:!0});const F=()=>{Object.assign(e,d.initialFilters)};return A(()=>{V()}),(r,t)=>(m(),c("div",D,[o("div",null,[a(s,{for:"typeFilter",value:"Type"}),a(n,{id:"typeFilter",modelValue:e.type,"onUpdate:modelValue":t[0]||(t[0]=l=>e.type=l),options:[{value:"new",label:"New Emails"},{value:"waiting-approval",label:"Waiting for Approval"},{value:"sent",label:"Sent"},{value:"received",label:"Received"},{value:"all",label:"All Emails"}],placeholder:"Select Type"},null,8,["modelValue"])]),e.type!=="new"&&e.type!=="waiting-approval"?(m(),c("div",R,[a(s,{for:"statusFilter",value:"Status"}),a(n,{id:"statusFilter",modelValue:e.status,"onUpdate:modelValue":t[1]||(t[1]=l=>e.status=l),options:w.value,placeholder:"All Statuses"},null,8,["modelValue","options"])])):j("",!0),o("div",null,[a(s,{for:"projectFilter",value:"Project"}),a(n,{id:"projectFilter",modelValue:e.projectId,"onUpdate:modelValue":t[2]||(t[2]=l=>e.projectId=l),options:[{value:null,label:"All Projects"},...u.value],placeholder:"All Projects"},null,8,["modelValue","options"])]),o("div",null,[a(s,{for:"senderFilter",value:"Sender"}),a(n,{id:"senderFilter",modelValue:e.senderId,"onUpdate:modelValue":t[3]||(t[3]=l=>e.senderId=l),options:p.value,placeholder:"All Senders"},null,8,["modelValue","options"])]),o("div",null,[a(s,{for:"startDate",value:"From Date"}),a(i,{type:"date",id:"startDate",modelValue:e.startDate,"onUpdate:modelValue":t[4]||(t[4]=l=>e.startDate=l),class:"mt-1 block w-full"},null,8,["modelValue"])]),o("div",null,[a(s,{for:"endDate",value:"To Date"}),a(i,{type:"date",id:"endDate",modelValue:e.endDate,"onUpdate:modelValue":t[5]||(t[5]=l=>e.endDate=l),class:"mt-1 block w-full"},null,8,["modelValue"])]),o("div",null,[a(s,{for:"searchFilter",value:"Search Content"}),o("div",_,[a(i,{type:"text",id:"searchFilter",modelValue:e.search,"onUpdate:modelValue":t[6]||(t[6]=l=>e.search=l),class:"block w-full pr-10",placeholder:"Search in email content..."},null,8,["modelValue"]),t[7]||(t[7]=o("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[o("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l-4 4a1 1 0 01-1.414-1.414z","clip-rule":"evenodd"})])],-1))])]),o("div",{class:"flex justify-end mt-4"},[o("button",{onClick:F,type:"button",class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Reset Filters ")])]))}};export{I as default};
