import{_ as h}from"./SecondaryButton-DQPsNT8c.js";import{h as c}from"./moment-BLMuvzoS.js";import{a as r,o as s,b as t,t as a,F as _,l as f,g,i as w,u as n,j as v,d as k,w as b,m as A}from"./app-BHf0N9zz.js";function M(o,d){return s(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 3.75H6.912a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H15M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859M12 3v8.25m0 0-3-3m3 3 3-3"})])}function Y(o,d){return s(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}const N={key:0,class:"text-center text-gray-600 text-sm animate-pulse py-4"},C={key:1,class:"text-center text-red-600 text-sm font-medium py-4"},j={key:2,class:"overflow-x-auto"},B={class:"min-w-full divide-y divide-gray-200"},L={class:"bg-white divide-y divide-gray-200"},S={class:"px-4 py-3 text-sm text-gray-900"},V={class:"flex items-center"},D={class:"px-4 py-3 text-sm text-gray-700"},E={class:"px-4 py-3 text-sm text-gray-700"},F={class:"px-4 py-3 text-sm text-gray-700"},$={class:"px-4 py-3 text-sm text-gray-700"},H={class:"px-4 py-3 text-sm text-gray-700"},q={class:"px-4 py-3 text-sm text-gray-700"},z={class:"px-4 py-3 text-right"},P={key:3,class:"text-gray-400 text-sm"},G={__name:"EmailList",props:{emails:{type:Array,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["view"],setup(o,{emit:d}){const y=d,m=x=>{y("view",x)};return(x,i)=>(s(),r("div",null,[o.loading?(s(),r("div",N," Loading email data... ")):o.error?(s(),r("div",C,a(o.error),1)):o.emails.length?(s(),r("div",j,[t("table",B,[i[1]||(i[1]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"From"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Project"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Created At"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sent At"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Read At"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",L,[(s(!0),r(_,null,f(o.emails,e=>{var l,p,u;return s(),r("tr",{key:e.id,class:"hover:bg-gray-50 transition-colors"},[t("td",S,[t("div",V,[e.type==="sent"?(s(),g(n(Y),{key:0,class:"h-4 w-4 text-blue-500 mr-2","aria-hidden":"true"})):e.type==="received"?(s(),g(n(M),{key:1,class:"h-4 w-4 text-purple-500 mr-2","aria-hidden":"true"})):w("",!0),t("span",null,a(e.subject),1)])]),t("td",D,a(((l=e.sender)==null?void 0:l.name)||"N/A"),1),t("td",E,a(((u=(p=e.conversation)==null?void 0:p.project)==null?void 0:u.name)||"N/A"),1),t("td",F,a(e.created_at?n(c)(e.created_at).format("MMM D, YYYY h:mm A"):"NA"),1),t("td",$,a(e.sent_at?n(c)(e.sent_at).format("MMM D, YYYY h:mm A"):"Not Sent"),1),t("td",H,a(e.read_at?n(c)(e.read_at).format("MMM D, YYYY h:mm A"):"Not read"),1),t("td",q,[t("span",{class:v({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800":e.status==="sent","bg-yellow-100 text-yellow-800":e.status==="pending_approval","bg-red-100 text-red-800":e.status==="rejected","bg-gray-100 text-gray-800":e.status==="draft","bg-purple-200 text-white-800":e.status==="pending_approval_received","bg-blue-100 text-white-800":e.status==="received"})},a(e.status?e.status.replace("_"," ").toUpperCase():"N/A"),3)]),t("td",z,[k(h,{class:"text-indigo-600 hover:text-indigo-800",onClick:R=>m(e)},{default:b(()=>i[0]||(i[0]=[A(" View ",-1)])),_:2,__:[0]},1032,["onClick"])])])}),128))])])])):(s(),r("p",P,"No email communication found."))]))}};export{G as _,Y as r};
