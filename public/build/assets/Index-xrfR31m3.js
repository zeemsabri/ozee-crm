import{_ as b}from"./AuthenticatedLayout-DKPQWXUx.js";import{r as y,c as k,o,a as i,b as e,e as r,h as l,u,S as m,k as a,F as _,i as h,t as d,g as C,Q as D}from"./app-C5dhlUiN.js";import{_ as N,a as R}from"./SecondaryButton-BmPmG-1_.js";import{D as B}from"./DangerButton-DmNJXReW.js";import"./ApplicationLogo-CdSr8yep.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 bg-white border-b border-gray-200"},T={class:"flex justify-between items-center mb-6"},j={key:0,class:"text-center py-4"},E={key:1,class:"overflow-x-auto"},F={class:"min-w-full divide-y divide-gray-200"},M={class:"bg-white divide-y divide-gray-200"},P={class:"px-6 py-4 whitespace-nowrap"},Q={class:"text-sm font-medium text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap"},L={class:"text-sm text-gray-500"},O={class:"px-6 py-4"},q={class:"text-sm text-gray-500"},z={class:"px-6 py-4"},G={class:"text-sm text-gray-500"},H={key:0},J={key:1,class:"flex flex-wrap gap-1"},K={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},U={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},W={class:"flex space-x-2"},X=["onClick"],Y={class:"p-6"},Z={class:"mt-6 flex justify-end"},re={__name:"Index",props:{roles:Array},setup(g){const x=y(!1),c=y(null),v=n=>{c.value=n,x.value=!0},p=()=>{x.value=!1,setTimeout(()=>{c.value=null},300)},w=()=>{c.value&&D.delete(route("admin.roles.destroy",c.value.id),{onSuccess:()=>{p()}})};return(n,t)=>(o(),k(b,null,{header:i(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Roles Management ",-1)])),default:i(()=>[e("div",S,[e("div",V,[e("div",$,[e("div",A,[e("div",T,[t[2]||(t[2]=e("h3",{class:"text-lg font-medium text-gray-900"},"Roles",-1)),r(u(m),{href:n.route("admin.roles.create"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},{default:i(()=>t[1]||(t[1]=[a(" Create New Role ")])),_:1,__:[1]},8,["href"])]),g.roles.length===0?(o(),l("div",j,t[3]||(t[3]=[e("p",null,"No roles found. Create your first role to get started.",-1)]))):(o(),l("div",E,[e("table",F,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Slug "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Permissions "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",M,[(o(!0),l(_,null,h(g.roles,s=>(o(),l("tr",{key:s.id},[e("td",P,[e("div",Q,d(s.name),1)]),e("td",I,[e("div",L,d(s.slug),1)]),e("td",O,[e("div",q,d(s.description),1)]),e("td",z,[e("div",G,[s.permissions.length===0?(o(),l("span",H,"No permissions")):(o(),l("div",J,[(o(!0),l(_,null,h(s.permissions.slice(0,3),f=>(o(),l("span",{key:f.id,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},d(f.name),1))),128)),s.permissions.length>3?(o(),l("span",K," +"+d(s.permissions.length-3)+" more ",1)):C("",!0)]))])]),e("td",U,[e("div",W,[r(u(m),{href:n.route("admin.roles.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:i(()=>t[4]||(t[4]=[a("Edit")])),_:2,__:[4]},1032,["href"]),r(u(m),{href:n.route("admin.roles.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:i(()=>t[5]||(t[5]=[a("View")])),_:2,__:[5]},1032,["href"]),r(u(m),{href:n.route("admin.roles.permissions",s.id),class:"text-green-600 hover:text-green-900"},{default:i(()=>t[6]||(t[6]=[a("Permissions")])),_:2,__:[6]},1032,["href"]),e("button",{onClick:f=>v(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,X)])])]))),128))])])]))])])])]),r(N,{show:x.value,onClose:p},{default:i(()=>[e("div",Y,[t[10]||(t[10]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this role? ",-1)),t[11]||(t[11]=e("p",{class:"mt-1 text-sm text-gray-600"}," Once this role is deleted, all users assigned to this role will lose the associated permissions. ",-1)),e("div",Z,[r(R,{onClick:p},{default:i(()=>t[8]||(t[8]=[a(" Cancel ")])),_:1,__:[8]}),r(B,{class:"ml-3",onClick:w},{default:i(()=>t[9]||(t[9]=[a(" Delete Role ")])),_:1,__:[9]})])])]),_:1},8,["show"])]),_:1}))}};export{re as default};
