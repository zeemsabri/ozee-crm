import{c as l,o as r,a as e,r as p,b as Z,w as se,d as I,e as oe,f as n,u as x,h as ae,g as B,i as H,v as E,t as a,n as _,j,F as m,k as h,l as U,m as F}from"./app-uPy8Yanj.js";import{_ as le}from"./AuthenticatedLayout-Dwv72M8K.js";import{_ as re}from"./MultiSelectDropdown-C9XW7s3B.js";import"./auto-BIBwKD9g.js";import{C as ie}from"./chart-DUfl3Dpl.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as P}from"./ClockIcon-4uCeQWsI.js";import{r as z}from"./GlobeAltIcon-ByGv_xp5.js";import{r as W}from"./ListBulletIcon-ooSfp45R.js";import{r as de}from"./CalendarIcon-DdjvNUzB.js";import"./PrimaryButton-CUP67PAJ.js";import"./Modal-Cl-gcwul.js";import"./InputLabel-BgdrSE6s.js";import"./InputError-BV67FZtY.js";import"./SecondaryButton-Ctm0znUG.js";import"./index-BfvJQR6g.js";import"./BaseFormModal-D6WKvZYx.js";import"./TextInput-abpFrQOn.js";import"./SelectDropdown-CNKbW8Oa.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./RightSidebar-DgMP5Vku.js";import"./ApplicationLogo-DCs-uS35.js";import"./createLucideIcon-BHs-fYpY.js";import"./plus-CZyDIUlf.js";import"./DangerButton-DbuWuTFn.js";import"./moment-BLMuvzoS.js";import"./taskState-XbsN-wch.js";import"./NoticeboardModal-2sBhGhbR.js";import"./x-Cd0c1Z7R.js";function q(k,d){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})])}function ce(k,d){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}const ue={class:"relative h-full w-full min-h-[inherit]"},pe=["id"],$={__name:"ChartComponent",props:{data:{type:Object,required:!0},title:{type:String,default:"Productivity Chart"},chartId:{type:String,default:"productivity-chart"},type:{type:String,default:"bar"},yLabel:{type:String,default:"Hours"},options:{type:Object,default:()=>({})}},setup(k){const d=k,u=p(null);let c=null;const i=()=>{var f,b;c&&c.destroy(),u.value&&(c=new ie(u.value,{type:d.type,data:d.data,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},title:{display:!!d.title,text:d.title}},scales:d.type==="pie"||d.type==="doughnut"?{}:{y:{beginAtZero:!0,title:{display:!0,text:d.yLabel},...((f=d.options.scales)==null?void 0:f.y)||{}},x:{...((b=d.options.scales)==null?void 0:b.x)||{}}},...d.options}}))};return Z(()=>{i()}),se(()=>d.data,()=>{i()},{deep:!0}),(f,b)=>(r(),l("div",ue,[e("canvas",{ref_key:"chartRef",ref:u,id:k.chartId},null,8,pe)]))}},xe={class:"py-8 bg-gray-50 min-h-screen"},ge={class:"max-w-[1600px] mx-auto sm:px-6 lg:px-8 space-y-6"},ve={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},be={class:"grid grid-cols-1 md:grid-cols-5 gap-6 items-end"},me={class:"col-span-2"},_e=["disabled"],he={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},fe={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm transition-all hover:shadow-md"},ye={class:"flex items-center justify-between mb-2"},we={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm transition-all hover:shadow-md"},ke={class:"flex items-center justify-between mb-2"},Ce={class:"text-3xl font-black text-blue-600"},je={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm transition-all hover:shadow-md"},$e={class:"flex items-center justify-between mb-2"},De={class:"text-3xl font-black text-amber-600"},Ae={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm transition-all hover:shadow-md"},Te={class:"flex items-center justify-between mb-2"},Me=["title"],Se={class:"text-[10px] text-gray-400 mt-2"},Ve={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm transition-all hover:shadow-md"},Ie={class:"flex items-center justify-between mb-2"},Ue={class:"text-3xl font-black text-pink-600"},Fe={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm transition-all hover:shadow-md"},Pe={class:"flex items-center justify-between mb-2"},Re={class:"text-3xl font-black text-gray-900"},Le={class:"grid grid-cols-1 xl:grid-cols-12 gap-6 items-stretch"},Ne={class:"xl:col-span-4 flex flex-col"},Oe={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col flex-grow"},Be={class:"flex items-center justify-between mb-4"},He={class:"text-sm font-bold text-gray-900 flex items-center"},Ee={class:"flex space-x-1 bg-gray-100 p-0.5 rounded-lg"},ze=["onClick"],We={class:"h-[250px] relative flex items-center justify-center"},qe={class:"mt-6 space-y-3 border-t border-gray-50 pt-6"},Ze={class:"flex items-center gap-3"},Ge={class:"flex flex-col"},Je={class:"text-xs font-bold text-gray-800"},Ke={class:"text-[9px] text-gray-400 font-medium uppercase tracking-tighter"},Qe={class:"text-right"},Xe={class:"text-xs font-black text-gray-900"},Ye={class:"text-[9px] text-indigo-500 font-bold uppercase tracking-tight"},et={class:"xl:col-span-8 flex flex-col gap-6"},tt={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm h-full"},st={class:"text-sm font-bold text-gray-900 mb-6 flex items-center"},ot={class:"h-[200px]"},at={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},lt={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col h-[400px]"},rt={class:"flex items-center justify-between mb-4"},it={class:"text-sm font-bold text-gray-900 flex items-center"},nt={class:"flex space-x-1 bg-gray-100 p-0.5 rounded-lg"},dt=["onClick"],ct={class:"h-[140px] relative flex items-center justify-center shrink-0 mb-4"},ut={class:"flex-grow overflow-y-auto pr-2 custom-scrollbar"},pt={class:"flex items-center gap-2 overflow-hidden"},xt=["title"],gt={class:"flex items-center gap-2 pl-2"},vt={class:"text-[11px] font-black text-gray-900 tabular-nums"},bt={class:"h-8 w-1 bg-gray-100 rounded-full overflow-hidden"},mt={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex flex-col h-[400px]"},_t={class:"flex items-center justify-between mb-4"},ht={class:"text-sm font-bold text-gray-900 flex items-center"},ft={class:"flex space-x-1 bg-gray-100 p-0.5 rounded-lg"},yt=["onClick"],wt={class:"h-[140px] relative flex items-center justify-center shrink-0 mb-4"},kt={class:"flex-grow overflow-y-auto pr-2 custom-scrollbar"},Ct={class:"flex items-center gap-2 overflow-hidden"},jt=["title"],$t={class:"flex items-center gap-2 pl-2"},Dt={class:"text-[11px] font-black text-gray-900 tabular-nums"},At={class:"h-8 w-1 bg-gray-100 rounded-full overflow-hidden"},Tt={class:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm"},Mt={class:"flex items-center justify-between mb-6"},St={class:"text-sm font-bold text-gray-900 flex items-center"},Vt={class:"h-[150px] relative"},It={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},Ut={class:"overflow-x-auto"},Ft={class:"w-full text-sm text-left"},Pt={class:"divide-y divide-gray-100"},Rt=["title"],Lt={class:"px-6 py-4"},Nt={class:"flex items-center space-x-3"},Ot={key:0,class:"h-6 w-6 rounded-full overflow-hidden bg-gray-100"},Bt=["src"],Ht={key:1,class:"h-6 w-6 rounded-full bg-indigo-100 flex items-center justify-center text-[10px] font-bold text-indigo-600 uppercase"},Et={class:"font-medium text-gray-900 text-xs"},zt={class:"px-6 py-4"},Wt={class:"bg-blue-50 text-blue-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-tight"},qt={class:"px-6 py-4 relative"},Zt={class:"relative inline-block"},Gt=["onClick"],Jt={key:1,class:"text-gray-400 text-xs"},Kt={key:2,class:"absolute z-50 mt-1 w-40 bg-white border border-gray-200 rounded-lg shadow-lg"},Qt=["onClick"],Xt=["title"],Yt={class:"flex items-center gap-2"},es={key:0,class:"text-gray-400",title:"Incognito Mode"},ts={class:"px-6 py-4 text-center"},ss={class:"px-6 py-4 whitespace-nowrap"},os={class:"text-emerald-600 font-black text-xs"},as={key:0},ls={__name:"Index",setup(k){const d=p([]),u=p({total_hours:0,total_minutes:0,total_events:0,top_domain:"-",top_domain_time:0}),c=p({score:0,productive_time:0,unproductive_time:0,idle_time:0,social_media_time:0,active_time:0}),i=p({domain_dist:[],title_dist:[],hourly_trend:[],category_breakdown:[],idle_breakdown:[]}),f=p([]),b=p(!1),C=p(null),D=p("total"),y=p("total"),w=p("total"),G=I(()=>({labels:i.value.category_breakdown.map(o=>o.label),datasets:[{data:i.value.category_breakdown.map(o=>D.value==="active"?o.active_duration:D.value==="idle"?o.idle_duration:o.duration),backgroundColor:i.value.category_breakdown.map(o=>o.color)}]})),J=I(()=>({labels:i.value.domain_dist.map(o=>o.label),datasets:[{data:i.value.domain_dist.map(o=>y.value==="active"?o.active:y.value==="idle"?o.idle:o.value),backgroundColor:["#3b82f6","#10b981","#f59e0b","#6366f1","#ec4899","#f43f5e","#8b5cf6","#06b6d4","#84cc16","#f97316"]}]})),K=I(()=>({labels:i.value.title_dist.map(o=>o.label),datasets:[{data:i.value.title_dist.map(o=>w.value==="active"?o.active:w.value==="idle"?o.idle:o.value),backgroundColor:["#6366f1","#8b5cf6","#ec4899","#f43f5e","#ef4444","#f97316","#f59e0b","#10b981","#06b6d4","#3b82f6"]}]})),Q=[{value:"productive",label:"Productive"},{value:"development",label:"Development"},{value:"communication",label:"Communication"},{value:"social_media",label:"Social Media"},{value:"neutral",label:"Neutral"},{value:"unproductive",label:"Unproductive"}],T=p([]),M=p(new Date().toISOString().split("T")[0]),S=p(new Date().toISOString().split("T")[0]),V=async()=>{b.value=!0;try{const o=await window.axios.get("/api/activity-report",{params:{user_ids:T.value.join(","),date_start:M.value,date_end:S.value}});d.value=o.data.activities,u.value=o.data.stats,c.value=o.data.productivity||c.value,i.value=o.data.charts,f.value=o.data.users}catch(o){console.error(o)}finally{b.value=!1}},X=o=>{if(!o)return"0s";const s=Math.floor(o/3600),t=Math.floor(o%3600/60),g=o%60;return s>0?`${s}h ${t}m`:t>0?`${t}m ${g}s`:`${g}s`},Y=o=>new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ee=o=>{C.value=C.value===o?null:o},te=async(o,s)=>{try{const t=await window.axios.patch(`/api/activities/${o}/category`,{category:s}),g=d.value.find(A=>A.id===o);g&&(g.category=s),C.value=null,await V()}catch(t){console.error("Failed to update category:",t),alert("Failed to update category. Please try again.")}},R=o=>{o.target.closest(".relative.inline-block")||(C.value=null)};return Z(()=>{V(),document.addEventListener("click",R)}),oe(()=>{document.removeEventListener("click",R)}),(o,s)=>(r(),l(m,null,[n(x(ae),{title:"Activity Report"}),n(le,null,{header:B(()=>s[3]||(s[3]=[e("div",{class:"flex justify-between items-center"},[e("h2",{class:"font-bold text-2xl text-gray-900 tracking-tight"},"Activity Dashboard"),e("div",{class:"text-sm text-gray-500"},"Productivity telemetry & reporting")],-1)])),default:B(()=>[e("div",xe,[e("div",ge,[e("div",ve,[e("div",be,[e("div",me,[s[4]||(s[4]=e("label",{class:"text-xs font-bold text-gray-500 uppercase mb-2 block"},"Team Members",-1)),n(re,{modelValue:T.value,"onUpdate:modelValue":s[0]||(s[0]=t=>T.value=t),options:f.value,"is-multi":!0,placeholder:"All Users"},null,8,["modelValue","options"])]),e("div",null,[s[5]||(s[5]=e("label",{class:"text-xs font-bold text-gray-500 uppercase mb-2 block"},"From",-1)),H(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=t=>M.value=t),class:"w-full rounded-lg border-gray-300 text-sm focus:ring-indigo-500"},null,512),[[E,M.value]])]),e("div",null,[s[6]||(s[6]=e("label",{class:"text-xs font-bold text-gray-500 uppercase mb-2 block"},"To",-1)),H(e("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=t=>S.value=t),class:"w-full rounded-lg border-gray-300 text-sm focus:ring-indigo-500"},null,512),[[E,S.value]])]),e("button",{onClick:V,disabled:b.value,class:"w-full bg-indigo-600 text-white font-bold py-2.5 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50"},a(b.value?"Filtering...":"Filter"),9,_e)])]),e("div",he,[e("div",fe,[e("div",ye,[n(x(q),{class:_(["h-8 w-8 opacity-80",{"text-green-500":c.value.score>=70,"text-yellow-500":c.value.score>=50&&c.value.score<70,"text-red-500":c.value.score<50}])},null,8,["class"]),s[7]||(s[7]=e("span",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider"},"Productivity Score",-1))]),e("div",{class:_(["text-3xl font-black",{"text-green-600":c.value.score>=70,"text-yellow-600":c.value.score>=50&&c.value.score<70,"text-red-600":c.value.score<50}])},a(c.value.score)+"%",3),s[8]||(s[8]=e("p",{class:"text-[10px] text-gray-400 mt-2"},"Weighted productivity index",-1))]),e("div",we,[e("div",ke,[n(x(P),{class:"h-8 w-8 text-blue-500 opacity-80"}),s[9]||(s[9]=e("span",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider"},"Total Active Time",-1))]),e("div",Ce,a(u.value.total_hours>0?u.value.total_hours+" hrs":u.value.total_minutes+" mins"),1),s[10]||(s[10]=e("p",{class:"text-[10px] text-gray-400 mt-2"},"Aggregated active sessions",-1))]),e("div",je,[e("div",$e,[n(x(P),{class:"h-8 w-8 text-amber-500 opacity-80"}),s[11]||(s[11]=e("span",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider"},"Idle Time",-1))]),e("div",De,a(c.value.idle_time)+" mins",1),s[12]||(s[12]=e("p",{class:"text-[10px] text-gray-400 mt-2"},"Away from keyboard",-1))]),e("div",Ae,[e("div",Te,[n(x(z),{class:"h-8 w-8 text-indigo-500 opacity-80"}),s[13]||(s[13]=e("span",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider"},"Top Domain",-1))]),e("div",{class:"text-2xl font-black text-gray-900 truncate",title:u.value.top_domain},a(u.value.top_domain),9,Me),e("p",Se,a(u.value.top_domain_time)+" mins total",1)]),e("div",Ve,[e("div",Ie,[n(x(ce),{class:"h-8 w-8 text-pink-500 opacity-80"}),s[14]||(s[14]=e("span",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider"},"Social Media",-1))]),e("div",Ue,a(c.value.social_media_time)+" mins",1),s[15]||(s[15]=e("p",{class:"text-[10px] text-gray-400 mt-2"},"Facebook, Instagram, etc.",-1))]),e("div",Fe,[e("div",Pe,[n(x(W),{class:"h-8 w-8 text-purple-500 opacity-80"}),s[16]||(s[16]=e("span",{class:"text-xs font-bold text-gray-400 uppercase tracking-wider"},"Activity Sessions",-1))]),e("div",Re,a(u.value.total_events),1),s[17]||(s[17]=e("p",{class:"text-[10px] text-gray-400 mt-2"},"Continuous domain blocks",-1))])]),e("div",Le,[e("div",Ne,[e("div",Oe,[e("div",Be,[e("h3",He,[n(x(q),{class:"h-4 w-4 mr-2 text-green-600"}),s[18]||(s[18]=j(" Categories ",-1))]),e("div",Ee,[(r(),l(m,null,h(["total","active","idle"],t=>e("button",{key:t,onClick:g=>D.value=t,class:_([D.value===t?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-700","px-2 py-0.5 text-[9px] font-bold uppercase rounded transition-all"])},a(t),11,ze)),64))])]),e("div",We,[n($,{data:G.value,type:"pie",options:{plugins:{legend:{display:!1}}}},null,8,["data"])]),e("div",qe,[(r(!0),l(m,null,h(i.value.category_breakdown,t=>(r(),l("div",{key:t.category,class:"flex items-center justify-between group"},[e("div",Ze,[e("div",{class:"w-3 h-3 rounded-full flex-shrink-0",style:U({backgroundColor:t.color})},null,4),e("div",Ge,[e("span",Je,a(t.label),1),e("span",Ke,a(t.active_duration)+"m active ‚Ä¢ "+a(t.idle_duration)+"m idle ",1)])]),e("div",Qe,[e("div",Xe,a(t.duration)+"m",1),e("div",Ye,a(t.percentage)+"%",1)])]))),128))])])]),e("div",et,[e("div",tt,[e("h3",st,[n(x(de),{class:"h-4 w-4 mr-2 text-blue-600"}),s[19]||(s[19]=j(" Productivity Timeline (Hourly) ",-1))]),e("div",ot,[n($,{data:{labels:i.value.idle_breakdown.map(t=>t.hour),datasets:[{label:"Active",data:i.value.idle_breakdown.map(t=>t.active),backgroundColor:"#10b981",borderRadius:4},{label:"Idle",data:i.value.idle_breakdown.map(t=>t.idle),backgroundColor:"#f59e0b",borderRadius:4}]},type:"bar",options:{plugins:{legend:{display:!1}},scales:{x:{stacked:!0},y:{stacked:!0,grid:{display:!1}}}}},null,8,["data"])]),s[20]||(s[20]=e("div",{class:"mt-4 flex items-center justify-center gap-6"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2.5 h-2.5 rounded-full bg-[#10b981]"}),e("span",{class:"text-[10px] font-bold text-gray-500 uppercase"},"Active Time")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2.5 h-2.5 rounded-full bg-[#f59e0b]"}),e("span",{class:"text-[10px] font-bold text-gray-500 uppercase"},"Idle Time")])],-1))]),e("div",at,[e("div",lt,[e("div",rt,[e("h3",it,[n(x(z),{class:"h-4 w-4 mr-2 text-indigo-600"}),s[21]||(s[21]=j(" Top Domains ",-1))]),e("div",nt,[(r(),l(m,null,h(["total","active","idle"],t=>e("button",{key:t,onClick:g=>y.value=t,class:_([y.value===t?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-700","px-2 py-0.5 text-[9px] font-bold uppercase rounded transition-all"])},a(t),11,dt)),64))])]),e("div",ct,[n($,{data:J.value,type:"pie",options:{plugins:{legend:{display:!1}}}},null,8,["data"])]),e("div",ut,[(r(!0),l(m,null,h(i.value.domain_dist,t=>(r(),l("div",{key:t.label,class:"flex items-center justify-between p-2.5 rounded-lg hover:bg-gray-50 group border border-transparent hover:border-gray-100 transition-all mb-1"},[e("div",pt,[s[22]||(s[22]=e("div",{class:"h-1.5 w-1.5 rounded-full bg-indigo-400 shrink-0"},null,-1)),e("span",{class:"text-[11px] font-bold text-gray-700 truncate",title:t.label},a(t.label),9,xt)]),e("div",gt,[e("div",vt,a(y.value==="active"?t.active:y.value==="idle"?t.idle:t.value)+"m ",1),e("div",bt,[e("div",{class:"bg-indigo-500 w-full",style:U({height:t.value/(u.value.total_minutes||1)*100+"%"})},null,4)])])]))),128))])]),e("div",mt,[e("div",_t,[e("h3",ht,[n(x(W),{class:"h-4 w-4 mr-2 text-purple-600"}),s[23]||(s[23]=j(" Page View Details ",-1))]),e("div",ft,[(r(),l(m,null,h(["total","active","idle"],t=>e("button",{key:t,onClick:g=>w.value=t,class:_([w.value===t?"bg-white text-indigo-700 shadow-sm":"text-gray-500 hover:text-gray-700","px-2 py-0.5 text-[9px] font-bold uppercase rounded transition-all"])},a(t),11,yt)),64))])]),e("div",wt,[n($,{data:K.value,type:"pie",options:{plugins:{legend:{display:!1}}}},null,8,["data"])]),e("div",kt,[(r(!0),l(m,null,h(i.value.title_dist,t=>(r(),l("div",{key:t.label,class:"flex items-center justify-between p-2.5 rounded-lg hover:bg-gray-50 group border border-transparent hover:border-gray-100 transition-all mb-1"},[e("div",Ct,[s[24]||(s[24]=e("div",{class:"h-1.5 w-1.5 rounded-full bg-purple-400 shrink-0"},null,-1)),e("span",{class:"text-[11px] font-bold text-gray-700 truncate",title:t.label},a(t.label),9,jt)]),e("div",$t,[e("div",Dt,a(w.value==="active"?t.active:w.value==="idle"?t.idle:t.value)+"m ",1),e("div",At,[e("div",{class:"bg-purple-500 w-full",style:U({height:t.value/(u.value.total_minutes||1)*100+"%"})},null,4)])])]))),128))])])])])]),e("div",Tt,[e("div",Mt,[e("h3",St,[n(x(P),{class:"h-4 w-4 mr-2 text-indigo-600"}),s[25]||(s[25]=j(" Intensity Heatmap (Active Minutes) ",-1))])]),e("div",Vt,[n($,{data:{labels:i.value.hourly_trend.map(t=>t.label),datasets:[{label:"Activity",data:i.value.hourly_trend.map(t=>t.value),backgroundColor:"rgba(99, 102, 241, 0.2)",borderColor:"rgba(99, 102, 241, 0.8)",borderWidth:2,fill:!0,tension:.4,pointRadius:2}]},type:"line",options:{plugins:{legend:{display:!1}},scales:{y:{display:!1},x:{grid:{display:!1}}}}},null,8,["data"])])]),e("div",It,[s[28]||(s[28]=e("div",{class:"px-6 py-4 border-b border-gray-100 bg-gray-50/50 flex items-center justify-between"},[e("h3",{class:"text-sm font-bold text-gray-900"},"Activity Log & Durations")],-1)),e("div",Ut,[e("table",Ft,[s[27]||(s[27]=e("thead",{class:"bg-gray-50 text-[10px] uppercase font-bold text-gray-500 tracking-wider"},[e("tr",null,[e("th",{class:"px-6 py-3"},"Time"),e("th",{class:"px-6 py-3"},"User"),e("th",{class:"px-6 py-3"},"Domain"),e("th",{class:"px-6 py-3"},"Category"),e("th",{class:"px-6 py-3"},"Page Title"),e("th",{class:"px-6 py-3 text-center"},"Status"),e("th",{class:"px-6 py-3"},"Duration")])],-1)),e("tbody",Pt,[(r(!0),l(m,null,h(d.value,t=>{var g,A,L,N,O;return r(),l("tr",{key:t.id,class:"hover:bg-gray-50 transition"},[e("td",{class:"px-6 py-4 whitespace-nowrap text-gray-500 font-mono text-xs",title:t.local_time},a(t.local_time_formatted||Y(t.recorded_at)),9,Rt),e("td",Lt,[e("div",Nt,[(g=t.user)!=null&&g.avatar||(A=t.user)!=null&&A.avatar_url?(r(),l("div",Ot,[e("img",{src:t.user.avatar||t.user.avatar_url,class:"w-full h-full object-cover"},null,8,Bt)])):(r(),l("div",Ht,a(((N=(L=t.user)==null?void 0:L.name)==null?void 0:N.charAt(0))||"?"),1)),e("span",Et,a(((O=t.user)==null?void 0:O.name)||"Unknown"),1)])]),e("td",zt,[e("span",Wt,a(t.domain),1)]),e("td",qt,[e("div",Zt,[t.category?(r(),l("button",{key:0,onClick:v=>ee(t.id),class:_(["text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-tight cursor-pointer hover:opacity-80 transition-opacity",{"bg-green-100 text-green-700":t.category==="productive"||t.category==="development","bg-purple-100 text-purple-700":t.category==="communication","bg-pink-100 text-pink-700":t.category==="social_media","bg-gray-100 text-gray-700":t.category==="neutral","bg-red-100 text-red-700":t.category==="unproductive"}])},a(t.category)+" ‚ñæ ",11,Gt)):(r(),l("span",Jt,"-")),C.value===t.id?(r(),l("div",Kt,[(r(),l(m,null,h(Q,v=>e("button",{key:v.value,onClick:rs=>te(t.id,v.value),class:_(["w-full text-left px-3 py-2 text-xs hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg transition-colors",{"bg-green-50":v.value==="productive"||v.value==="development","bg-purple-50":v.value==="communication","bg-pink-50":v.value==="social_media","bg-gray-50":v.value==="neutral","bg-red-50":v.value==="unproductive"}])},a(v.label),11,Qt)),64))])):F("",!0)])]),e("td",{class:"px-6 py-4 max-w-xs truncate text-xs text-gray-600",title:t.title},[e("div",Yt,[t.is_incognito?(r(),l("span",es,"üï∂Ô∏è")):F("",!0),e("span",null,a(t.title),1)])],8,Xt),e("td",ts,[e("span",{class:_({"px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-tight":!0,"bg-green-100 text-green-700":t.idle_state==="active","bg-amber-100 text-amber-700":t.idle_state==="idle","bg-gray-100 text-gray-700":!t.idle_state||t.idle_state==="locked"||t.idle_state==="unknown"})},a(t.idle_state||"unknown"),3)]),e("td",ss,[e("span",os,a(X(t.duration)),1)])])}),128)),d.value.length===0&&!b.value?(r(),l("tr",as,s[26]||(s[26]=[e("td",{colspan:"5",class:"px-6 py-12 text-center text-gray-400 italic"}," No activity data found for the selected filters. ",-1)]))):F("",!0)])])])])])])]),_:1})],64))}},Rs=ne(ls,[["__scopeId","data-v-d1d1c5b2"]]);export{Rs as default};
