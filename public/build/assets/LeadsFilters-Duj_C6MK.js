import{l as p,r as m,b as A,c as f,o as g,a as t,e as a,z as O,k as w,w as c,g as v}from"./app-ChNNGQpZ.js";import{_ as i}from"./InputLabel-Bvo8T8oq.js";import{_ as k}from"./TextInput-CcWdt2zx.js";import{_ as $}from"./PrimaryButton-NC2t_HoE.js";import{_ as C}from"./SecondaryButton-D0KIHOxV.js";import{S as u}from"./SelectDropdown-M38VjQTw.js";import{_ as q}from"./MultiSelectDropdown-D3XvIqj2.js";/* empty css                                                                       */import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"grid grid-cols-1 md:grid-cols-6 gap-3 mb-5"},S={key:0,class:"text-xs text-gray-500 mt-1"},U={class:"flex items-end gap-2"},E={__name:"LeadsFilters",props:{filters:{type:Object,required:!0},sourceOptions:{type:Array,default:()=>[]},statusOptions:{type:Array,default:()=>[]},users:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["apply","reset"],setup(y,{emit:_}){const l=y,n=_,V=p(()=>(l.users||[]).map(o=>({label:o.name,value:o.id}))),b=p(()=>l.statusOptions||[]),x=p(()=>l.sourceOptions||[]),r=m([]),d=m(!1);return A(async()=>{try{d.value=!0;const{data:o}=await window.axios.get("/api/campaigns",{params:{per_page:1e3}}),e=(o==null?void 0:o.data)||o||[];r.value=e.map(s=>({label:s.name,value:s.id}))}catch(o){console.error("Failed to load campaigns",o),r.value=[]}finally{d.value=!1}}),(o,e)=>(g(),f("div",N,[t("div",null,[a(i,{for:"q",value:"Search"}),a(k,{id:"q",modelValue:l.filters.q,"onUpdate:modelValue":e[0]||(e[0]=s=>l.filters.q=s),class:"mt-1 block w-full",placeholder:"Name, email, phone, company",onKeyup:e[1]||(e[1]=O(()=>n("apply"),["enter"]))},null,8,["modelValue"])]),t("div",null,[a(i,{for:"status",value:"Status"}),a(u,{options:b.value,modelValue:l.filters.status,"onUpdate:modelValue":e[2]||(e[2]=s=>l.filters.status=s),placeholder:"All"},null,8,["options","modelValue"])]),t("div",null,[a(i,{for:"source",value:"Source"}),a(u,{options:x.value,modelValue:l.filters.source,"onUpdate:modelValue":e[3]||(e[3]=s=>l.filters.source=s),placeholder:"All"},null,8,["options","modelValue"])]),t("div",null,[a(i,{for:"assigned_to",value:"Assigned To"}),a(u,{options:V.value,modelValue:l.filters.assigned_to_id,"onUpdate:modelValue":e[4]||(e[4]=s=>l.filters.assigned_to_id=s),placeholder:"Any"},null,8,["options","modelValue"])]),t("div",null,[a(i,{for:"campaigns",value:"Campaigns"}),a(q,{options:r.value,modelValue:l.filters.campaign_ids,"onUpdate:modelValue":e[5]||(e[5]=s=>l.filters.campaign_ids=s),isMulti:!0,placeholder:"All"},null,8,["options","modelValue"]),d.value?(g(),f("p",S,"Loading campaignsâ€¦")):w("",!0)]),t("div",U,[a($,{disabled:l.loading,onClick:e[6]||(e[6]=s=>n("apply"))},{default:c(()=>e[8]||(e[8]=[v("Apply",-1)])),_:1,__:[8]},8,["disabled"]),a(C,{disabled:l.loading,onClick:e[7]||(e[7]=s=>n("reset"))},{default:c(()=>e[9]||(e[9]=[v("Reset",-1)])),_:1,__:[9]},8,["disabled"])])]))}};export{E as default};
