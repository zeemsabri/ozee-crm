import{s as k,g as C,o as l,w as m,b as e,C as N,d as o,u as i,x as u,y as V,z as P,a as d,F as b,l as _,t as f,A as S,i as D,D as j,m as x,j as T}from"./app-DX_kpFIm.js";import{_ as $}from"./AuthenticatedLayout-4_vVQXnG.js";import{_ as p}from"./InputError-LF5oFGJM.js";import{_ as g}from"./InputLabel-CPEJYW8f.js";import{P as B}from"./PrimaryButton-sFvYxQdk.js";import{_ as M}from"./TextInput-C27byKBs.js";import"./Modal-Bz-jdteD.js";import"./SecondaryButton-BU2P0zIF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SelectDropdown-BJCCW54h.js";/* empty css                                                                       */import"./Checkbox-B4rLB8uU.js";import"./ApplicationLogo-CdjsY3HW.js";import"./DangerButton-CBQdq_r-.js";import"./moment-BLMuvzoS.js";const U={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},R={class:"p-6 bg-white border-b border-gray-200"},q={class:"mb-6"},z={class:"mb-6"},O={class:"mb-6"},E={class:"mb-6"},L={key:0,class:"text-sm text-gray-500"},G={key:1},H={class:"font-medium text-gray-700 mb-2"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2"},J={class:"flex items-center h-5"},K=["id","value"],Q={class:"ml-3 text-sm"},W=["for"],X={key:0,class:"text-gray-500"},Y={class:"flex items-center justify-end mt-4"},fe={__name:"Create",props:{permissions:Object,prefillName:{type:String,default:""},prefillDescription:{type:String,default:""},prefillType:{type:String,default:""},preselectedPermissions:{type:Array,default:()=>[]}},setup(c){const r=c,s=k({name:"",description:"",type:"",permissions:[]});r.prefillName&&(s.name=r.prefillName),r.prefillDescription&&(s.description=r.prefillDescription),r.prefillType&&(s.type=r.prefillType),r.preselectedPermissions&&r.preselectedPermissions.length&&(s.permissions=[...r.preselectedPermissions]);const v=()=>{s.post(route("admin.roles.store"),{onSuccess:()=>{s.reset()}})};return(h,t)=>(l(),C($,null,{header:m(()=>t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create New Role ",-1)])),default:m(()=>[e("div",U,[e("div",A,[e("div",F,[e("div",R,[e("form",{onSubmit:N(v,["prevent"])},[e("div",q,[o(g,{for:"name",value:"Name"}),o(M,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:i(s).name,"onUpdate:modelValue":t[0]||(t[0]=a=>i(s).name=a),required:"",autofocus:""},null,8,["modelValue"]),o(p,{class:"mt-2",message:i(s).errors.name},null,8,["message"])]),e("div",z,[o(g,{for:"description",value:"Description"}),u(e("textarea",{id:"description",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":t[1]||(t[1]=a=>i(s).description=a),rows:"3"},null,512),[[V,i(s).description]]),o(p,{class:"mt-2",message:i(s).errors.description},null,8,["message"])]),e("div",O,[o(g,{for:"type",value:"Role Type"}),u(e("select",{id:"type",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":t[2]||(t[2]=a=>i(s).type=a),required:""},t[5]||(t[5]=[e("option",{value:""},"Select a type",-1),e("option",{value:"application"},"Application",-1),e("option",{value:"client"},"Client",-1),e("option",{value:"project"},"Project",-1)]),512),[[P,i(s).type]]),o(p,{class:"mt-2",message:i(s).errors.type},null,8,["message"])]),e("div",E,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Permissions",-1)),Object.keys(c.permissions).length===0?(l(),d("div",L," No permissions available. Please create some permissions first. ")):(l(),d("div",G,[(l(!0),d(b,null,_(c.permissions,(a,y)=>(l(),d("div",{key:y,class:"mb-4"},[e("h4",H,f(y),1),e("div",I,[(l(!0),d(b,null,_(a,n=>(l(),d("div",{key:n.id,class:"flex items-start"},[e("div",J,[u(e("input",{id:`permission-${n.id}`,type:"checkbox",value:n.id,"onUpdate:modelValue":t[3]||(t[3]=w=>i(s).permissions=w),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,8,K),[[S,i(s).permissions]])]),e("div",Q,[e("label",{for:`permission-${n.id}`,class:"font-medium text-gray-700"},f(n.name),9,W),n.description?(l(),d("p",X,f(n.description),1)):D("",!0)])]))),128))])]))),128))])),o(p,{class:"mt-2",message:i(s).errors.permissions},null,8,["message"])]),e("div",Y,[o(i(j),{href:h.route("admin.roles.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-300 disabled:opacity-25 transition mr-2"},{default:m(()=>t[7]||(t[7]=[x(" Cancel ",-1)])),_:1,__:[7]},8,["href"]),o(B,{class:T(["ml-4",{"opacity-25":i(s).processing}]),disabled:i(s).processing},{default:m(()=>t[8]||(t[8]=[x(" Create Role ",-1)])),_:1,__:[8]},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{fe as default};
