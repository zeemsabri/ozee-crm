import{b0 as R,r as x,l as Y,m as O,b as G,d as H,c as m,o as c,a as d,q as A,k,f as y,t as h,L as C,u as S,F as z,i as L,w as K,n as T,g as J,bb as Q,v as X,K as Z,ab as a}from"./app-BB49X1tp.js";import{B as ee}from"./BaseFormModal-C1rPl9Vb.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-BhZEOuT6.js";import"./PrimaryButton-ByHbGtgS.js";import"./SecondaryButton-h9tD_s2q.js";const ae={class:"bg-slate-100 font-montserrat min-h-screen flex items-center justify-center"},se={class:"embed-container"},le={key:0,id:"loader-overlay",class:"fixed inset-0 flex flex-col items-center justify-center bg-white z-50"},re={id:"loader-text",class:"text-sm text-dark-grey"},ne={id:"dock-pagination",role:"tablist"},oe=["onClick","aria-label","aria-selected"],ie={class:"dock-tip"},de={class:"slide-content"},ce={class:"space-y-4"},ue={class:"text-sm text-gray-600"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pe=["for"],fe={key:0,class:"text-red-500"},ge=["onUpdate:modelValue","type","id","placeholder","required","aria-required"],be=["onUpdate:modelValue","id","placeholder","required","aria-required"],xe={key:2,class:"text-sm text-red-600 mt-1"},ye="/api/public/lead-intake",he={__name:"PublicPresenter",props:{presentation:{type:Object,required:!0,default:()=>({slides:[]})},form:{type:Object,required:!1,default:()=>({title:"",description:"",fields:[],submit_button_text:"Submit"})}},setup(M){const I=M,{presentation:v,form:_}=R(I),p=x(0),u=x(!1),w=x(!0),j=x(0),N={title:"Get in Touch",description:"We're excited to learn more about your project. Please fill out the form below, and one of our specialists will contact you shortly.",fields:[{name:"name",label:"Full Name",type:"text",placeholder:"e.g., Jane Doe",required:!0},{name:"email",label:"Email Address",type:"email",placeholder:"e.g., jane.doe@example.com",required:!0},{name:"phone",label:"Phone Number",type:"tel",placeholder:"e.g., 0412 345 678",required:!1},{name:"company_name",label:"Company Name",type:"text",placeholder:"e.g., Future Co",required:!1},{name:"abn",label:"ABN",type:"text",placeholder:"e.g., 50 123 456 789",required:!1},{name:"address",label:"Address",type:"text",placeholder:"e.g., 123 Example St, Sydney NSW 2000",required:!1},{name:"message",label:"Your Message",type:"textarea",placeholder:"Tell us a bit about your project or requirements...",required:!0}],submit_button_text:"Send Inquiry"},b=Y(()=>{var e;const s=(e=_==null?void 0:_.value)==null?void 0:e.fields;return Array.isArray(s)&&s.length>0?_.value:N}),f=x({});function D(){var s;try{const e=Array.isArray((s=b.value)==null?void 0:s.fields)?b.value.fields:[],l={};for(const t of e)t!=null&&t.name&&(l[t.name]="");f.value=l}catch{f.value={}}}O(u,s=>{s&&D()});async function $(){var e,l;return!!((l=(e=f.value)==null?void 0:e.email)==null?void 0:l.trim())}function V(){u.value=!1}function U(s){const e=(s==null?void 0:s.name)||"",l=(s==null?void 0:s.type)||"";return e==="address"||e==="message"||l==="textarea"}function F(){p.value<v.value.slides.length-1&&p.value++}function E(){p.value>0&&p.value--}function P(s){if(u.value&&s.key==="Escape"){u.value=!1;return}u.value||(s.key==="ArrowRight"?F():s.key==="ArrowLeft"&&E())}G(()=>{try{const l=Array.from(document.querySelectorAll(".slide img")),t=l.length||1;let r=0;const i=()=>{j.value=Math.min(100,Math.round(r/t*100))},o=()=>{w.value=!1};l.length===0?o():(l.forEach(g=>{if(g.complete){r++,i();return}const q=()=>{r++,i(),r>=t&&o()};g.addEventListener("load",q,{once:!0}),g.addEventListener("error",q,{once:!0})}),setTimeout(o,8e3),r>=t?o():i())}catch{w.value=!1}const s=document.createElement("script");s.src="https://kit.fontawesome.com/6afed830a9.js",s.crossOrigin="anonymous",document.head.appendChild(s);const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap",e.rel="stylesheet",document.head.appendChild(e),window.addEventListener("keydown",P)}),H(()=>{window.removeEventListener("keydown",P)});const B={IntroCover:s=>{const e=s.map(l=>l.block_type==="image"?a("div",{class:"mx-auto my-5 max-w-[300px] mt-8"},[n(l)]):n(l));return a("div",{class:"text-center"},e)},ThreeColumn:s=>{const e=s.find(t=>t.block_type==="heading"),l=s.filter(t=>t.block_type==="feature_card");return a("div",{class:"text-center"},[e?n(e):null,a("div",{class:"grid md:grid-cols-3 gap-8 text-center"},l.map(t=>n(t)))])},FourColumn:s=>{const e=s.find(r=>r.block_type==="heading"),l=s.find(r=>r.block_type==="paragraph"),t=s.filter(r=>r.block_type==="feature_card");return a("div",{class:"text-center"},[e?n(e):null,l?n(l):null,a("div",{class:"grid md:grid-cols-4 gap-8 text-center"},t.map(r=>n(r)))])},TwoColumnWithImageRight:s=>{const e=s.find(t=>t.block_type==="image"),l=s.filter(t=>t.block_type!=="image");return a("div",{class:"grid md:grid-cols-2 gap-12 items-center"},[a("div",{class:"text-left"},l.map(t=>n(t))),e?n(e):null])},TwoColumnWithImageLeft:s=>{const e=s.find(t=>t.block_type==="image"),l=s.filter(t=>t.block_type!=="image");return a("div",{class:"grid md:grid-cols-2 gap-12 items-center"},[e?n(e):null,a("div",{class:"text-left"},l.map(t=>n(t)))])},FourStepProcess:s=>{const e=s.find(t=>t.block_type==="heading"),l=s.filter(t=>t.block_type==="step_card");return a("div",{class:"text-center"},[e?n(e):null,a("div",{class:"relative grid grid-cols-1 md:grid-cols-4 gap-8 text-center"},[a("div",{class:"hidden md:block absolute top-1/2 left-0 w-full h-0.5 bg-gray-200",style:"transform: translateY(-50%); z-index: -1;"}),...l.map(t=>n(t))])])},ThreeStepProcess:s=>{const e=s.find(t=>t.block_type==="heading"),l=s.filter(t=>t.block_type==="step_card");return a("div",{class:"text-center"},[e?n(e):null,a("div",{class:"relative grid grid-cols-1 md:grid-cols-3 gap-8 text-center"},[a("div",{class:"hidden md:block absolute top-1/2 left-0 w-full h-0.5 bg-gray-200",style:"transform: translateY(-50%); z-index: -1;"}),...l.map(t=>n(t))])])},TwoColumnWithChart:s=>{var r;const e=s.find(i=>i.block_type==="heading"),l=s.find(i=>i.block_type==="image_block"),t=s.find(i=>i.block_type==="feature_list");return a("div",{class:"text-center"},[e?n(e):null,a("div",{class:"grid md:grid-cols-2 gap-8 items-center"},[t?n(t):null,a("div",{class:"p-8 bg-gray-50 rounded-2xl"},[a("h3",{class:"text-xl font-bold text-dark-grey mb-4"},(r=l==null?void 0:l.content_data)==null?void 0:r.title),a("div",{class:"w-full h-64 rounded-lg flex items-center justify-center"},n(l))])])])},ProjectDetails:s=>{const e=s.find(r=>r.block_type==="heading"),l=s.find(r=>r.block_type==="pricing_table"),t=s.find(r=>r.block_type==="timeline_table");return a("div",{class:"text-left"},[e?n(e):null,a("div",{class:"grid md:grid-cols-2 gap-8 text-left"},[l?n(l):null,t?n(t):null])])},CallToAction:s=>a("div",{class:"text-center"},s.map(e=>n(e))),default:s=>a("div",{},s.map(e=>n(e)))};function W(s){const e=s.content_blocks||[];return(B[s.template_name]||B.default)(e)}function n(s){if(!s)return null;const e=s.content_data||{};switch(s.block_type){case"heading":const l=`h${e.level||2}`;return a(l,{class:"text-4xl font-bold text-oz-blue mb-4"},e.text||"");case"paragraph":return a("p",{class:"text-lg text-dark-grey mb-6",innerHTML:e.text||""});case"feature_card":const r=function(o){if(typeof o!="string")return"";const g=o.trim();return/(fa-solid|fa-regular|fa-light|fa-thin|fa-brands|fa-duotone)/.test(g)?g:`fa-solid ${g}`}(e.icon||"fa-star");return a("div",{class:"p-6 rounded-xl bg-gray-50 border border-gray-200"},[a("div",{class:"flex items-center justify-center h-16 w-16 rounded-full bg-oz-blue text-oz-gold mx-auto mb-4"},[a("i",{class:`${r} text-3xl`})]),a("h3",{class:"text-xl font-bold mb-2 text-dark-grey"},e.title||""),a("p",{class:"text-gray-600"},e.description||"")]);case"image":return a("div",{class:"p-8 bg-gray-50 rounded-2xl flex items-center justify-center"},a("img",{src:e.url,alt:e.alt||"Presentation Image",class:"max-w-full h-auto",onError:o=>o.target.style.display="none"}));case"step_card":return a("div",{class:"flex flex-col items-center p-4"},[a("div",{class:"relative flex items-center justify-center h-20 w-20 rounded-full bg-oz-blue text-white text-2xl font-bold border-4 border-slate-100 shadow-lg mb-4"},e.step_number),a("h3",{class:"text-lg font-bold mb-2 text-dark-grey"},e.title),a("p",{class:"text-sm text-gray-600"},e.description)]);case"slogan":return a("p",{class:"text-2xl font-bold text-oz-blue mt-4"},e.text);case"pricing_table":return a("div",{class:"p-6 bg-gray-50 rounded-xl border border-gray-200"},[a("h3",{class:"text-2xl font-bold text-oz-gold mb-4"},e.title),a("p",{class:"text-lg text-gray-700"},[a("strong",{class:"text-2xl text-oz-blue"},e.price)]),a("ul",{class:"list-disc list-inside text-gray-600 mt-4 space-y-2"},e.payment_schedule.map(o=>a("li",o)))]);case"timeline_table":return a("div",{class:"p-6 bg-gray-50 rounded-xl border border-gray-200"},[a("h3",{class:"text-2xl font-bold text-oz-gold mb-4"},e.title),a("table",{class:"w-full text-sm text-left text-gray-600"},[a("tbody",e.timeline.map(o=>a("tr",{class:"border-b"},[a("td",{class:"py-3 pr-3 font-semibold"},o.phase),a("td",{class:"py-3"},o.duration)])))])]);case"details_list":return a("div",{class:"flex justify-center mt-8 space-x-6 text-gray-500 text-sm"},e.items.map(o=>a("span",{innerHTML:o})));case"list_with_icons":const i=a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5 text-oz-gold mr-3 flex-shrink-0"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"})]);return a("ul",{class:"space-y-4"},e.items.map(o=>a("li",{class:"flex items-start"},[i,a("span",{class:"text-dark-grey"},o)])));case"feature_list":return a("div",{class:"text-left space-y-8"},e.items.map(o=>a("div",{},[a("h3",{class:"text-xl font-bold text-dark-grey mb-2"},o.title),a("p",{class:"text-gray-600"},o.description)])));case"image_block":return a("img",{src:e.url,alt:e.title||"Presentation Image",class:"max-w-full h-auto rounded-lg",onError:o=>o.target.style.display="none"});case"button":return a("button",{class:"mt-8 px-10 py-4 bg-oz-gold text-white font-bold rounded-full text-lg shadow-lg hover:bg-opacity-90 transition-transform transform hover:scale-105",onClick:()=>{e.action==="show_contact_form"&&(u.value=!0)}},e.text);default:return a("div",{class:"text-red-500"},`Unsupported block type: ${s.block_type}`)}}return(s,e)=>(c(),m("div",ae,[d("div",se,[w.value?(c(),m("div",le,[e[1]||(e[1]=d("div",{class:"animate-spin rounded-full h-16 w-16 border-4 border-oz-blue border-t-transparent mb-4"},null,-1)),d("div",re,"Crafting your reportâ€¦ "+h(j.value)+"%",1)])):k("",!0),y(d("button",{onClick:E,id:"prev-button",class:"nav-btn bg-oz-blue","aria-label":"Previous slide"},e[2]||(e[2]=[d("i",{class:"fa-solid fa-chevron-left text-white text-2xl"},null,-1)]),512),[[C,!u.value&&p.value>0]]),y(d("button",{onClick:F,id:"next-button",class:"nav-btn bg-oz-blue","aria-label":"Next slide"},e[3]||(e[3]=[d("i",{class:"fa-solid fa-chevron-right text-white text-2xl"},null,-1)]),512),[[C,!u.value&&p.value<S(v).slides.length-1]]),y(d("div",ne,[(c(!0),m(z,null,L(S(v).slides,(l,t)=>(c(),m("button",{key:l.id,class:T(["dock-dot",{active:t===p.value}]),onClick:r=>p.value=t,"aria-label":`Go to slide ${t+1}`,"aria-selected":t===p.value},[d("div",ie,h(l.title||`Slide ${t+1}`),1)],10,oe))),128))],512),[[C,!u.value]]),d("main",null,[(c(!0),m(z,null,L(S(v).slides,(l,t)=>(c(),m("section",{key:l.id,class:T(["slide",{active:t===p.value,prev:t<p.value}])},[d("div",de,[(c(),A(Z(W(l))))])],2))),128))])]),u.value?(c(),A(ee,{key:0,show:u.value,title:b.value.title,"api-endpoint":ye,"http-method":"post","form-data":f.value,"before-submit":$,"show-footer":!0,"success-message":"Thanks! Your details have been received.","submit-button-text":b.value.submit_button_text||"Submit",onClose:e[0]||(e[0]=l=>u.value=!1),onSubmitted:V},{default:K(({errors:l})=>[d("div",ce,[d("p",ue,h(b.value.description),1),d("div",me,[(c(!0),m(z,null,L(b.value.fields,t=>{var r;return c(),m("div",{key:t.name,class:T(["form-group",{"md:col-span-2":U(t)}])},[d("label",{for:t.name,class:"form-label"},[J(h(t.label)+" ",1),t.required?(c(),m("span",fe,"*")):k("",!0)],8,pe),t.type!=="textarea"?y((c(),m("input",{key:0,"onUpdate:modelValue":i=>f.value[t.name]=i,type:t.type,id:t.name,placeholder:t.placeholder,class:"form-input",required:t.required,"aria-required":t.required?"true":"false"},null,8,ge)),[[Q,f.value[t.name]]]):y((c(),m("textarea",{key:1,"onUpdate:modelValue":i=>f.value[t.name]=i,id:t.name,placeholder:t.placeholder,rows:"4",class:"form-input",required:t.required,"aria-required":t.required?"true":"false"},null,8,be)),[[X,f.value[t.name]]]),l&&l[t.name]?(c(),m("p",xe,h(((r=l[t.name])==null?void 0:r[0])||l[t.name]),1)):k("",!0)],2)}),128))])])]),_:1},8,["show","title","form-data","submit-button-text"])):k("",!0)]))}},Se=te(he,[["__scopeId","data-v-69d11d7d"]]);export{Se as default};
