import{a as d,o as r,b as a,i,t as n,j as b,x as u}from"./app-DO6hfj1S.js";const v={class:"flex items-start justify-between"},h={class:"font-semibold text-gray-800 truncate"},w={key:0,class:"mt-1 text-sm text-gray-600 truncate"},k={key:1,class:"mt-1 text-xs text-gray-500 truncate"},C={key:2,class:"mt-1 text-xs text-gray-500 truncate"},D={class:"mt-2 grid grid-cols-1 gap-1 text-[11px] text-gray-500"},T={key:0},$={key:1},N={class:"mt-3 flex items-center justify-end gap-2"},B={__name:"LeadCard",props:{lead:{type:Object,required:!0}},emits:["edit","delete","open"],setup(t,{emit:g}){const l=t,m=g,x=s=>{s.dataTransfer.setData("text/plain",JSON.stringify({id:l.lead.id})),s.dataTransfer.effectAllowed="move"},f=s=>{switch((s||"new").toLowerCase()){case"contacted":return"bg-blue-100 text-blue-700";case"qualified":return"bg-amber-100 text-amber-700";case"converted":return"bg-emerald-100 text-emerald-700";case"lost":return"bg-rose-100 text-rose-700";case"new":default:return"bg-gray-100 text-gray-700"}},c=s=>{if(!s)return"—";const e=new Date(s);if(isNaN(e.getTime()))return"—";const o=new Intl.DateTimeFormat(void 0,{weekday:"short",month:"short",day:"numeric"}).format(e),y=new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"2-digit"}).format(e);return`${o} • ${y}`};return(s,e)=>(r(),d("div",{class:"p-3 rounded-lg border border-gray-200 bg-white shadow-sm hover:shadow transition cursor-grab",draggable:"true",onDragstart:x,onClick:e[2]||(e[2]=o=>s.$inertia.visit(s.route("leads.show",l.lead.id)))},[a("div",v,[a("div",h,n((t.lead.first_name||"")+" "+(t.lead.last_name||"")||"(no name)"),1),a("span",{class:b(["text-xs px-2 py-0.5 rounded-full",f(t.lead.status)])},n(t.lead.status||"new"),3)]),t.lead.company?(r(),d("div",w,n(t.lead.company),1)):i("",!0),t.lead.email?(r(),d("div",k,n(t.lead.email),1)):i("",!0),t.lead.phone?(r(),d("div",C,n(t.lead.phone),1)):i("",!0),a("div",D,[t.lead.contacted_at?(r(),d("div",T,[e[3]||(e[3]=a("span",{class:"font-medium text-gray-600"},"Contacted:",-1)),a("span",null,n(c(t.lead.contacted_at)),1)])):i("",!0),t.lead.last_communication_at?(r(),d("div",$,[e[4]||(e[4]=a("span",{class:"font-medium text-gray-600"},"Last comms:",-1)),a("span",null,n(c(t.lead.last_communication_at)),1)])):i("",!0)]),a("div",N,[a("button",{class:"text-xs text-indigo-600 hover:underline",onClick:e[0]||(e[0]=u(o=>m("edit",t.lead),["stop"]))},"Edit"),a("button",{class:"text-xs text-rose-600 hover:underline",onClick:e[1]||(e[1]=u(o=>m("delete",t.lead),["stop"]))},"Delete")])],32))}};export{B as default};
