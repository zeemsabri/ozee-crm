import{_ as N}from"./AuthenticatedLayout-7KjWacK4.js";import{r as d,A as C,h as s,o,e as i,u as v,q as $,a as u,b as t,g as D,t as n,k as x,F as y,i as E,S as _,m as P}from"./app-BFd-8kIE.js";import{_ as V}from"./NotesModal-Ch8Io-bU.js";import"./ApplicationLogo-C0WcFAYF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SecondaryButton-CJhP3nK4.js";import"./TextInput-BDV5wMMi.js";import"./InputError-DhXOP2h9.js";import"./PrimaryButton-CCPqaBb5.js";const A={class:"py-12"},B={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6"},S={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},F={class:"p-6 text-gray-900"},M={class:"flex justify-between items-center"},Y={class:"mt-1 text-sm text-gray-600"},L={class:"font-bold"},T={key:0,class:"mt-4"},q={key:0,class:"text-sm text-gray-500"},z={key:1,class:"text-sm text-red-500"},I={key:2,class:"text-sm text-gray-500"},U={key:3,class:"mt-3"},G={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-white divide-y divide-gray-200"},J={class:"px-3 py-2 whitespace-nowrap text-sm"},K={class:"px-3 py-2 whitespace-nowrap text-sm capitalize"},O={class:"px-3 py-2 whitespace-nowrap text-sm"},Q={class:"flex space-x-2"},R=["onClick"],rt={__name:"Dashboard",props:{projectCount:Number},setup(w){const c=d([]),m=d(!0),p=d(""),r=d(!1),g=d(!1),h=d(null),f=async()=>{m.value=!0,p.value="";try{const l=await P.get("/api/projects-simplified");c.value=l.data}catch(l){p.value="Failed to load projects",console.error("Error fetching projects:",l)}finally{m.value=!1}},b=()=>{r.value=!r.value,r.value&&c.value.length===0&&f()},k=l=>{h.value=l,g.value=!0},j=()=>{f()};return C(()=>{}),(l,e)=>(o(),s(y,null,[i(v($),{title:"Dashboard"}),i(N,null,{header:u(()=>e[1]||(e[1]=[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Dashboard ",-1)])),default:u(()=>[t("div",A,[t("div",B,[t("div",S,[t("div",F,[t("div",M,[e[2]||(e[2]=t("h3",{class:"text-lg font-medium text-gray-900"},"Projects",-1)),t("button",{onClick:b,class:"text-sm text-blue-600 hover:text-blue-800"},n(r.value?"Collapse":"Expand"),1)]),t("p",Y,[e[3]||(e[3]=x(" You have access to ")),t("span",L,n(w.projectCount),1),e[4]||(e[4]=x(" project(s). "))]),r.value?(o(),s("div",T,[m.value?(o(),s("div",q,"Loading projects...")):p.value?(o(),s("div",z,n(p.value),1)):c.value.length===0?(o(),s("div",I,"No projects found.")):(o(),s("div",U,[t("table",G,[e[7]||(e[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{scope:"col",class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",H,[(o(!0),s(y,null,E(c.value,a=>(o(),s("tr",{key:a.id},[t("td",J,n(a.name),1),t("td",K,n(a.status.replace("_"," ")),1),t("td",O,[t("div",Q,[i(v(_),{href:`/projects/${a.id}`,class:"text-xs bg-blue-500 hover:bg-blue-700 text-white py-1 px-2 rounded"},{default:u(()=>e[5]||(e[5]=[x(" View ")])),_:2,__:[5]},1032,["href"]),i(v(_),{href:`/emails/compose?project_id=${a.id}`,class:"text-xs bg-green-500 hover:bg-green-700 text-white py-1 px-2 rounded"},{default:u(()=>e[6]||(e[6]=[x(" Email ")])),_:2,__:[6]},1032,["href"]),t("button",{onClick:W=>k(a.id),class:"text-xs bg-purple-500 hover:bg-purple-700 text-white py-1 px-2 rounded"}," Notes ",8,R)])])]))),128))])])]))])):D("",!0)])]),e[8]||(e[8]=t("div",{class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},[t("div",{class:"p-6 text-gray-900"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Unread Email"),t("p",{class:"mt-1 text-sm text-gray-600"}," You have 0 unread emails. ")])],-1)),e[9]||(e[9]=t("div",{class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},[t("div",{class:"p-6 text-gray-900"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Due Tasks"),t("p",{class:"mt-1 text-sm text-gray-600"}," You have 0 tasks due soon. ")])],-1)),e[10]||(e[10]=t("div",{class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},[t("div",{class:"p-6 text-gray-900"},[t("h3",{class:"text-lg font-medium text-gray-900"},"Notice Board"),t("p",{class:"mt-1 text-sm text-gray-600"}," No new announcements at this time. ")])],-1))])]),i(V,{show:g.value,"project-id":h.value,onClose:e[0]||(e[0]=a=>g.value=!1),onNoteAdded:j},null,8,["show","project-id"])]),_:1})],64))}};export{rt as default};
