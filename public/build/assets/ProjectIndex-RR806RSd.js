import{c as l,o as i,a as e,r as h,b as ie,e as c,u,h as le,w as z,k as m,f as _,v as q,g as x,F as w,i as T,n as p,t as d,q as ee,K as de,L as P}from"./app-BWTxZZDy.js";import{b as ce,_ as ue}from"./AuthenticatedLayout-BMPCQPv1.js";import{_ as pe}from"./MultiSelectDropdown-Clvs2N0y.js";import{R as ge}from"./RightSidebar-SqaNTBDP.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as K}from"./BriefcaseIcon-BbP1d6j1.js";import{r as I,a as me}from"./SparklesIcon-ZYOWXEky.js";import{r as be,a as he}from"./PrinterIcon-f80raAek.js";import{r as ve}from"./ChevronDownIcon-pzgR3djb.js";import{r as te}from"./CheckCircleIcon-Dv9AuwUV.js";import{r as fe}from"./CalendarIcon-2Z-0OCBW.js";import{r as _e}from"./ClockIcon-8Lbw11xt.js";import{r as ye}from"./ArrowPathIcon-C0YxH5aL.js";import"./PrimaryButton-BzIltyHC.js";import"./Modal-DhzQz1HA.js";import"./InputLabel-BQibQid6.js";import"./InputError-CvLO1Qua.js";import"./SecondaryButton-BkrXt0yv.js";import"./index-BgGJTKOW.js";import"./BaseFormModal-BUVfnO--.js";import"./TextInput--vAmjZn0.js";import"./SelectDropdown-OjIlWwqk.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./ApplicationLogo-he3qmFdk.js";import"./createLucideIcon-oq7di1Il.js";import"./plus-DNukUt4O.js";import"./DangerButton-D_i8NBBl.js";import"./moment-BLMuvzoS.js";import"./taskState-CZv-z7Oy.js";import"./NoticeboardModal-DTW0kpEY.js";import"./x-Dr1vY3Z0.js";function we(E,v){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function se(E,v){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function ke(E,v){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"})])}function W(E,v){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const Ce={class:"flex justify-between items-center print:hidden"},De={class:"flex gap-3"},$e=["disabled"],Se={class:"py-8 bg-gray-50 min-h-screen print:bg-white print:py-0"},Te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},Ae={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 print:hidden relative overflow-hidden"},Ne={class:"absolute top-0 right-0 p-8 pt-0 pointer-events-none opacity-5"},Pe={class:"grid grid-cols-1 md:grid-cols-5 gap-6 items-end relative z-10"},Ve={class:"col-span-2"},Ie={class:"text-xs font-bold text-indigo-600 uppercase mb-2 block flex items-center gap-1"},Me={key:0,class:"bg-white p-12 text-center rounded-xl border border-dashed border-gray-300"},Ue=["onClick"],Re={class:"flex items-center space-x-4"},Ee={class:"h-12 w-12 rounded-lg bg-indigo-100 flex items-center justify-center text-indigo-600"},Fe={class:"font-bold text-xl text-gray-900"},je={class:"flex items-center gap-3 mt-1"},Be={key:0,class:"text-[10px] text-indigo-600 font-bold uppercase flex items-center"},He={key:1,class:"text-[10px] text-gray-400 font-bold uppercase"},Oe={class:"flex items-center gap-6"},Le=["onClick"],Je={class:"animate-in fade-in slide-in-from-top-2 duration-300 bg-gray-50/30"},Ze={class:"border-b border-gray-200 bg-white px-6 pt-3 print:hidden"},ze={class:"-mb-px flex space-x-8 overflow-x-auto custom-scrollbar","aria-label":"Tabs"},qe=["onClick"],Ke={class:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-[10px]"},We=["onClick"],Ye={class:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-[10px]"},Ge=["onClick"],Qe={class:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-[10px]"},Xe=["onClick"],et={class:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-[10px]"},tt=["onClick"],st={class:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-[10px]"},ot=["onClick"],rt={class:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-[10px]"},at={class:"p-6"},nt={class:"space-y-4"},it={key:0,class:"text-[10px] font-black tracking-widest text-indigo-500 uppercase mb-2 flex items-center"},lt={class:"flex justify-between items-start mb-2"},dt={class:"flex-1"},ct=["onClick"],ut={class:"flex items-center gap-3 mt-1"},pt={class:"text-[11px] text-gray-500 font-bold uppercase flex items-center"},gt={key:1,class:"mt-3 text-sm text-gray-600 whitespace-pre-wrap bg-gray-50 rounded p-3 border border-gray-100"},xt={key:0,class:"text-sm text-gray-400 italic py-4 text-center"},mt={class:"space-y-4"},bt={key:0,class:"text-[10px] font-black tracking-widest text-green-500 uppercase mb-2 flex items-center"},ht={class:"flex justify-between items-start mb-2"},vt={class:"flex-1"},ft=["onClick"],_t={class:"flex items-center gap-3 mt-1 ml-6.5"},yt={class:"text-[11px] text-gray-500 font-bold uppercase flex items-center"},wt={class:"text-[11px] text-gray-500 font-bold uppercase flex items-center"},kt={key:1,class:"mt-3 ml-6.5 text-sm text-gray-600 whitespace-pre-wrap bg-gray-50 rounded p-3 border border-gray-100"},Ct={key:0,class:"text-sm text-gray-400 italic py-4 text-center"},Dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$t={key:0,class:"absolute -top-3 -right-2"},St={class:"text-gray-800 text-sm mb-4 whitespace-pre-wrap leading-relaxed"},Tt={class:"flex items-center justify-between border-t border-blue-200/50 pt-3"},At={class:"flex items-center"},Nt={class:"h-6 w-6 rounded-full bg-blue-200 flex items-center justify-center text-[10px] font-bold text-blue-700 mr-2 shadow-sm"},Pt={class:"text-[11px] font-bold text-blue-800 tracking-wide"},Vt={class:"text-[10px] text-blue-500 font-bold"},It={key:0,class:"col-span-1 md:col-span-2 text-sm text-gray-400 italic py-4 text-center"},Mt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ut={key:0,class:"absolute -top-3 -right-2"},Rt={class:"text-gray-800 text-sm mb-4 whitespace-pre-wrap leading-relaxed"},Et={class:"flex items-center justify-between border-t border-orange-200/50 pt-3"},Ft={class:"flex items-center"},jt={class:"h-6 w-6 rounded-full bg-orange-200 flex items-center justify-center text-[10px] font-bold text-orange-700 mr-2 shadow-sm"},Bt={class:"text-[11px] font-bold text-orange-800 tracking-wide"},Ht={class:"text-[10px] text-orange-500 font-bold"},Ot={key:0,class:"col-span-1 md:col-span-2 text-sm text-gray-400 italic py-4 text-center"},Lt={class:"grid grid-cols-1 gap-4"},Jt={key:0,class:"absolute -top-3 -right-2"},Zt={class:"text-gray-800 text-sm mb-5 whitespace-pre-wrap leading-relaxed"},zt={class:"flex items-center justify-between border-t border-teal-200/50 pt-3"},qt={class:"flex items-center"},Kt={class:"h-6 w-6 rounded-full bg-teal-200 flex items-center justify-center text-[10px] font-bold text-teal-700 mr-2 shadow-sm"},Wt={class:"text-[11px] font-bold text-teal-800 tracking-wide"},Yt={class:"text-[10px] text-teal-500 font-bold"},Gt={key:0,class:"text-sm text-gray-400 italic py-4 text-center"},Qt={class:"space-y-4"},Xt={key:0,class:"absolute -top-3 -right-2"},es={class:"flex justify-between items-start mb-3"},ts={class:"flex items-center"},ss={class:"font-bold text-gray-900 text-lg"},os={class:"text-[11px] text-gray-500 font-bold uppercase mt-1 tracking-wider"},rs={class:"text-[11px] text-gray-400 font-bold bg-gray-50 px-2 py-1 rounded"},as={key:1,class:"mt-4 pt-4 border-t border-gray-100"},ns={class:"flex items-center mb-2"},is={class:"text-sm text-gray-700 leading-relaxed font-medium"},ls={key:0,class:"text-sm text-gray-400 italic py-4 text-center"},ds={__name:"ProjectIndex",setup(E){const v=h([]),Y=h([]),M=h(!1),O=h(!1),L=h({}),J=h([]),F=h(""),j=h(""),U=h(""),A=h({}),g=h({}),B=h(!1),Z=h(null),H=h(null),G=h([]),oe=n=>{A.value[n]=!A.value[n]},V=(n,o)=>{g.value[n]=o},Q=async n=>{if(!(!n||!n.id)){if(Z.value=n.id,H.value=n.project_id||0,H.value)try{const o=await window.axios.get(`/api/projects/${H.value}/sections/clients-users`);G.value=o.data.users||[]}catch(o){console.error("Failed to fetch project users",o)}B.value=!0}},X=async()=>{M.value=!0;try{const n=await window.axios.get("/api/productivity/project-report",{params:{project_ids:J.value.join(","),date_start:F.value,date_end:j.value}});v.value=n.data.reportData,Y.value=n.data.projects,v.value.length===1?(A.value[v.value[0].id]=!0,g.value[v.value[0].id]="todo"):v.value.forEach(o=>{o.has_activity&&(A.value[o.id]=!0,g.value[o.id]="todo")})}catch(n){console.error(n)}finally{M.value=!1}},f=n=>{if(!U.value||!n)return!1;const o=U.value.split("T")[0],s=n.split("T")[0];return o===s},R=n=>n?new Date(n).toLocaleDateString("en-AU",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",re=()=>{const n=v.value.map(s=>{var b,k,C,D,$,S;return{projectName:s.name,status:s.status,notes:(b=s.project_notes)==null?void 0:b.filter(a=>!a.type||a.type==="general"||a.type==="note").map(a=>({author:a.creator_name,content:a.content,date:a.created_at})),standups:(k=s.project_notes)==null?void 0:k.filter(a=>a.type==="standup").map(a=>({author:a.creator_name,content:a.content,date:a.created_at})),meetingMinutes:(C=s.project_notes)==null?void 0:C.filter(a=>a.type==="meeting_minutes").map(a=>({author:a.creator_name,content:a.content,date:a.created_at})),tasksTodo:(D=s.tasks)==null?void 0:D.filter(a=>a.status!=="Done").map(a=>({name:a.name,description:a.description,assignee:a.assigned_to,dueDate:a.due_date,status:a.status})),tasksDone:($=s.tasks)==null?void 0:$.filter(a=>a.status==="Done").map(a=>({name:a.name,description:a.description,assignee:a.assigned_to,finishedAt:a.updated_at})),communications:(S=s.emails)==null?void 0:S.map(a=>{var r,t;return{subject:a.subject,sender:a.sender,type:a.type,date:a.created_at,aiContext:(t=(r=a.contexts)==null?void 0:r[0])==null?void 0:t.summary}})}}),o=JSON.stringify(n,null,2);navigator.clipboard.writeText(o).then(()=>{O.value=!0,setTimeout(()=>O.value=!1,3e3)}).catch(s=>{console.error("Failed to copy text: ",s);const b=document.createElement("a");b.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(o)),b.setAttribute("download","project_activity_report.json"),b.style.display="none",document.body.appendChild(b),b.click(),document.body.removeChild(b)})},ae=(n,o)=>{var k,C,D,$,S,a;o&&o.stopPropagation();const s={projectName:n.name,status:n.status,notes:(k=n.project_notes)==null?void 0:k.filter(r=>!r.type||r.type==="general"||r.type==="note").map(r=>({author:r.creator_name,content:r.content,date:r.created_at})),standups:(C=n.project_notes)==null?void 0:C.filter(r=>r.type==="standup").map(r=>({author:r.creator_name,content:r.content,date:r.created_at})),meetingMinutes:(D=n.project_notes)==null?void 0:D.filter(r=>r.type==="meeting_minutes").map(r=>({author:r.creator_name,content:r.content,date:r.created_at})),tasksTodo:($=n.tasks)==null?void 0:$.filter(r=>r.status!=="Done").map(r=>({name:r.name,description:r.description,assignee:r.assigned_to,dueDate:r.due_date,status:r.status})),tasksDone:(S=n.tasks)==null?void 0:S.filter(r=>r.status==="Done").map(r=>({name:r.name,description:r.description,assignee:r.assigned_to,finishedAt:r.updated_at})),communications:(a=n.emails)==null?void 0:a.map(r=>{var t,N;return{subject:r.subject,sender:r.sender,type:r.type,date:r.created_at,aiContext:(N=(t=r.contexts)==null?void 0:t[0])==null?void 0:N.summary}})},b=JSON.stringify(s,null,2);navigator.clipboard.writeText(b).then(()=>{L.value[n.id]=!0,setTimeout(()=>L.value[n.id]=!1,3e3)}).catch(r=>{console.error("Failed to copy text: ",r);const t=document.createElement("a");t.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(b)),t.setAttribute("download",`project_${n.id}_activity.json`),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)})};ie(()=>{const n=new Date;U.value=n.toISOString().split("T")[0];const o=new Date(n.getFullYear(),n.getMonth(),1);F.value=o.toISOString().split("T")[0],j.value=n.toISOString().split("T")[0],X()});const ne=()=>window.print(),y=(n,o)=>n?o==="note"?n.filter(s=>!s.type||s.type==="note"||s.type==="general"):n.filter(s=>s.type===o):[];return(n,o)=>(i(),l(w,null,[c(u(le),{title:"Project Activity Report"}),c(ue,null,{header:z(()=>[e("div",Ce,[o[8]||(o[8]=e("h2",{class:"font-bold text-2xl text-gray-900 tracking-tight"},"Project Activity Report",-1)),e("div",De,[e("button",{onClick:re,class:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-lg text-sm font-semibold hover:from-purple-600 hover:to-indigo-700 shadow-sm transition"},[c(u(I),{class:"h-4 w-4 mr-2"}),x(" "+d(O.value?"Copied to Clipboard!":"Export JSON for AI"),1)]),e("button",{onClick:X,disabled:M.value,class:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-semibold hover:bg-indigo-700 shadow-sm transition disabled:opacity-50"},[c(u(ye),{class:p(["h-4 w-4 mr-2",{"animate-spin":M.value}])},null,8,["class"]),o[6]||(o[6]=x(" Refresh ",-1))],8,$e),e("button",{onClick:ne,class:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-semibold text-gray-700 hover:bg-gray-50 shadow-sm transition"},[c(u(he),{class:"h-4 w-4 mr-2"}),o[7]||(o[7]=x(" Export PDF ",-1))])])])]),default:z(()=>[e("div",Se,[e("div",Te,[e("div",Ae,[e("div",Ne,[c(u(K),{class:"h-48 w-48 text-indigo-900"})]),e("div",Pe,[e("div",Ve,[o[9]||(o[9]=e("label",{class:"text-xs font-bold text-gray-500 uppercase mb-2 block"},"Filter Projects",-1)),c(pe,{modelValue:J.value,"onUpdate:modelValue":o[0]||(o[0]=s=>J.value=s),options:Y.value,"is-multi":!0,placeholder:"All Projects"},null,8,["modelValue","options"])]),e("div",null,[o[10]||(o[10]=e("label",{class:"text-xs font-bold text-gray-500 uppercase mb-2 block"},"Range Start",-1)),_(e("input",{type:"date","onUpdate:modelValue":o[1]||(o[1]=s=>F.value=s),class:"w-full rounded-lg border-gray-300 text-sm focus:ring-indigo-500"},null,512),[[q,F.value]])]),e("div",null,[o[11]||(o[11]=e("label",{class:"text-xs font-bold text-gray-500 uppercase mb-2 block"},"Range End",-1)),_(e("input",{type:"date","onUpdate:modelValue":o[2]||(o[2]=s=>j.value=s),class:"w-full rounded-lg border-gray-300 text-sm focus:ring-indigo-500"},null,512),[[q,j.value]])]),e("div",null,[e("label",Ie,[c(u(I),{class:"h-3 w-3"}),o[12]||(o[12]=x(" Highlight Day",-1))]),_(e("input",{type:"date","onUpdate:modelValue":o[3]||(o[3]=s=>U.value=s),class:"w-full rounded-lg border-indigo-300 bg-indigo-50 text-indigo-900 font-bold text-sm focus:ring-indigo-500"},null,512),[[q,U.value]])])])]),v.value.length===0&&!M.value?(i(),l("div",Me,[c(u(K),{class:"h-12 w-12 text-gray-300 mx-auto mb-4"}),o[13]||(o[13]=e("p",{class:"text-gray-500 font-medium"},"No projects found for the selected criteria.",-1))])):m("",!0),(i(!0),l(w,null,T(v.value,s=>{var b,k,C,D,$,S,a,r;return i(),l("div",{key:s.id,class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden mb-6 transition-all duration-300 hover:shadow-md"},[e("div",{onClick:t=>oe(s.id),class:p(["p-6 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition print:cursor-default",{"border-b border-gray-100":A.value[s.id]}])},[e("div",Re,[e("div",Ee,[c(u(K),{class:"h-7 w-7"})]),e("div",null,[e("h4",Fe,d(s.name),1),e("div",je,[e("span",{class:p(["px-2 py-0.5 rounded text-[10px] font-black uppercase",s.status==="Active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"])},d(s.status),3),s.has_activity?(i(),l("span",Be,o[14]||(o[14]=[e("div",{class:"h-1.5 w-1.5 rounded-full bg-indigo-600 mr-1.5 animate-pulse"},null,-1),x(" Recent Activity ",-1)]))):(i(),l("span",He,"No Activity"))])])]),e("div",Oe,[e("button",{onClick:t=>ae(s,t),class:"print:hidden border border-indigo-200 hover:bg-indigo-50 text-indigo-600 rounded-md px-3 py-1.5 text-[11px] font-bold uppercase flex items-center shadow-sm transition"},[c(u(I),{class:"h-3 w-3 mr-1"}),x(" "+d(L.value[s.id]?"Copied!":"Export JSON"),1)],8,Le),(i(),ee(de(A.value[s.id]?u(be):u(ve)),{class:"h-5 w-5 text-gray-400 print:hidden"}))])],10,Ue),_(e("div",Je,[e("div",Ze,[e("nav",ze,[e("button",{onClick:t=>V(s.id,"todo"),class:p([g.value[s.id]==="todo"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","group whitespace-nowrap border-b-2 py-3 px-1 text-sm font-bold flex items-center"])},[c(u(we),{class:p(["h-4 w-4 mr-2",[g.value[s.id]==="todo"?"text-indigo-500":"text-gray-400 group-hover:text-gray-500"]])},null,8,["class"]),o[15]||(o[15]=x(" Todo ",-1)),e("span",Ke,d(((b=s.tasks)==null?void 0:b.filter(t=>t.status!=="Done").length)||0),1)],10,qe),e("button",{onClick:t=>V(s.id,"done"),class:p([g.value[s.id]==="done"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","group whitespace-nowrap border-b-2 py-3 px-1 text-sm font-bold flex items-center"])},[c(u(te),{class:p(["h-4 w-4 mr-2",[g.value[s.id]==="done"?"text-green-500":"text-gray-400 group-hover:text-gray-500"]])},null,8,["class"]),o[16]||(o[16]=x(" Done ",-1)),e("span",Ye,d(((k=s.tasks)==null?void 0:k.filter(t=>t.status==="Done").length)||0),1)],10,We),e("button",{onClick:t=>V(s.id,"notes"),class:p([g.value[s.id]==="notes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","group whitespace-nowrap border-b-2 py-3 px-1 text-sm font-bold flex items-center"])},[c(u(me),{class:p(["h-4 w-4 mr-2",[g.value[s.id]==="notes"?"text-blue-500":"text-gray-400 group-hover:text-gray-500"]])},null,8,["class"]),o[17]||(o[17]=x(" Notes ",-1)),e("span",Qe,d(y(s.project_notes,"note").length),1)],10,Ge),e("button",{onClick:t=>V(s.id,"standups"),class:p([g.value[s.id]==="standups"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","group whitespace-nowrap border-b-2 py-3 px-1 text-sm font-bold flex items-center"])},[c(u(ke),{class:p(["h-4 w-4 mr-2",[g.value[s.id]==="standups"?"text-orange-500":"text-gray-400 group-hover:text-gray-500"]])},null,8,["class"]),o[18]||(o[18]=x(" Standups ",-1)),e("span",et,d(y(s.project_notes,"standup").length),1)],10,Xe),e("button",{onClick:t=>V(s.id,"meetings"),class:p([g.value[s.id]==="meetings"?"border-teal-500 text-teal-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","group whitespace-nowrap border-b-2 py-3 px-1 text-sm font-bold flex items-center"])},[c(u(W),{class:p(["h-4 w-4 mr-2",[g.value[s.id]==="meetings"?"text-teal-500":"text-gray-400 group-hover:text-gray-500"]])},null,8,["class"]),o[19]||(o[19]=x(" Meeting Minutes ",-1)),e("span",st,d(y(s.project_notes,"meeting_minutes").length),1)],10,tt),e("button",{onClick:t=>V(s.id,"emails"),class:p([g.value[s.id]==="emails"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","group whitespace-nowrap border-b-2 py-3 px-1 text-sm font-bold flex items-center"])},[c(u(se),{class:p(["h-4 w-4 mr-2",[g.value[s.id]==="emails"?"text-purple-500":"text-gray-400 group-hover:text-gray-500"]])},null,8,["class"]),o[20]||(o[20]=x(" Emails ",-1)),e("span",rt,d(((C=s.emails)==null?void 0:C.length)||0),1)],10,ot)])]),e("div",at,[_(e("div",nt,[(i(!0),l(w,null,T((D=s.tasks)==null?void 0:D.filter(t=>t.status!=="Done"),t=>(i(),l("div",{key:t.id,class:p(["rounded-xl p-5 bg-white border",f(t.updated_at)?"border-indigo-400 ring-2 ring-indigo-100 shadow-md transform scale-[1.01] transition-transform":"border-gray-100 shadow-sm"])},[f(t.updated_at)?(i(),l("div",it,[c(u(I),{class:"h-3 w-3 mr-1"}),o[21]||(o[21]=x(" Highlighted Activity",-1))])):m("",!0),e("div",lt,[e("div",dt,[e("h6",{onClick:N=>Q(t),class:"font-bold text-gray-900 hover:text-indigo-600 cursor-pointer transition text-lg"},d(t.name),9,ct),e("div",ut,[e("span",{class:p(["text-[11px] text-gray-500 font-bold uppercase flex items-center",{"text-red-500":t.due_date&&new Date(t.due_date)<new Date}])},[c(u(fe),{class:"h-3 w-3 mr-1"}),x(" "+d(t.due_date||"No Due Date"),1)],2),e("span",pt,[c(u(W),{class:"h-3 w-3 mr-1"}),x(" "+d(t.assigned_to||"Unassigned"),1)])])]),e("span",{class:p(["px-2 py-1 rounded text-[10px] font-black uppercase tracking-wider",t.status==="In Progress"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"])},d(t.status),3)]),t.description?(i(),l("div",gt,d(t.description),1)):m("",!0)],2))),128)),($=s.tasks)!=null&&$.filter(t=>t.status!=="Done").length?m("",!0):(i(),l("div",xt,"No Todo tasks."))],512),[[P,g.value[s.id]==="todo"]]),_(e("div",mt,[(i(!0),l(w,null,T((S=s.tasks)==null?void 0:S.filter(t=>t.status==="Done"),t=>(i(),l("div",{key:t.id,class:p(["rounded-xl p-5 bg-white border",f(t.updated_at)?"border-green-400 ring-2 ring-green-100 shadow-md transform scale-[1.01] transition-transform":"border-gray-100 shadow-sm"])},[f(t.updated_at)?(i(),l("div",bt,[c(u(I),{class:"h-3 w-3 mr-1"}),o[22]||(o[22]=x(" Done on Highlight Date",-1))])):m("",!0),e("div",ht,[e("div",vt,[e("h6",{onClick:N=>Q(t),class:"font-bold text-gray-900 hover:text-indigo-600 cursor-pointer transition text-lg flex items-center"},[c(u(te),{class:"h-5 w-5 mr-1.5 text-green-500"}),x(" "+d(t.name),1)],8,ft),e("div",_t,[e("span",yt,[c(u(W),{class:"h-3 w-3 mr-1"}),x(" "+d(t.assigned_to||"Unassigned"),1)]),e("span",wt,[c(u(_e),{class:"h-3 w-3 mr-1"}),x(" Done: "+d(R(t.updated_at)),1)])])])]),t.description?(i(),l("div",kt,d(t.description),1)):m("",!0)],2))),128)),(a=s.tasks)!=null&&a.filter(t=>t.status==="Done").length?m("",!0):(i(),l("div",Ct,"No Done tasks."))],512),[[P,g.value[s.id]==="done"]]),_(e("div",Dt,[(i(!0),l(w,null,T(y(s.project_notes,"note"),t=>(i(),l("div",{key:t.id,class:p(["bg-blue-50/70 p-5 rounded-xl border relative",f(t.created_at)?"border-blue-400 ring-2 ring-blue-200":"border-blue-100"])},[f(t.created_at)?(i(),l("div",$t,o[23]||(o[23]=[e("span",{class:"flex h-3 w-3"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})],-1)]))):m("",!0),e("div",St,'"'+d(t.content)+'"',1),e("div",Tt,[e("div",At,[e("div",Nt,d(t.creator_name?t.creator_name.substring(0,2).toUpperCase():"??"),1),e("span",Pt,d(t.creator_name||"System"),1)]),e("span",Vt,d(R(t.created_at)),1)])],2))),128)),y(s.project_notes,"note").length?m("",!0):(i(),l("div",It,"No general notes."))],512),[[P,g.value[s.id]==="notes"]]),_(e("div",Mt,[(i(!0),l(w,null,T(y(s.project_notes,"standup"),t=>(i(),l("div",{key:t.id,class:p(["bg-orange-50/70 p-5 rounded-xl border relative",f(t.created_at)?"border-orange-400 ring-2 ring-orange-200":"border-orange-100"])},[f(t.created_at)?(i(),l("div",Ut,o[24]||(o[24]=[e("span",{class:"flex h-3 w-3"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-orange-500"})],-1)]))):m("",!0),e("div",Rt,d(t.content),1),e("div",Et,[e("div",Ft,[e("div",jt,d(t.creator_name?t.creator_name.substring(0,2).toUpperCase():"??"),1),e("span",Bt,d(t.creator_name||"System"),1)]),e("span",Ht,d(R(t.created_at)),1)])],2))),128)),y(s.project_notes,"standup").length?m("",!0):(i(),l("div",Ot,"No standups reported."))],512),[[P,g.value[s.id]==="standups"]]),_(e("div",Lt,[(i(!0),l(w,null,T(y(s.project_notes,"meeting_minutes"),t=>(i(),l("div",{key:t.id,class:p(["bg-teal-50/70 p-5 rounded-xl border relative",f(t.created_at)?"border-teal-400 ring-2 ring-teal-200":"border-teal-100"])},[f(t.created_at)?(i(),l("div",Jt,o[25]||(o[25]=[e("span",{class:"flex h-3 w-3"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-teal-400 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-teal-500"})],-1)]))):m("",!0),e("div",Zt,d(t.content),1),e("div",zt,[e("div",qt,[e("div",Kt,d(t.creator_name?t.creator_name.substring(0,2).toUpperCase():"??"),1),e("span",Wt,d(t.creator_name||"System"),1)]),e("span",Yt,d(R(t.created_at)),1)])],2))),128)),y(s.project_notes,"meeting_minutes").length?m("",!0):(i(),l("div",Gt,"No meeting minutes recorded."))],512),[[P,g.value[s.id]==="meetings"]]),_(e("div",Qt,[(i(!0),l(w,null,T(s.emails,t=>(i(),l("div",{key:t.id,class:p(["bg-white rounded-xl p-5 border shadow-sm relative transition",f(t.created_at)?"border-purple-400 ring-2 ring-purple-100":"border-gray-100"])},[f(t.created_at)?(i(),l("div",Xt,o[26]||(o[26]=[e("span",{class:"flex h-3 w-3"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-purple-400 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-purple-500"})],-1)]))):m("",!0),e("div",es,[e("div",ts,[e("div",{class:p([t.type==="Received"?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600","p-2 rounded-lg mr-4 shadow-sm"])},[c(u(se),{class:"h-5 w-5"})],2),e("div",null,[e("h6",ss,d(t.subject),1),e("p",os,d(t.type)+" â€¢ "+d(t.sender),1)])]),e("span",rs,d(R(t.created_at)),1)]),t.contexts.length?(i(),l("div",as,[(i(!0),l(w,null,T(t.contexts,N=>(i(),l("div",{key:N.id,class:"bg-purple-50 p-4 rounded-lg border border-purple-100"},[e("div",ns,[c(u(I),{class:"h-4 w-4 text-purple-600 mr-2"}),o[27]||(o[27]=e("span",{class:"text-[10px] font-black text-purple-600 uppercase tracking-widest"},"AI Summary",-1))]),e("div",is,d(N.summary),1)]))),128))])):m("",!0)],2))),128)),(r=s.emails)!=null&&r.length?m("",!0):(i(),l("div",ls,"No emails found for this period."))],512),[[P,g.value[s.id]==="emails"]])])],512),[[P,A.value[s.id]]])])}),128))])]),c(ge,{show:B.value,"onUpdate:show":o[5]||(o[5]=s=>B.value=s),title:"Task Details",initialWidth:45},{content:z(()=>[Z.value?(i(),ee(ce,{key:0,"task-id":Z.value,"project-id":H.value,"project-users":G.value,onClose:o[4]||(o[4]=s=>B.value=!1)},null,8,["task-id","project-id","project-users"])):m("",!0)]),_:1},8,["show"])]),_:1})],64))}},Os=xe(ds,[["__scopeId","data-v-7ffad818"]]);export{Os as default};
