import{_ as b}from"./AuthenticatedLayout-CgSDeV-R.js";import{r as y,c as k,o,a as i,b as e,e as l,i as r,h as p,n as c,m as a,F as _,j as h,t as d,g as C,q as D}from"./app-BcHKRy8Y.js";import{_ as N}from"./Modal-Bxl1wU_H.js";import{_ as R}from"./SecondaryButton-BBOwirgA.js";import{D as B}from"./DangerButton-DaIGxTKv.js";import"./PrimaryButton-CLnMvtm0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputLabel-FoWjQGRi.js";import"./InputError-DWGlKjdM.js";import"./TextInput-3GGxZrCp.js";import"./SelectDropdown-BOg5I1bh.js";import"./Checkbox-BJVyhDpU.js";import"./ApplicationLogo-C9TUAdCe.js";import"./moment-BLMuvzoS.js";const V={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 bg-white border-b border-gray-200"},S={class:"flex justify-between items-center mb-6"},T={key:0,class:"text-center py-4"},E={key:1,class:"overflow-x-auto"},F={class:"min-w-full divide-y divide-gray-200"},M={class:"bg-white divide-y divide-gray-200"},P={class:"px-6 py-4 whitespace-nowrap"},q={class:"text-sm font-medium text-gray-900"},I={class:"px-6 py-4 whitespace-nowrap"},L={class:"text-sm text-gray-500"},O={class:"px-6 py-4"},z={class:"text-sm text-gray-500"},G={class:"px-6 py-4"},H={class:"text-sm text-gray-500"},J={key:0},K={key:1,class:"flex flex-wrap gap-1"},Q={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},U={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},W={class:"flex space-x-2"},X=["onClick"],Y={class:"p-6"},Z={class:"mt-6 flex justify-end"},xe={__name:"Index",props:{roles:Array},setup(u){const x=y(!1),m=y(null),v=n=>{m.value=n,x.value=!0},f=()=>{x.value=!1,setTimeout(()=>{m.value=null},300)},w=()=>{m.value&&D.delete(route("admin.roles.destroy",m.value.id),{onSuccess:()=>{f()}})};return(n,t)=>(o(),k(b,null,{header:i(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Roles Management ",-1)])),default:i(()=>[e("div",V,[e("div",$,[e("div",j,[e("div",A,[e("div",S,[t[2]||(t[2]=e("h3",{class:"text-lg font-medium text-gray-900"},"Roles",-1)),l(p(c),{href:n.route("admin.roles.create"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},{default:i(()=>t[1]||(t[1]=[a(" Create New Role ",-1)])),_:1,__:[1]},8,["href"])]),!u.roles||u.roles.length===0?(o(),r("div",T,t[3]||(t[3]=[e("p",null,"No roles found. Create your first role to get started.",-1)]))):(o(),r("div",E,[e("table",F,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Slug "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Permissions "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",M,[(o(!0),r(_,null,h(u.roles,s=>(o(),r("tr",{key:s.id},[e("td",P,[e("div",q,d(s.name),1)]),e("td",I,[e("div",L,d(s.slug),1)]),e("td",O,[e("div",z,d(s.description),1)]),e("td",G,[e("div",H,[!s.permissions||s.permissions.length===0?(o(),r("span",J,"No permissions")):(o(),r("div",K,[(o(!0),r(_,null,h(s.permissions.slice(0,3),g=>(o(),r("span",{key:g.id,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},d(g.name),1))),128)),s.permissions&&s.permissions.length>3?(o(),r("span",Q," +"+d(s.permissions.length-3)+" more ",1)):C("",!0)]))])]),e("td",U,[e("div",W,[l(p(c),{href:n.route("admin.roles.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:i(()=>t[4]||(t[4]=[a("Edit",-1)])),_:2,__:[4]},1032,["href"]),l(p(c),{href:n.route("admin.roles.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:i(()=>t[5]||(t[5]=[a("View",-1)])),_:2,__:[5]},1032,["href"]),l(p(c),{href:n.route("admin.roles.permissions",s.id),class:"text-green-600 hover:text-green-900"},{default:i(()=>t[6]||(t[6]=[a("Permissions",-1)])),_:2,__:[6]},1032,["href"]),e("button",{onClick:g=>v(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,X)])])]))),128))])])]))])])])]),l(N,{show:x.value,onClose:f},{default:i(()=>[e("div",Y,[t[10]||(t[10]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this role? ",-1)),t[11]||(t[11]=e("p",{class:"mt-1 text-sm text-gray-600"}," Once this role is deleted, all users assigned to this role will lose the associated permissions. ",-1)),e("div",Z,[l(R,{onClick:f},{default:i(()=>t[8]||(t[8]=[a(" Cancel ",-1)])),_:1,__:[8]}),l(B,{class:"ml-3",onClick:w},{default:i(()=>t[9]||(t[9]=[a(" Delete Role ",-1)])),_:1,__:[9]})])])]),_:1},8,["show"])]),_:1}))}};export{xe as default};
