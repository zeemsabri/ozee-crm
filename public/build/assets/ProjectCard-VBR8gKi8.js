import{a as s,o,b as t,r as g,c as S,e as J,f as K,H as Q,i as m,t as n,j as u,d as H,u as O,w as X,m as p,A as Y,F as h,l as k,k as ee,U as te}from"./app-CAFAb1eF.js";import{d as se,c as T,f as G}from"./currency-Bnw3WT5K.js";function oe(l,i){return o(),s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"})])}const ae={class:"flex items-center justify-between mb-4"},le={class:"flex items-center gap-2"},ne={class:"text-xl font-semibold text-gray-900"},re={key:0,class:"px-2 py-1 text-xs font-semibold text-blue-800 bg-blue-100 rounded-full"},ie={key:1,class:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full"},de=["title","aria-label"],ce={class:"flex items-center gap-3"},ue=["href"],me={key:0,class:"flex items-start gap-4 p-4 mb-6 border-l-4 border-red-500 bg-red-50 rounded-lg"},xe={class:"flex-grow"},ye={class:"font-medium text-sm text-red-800"},ve={class:"flex justify-between items-center mt-2"},ge={class:"text-xs font-semibold text-red-600"},be={key:0,class:"text-xs text-red-600"},pe={key:1,class:"tabs"},fe={class:"flex border-b border-gray-200"},he={key:0,class:"tab-content pt-4"},ke={class:"space-y-3 text-sm text-gray-700"},_e={class:"flex justify-between items-center"},we={class:"flex justify-between items-center"},je={key:0,class:"text-gray-500"},Ce={key:1},Te={key:2},Ve={class:"flex justify-between items-center"},$e={class:"px-2 py-0.5 text-xs font-medium text-green-800 bg-green-200 rounded-full"},Le={class:"mt-3"},Se={key:0,class:"text-sm text-gray-700"},Me={key:1,class:"text-sm text-gray-400"},Ne={key:1,class:"tab-content pt-4"},Ee={class:"flex space-x-2 border-b border-gray-200 mb-3"},Be={class:"ml-1 px-2 py-0.5 text-xs font-medium text-gray-600 bg-gray-200 rounded-full"},Pe={class:"ml-1 px-2 py-0.5 text-xs font-medium text-gray-600 bg-gray-200 rounded-full"},Ae={key:0},De={key:0,class:"space-y-2 text-sm text-gray-700"},ze={class:"flex items-center space-x-2"},Re=["aria-label"],Ue={key:1,class:"mt-4 text-center text-sm text-gray-500"},Fe={key:1},He={key:0,class:"space-y-2 text-sm text-gray-700"},Oe={class:"flex items-center space-x-2"},Ge=["aria-label"],We={key:1,class:"mt-4 text-center text-sm text-gray-500"},Ze={class:"mt-4 pt-4 border-t border-gray-200"},qe={key:0,class:"text-sm text-gray-500"},Ie={key:1,class:"text-sm text-red-600"},Je={key:2,class:"text-sm text-gray-500"},Ke={class:"line-through"},Qe={class:"flex items-center space-x-2"},Xe=["aria-label"],Ye=["aria-expanded"],et={key:0},tt={key:1},st={key:2,class:"tab-content pt-4"},ot={class:"space-y-3 text-sm text-gray-700"},at={class:"font-semibold"},lt={class:"font-semibold text-yellow-700"},nt={class:"mt-4"},rt={key:0,class:"space-y-2"},it={class:"text-sm text-gray-800"},dt={class:"text-xs text-gray-500 mt-1"},ct={key:0},ut={key:1,class:"ml-1"},mt={key:2,class:"ml-1"},xt={key:1,class:"text-sm text-gray-400"},yt={key:2},vt={class:"mb-6"},gt={class:"flex space-x-2 border-b border-gray-200 mb-3"},bt={class:"ml-1 px-2 py-0.5 text-xs font-medium text-gray-600 bg-gray-200 rounded-full"},pt={class:"ml-1 px-2 py-0.5 text-xs font-medium text-gray-600 bg-gray-200 rounded-full"},ft={key:0},ht={key:0,class:"space-y-2 text-sm text-gray-700"},kt={class:"max-w-[80%]"},_t={class:"flex items-center space-x-2"},wt=["aria-label"],jt={key:1,class:"mt-4 text-center text-sm text-gray-500"},Ct={key:1},Tt={key:0,class:"space-y-2 text-sm text-gray-700"},Vt={class:"flex items-center space-x-2"},$t=["aria-label"],Lt={key:1,class:"mt-4 text-center text-sm text-gray-500"},St={class:"mt-4 pt-4 border-t border-gray-200"},Mt={class:"space-y-2 text-sm text-gray-700"},Nt={class:"font-semibold"},Et={class:"font-semibold text-yellow-700"},Bt={class:"mt-2"},Pt={key:0,class:"space-y-2"},At={class:"text-sm text-gray-800"},Dt={class:"text-xs text-gray-500 mt-1"},zt={key:0},Rt={key:1,class:"ml-1"},Ut={key:2,class:"ml-1"},Ft={key:1,class:"text-sm text-gray-400"},Ht={class:"mt-4 pt-4 border-t border-gray-200"},Ot={key:0,class:"text-sm text-gray-500"},Gt={key:1,class:"text-sm text-red-600"},Wt={key:2,class:"text-sm text-gray-500"},Zt={class:"line-through"},qt={class:"flex items-center space-x-2"},It=["aria-label"],Jt=["aria-expanded"],Kt={key:0},Qt={key:1},Xt={class:"p-4 bg-indigo-50 rounded-lg mt-6"},Yt={class:"text-base font-semibold text-indigo-900 mb-2"},es={class:"text-sm text-indigo-700 mb-1"},ts={key:0},ss={key:1},os={class:"w-full bg-gray-200 rounded-full h-2.5 mb-2"},as={class:"text-right text-xs font-medium text-indigo-600"},ls={class:"text-xs text-indigo-800 italic mt-3"},is={__name:"ProjectCard",props:{project:Object},setup(l){const i=l,y=g("overview"),c=g("today"),b=g(!1),_=g(!1),V=g(!1),j=g(null),A=g([]),w=S(()=>{var r;return _.value?A.value:((r=i.project.tasks)==null?void 0:r.completed)||[]}),f=S(()=>Array.isArray(w.value)?w.value.length:0),W=S(()=>!i.project||!i.project.google_chat_id?"#":`https://mail.google.com/chat/u/0/#chat/${i.project.google_chat_id.replace("spaces/","space/")}`);function x(r){const e=String(r||"").toLowerCase();return e==="to do"||e==="started"?{label:"To Do",classes:"px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-100 rounded-full"}:e==="in progress"||e==="started"?{label:"Started",classes:"px-2 py-1 text-xs font-semibold text-yellow-800 bg-yellow-100 rounded-full"}:e==="blocked"?{label:"Blocked",classes:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full"}:e==="paused"?{label:"Paused",classes:"px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-100 rounded-full"}:e==="done"||e==="complete"||e==="completed"?{label:"Complete",classes:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full"}:null}async function Z(){var r,e;if(!(!i.project||!i.project.id)){V.value=!0,j.value=null;try{const{data:d}=await window.axios.get(`/api/workspace/projects/${i.project.id}/completed-tasks`);A.value=Array.isArray(d)?d:[],_.value=!0}catch(d){console.error(`Failed to load completed tasks for project ${i.project.id}`,d),j.value=((e=(r=d==null?void 0:d.response)==null?void 0:r.data)==null?void 0:e.message)||"Failed to load completed tasks"}finally{V.value=!1}}}function M(){!_.value&&!V.value?Z().then(()=>{b.value=!0}):b.value=!b.value}const v=g(null),N=g(!1),B=g(null),q=se,$=S(()=>{if(!v.value)return null;const r=v.value.currency||"AUD",e=q.value||"USD";return{total_budget:T(v.value.total_budget??0,r,e),total_assigned_milestone_amount:T(v.value.total_assigned_milestone_amount??0,r,e),total_pending_contract_amount:T(v.value.total_pending_contract_amount??0,r,e),total_approved_contract_amount:T(v.value.total_approved_contract_amount??0,r,e),total_expendable_amount:T(v.value.total_expendable_amount??0,r,e),available_for_new_milestones:T(v.value.available_for_new_milestones??0,r,e),currency:e}}),D=S(()=>{if(!$.value)return null;const r=G($.value.available_for_new_milestones,$.value.currency),e=G($.value.total_budget,$.value.currency);return`${r} available of ${e}`});async function I(){var r,e;if(!i.project||!i.project.id||i.project.role!=="Manager"){v.value=null,B.value=null,N.value=!1;return}N.value=!0,B.value=null;try{const{data:d}=await window.axios.get(`/api/projects/${i.project.id}/expendable-budget`);v.value=d}catch(d){console.error(`Failed to load expendable budget for project ${i.project.id}`,d),B.value=((e=(r=d==null?void 0:d.response)==null?void 0:r.data)==null?void 0:e.message)||"Unable to load budget",v.value=null}finally{N.value=!1}}J(()=>{var r,e;return[(r=i.project)==null?void 0:r.id,(e=i.project)==null?void 0:e.role]},()=>{I()},{immediate:!0});const L=g(null);function z(r){var C,R,U;const e=r.target.closest("a");if(!e)return;const d=e.getAttribute("aria-label")||"";if(!d.startsWith("View details for task:"))return;r.preventDefault();const E=d.replace("View details for task: ","").trim(),a=[...((C=i.project.tasks)==null?void 0:C.today)||[],...((R=i.project.tasks)==null?void 0:R.tomorrow)||[],...w&&w.value?w.value:((U=i.project.tasks)==null?void 0:U.completed)||[]].find(F=>F&&F.name===E);a&&a.id&&te(a.id,i.project.id)}return K(()=>{L.value&&L.value.addEventListener("click",z)}),Q(()=>{L.value&&L.value.removeEventListener("click",z)}),(r,e)=>{var d,E,P;return o(),s("div",{class:"bg-white rounded-xl shadow-md p-6",ref_key:"cardRef",ref:L},[t("div",ae,[t("div",le,[t("h2",ne,n(l.project.name),1),l.project.role==="Manager"?(o(),s("span",re,"Manager")):(o(),s("span",ie,"Contributor")),t("div",{class:u([{"bg-red-500":l.project.health==="at-risk","bg-yellow-500":l.project.health==="needs-attention","bg-green-500":l.project.health==="on-track"},"w-3 h-3 rounded-full"]),title:`Project health status: ${l.project.health.replace("-"," ")}`,"aria-label":`Project health status: ${l.project.health.replace("-"," ")}`},null,10,de)]),t("div",ce,[l.project.google_chat_id?(o(),s("a",{key:0,href:W.value,target:"_blank",rel:"noopener",class:"text-gray-500 hover:text-indigo-600",title:"Open Google Chat","aria-label":"Open Google Chat"},[H(O(oe),{class:"h-5 w-5"})],8,ue)):m("",!0),H(O(Y),{href:r.route("projects.show",l.project.id),class:"text-indigo-600 text-sm font-medium hover:underline"},{default:X(()=>e[7]||(e[7]=[p("View Project",-1)])),_:1,__:[7]},8,["href"])])]),l.project.alert?(o(),s("div",me,[e[8]||(e[8]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-red-500 flex-shrink-0",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"}),t("path",{d:"M11 12H9V8h2v4zM11 16H9v-2h2v2z"})],-1)),t("div",xe,[t("p",ye,n(l.project.alert.text),1),t("div",ve,[t("span",ge,n(l.project.alert.timer)+" remaining",1),l.project.alert.incentive?(o(),s("span",be,n(l.project.alert.incentive),1)):m("",!0)])])])):m("",!0),l.project.role==="Manager"?(o(),s("div",pe,[t("div",fe,[t("button",{class:u([{"active text-gray-900 border-b-2 border-indigo-600":y.value==="overview","text-gray-500 hover:text-gray-900":y.value!=="overview"},"tab-button flex-1 py-2 text-sm font-medium focus:outline-none transition-all-colors"]),onClick:e[0]||(e[0]=a=>y.value="overview")}," Overview ",2),t("button",{class:u([{"active text-gray-900 border-b-2 border-indigo-600":y.value==="tasks","text-gray-500 hover:text-gray-900":y.value!=="tasks"},"tab-button flex-1 py-2 text-sm font-medium focus:outline-none transition-all-colors"]),onClick:e[1]||(e[1]=a=>y.value="tasks")}," Team's Tasks ",2),t("button",{class:u([{"active text-gray-900 border-b-2 border-indigo-600":y.value==="communication","text-gray-500 hover:text-gray-900":y.value!=="communication"},"tab-button flex-1 py-2 text-sm font-medium focus:outline-none transition-all-colors"]),onClick:e[2]||(e[2]=a=>y.value="communication")}," Communication ",2)]),y.value==="overview"?(o(),s("div",he,[t("div",ke,[t("p",_e,[e[9]||(e[9]=t("span",{class:"font-medium"},"Milestone:",-1)),t("span",null,n(l.project.overview.milestone),1)]),t("p",we,[e[10]||(e[10]=t("span",{class:"font-medium"},"Budget:",-1)),t("span",null,[N.value?(o(),s("span",je,"Loading...")):D.value?(o(),s("span",Ce,n(D.value),1)):(o(),s("span",Te,n(l.project.overview.budget),1))])]),t("p",Ve,[e[11]||(e[11]=t("span",{class:"font-medium"},"Project Status:",-1)),t("span",$e,n(l.project.overview.status),1)]),t("div",Le,[e[12]||(e[12]=t("h5",{class:"text-sm font-semibold text-gray-600 mb-1"},"Latest Context",-1)),l.project.overview.latestContext?(o(),s("p",Se,n(l.project.overview.latestContext),1)):(o(),s("p",Me,"—"))])])])):y.value==="tasks"?(o(),s("div",Ne,[t("div",null,[e[19]||(e[19]=t("h4",{class:"text-base font-semibold text-gray-900 mb-2"},"Team Tasks",-1)),t("div",Ee,[t("button",{class:u(["task-tab-button flex-1 text-sm font-medium py-1 transition-all-colors",{"text-gray-900 border-b-2 border-indigo-600":c.value==="today","text-gray-500 hover:text-gray-900":c.value!=="today"}]),onClick:e[3]||(e[3]=a=>c.value="today")},[e[13]||(e[13]=p(" Today ",-1)),t("span",Be,n(l.project.tasks.today.length),1)],2),t("button",{class:u(["task-tab-button flex-1 text-sm font-medium py-1 transition-all-colors",{"text-gray-900 border-b-2 border-indigo-600":c.value==="tomorrow","text-gray-500 hover:text-gray-900":c.value!=="tomorrow"}]),onClick:e[4]||(e[4]=a=>c.value="tomorrow")},[e[14]||(e[14]=p(" Tomorrow ",-1)),t("span",Pe,n(l.project.tasks.tomorrow.length),1)],2)]),c.value==="today"?(o(),s("div",Ae,[l.project.tasks.today.length?(o(),s("div",De,[(o(!0),s(h,null,k(l.project.tasks.today,a=>(o(),s("div",{key:a.name,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50"},[t("span",null,n(a.name),1),t("div",ze,[x(a.status)?(o(),s("span",{key:0,class:u(x(a.status).classes)},n(x(a.status).label),3)):m("",!0),t("a",{href:"#",class:"text-xs text-indigo-600 font-medium hover:underline transition-all-colors","aria-label":`View details for task: ${a.name}`},"View",8,Re)])]))),128))])):(o(),s("div",Ue,e[15]||(e[15]=[t("p",null,"No tasks due today. Nice work!",-1)])))])):(o(),s("div",Fe,[l.project.tasks.tomorrow.length?(o(),s("div",He,[(o(!0),s(h,null,k(l.project.tasks.tomorrow,a=>(o(),s("div",{key:a.name,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50"},[t("span",null,n(a.name),1),t("div",Oe,[x(a.status)?(o(),s("span",{key:0,class:u(x(a.status).classes)},n(x(a.status).label),3)):m("",!0),t("a",{href:"#",class:"text-xs text-indigo-600 font-medium hover:underline transition-all-colors","aria-label":`View details for task: ${a.name}`},"View",8,Ge)])]))),128))])):(o(),s("div",We,e[16]||(e[16]=[t("p",null,"No tasks due tomorrow. Enjoy your day!",-1)])))])),t("div",Ze,[e[18]||(e[18]=t("h5",{class:"text-sm font-semibold text-gray-500 mb-2"},"Completed Tasks",-1)),V.value?(o(),s("div",qe,"Loading completed tasks...")):j.value?(o(),s("div",Ie,n(j.value),1)):_.value&&f.value===0?(o(),s("div",Je," No completed tasks yet. ")):(o(),s("div",{key:3,class:u([{hidden:!b.value},"space-y-2 text-sm text-gray-400"])},[(o(!0),s(h,null,k(w.value,a=>(o(),s("div",{key:a.name,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50"},[t("span",Ke,n(a.name),1),t("div",Qe,[e[17]||(e[17]=t("span",{class:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full"},"Complete",-1)),t("a",{href:"#",class:"text-xs text-indigo-600 font-medium hover:underline transition-all-colors","aria-label":`View details for task: ${a.name}`},"View",8,Xe)])]))),128))],2)),_.value?(o(),s("button",{key:5,onClick:M,class:"mt-4 text-indigo-600 text-sm font-medium hover:underline transition-all-colors","aria-expanded":b.value},[b.value?(o(),s("span",tt,"Hide Completed ("+n(f.value)+")",1)):(o(),s("span",et,"Show "+n(f.value)+" Completed Task"+n(f.value>1?"s":""),1))],8,Ye)):(o(),s("button",{key:4,onClick:M,class:"mt-4 text-indigo-600 text-sm font-medium hover:underline transition-all-colors"}," View Completed Tasks "))])])])):(o(),s("div",st,[t("div",ot,[t("p",null,[e[20]||(e[20]=p("Last Email Sent: ",-1)),t("span",at,n(l.project.communication.lastSent),1)]),t("p",null,[e[21]||(e[21]=p("Last Email Received: ",-1)),t("span",lt,n(l.project.communication.lastReceived),1)]),t("div",nt,[e[22]||(e[22]=t("h5",{class:"text-sm font-semibold text-gray-600 mb-2"},"Latest Contexts",-1)),l.project.communication.contexts&&l.project.communication.contexts.length?(o(),s("div",rt,[(o(!0),s(h,null,k(l.project.communication.contexts.slice(0,5),(a,C)=>(o(),s("div",{key:C,class:"p-2 rounded-lg bg-gray-50"},[t("div",it,n(a.summary),1),t("div",dt,[a.user?(o(),s("span",ct,n(a.user),1)):m("",!0),a.source_type?(o(),s("span",ut,"• "+n(a.source_type),1)):m("",!0),a.created_at?(o(),s("span",mt,"• "+n(a.created_at),1)):m("",!0)])]))),128))])):(o(),s("p",xt,"No recent contexts."))])])]))])):(o(),s("div",yt,[t("div",vt,[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-3"},"My Tasks",-1)),t("div",gt,[t("button",{class:u(["task-tab-button flex-1 text-sm font-medium py-1 transition-all-colors",{"text-gray-900 border-b-2 border-indigo-600":c.value==="today","text-gray-500 hover:text-gray-900":c.value!=="today"}]),onClick:e[5]||(e[5]=a=>c.value="today")},[e[23]||(e[23]=p(" Today ",-1)),t("span",bt,n(l.project.tasks.today.length),1)],2),t("button",{class:u(["task-tab-button flex-1 text-sm font-medium py-1 transition-all-colors",{"text-gray-900 border-b-2 border-indigo-600":c.value==="tomorrow","text-gray-500 hover:text-gray-900":c.value!=="tomorrow"}]),onClick:e[6]||(e[6]=a=>c.value="tomorrow")},[e[24]||(e[24]=p(" Tomorrow ",-1)),t("span",pt,n(l.project.tasks.tomorrow.length),1)],2)]),c.value==="today"?(o(),s("div",ft,[l.project.tasks.today.length?(o(),s("div",ht,[(o(!0),s(h,null,k(l.project.tasks.today,a=>(o(),s("div",{key:a.name,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50"},[t("span",kt,n(a.name),1),t("div",_t,[x(a.status)?(o(),s("span",{key:0,class:u(x(a.status).classes)},n(x(a.status).label),3)):m("",!0),t("a",{href:"#",class:"text-xs text-indigo-600 font-medium hover:underline transition-all-colors","aria-label":`View details for task: ${a.name}`},"View",8,wt)])]))),128))])):(o(),s("div",jt,e[25]||(e[25]=[t("p",null,"No tasks due today. Well done!",-1)])))])):(o(),s("div",Ct,[l.project.tasks.tomorrow.length?(o(),s("div",Tt,[(o(!0),s(h,null,k(l.project.tasks.tomorrow,a=>(o(),s("div",{key:a.name,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50"},[t("span",null,n(a.name),1),t("div",Vt,[x(a.status)?(o(),s("span",{key:0,class:u(x(a.status).classes)},n(x(a.status).label),3)):m("",!0),t("a",{href:"#",class:"text-xs text-indigo-600 font-medium hover:underline transition-all-colors","aria-label":`View details for task: ${a.name}`},"View",8,$t)])]))),128))])):(o(),s("div",Lt,e[26]||(e[26]=[t("p",null,"No tasks due tomorrow. Enjoy your day!",-1)])))])),t("div",St,[e[30]||(e[30]=t("h5",{class:"text-sm font-semibold text-gray-500 mb-2"},"Communication",-1)),t("div",Mt,[t("p",null,[e[27]||(e[27]=p("Last Email Sent: ",-1)),t("span",Nt,n(((d=l.project.communication)==null?void 0:d.lastSent)||"—"),1)]),t("p",null,[e[28]||(e[28]=p("Last Email Received: ",-1)),t("span",Et,n(((E=l.project.communication)==null?void 0:E.lastReceived)||"—"),1)]),t("div",Bt,[e[29]||(e[29]=t("h6",{class:"text-xs font-semibold text-gray-600 mb-1"},"Latest Contexts",-1)),(P=l.project.communication)!=null&&P.contexts&&l.project.communication.contexts.length?(o(),s("div",Pt,[(o(!0),s(h,null,k(l.project.communication.contexts.slice(0,5),(a,C)=>(o(),s("div",{key:C,class:"p-2 rounded-lg bg-gray-50"},[t("div",At,n(a.summary),1),t("div",Dt,[a.user?(o(),s("span",zt,n(a.user),1)):m("",!0),a.source_type?(o(),s("span",Rt,"• "+n(a.source_type),1)):m("",!0),a.created_at?(o(),s("span",Ut,"• "+n(a.created_at),1)):m("",!0)])]))),128))])):(o(),s("p",Ft,"No recent contexts."))])])]),t("div",Ht,[e[32]||(e[32]=t("h5",{class:"text-sm font-semibold text-gray-500 mb-2"},"Completed Tasks",-1)),V.value?(o(),s("div",Ot,"Loading completed tasks...")):j.value?(o(),s("div",Gt,n(j.value),1)):_.value&&f.value===0?(o(),s("div",Wt," No completed tasks yet. ")):(o(),s("div",{key:3,class:u([{hidden:!b.value},"space-y-2 text-sm text-gray-400"])},[(o(!0),s(h,null,k(w.value,a=>(o(),s("div",{key:a.name,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50"},[t("span",Zt,n(a.name),1),t("div",qt,[e[31]||(e[31]=t("span",{class:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full"},"Complete",-1)),t("a",{href:"#",class:"text-xs text-indigo-600 font-medium hover:underline transition-all-colors","aria-label":`View details for task: ${a.name}`},"View",8,It)])]))),128))],2)),_.value?(o(),s("button",{key:5,onClick:M,class:"mt-4 text-indigo-600 text-sm font-medium hover:underline transition-all-colors","aria-expanded":b.value},[b.value?(o(),s("span",Qt,"Hide Completed ("+n(f.value)+")",1)):(o(),s("span",Kt,"Show "+n(f.value)+" Completed Task"+n(f.value>1?"s":""),1))],8,Jt)):(o(),s("button",{key:4,onClick:M,class:"mt-4 text-indigo-600 text-sm font-medium hover:underline transition-all-colors"}," View Completed Tasks "))])]),t("div",Xt,[t("h3",Yt,"Current Milestone: "+n(l.project.milestone.name),1),t("p",es,[l.project.milestone.completed!=null&&l.project.milestone.left!=null?(o(),s("span",ts,n(l.project.milestone.completed)+" completed • "+n(l.project.milestone.left)+" left ",1)):(o(),s("span",ss,"Progress overview"))]),t("div",os,[t("div",{class:"bg-indigo-600 h-2.5 rounded-full",style:ee(`width: ${l.project.milestone.progress}%`)},null,4)]),t("p",as,n(l.project.milestone.progress)+"% Complete",1),t("p",ls,n(l.project.milestone.incentive),1)])]))],512)}}};export{is as default};
