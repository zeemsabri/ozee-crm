import{r as O,c as K,T as Vt,f as Ge,v as _s,a as h,i as T,o as d,F as ae,l as re,b as l,t as V,u as B,U as lo,V as Ba,W as uo,X as co,j as G,Y as Lt,Z as qe,_ as he,$ as Zt,a0 as Qs,a1 as Ua,a2 as fo,a3 as et,a4 as Xa,a5 as po,a6 as Ha,a7 as Ue,a8 as mo,a9 as Pn,aa as qa,ab as za,ac as Wa,ad as Ga,ae as Ka,af as bs,ag as Ja,ah as Zs,ai as Ya,aj as Qa,p as oe,e as me,g as X,w as I,m as M,d as _,x as de,A as Le,B as zt,R as Za,n as lt,y as en,O as je,N as Se,I as fe,J as ns,K as _t,k as ei,ak as ho,al as ti,am as Dn,z as Ye,G as Xe,an as vo,ao as qs,q as tn,ap as nt,aq as Ae,M as si,ar as Ke,as as js,S as ni,D as oi,E as go,at as ai,au as ii,av as Rn,aw as Ln,H as ri}from"./app-wG1Nzvtw.js";import{P as ke}from"./PrimaryButton-B0BUrHzJ.js";import{_ as ds}from"./Modal-DjZa3W9H.js";import{_ as Q}from"./InputLabel-CRYkFAds.js";import{_ as ee}from"./InputError-D8OUidnG.js";import{_ as jt}from"./SecondaryButton-CIZz9SNh.js";import{_ as Tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ve}from"./TextInput-CntfJ1Tp.js";import{S as Me}from"./SelectDropdown-Cp8xMcHg.js";import{_ as li}from"./Checkbox-BHJaa5Qa.js";import{A as ui}from"./ApplicationLogo-Br_It60z.js";import{D as sn}from"./DangerButton-unSBjdjI.js";import{h as ci}from"./moment-BLMuvzoS.js";const di={key:0,class:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2"},fi={key:0,class:"notification-list w-full max-w-xs space-y-2"},pi={class:"flex-1 min-w-0"},mi={class:"flex items-start justify-between gap-2 mb-1"},hi={class:"flex-1 min-w-0"},vi={key:0,class:"text-base font-semibold text-gray-800 truncate"},gi={key:1,class:"text-xs text-gray-500"},yi={key:0,class:"text-xs text-gray-600 mb-2"},_i={class:"flex items-center justify-between mt-2"},bi={key:0,class:"text-xs text-gray-500 font-medium"},ki=["onClick"],wi={key:1,class:"flex justify-end w-full max-w-xs"},xi={key:0},Ei={key:1},at="notification_minimized_state",Si=3,Ti={__name:"PushNotificationContainer",props:{sidebarIsOpen:{type:Boolean,default:!1}},setup(e){const t=O(!1),s=O(null),o=O(0),n=O(null),i=K(()=>Vt.value.notifications.filter(f=>f.isNewPush).slice(0,Si)),a=K(()=>{const f=Math.floor(o.value/60),m=o.value%60;return`${String(f).padStart(2,"0")}:${String(m).padStart(2,"0")}`}),c=f=>{if(!f)return null;const m=f.match(/\/task\/(\d+)/);return m?parseInt(m[1]):null},r=f=>{if(!f)return null;const m=f.match(/\/project\/(\d+)\//);return m?parseInt(m[1]):null},u=()=>{if(t.value=!t.value,clearTimeout(s.value),clearInterval(n.value),t.value){const f=Date.now()+3e5;localStorage.setItem(at,JSON.stringify({isMinimized:!0,expiryTime:f})),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(at)},3e5),o.value=300,n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)}else localStorage.removeItem(at)},p=async f=>{Ba(f.id),await uo(f.view_id);const m=f.task_id||c(f.url),v=f.project_id||r(f.url);m&&v?co(m,v):(console.warn("Could not open task sidebar. Falling back to redirecting."),f.url&&(window.location.href=f.url))};return Ge(()=>{const f=localStorage.getItem(at);if(f)try{const{isMinimized:m,expiryTime:v}=JSON.parse(f),k=Date.now(),g=v-k;g>0?(t.value=m,o.value=Math.floor(g/1e3),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(at)},g),n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)):localStorage.removeItem(at)}catch(m){console.error("Error restoring notification minimized state:",m),localStorage.removeItem(at)}}),_s(()=>{clearTimeout(s.value),clearInterval(n.value)}),(f,m)=>e.sidebarIsOpen?T("",!0):(d(),h("div",di,[!t.value&&i.value.length>0?(d(),h("div",fi,[(d(!0),h(ae,null,re(i.value,v=>(d(),h("div",{key:v.id,class:"bg-white rounded-lg shadow-lg p-3 flex items-start space-x-3 border border-gray-200 transition-opacity duration-300 opacity-60 hover:opacity-100"},[l("div",pi,[l("div",mi,[l("div",hi,[v.title?(d(),h("h3",vi,V(v.title),1)):T("",!0),v.project_name?(d(),h("p",gi,V(v.project_name),1)):T("",!0)])]),v.message?(d(),h("p",yi,V(v.message),1)):T("",!0),l("div",_i,[v.due_date?(d(),h("div",bi," Due: "+V(B(lo)(v.due_date)),1)):T("",!0),l("button",{onClick:k=>p(v),class:"px-2.5 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 shadow"},V(v.button_label||"View"),9,ki)])])]))),128))])):T("",!0),i.value.length>0?(d(),h("div",wi,[l("button",{onClick:u,class:"bg-white/80 backdrop-blur-sm text-gray-600 hover:text-gray-900 text-xs font-bold py-1 px-3 rounded-full shadow-md transition-all duration-300"},[t.value?(d(),h("span",xi,"Show ("+V(a.value)+")",1)):(d(),h("span",Ei,"Minimize"))])])):T("",!0)]))}},Ci={class:"fixed top-4 right-4 z-[9999] flex flex-col items-end space-y-3"},Ni={class:"p-4"},Ii={class:"text-sm font-medium text-white"},Ai={key:0,class:"mt-3 flex gap-2"},Oi=["onClick"],$i=["onClick"],Mi={__name:"StandardNotificationContainer",setup(e,{expose:t}){const s=O([]),o=(r,u="info",p=5e3)=>{let f;typeof r=="object"&&r!==null?f={...r}:f={message:r,type:u,duration:p};const m=f.id||crypto.randomUUID(),v={id:m,message:f.message||"",type:f.type||"info",duration:typeof f.duration=="number"?f.duration:5e3,sticky:!!f.sticky,confirm:f.confirm||null};return s.value.unshift(v),!v.sticky&&!v.confirm&&setTimeout(()=>{n(m)},v.duration),m},n=r=>{const u=s.value.findIndex(p=>p.id===r);u>-1&&s.value.splice(u,1)},i=r=>{const u=s.value.find(p=>p.id===r);if(u&&u.confirm&&typeof u.confirm.onConfirm=="function")try{u.confirm.onConfirm()}catch{}n(r)},a=r=>{const u=s.value.find(p=>p.id===r);if(u&&u.confirm&&typeof u.confirm.onCancel=="function")try{u.confirm.onCancel()}catch{}n(r)},c=r=>{switch(r){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":default:return"bg-blue-500"}};return t({addNotification:o}),(r,u)=>(d(),h("div",Ci,[(d(!0),h(ae,null,re(s.value,p=>(d(),h("div",{key:p.id,class:G(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto overflow-hidden",c(p.type)])},[l("div",Ni,[l("p",Ii,V(p.message),1),p.confirm?(d(),h("div",Ai,[l("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-white/90 text-slate-800 hover:bg-white",onClick:f=>i(p.id)},V(p.confirm.confirmText||"Confirm"),9,Oi),l("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-transparent border border-white/70 text-white hover:bg-white/10",onClick:f=>a(p.id)},V(p.confirm.cancelText||"Cancel"),9,$i)])):T("",!0)])],2))),128))]))}};var os={exports:{}},Fs={exports:{}},Bs={};/**
* @vue/compiler-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bt=Symbol(""),yt=Symbol(""),ks=Symbol(""),Ft=Symbol(""),nn=Symbol(""),st=Symbol(""),on=Symbol(""),an=Symbol(""),ws=Symbol(""),xs=Symbol(""),Ct=Symbol(""),Es=Symbol(""),rn=Symbol(""),Ss=Symbol(""),Ts=Symbol(""),Cs=Symbol(""),Ns=Symbol(""),Is=Symbol(""),As=Symbol(""),ln=Symbol(""),un=Symbol(""),Wt=Symbol(""),Bt=Symbol(""),Os=Symbol(""),$s=Symbol(""),kt=Symbol(""),Nt=Symbol(""),Ms=Symbol(""),fs=Symbol(""),yo=Symbol(""),ps=Symbol(""),Ut=Symbol(""),_o=Symbol(""),bo=Symbol(""),Ps=Symbol(""),ko=Symbol(""),wo=Symbol(""),Ds=Symbol(""),cn=Symbol(""),ct={[bt]:"Fragment",[yt]:"Teleport",[ks]:"Suspense",[Ft]:"KeepAlive",[nn]:"BaseTransition",[st]:"openBlock",[on]:"createBlock",[an]:"createElementBlock",[ws]:"createVNode",[xs]:"createElementVNode",[Ct]:"createCommentVNode",[Es]:"createTextVNode",[rn]:"createStaticVNode",[Ss]:"resolveComponent",[Ts]:"resolveDynamicComponent",[Cs]:"resolveDirective",[Ns]:"resolveFilter",[Is]:"withDirectives",[As]:"renderList",[ln]:"renderSlot",[un]:"createSlots",[Wt]:"toDisplayString",[Bt]:"mergeProps",[Os]:"normalizeClass",[$s]:"normalizeStyle",[kt]:"normalizeProps",[Nt]:"guardReactiveProps",[Ms]:"toHandlers",[fs]:"camelize",[yo]:"capitalize",[ps]:"toHandlerKey",[Ut]:"setBlockTracking",[_o]:"pushScopeId",[bo]:"popScopeId",[Ps]:"withCtx",[ko]:"unref",[wo]:"isRef",[Ds]:"withMemo",[cn]:"isMemoSame"};function xo(e){Object.getOwnPropertySymbols(e).forEach(t=>{ct[t]=e[t]})}const Pi={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},Di={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},Ri={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},Li={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},ve={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Eo(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:ve}}function wt(e,t,s,o,n,i,a,c=!1,r=!1,u=!1,p=ve){return e&&(c?(e.helper(st),e.helper(pt(e.inSSR,u))):e.helper(ft(e.inSSR,u)),a&&e.helper(Is)),{type:13,tag:t,props:s,children:o,patchFlag:n,dynamicProps:i,directives:a,isBlock:c,disableTracking:r,isComponent:u,loc:p}}function tt(e,t=ve){return{type:17,loc:t,elements:e}}function $e(e,t=ve){return{type:15,loc:t,properties:e}}function ie(e,t){return{type:16,loc:ve,key:he(e)?z(e,!0):e,value:t}}function z(e,t=!1,s=ve,o=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:o}}function Vi(e,t){return{type:5,loc:t,content:he(e)?z(e,!1,t):e}}function Pe(e,t=ve){return{type:8,loc:t,children:e}}function pe(e,t=[],s=ve){return{type:14,loc:s,callee:e,arguments:t}}function dt(e,t=void 0,s=!1,o=!1,n=ve){return{type:18,params:e,returns:t,newline:s,isSlot:o,loc:n}}function ms(e,t,s,o=!0){return{type:19,test:e,consequent:t,alternate:s,newline:o,loc:ve}}function So(e,t,s=!1,o=!1){return{type:20,index:e,value:t,needPauseTracking:s,inVOnce:o,needArraySpread:!1,loc:ve}}function To(e){return{type:21,body:e,loc:ve}}function ji(e){return{type:22,elements:e,loc:ve}}function Fi(e,t,s){return{type:23,test:e,consequent:t,alternate:s,loc:ve}}function Bi(e,t){return{type:24,left:e,right:t,loc:ve}}function Ui(e){return{type:25,expressions:e,loc:ve}}function Xi(e){return{type:26,returns:e,loc:ve}}function ft(e,t){return e||t?ws:xs}function pt(e,t){return e||t?on:an}function Rs(e,{helper:t,removeHelper:s,inSSR:o}){e.isBlock||(e.isBlock=!0,s(ft(o,e.isComponent)),t(st),t(pt(o,e.isComponent)))}const Vn=new Uint8Array([123,123]),jn=new Uint8Array([125,125]);function Fn(e){return e>=97&&e<=122||e>=65&&e<=90}function Oe(e){return e===32||e===10||e===9||e===12||e===13}function Je(e){return e===47||e===62||Oe(e)}function hs(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}const _e={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Hi{constructor(t,s){this.stack=t,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Vn,this.delimiterClose=jn,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Vn,this.delimiterClose=jn}getPos(t){let s=1,o=t+1;for(let n=this.newlines.length-1;n>=0;n--){const i=this.newlines[n];if(t>i){s=n+2,o=t-i;break}}return{column:o,line:s,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?Je(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Oe(t)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const o=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=o}this.sectionStart=s+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===_e.TitleEnd||this.currentSequence===_e.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===_e.Cdata[this.sequenceIndex]?++this.sequenceIndex===_e.Cdata.length&&(this.state=28,this.currentSequence=_e.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===_e.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,s){this.enterRCDATA(t,s),this.state=31}enterRCDATA(t,s){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=s}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Fn(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Je(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Je(t)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(hs("</"+s),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Oe(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Fn(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Oe(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Oe(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Oe(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Je(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Je(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Je(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Je(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Je(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Oe(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Oe(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,s){(t===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Oe(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=_e.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===_e.ScriptEnd[3]?this.startSpecial(_e.ScriptEnd,4):t===_e.StyleEnd[3]?this.startSpecial(_e.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===_e.TitleEnd[3]?this.startSpecial(_e.TitleEnd,4):t===_e.TextareaEnd[3]?this.startSpecial(_e.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===_e.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,s){}}const qi={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},zi={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function zs(e,{compatConfig:t}){const s=t&&t[e];return e==="MODE"?s||3:s}function ut(e,t){const s=zs("MODE",t),o=zs(e,t);return s===3?o===!0:o!==!1}function xt(e,t,s,...o){return ut(e,t)}function Wi(e,t,s,...o){if(zs(e,t)==="suppress-warning")return;const{message:i,link:a}=zi[e],c=`(deprecation ${e}) ${typeof i=="function"?i(...o):i}${a?`
  Details: ${a}`:""}`,r=new SyntaxError(c);r.code=e,s&&(r.loc=s),t.onWarn(r)}function dn(e){throw e}function Co(e){}function te(e,t,s,o){const n=`https://vuejs.org/error-reference/#compiler-${e}`,i=new SyntaxError(String(n));return i.code=e,i.loc=t,i}const Gi={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},Ki={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function Ji(e,t,s=!1,o=[],n=Object.create(null)){}function Yi(e,t,s){return!1}function Qi(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let s=t.length;for(;s--;){const o=t[s];if(o.type==="AssignmentExpression")return!0;if(o.type!=="ObjectProperty"&&!o.type.endsWith("Pattern"))break}}return!1}function Zi(e){let t=e.length;for(;t--;){const s=e[t];if(s.type==="NewExpression")return!0;if(s.type!=="MemberExpression")break}return!1}function er(e,t){for(const s of e.params)for(const o of He(s))t(o)}function tr(e,t){for(const s of e.body)if(s.type==="VariableDeclaration"){if(s.declare)continue;for(const o of s.declarations)for(const n of He(o.id))t(n)}else if(s.type==="FunctionDeclaration"||s.type==="ClassDeclaration"){if(s.declare||!s.id)continue;t(s.id)}else sr(s)&&nr(s,!0,t)}function sr(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function nr(e,t,s){const o=e.type==="ForStatement"?e.init:e.left;if(o&&o.type==="VariableDeclaration"&&(o.kind==="var"?t:!t))for(const n of o.declarations)for(const i of He(n.id))s(i)}function He(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let s=e;for(;s.type==="MemberExpression";)s=s.object;t.push(s);break;case"ObjectPattern":for(const o of e.properties)o.type==="RestElement"?He(o.argument,t):He(o.value,t);break;case"ArrayPattern":e.elements.forEach(o=>{o&&He(o,t)});break;case"RestElement":He(e.argument,t);break;case"AssignmentPattern":He(e.left,t);break}return t}const or=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),No=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,ar=(e,t)=>No(t)&&t.key===e,Io=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function Ao(e){return Io.includes(e.type)?Ao(e.expression):e}const Te=e=>e.type===4&&e.isStatic;function fn(e){switch(e){case"Teleport":case"teleport":return yt;case"Suspense":case"suspense":return ks;case"KeepAlive":case"keep-alive":return Ft;case"BaseTransition":case"base-transition":return nn}}const ir=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Gt=e=>!ir.test(e),rr=/[A-Za-z_$\xA0-\uFFFF]/,lr=/[\.\?\w$\xA0-\uFFFF]/,ur=/\s+[.[]\s*|\s*[.[]\s+/g,Oo=e=>e.type===4?e.content:e.loc.source,$o=e=>{const t=Oo(e).trim().replace(ur,c=>c.trim());let s=0,o=[],n=0,i=0,a=null;for(let c=0;c<t.length;c++){const r=t.charAt(c);switch(s){case 0:if(r==="[")o.push(s),s=1,n++;else if(r==="(")o.push(s),s=2,i++;else if(!(c===0?rr:lr).test(r))return!1;break;case 1:r==="'"||r==='"'||r==="`"?(o.push(s),s=3,a=r):r==="["?n++:r==="]"&&(--n||(s=o.pop()));break;case 2:if(r==="'"||r==='"'||r==="`")o.push(s),s=3,a=r;else if(r==="(")i++;else if(r===")"){if(c===t.length-1)return!1;--i||(s=o.pop())}break;case 3:r===a&&(s=o.pop(),a=null);break}}return!n&&!i},cr=Lt,pn=$o,dr=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Mo=e=>dr.test(Oo(e)),fr=Lt,Po=Mo;function pr(e,t,s=t.length){return Do({offset:e.offset,line:e.line,column:e.column},t,s)}function Do(e,t,s=t.length){let o=0,n=-1;for(let i=0;i<s;i++)t.charCodeAt(i)===10&&(o++,n=i);return e.offset+=s,e.line+=o,e.column=n===-1?e.column+s:s-n,e}function mr(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function Ee(e,t,s=!1){for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&(s||n.exp)&&(he(t)?n.name===t:t.test(n.name)))return n}}function Kt(e,t,s=!1,o=!1){for(let n=0;n<e.props.length;n++){const i=e.props[n];if(i.type===6){if(s)continue;if(i.name===t&&(i.value||o))return i}else if(i.name==="bind"&&(i.exp||o)&&Ze(i.arg,t))return i}}function Ze(e,t){return!!(e&&Te(e)&&e.content===t)}function Ro(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function as(e){return e.type===5||e.type===2}function Ws(e){return e.type===7&&e.name==="pre"}function mn(e){return e.type===7&&e.name==="slot"}function Et(e){return e.type===1&&e.tagType===3}function Xt(e){return e.type===1&&e.tagType===2}const hr=new Set([kt,Nt]);function Lo(e,t=[]){if(e&&!he(e)&&e.type===14){const s=e.callee;if(!he(s)&&hr.has(s))return Lo(e.arguments[0],t.concat(e))}return[e,t]}function Ht(e,t,s){let o,n=e.type===13?e.props:e.arguments[2],i=[],a;if(n&&!he(n)&&n.type===14){const c=Lo(n);n=c[0],i=c[1],a=i[i.length-1]}if(n==null||he(n))o=$e([t]);else if(n.type===14){const c=n.arguments[0];!he(c)&&c.type===15?Bn(t,c)||c.properties.unshift(t):n.callee===Ms?o=pe(s.helper(Bt),[$e([t]),n]):n.arguments.unshift($e([t])),!o&&(o=n)}else n.type===15?(Bn(t,n)||n.properties.unshift(t),o=n):(o=pe(s.helper(Bt),[$e([t]),n]),a&&a.callee===Nt&&(a=i[i.length-2]));e.type===13?a?a.arguments[0]=o:e.props=o:a?a.arguments[0]=o:e.arguments[2]=o}function Bn(e,t){let s=!1;if(e.key.type===4){const o=e.key.content;s=t.properties.some(n=>n.key.type===4&&n.key.content===o)}return s}function St(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,o)=>s==="-"?"_":e.charCodeAt(o).toString())}`}function Re(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===7&&(Re(o.arg,t)||Re(o.exp,t)))return!0}return e.children.some(s=>Re(s,t));case 11:return Re(e.source,t)?!0:e.children.some(s=>Re(s,t));case 9:return e.branches.some(s=>Re(s,t));case 10:return Re(e.condition,t)?!0:e.children.some(s=>Re(s,t));case 4:return!e.isStatic&&Gt(e.content)&&!!t[e.content];case 8:return e.children.some(s=>po(s)&&Re(s,t));case 5:case 12:return Re(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function Vo(e){return e.type===14&&e.callee===Ds?e.arguments[1].returns:e}const jo=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Fo={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Zt,isPreTag:Zt,isIgnoreNewlineTag:Zt,isCustomElement:Zt,onError:dn,onWarn:Co,comments:!1,prefixIdentifiers:!1};let Z=Fo,qt=null,ze="",we=null,Y=null,Ne="",Be=-1,it=-1,hn=0,Qe=!1,Gs=null;const ne=[],le=new Hi(ne,{onerr:Fe,ontext(e,t){es(ge(e,t),e,t)},ontextentity(e,t,s){es(e,t,s)},oninterpolation(e,t){if(Qe)return es(ge(e,t),e,t);let s=e+le.delimiterOpen.length,o=t-le.delimiterClose.length;for(;Oe(ze.charCodeAt(s));)s++;for(;Oe(ze.charCodeAt(o-1));)o--;let n=ge(s,o);n.includes("&")&&(n=Z.decodeEntities(n,!1)),Ks({type:5,content:rs(n,!1,ue(s,o)),loc:ue(e,t)})},onopentagname(e,t){const s=ge(e,t);we={type:1,tag:s,ns:Z.getNamespace(s,ne[0],Z.ns),tagType:0,props:[],children:[],loc:ue(e-1,t),codegenNode:void 0}},onopentagend(e){Xn(e)},onclosetag(e,t){const s=ge(e,t);if(!Z.isVoidTag(s)){let o=!1;for(let n=0;n<ne.length;n++)if(ne[n].tag.toLowerCase()===s.toLowerCase()){o=!0,n>0&&Fe(24,ne[0].loc.start.offset);for(let a=0;a<=n;a++){const c=ne.shift();is(c,t,a<n)}break}o||Fe(23,Bo(e,60))}},onselfclosingtag(e){const t=we.tag;we.isSelfClosing=!0,Xn(e),ne[0]&&ne[0].tag===t&&is(ne.shift(),e)},onattribname(e,t){Y={type:6,name:ge(e,t),nameLoc:ue(e,t),value:void 0,loc:ue(e)}},ondirname(e,t){const s=ge(e,t),o=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!Qe&&o===""&&Fe(26,e),Qe||o==="")Y={type:6,name:s,nameLoc:ue(e,t),value:void 0,loc:ue(e)};else if(Y={type:7,name:o,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[z("prop")]:[],loc:ue(e)},o==="pre"){Qe=le.inVPre=!0,Gs=we;const n=we.props;for(let i=0;i<n.length;i++)n[i].type===7&&(n[i]=Tr(n[i]))}},ondirarg(e,t){if(e===t)return;const s=ge(e,t);if(Qe&&!Ws(Y))Y.name+=s,rt(Y.nameLoc,t);else{const o=s[0]!=="[";Y.arg=rs(o?s:s.slice(1,-1),o,ue(e,t),o?3:0)}},ondirmodifier(e,t){const s=ge(e,t);if(Qe&&!Ws(Y))Y.name+="."+s,rt(Y.nameLoc,t);else if(Y.name==="slot"){const o=Y.arg;o&&(o.content+="."+s,rt(o.loc,t))}else{const o=z(s,!0,ue(e,t));Y.modifiers.push(o)}},onattribdata(e,t){Ne+=ge(e,t),Be<0&&(Be=e),it=t},onattribentity(e,t,s){Ne+=e,Be<0&&(Be=t),it=s},onattribnameend(e){const t=Y.loc.start.offset,s=ge(t,e);Y.type===7&&(Y.rawName=s),we.props.some(o=>(o.type===7?o.rawName:o.name)===s)&&Fe(2,t)},onattribend(e,t){if(we&&Y){if(rt(Y.loc,t),e!==0)if(Ne.includes("&")&&(Ne=Z.decodeEntities(Ne,!0)),Y.type===6)Y.name==="class"&&(Ne=Xo(Ne).trim()),e===1&&!Ne&&Fe(13,t),Y.value={type:2,content:Ne,loc:e===1?ue(Be,it):ue(Be-1,it+1)},le.inSFCRoot&&we.tag==="template"&&Y.name==="lang"&&Ne&&Ne!=="html"&&le.enterRCDATA(hs("</template"),0);else{let s=0;Y.exp=rs(Ne,!1,ue(Be,it),0,s),Y.name==="for"&&(Y.forParseResult=gr(Y.exp));let o=-1;Y.name==="bind"&&(o=Y.modifiers.findIndex(n=>n.content==="sync"))>-1&&xt("COMPILER_V_BIND_SYNC",Z,Y.loc,Y.arg.loc.source)&&(Y.name="model",Y.modifiers.splice(o,1))}(Y.type!==7||Y.name!=="pre")&&we.props.push(Y)}Ne="",Be=it=-1},oncomment(e,t){Z.comments&&Ks({type:3,content:ge(e,t),loc:ue(e-4,t+3)})},onend(){const e=ze.length;for(let t=0;t<ne.length;t++)is(ne[t],e-1),Fe(24,ne[t].loc.start.offset)},oncdata(e,t){ne[0].ns!==0?es(ge(e,t),e,t):Fe(1,e-9)},onprocessinginstruction(e){(ne[0]?ne[0].ns:Z.ns)===0&&Fe(21,e-1)}}),Un=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,vr=/^\(|\)$/g;function gr(e){const t=e.loc,s=e.content,o=s.match(jo);if(!o)return;const[,n,i]=o,a=(f,m,v=!1)=>{const k=t.start.offset+m,g=k+f.length;return rs(f,!1,ue(k,g),0,v?1:0)},c={source:a(i.trim(),s.indexOf(i,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let r=n.trim().replace(vr,"").trim();const u=n.indexOf(r),p=r.match(Un);if(p){r=r.replace(Un,"").trim();const f=p[1].trim();let m;if(f&&(m=s.indexOf(f,u+r.length),c.key=a(f,m,!0)),p[2]){const v=p[2].trim();v&&(c.index=a(v,s.indexOf(v,c.key?m+f.length:u+r.length),!0))}}return r&&(c.value=a(r,u,!0)),c}function ge(e,t){return ze.slice(e,t)}function Xn(e){le.inSFCRoot&&(we.innerLoc=ue(e+1,e+1)),Ks(we);const{tag:t,ns:s}=we;s===0&&Z.isPreTag(t)&&hn++,Z.isVoidTag(t)?is(we,e):(ne.unshift(we),(s===1||s===2)&&(le.inXML=!0)),we=null}function es(e,t,s){{const i=ne[0]&&ne[0].tag;i!=="script"&&i!=="style"&&e.includes("&")&&(e=Z.decodeEntities(e,!1))}const o=ne[0]||qt,n=o.children[o.children.length-1];n&&n.type===2?(n.content+=e,rt(n.loc,s)):o.children.push({type:2,content:e,loc:ue(t,s)})}function is(e,t,s=!1){s?rt(e.loc,Bo(t,60)):rt(e.loc,yr(t,62)+1),le.inSFCRoot&&(e.children.length?e.innerLoc.end=qe({},e.children[e.children.length-1].loc.end):e.innerLoc.end=qe({},e.innerLoc.start),e.innerLoc.source=ge(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:o,ns:n,children:i}=e;if(Qe||(o==="slot"?e.tagType=2:Hn(e)?e.tagType=3:br(e)&&(e.tagType=1)),le.inRCDATA||(e.children=Uo(i)),n===0&&Z.isIgnoreNewlineTag(o)){const a=i[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}n===0&&Z.isPreTag(o)&&hn--,Gs===e&&(Qe=le.inVPre=!1,Gs=null),le.inXML&&(ne[0]?ne[0].ns:Z.ns)===0&&(le.inXML=!1);{const a=e.props;if(!le.inSFCRoot&&ut("COMPILER_NATIVE_TEMPLATE",Z)&&e.tag==="template"&&!Hn(e)){const r=ne[0]||qt,u=r.children.indexOf(e);r.children.splice(u,1,...e.children)}const c=a.find(r=>r.type===6&&r.name==="inline-template");c&&xt("COMPILER_INLINE_TEMPLATE",Z,c.loc)&&e.children.length&&(c.value={type:2,content:ge(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:c.loc})}}function yr(e,t){let s=e;for(;ze.charCodeAt(s)!==t&&s<ze.length-1;)s++;return s}function Bo(e,t){let s=e;for(;ze.charCodeAt(s)!==t&&s>=0;)s--;return s}const _r=new Set(["if","else","else-if","for","slot"]);function Hn({tag:e,props:t}){if(e==="template"){for(let s=0;s<t.length;s++)if(t[s].type===7&&_r.has(t[s].name))return!0}return!1}function br({tag:e,props:t}){if(Z.isCustomElement(e))return!1;if(e==="component"||kr(e.charCodeAt(0))||fn(e)||Z.isBuiltInComponent&&Z.isBuiltInComponent(e)||Z.isNativeTag&&!Z.isNativeTag(e))return!0;for(let s=0;s<t.length;s++){const o=t[s];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(xt("COMPILER_IS_ON_ELEMENT",Z,o.loc))return!0}}else if(o.name==="bind"&&Ze(o.arg,"is")&&xt("COMPILER_IS_ON_ELEMENT",Z,o.loc))return!0}return!1}function kr(e){return e>64&&e<91}const wr=/\r\n/g;function Uo(e){const t=Z.whitespace!=="preserve";let s=!1;for(let o=0;o<e.length;o++){const n=e[o];if(n.type===2)if(hn)n.content=n.content.replace(wr,`
`);else if(xr(n.content)){const i=e[o-1]&&e[o-1].type,a=e[o+1]&&e[o+1].type;!i||!a||t&&(i===3&&(a===3||a===1)||i===1&&(a===3||a===1&&Er(n.content)))?(s=!0,e[o]=null):n.content=" "}else t&&(n.content=Xo(n.content))}return s?e.filter(Boolean):e}function xr(e){for(let t=0;t<e.length;t++)if(!Oe(e.charCodeAt(t)))return!1;return!0}function Er(e){for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(s===10||s===13)return!0}return!1}function Xo(e){let t="",s=!1;for(let o=0;o<e.length;o++)Oe(e.charCodeAt(o))?s||(t+=" ",s=!0):(t+=e[o],s=!1);return t}function Ks(e){(ne[0]||qt).children.push(e)}function ue(e,t){return{start:le.getPos(e),end:t==null?t:le.getPos(t),source:t==null?t:ge(e,t)}}function Sr(e){return ue(e.start.offset,e.end.offset)}function rt(e,t){e.end=le.getPos(t),e.source=ge(e.start.offset,t)}function Tr(e){const t={type:6,name:e.rawName,nameLoc:ue(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const s=e.exp.loc;s.end.offset<e.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),t.value={type:2,content:e.exp.content,loc:s}}return t}function rs(e,t=!1,s,o=0,n=0){return z(e,t,s,o)}function Fe(e,t,s){Z.onError(te(e,ue(t,t)))}function Cr(){le.reset(),we=null,Y=null,Ne="",Be=-1,it=-1,ne.length=0}function vn(e,t){if(Cr(),ze=e,Z=qe({},Fo),t){let n;for(n in t)t[n]!=null&&(Z[n]=t[n])}le.mode=Z.parseMode==="html"?1:Z.parseMode==="sfc"?2:0,le.inXML=Z.ns===1||Z.ns===2;const s=t&&t.delimiters;s&&(le.delimiterOpen=hs(s[0]),le.delimiterClose=hs(s[1]));const o=qt=Eo([],e);return le.parse(ze),o.loc=ue(0,e.length),o.children=Uo(o.children),qt=null,o}function Nr(e,t){ls(e,void 0,t,!!Ho(e))}function Ho(e){const t=e.children.filter(s=>s.type!==3);return t.length===1&&t[0].type===1&&!Xt(t[0])?t[0]:null}function ls(e,t,s,o=!1,n=!1){const{children:i}=e,a=[];for(let f=0;f<i.length;f++){const m=i[f];if(m.type===1&&m.tagType===0){const v=o?0:Ie(m,s);if(v>0){if(v>=2){m.codegenNode.patchFlag=-1,a.push(m);continue}}else{const k=m.codegenNode;if(k.type===13){const g=k.patchFlag;if((g===void 0||g===512||g===1)&&zo(m,s)>=2){const F=Wo(m);F&&(k.props=s.hoist(F))}k.dynamicProps&&(k.dynamicProps=s.hoist(k.dynamicProps))}}}else if(m.type===12&&(o?0:Ie(m,s))>=2){m.codegenNode.type===14&&m.codegenNode.arguments.length>0&&m.codegenNode.arguments.push("-1"),a.push(m);continue}if(m.type===1){const v=m.tagType===1;v&&s.scopes.vSlot++,ls(m,e,s,!1,n),v&&s.scopes.vSlot--}else if(m.type===11)ls(m,e,s,m.children.length===1,!0);else if(m.type===9)for(let v=0;v<m.branches.length;v++)ls(m.branches[v],e,s,m.branches[v].children.length===1,n)}let c=!1;const r=[];if(a.length===i.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ue(e.codegenNode.children))e.codegenNode.children=u(tt(e.codegenNode.children)),c=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ue(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=p(e.codegenNode,"default");f&&(r.push(s.cached.length),f.returns=u(tt(f.returns)),c=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Ue(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=Ee(e,"slot",!0),m=f&&f.arg&&p(t.codegenNode,f.arg);m&&(r.push(s.cached.length),m.returns=u(tt(m.returns)),c=!0)}}if(!c)for(const f of a)r.push(s.cached.length),f.codegenNode=s.cache(f.codegenNode);r.length&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ue(e.codegenNode.children)&&e.codegenNode.children.type===15&&e.codegenNode.children.properties.push(ie("__",z(JSON.stringify(r),!1)));function u(f){const m=s.cache(f);return n&&s.hmr&&(m.needArraySpread=!0),m}function p(f,m){if(f.children&&!Ue(f.children)&&f.children.type===15){const v=f.children.properties.find(k=>k.key===m||k.key.content===m);return v&&v.value}}a.length&&s.transformHoist&&s.transformHoist(i,s,e)}function Ie(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const o=s.get(e);if(o!==void 0)return o;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let a=3;const c=zo(e,t);if(c===0)return s.set(e,0),0;c<a&&(a=c);for(let r=0;r<e.children.length;r++){const u=Ie(e.children[r],t);if(u===0)return s.set(e,0),0;u<a&&(a=u)}if(a>1)for(let r=0;r<e.props.length;r++){const u=e.props[r];if(u.type===7&&u.name==="bind"&&u.exp){const p=Ie(u.exp,t);if(p===0)return s.set(e,0),0;p<a&&(a=p)}}if(n.isBlock){for(let r=0;r<e.props.length;r++)if(e.props[r].type===7)return s.set(e,0),0;t.removeHelper(st),t.removeHelper(pt(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(ft(t.inSSR,n.isComponent))}return s.set(e,a),a}else return s.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ie(e.content,t);case 4:return e.constType;case 8:let i=3;for(let a=0;a<e.children.length;a++){const c=e.children[a];if(he(c)||Qs(c))continue;const r=Ie(c,t);if(r===0)return 0;r<i&&(i=r)}return i;case 20:return 2;default:return 0}}const Ir=new Set([Os,$s,kt,Nt]);function qo(e,t){if(e.type===14&&!he(e.callee)&&Ir.has(e.callee)){const s=e.arguments[0];if(s.type===4)return Ie(s,t);if(s.type===14)return qo(s,t)}return 0}function zo(e,t){let s=3;const o=Wo(e);if(o&&o.type===15){const{properties:n}=o;for(let i=0;i<n.length;i++){const{key:a,value:c}=n[i],r=Ie(a,t);if(r===0)return r;r<s&&(s=r);let u;if(c.type===4?u=Ie(c,t):c.type===14?u=qo(c,t):u=0,u===0)return u;u<s&&(s=u)}}return s}function Wo(e){const t=e.codegenNode;if(t.type===13)return t.props}function Go(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:o=!1,hmr:n=!1,cacheHandlers:i=!1,nodeTransforms:a=[],directiveTransforms:c={},transformHoist:r=null,isBuiltInComponent:u=Lt,isCustomElement:p=Lt,expressionPlugins:f=[],scopeId:m=null,slotted:v=!0,ssr:k=!1,inSSR:g=!1,ssrCssVars:F="",bindingMetadata:N=Xa,inline:b=!1,isTS:w=!1,onError:D=dn,onWarn:j=Co,compatConfig:U}){const J=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={filename:t,selfName:J&&fo(et(J[1])),prefixIdentifiers:s,hoistStatic:o,hmr:n,cacheHandlers:i,nodeTransforms:a,directiveTransforms:c,transformHoist:r,isBuiltInComponent:u,isCustomElement:p,expressionPlugins:f,scopeId:m,slotted:v,ssr:k,inSSR:g,ssrCssVars:F,bindingMetadata:N,inline:b,isTS:w,onError:D,onWarn:j,compatConfig:U,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(S){const L=C.helpers.get(S)||0;return C.helpers.set(S,L+1),S},removeHelper(S){const L=C.helpers.get(S);if(L){const A=L-1;A?C.helpers.set(S,A):C.helpers.delete(S)}},helperString(S){return`_${ct[C.helper(S)]}`},replaceNode(S){C.parent.children[C.childIndex]=C.currentNode=S},removeNode(S){const L=C.parent.children,A=S?L.indexOf(S):C.currentNode?C.childIndex:-1;!S||S===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>A&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(A,1)},onNodeRemoved:Lt,addIdentifiers(S){},removeIdentifiers(S){},hoist(S){he(S)&&(S=z(S)),C.hoists.push(S);const L=z(`_hoisted_${C.hoists.length}`,!1,S.loc,2);return L.hoisted=S,L},cache(S,L=!1,A=!1){const y=So(C.cached.length,S,L,A);return C.cached.push(y),y}};return C.filters=new Set,C}function Ko(e,t){const s=Go(e,t);Jt(e,s),t.hoistStatic&&Nr(e,s),t.ssr||Ar(e,s),e.helpers=new Set([...s.helpers.keys()]),e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.transformed=!0,e.filters=[...s.filters]}function Ar(e,t){const{helper:s}=t,{children:o}=e;if(o.length===1){const n=Ho(e);if(n&&n.codegenNode){const i=n.codegenNode;i.type===13&&Rs(i,t),e.codegenNode=i}else e.codegenNode=o[0]}else if(o.length>1){let n=64;e.codegenNode=wt(t,s(bt),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function Or(e,t){let s=0;const o=()=>{s--};for(;s<e.children.length;s++){const n=e.children[s];he(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=s,t.onNodeRemoved=o,Jt(n,t))}}function Jt(e,t){t.currentNode=e;const{nodeTransforms:s}=t,o=[];for(let i=0;i<s.length;i++){const a=s[i](e,t);if(a&&(Ue(a)?o.push(...a):o.push(a)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Ct);break;case 5:t.ssr||t.helper(Wt);break;case 9:for(let i=0;i<e.branches.length;i++)Jt(e.branches[i],t);break;case 10:case 11:case 1:case 0:Or(e,t);break}t.currentNode=e;let n=o.length;for(;n--;)o[n]()}function gn(e,t){const s=he(e)?o=>o===e:o=>e.test(o);return(o,n)=>{if(o.type===1){const{props:i}=o;if(o.tagType===3&&i.some(mn))return;const a=[];for(let c=0;c<i.length;c++){const r=i[c];if(r.type===7&&s(r.name)){i.splice(c,1),c--;const u=t(o,r,n);u&&a.push(u)}}return a}}}const Ls="/*@__PURE__*/",Jo=e=>`${ct[e]}: _${ct[e]}`;function $r(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:o=!1,filename:n="template.vue.html",scopeId:i=null,optimizeImports:a=!1,runtimeGlobalName:c="Vue",runtimeModuleName:r="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:p=!1,isTS:f=!1,inSSR:m=!1}){const v={mode:t,prefixIdentifiers:s,sourceMap:o,filename:n,scopeId:i,optimizeImports:a,runtimeGlobalName:c,runtimeModuleName:r,ssrRuntimeModuleName:u,ssr:p,isTS:f,inSSR:m,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${ct[g]}`},push(g,F=-2,N){v.code+=g},indent(){k(++v.indentLevel)},deindent(g=!1){g?--v.indentLevel:k(--v.indentLevel)},newline(){k(v.indentLevel)}};function k(g){v.push(`
`+"  ".repeat(g),0)}return v}function Yo(e,t={}){const s=$r(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:o,push:n,prefixIdentifiers:i,indent:a,deindent:c,newline:r,scopeId:u,ssr:p}=s,f=Array.from(e.helpers),m=f.length>0,v=!i&&o!=="module";Mr(e,s);const g=p?"ssrRender":"render",N=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${g}(${N}) {`),a(),v&&(n("with (_ctx) {"),a(),m&&(n(`const { ${f.map(Jo).join(", ")} } = _Vue
`,-1),r())),e.components.length&&(Us(e.components,"component",s),(e.directives.length||e.temps>0)&&r()),e.directives.length&&(Us(e.directives,"directive",s),e.temps>0&&r()),e.filters&&e.filters.length&&(r(),Us(e.filters,"filter",s),r()),e.temps>0){n("let ");for(let b=0;b<e.temps;b++)n(`${b>0?", ":""}_temp${b}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),r()),p||n("return "),e.codegenNode?xe(e.codegenNode,s):n("null"),v&&(c(),n("}")),c(),n("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function Mr(e,t){const{ssr:s,prefixIdentifiers:o,push:n,newline:i,runtimeModuleName:a,runtimeGlobalName:c,ssrRuntimeModuleName:r}=t,u=c,p=Array.from(e.helpers);if(p.length>0&&(n(`const _Vue = ${u}
`,-1),e.hoists.length)){const f=[ws,xs,Ct,Es,rn].filter(m=>p.includes(m)).map(Jo).join(", ");n(`const { ${f} } = _Vue
`,-1)}Pr(e.hoists,t),i(),n("return ")}function Us(e,t,{helper:s,push:o,newline:n,isTS:i}){const a=s(t==="filter"?Ns:t==="component"?Ss:Cs);for(let c=0;c<e.length;c++){let r=e[c];const u=r.endsWith("__self");u&&(r=r.slice(0,-6)),o(`const ${St(r,t)} = ${a}(${JSON.stringify(r)}${u?", true":""})${i?"!":""}`),c<e.length-1&&n()}}function Pr(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:o}=t;o();for(let n=0;n<e.length;n++){const i=e[n];i&&(s(`const _hoisted_${n+1} = `),xe(i,t),o())}t.pure=!1}function yn(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),Yt(e,t,s),s&&t.deindent(),t.push("]")}function Yt(e,t,s=!1,o=!0){const{push:n,newline:i}=t;for(let a=0;a<e.length;a++){const c=e[a];he(c)?n(c,-3):Ue(c)?yn(c,t):xe(c,t),a<e.length-1&&(s?(o&&n(","),i()):o&&n(", "))}}function xe(e,t){if(he(e)){t.push(e,-3);return}if(Qs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:xe(e.codegenNode,t);break;case 2:Dr(e,t);break;case 4:Qo(e,t);break;case 5:Rr(e,t);break;case 12:xe(e.codegenNode,t);break;case 8:Zo(e,t);break;case 3:Vr(e,t);break;case 13:jr(e,t);break;case 14:Br(e,t);break;case 15:Ur(e,t);break;case 17:Xr(e,t);break;case 18:Hr(e,t);break;case 19:qr(e,t);break;case 20:zr(e,t);break;case 21:Yt(e.body,t,!0,!1);break}}function Dr(e,t){t.push(JSON.stringify(e.content),-3,e)}function Qo(e,t){const{content:s,isStatic:o}=e;t.push(o?JSON.stringify(s):s,-3,e)}function Rr(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ls),s(`${o(Wt)}(`),xe(e.content,t),s(")")}function Zo(e,t){for(let s=0;s<e.children.length;s++){const o=e.children[s];he(o)?t.push(o,-3):xe(o,t)}}function Lr(e,t){const{push:s}=t;if(e.type===8)s("["),Zo(e,t),s("]");else if(e.isStatic){const o=Gt(e.content)?e.content:JSON.stringify(e.content);s(o,-2,e)}else s(`[${e.content}]`,-3,e)}function Vr(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ls),s(`${o(Ct)}(${JSON.stringify(e.content)})`,-3,e)}function jr(e,t){const{push:s,helper:o,pure:n}=t,{tag:i,props:a,children:c,patchFlag:r,dynamicProps:u,directives:p,isBlock:f,disableTracking:m,isComponent:v}=e;let k;r&&(k=String(r)),p&&s(o(Is)+"("),f&&s(`(${o(st)}(${m?"true":""}), `),n&&s(Ls);const g=f?pt(t.inSSR,v):ft(t.inSSR,v);s(o(g)+"(",-2,e),Yt(Fr([i,a,c,k,u]),t),s(")"),f&&s(")"),p&&(s(", "),xe(p,t),s(")"))}function Fr(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function Br(e,t){const{push:s,helper:o,pure:n}=t,i=he(e.callee)?e.callee:o(e.callee);n&&s(Ls),s(i+"(",-2,e),Yt(e.arguments,t),s(")")}function Ur(e,t){const{push:s,indent:o,deindent:n,newline:i}=t,{properties:a}=e;if(!a.length){s("{}",-2,e);return}const c=a.length>1||!1;s(c?"{":"{ "),c&&o();for(let r=0;r<a.length;r++){const{key:u,value:p}=a[r];Lr(u,t),s(": "),xe(p,t),r<a.length-1&&(s(","),i())}c&&n(),s(c?"}":" }")}function Xr(e,t){yn(e.elements,t)}function Hr(e,t){const{push:s,indent:o,deindent:n}=t,{params:i,returns:a,body:c,newline:r,isSlot:u}=e;u&&s(`_${ct[Ps]}(`),s("(",-2,e),Ue(i)?Yt(i,t):i&&xe(i,t),s(") => "),(r||c)&&(s("{"),o()),a?(r&&s("return "),Ue(a)?yn(a,t):xe(a,t)):c&&xe(c,t),(r||c)&&(n(),s("}")),u&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function qr(e,t){const{test:s,consequent:o,alternate:n,newline:i}=e,{push:a,indent:c,deindent:r,newline:u}=t;if(s.type===4){const f=!Gt(s.content);f&&a("("),Qo(s,t),f&&a(")")}else a("("),xe(s,t),a(")");i&&c(),t.indentLevel++,i||a(" "),a("? "),xe(o,t),t.indentLevel--,i&&u(),i||a(" "),a(": ");const p=n.type===19;p||t.indentLevel++,xe(n,t),p||t.indentLevel--,i&&r(!0)}function zr(e,t){const{push:s,helper:o,indent:n,deindent:i,newline:a}=t,{needPauseTracking:c,needArraySpread:r}=e;r&&s("[...("),s(`_cache[${e.index}] || (`),c&&(n(),s(`${o(Ut)}(-1`),e.inVOnce&&s(", true"),s("),"),a(),s("(")),s(`_cache[${e.index}] = `),xe(e.value,t),c&&(s(`).cacheIndex = ${e.index},`),a(),s(`${o(Ut)}(1),`),a(),s(`_cache[${e.index}]`),i()),s(")"),r&&s(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Wr=(e,t)=>{if(e.type===5)e.content=us(e.content,t);else if(e.type===1){const s=Ee(e,"memo");for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&n.name!=="for"){const i=n.exp,a=n.arg;i&&i.type===4&&!(n.name==="on"&&a)&&!(s&&a&&a.type===4&&a.content==="key")&&(n.exp=us(i,t,n.name==="slot")),a&&a.type===4&&!a.isStatic&&(n.arg=us(a,t))}}}};function us(e,t,s=!1,o=!1,n=Object.create(t.identifiers)){return e}function ea(e){return he(e)?e:e.type===4?e.content:e.children.map(ea).join("")}const Gr=gn(/^(if|else|else-if)$/,(e,t,s)=>ta(e,t,s,(o,n,i)=>{const a=s.parent.children;let c=a.indexOf(o),r=0;for(;c-->=0;){const u=a[c];u&&u.type===9&&(r+=u.branches.length)}return()=>{if(i)o.codegenNode=zn(n,r,s);else{const u=Kr(o.codegenNode);u.alternate=zn(n,r+o.branches.length-1,s)}}}));function ta(e,t,s,o){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;s.onError(te(28,t.loc)),t.exp=z("true",!1,n)}if(t.name==="if"){const n=qn(e,t),i={type:9,loc:Sr(e.loc),branches:[n]};if(s.replaceNode(i),o)return o(i,n,!0)}else{const n=s.parent.children;let i=n.indexOf(e);for(;i-->=-1;){const a=n[i];if(a&&a.type===3){s.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){s.removeNode(a);continue}if(a&&a.type===9){t.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&s.onError(te(30,e.loc)),s.removeNode();const c=qn(e,t);a.branches.push(c);const r=o&&o(a,c,!1);Jt(c,s),r&&r(),s.currentNode=null}else s.onError(te(30,e.loc));break}}}function qn(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!Ee(e,"for")?e.children:[e],userKey:Kt(e,"key"),isTemplateIf:s}}function zn(e,t,s){return e.condition?ms(e.condition,Wn(e,t,s),pe(s.helper(Ct),['""',"true"])):Wn(e,t,s)}function Wn(e,t,s){const{helper:o}=s,n=ie("key",z(`${t}`,!1,ve,2)),{children:i}=e,a=i[0];if(i.length!==1||a.type!==1)if(i.length===1&&a.type===11){const r=a.codegenNode;return Ht(r,n,s),r}else return wt(s,o(bt),$e([n]),i,64,void 0,void 0,!0,!1,!1,e.loc);else{const r=a.codegenNode,u=Vo(r);return u.type===13&&Rs(u,s),Ht(u,n,s),r}}function Kr(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const sa=(e,t,s)=>{const{modifiers:o,loc:n}=e,i=e.arg;let{exp:a}=e;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(i.type!==4||!i.isStatic)return s.onError(te(52,i.loc)),{props:[ie(i,z("",!0,n))]};na(e),a=e.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=i.content?`${i.content} || ""`:'""'),o.some(c=>c.content==="camel")&&(i.type===4?i.isStatic?i.content=et(i.content):i.content=`${s.helperString(fs)}(${i.content})`:(i.children.unshift(`${s.helperString(fs)}(`),i.children.push(")"))),s.inSSR||(o.some(c=>c.content==="prop")&&Gn(i,"."),o.some(c=>c.content==="attr")&&Gn(i,"^")),{props:[ie(i,a)]}},na=(e,t)=>{const s=e.arg,o=et(s.content);e.exp=z(o,!1,s.loc)},Gn=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Jr=gn("for",(e,t,s)=>{const{helper:o,removeHelper:n}=s;return oa(e,t,s,i=>{const a=pe(o(As),[i.source]),c=Et(e),r=Ee(e,"memo"),u=Kt(e,"key",!1,!0);u&&u.type===7&&!u.exp&&na(u);let f=u&&(u.type===6?u.value?z(u.value.content,!0):void 0:u.exp);const m=u&&f?ie("key",f):null,v=i.source.type===4&&i.source.constType>0,k=v?64:u?128:256;return i.codegenNode=wt(s,o(bt),void 0,a,k,void 0,void 0,!0,!v,!1,e.loc),()=>{let g;const{children:F}=i,N=F.length!==1||F[0].type!==1,b=Xt(e)?e:c&&e.children.length===1&&Xt(e.children[0])?e.children[0]:null;if(b?(g=b.codegenNode,c&&m&&Ht(g,m,s)):N?g=wt(s,o(bt),m?$e([m]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=F[0].codegenNode,c&&m&&Ht(g,m,s),g.isBlock!==!v&&(g.isBlock?(n(st),n(pt(s.inSSR,g.isComponent))):n(ft(s.inSSR,g.isComponent))),g.isBlock=!v,g.isBlock?(o(st),o(pt(s.inSSR,g.isComponent))):o(ft(s.inSSR,g.isComponent))),r){const w=dt(vs(i.parseResult,[z("_cached")]));w.body=To([Pe(["const _memo = (",r.exp,")"]),Pe(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${s.helperString(cn)}(_cached, _memo)) return _cached`]),Pe(["const _item = ",g]),z("_item.memo = _memo"),z("return _item")]),a.arguments.push(w,z("_cache"),z(String(s.cached.length))),s.cached.push(null)}else a.arguments.push(dt(vs(i.parseResult),g,!0))}})});function oa(e,t,s,o){if(!t.exp){s.onError(te(31,t.loc));return}const n=t.forParseResult;if(!n){s.onError(te(32,t.loc));return}_n(n);const{addIdentifiers:i,removeIdentifiers:a,scopes:c}=s,{source:r,value:u,key:p,index:f}=n,m={type:11,loc:t.loc,source:r,valueAlias:u,keyAlias:p,objectIndexAlias:f,parseResult:n,children:Et(e)?e.children:[e]};s.replaceNode(m),c.vFor++;const v=o&&o(m);return()=>{c.vFor--,v&&v()}}function _n(e,t){e.finalized||(e.finalized=!0)}function vs({value:e,key:t,index:s},o=[]){return Yr([e,t,s,...o])}function Yr(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,o)=>s||z("_".repeat(o+1),!1))}const Kn=z("undefined",!1),aa=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=Ee(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Qr=(e,t)=>{let s;if(Et(e)&&e.props.some(mn)&&(s=Ee(e,"for"))){const o=s.forParseResult;if(o){_n(o);const{value:n,key:i,index:a}=o,{addIdentifiers:c,removeIdentifiers:r}=t;return n&&c(n),i&&c(i),a&&c(a),()=>{n&&r(n),i&&r(i),a&&r(a)}}}},Zr=(e,t,s,o)=>dt(e,s,!1,!0,s.length?s[0].loc:o);function ia(e,t,s=Zr){t.helper(Ps);const{children:o,loc:n}=e,i=[],a=[];let c=t.scopes.vSlot>0||t.scopes.vFor>0;const r=Ee(e,"slot",!0);if(r){const{arg:F,exp:N}=r;F&&!Te(F)&&(c=!0),i.push(ie(F||z("default",!0),s(N,void 0,o,n)))}let u=!1,p=!1;const f=[],m=new Set;let v=0;for(let F=0;F<o.length;F++){const N=o[F];let b;if(!Et(N)||!(b=Ee(N,"slot",!0))){N.type!==3&&f.push(N);continue}if(r){t.onError(te(37,b.loc));break}u=!0;const{children:w,loc:D}=N,{arg:j=z("default",!0),exp:U,loc:J}=b;let C;Te(j)?C=j?j.content:"default":c=!0;const S=Ee(N,"for"),L=s(U,S,w,D);let A,y;if(A=Ee(N,"if"))c=!0,a.push(ms(A.exp,ts(j,L,v++),Kn));else if(y=Ee(N,/^else(-if)?$/,!0)){let x=F,P;for(;x--&&(P=o[x],!(P.type!==3&&Js(P))););if(P&&Et(P)&&Ee(P,/^(else-)?if$/)){let $=a[a.length-1];for(;$.alternate.type===19;)$=$.alternate;$.alternate=y.exp?ms(y.exp,ts(j,L,v++),Kn):ts(j,L,v++)}else t.onError(te(30,y.loc))}else if(S){c=!0;const x=S.forParseResult;x?(_n(x),a.push(pe(t.helper(As),[x.source,dt(vs(x),ts(j,L),!0)]))):t.onError(te(32,S.loc))}else{if(C){if(m.has(C)){t.onError(te(38,J));continue}m.add(C),C==="default"&&(p=!0)}i.push(ie(j,L))}}if(!r){const F=(N,b)=>{const w=s(N,void 0,b,n);return t.compatConfig&&(w.isNonScopedSlot=!0),ie("default",w)};u?f.length&&f.some(N=>Js(N))&&(p?t.onError(te(39,f[0].loc)):i.push(F(void 0,f))):i.push(F(void 0,o))}const k=c?2:cs(e.children)?3:1;let g=$e(i.concat(ie("_",z(k+"",!1))),n);return a.length&&(g=pe(t.helper(un),[g,tt(a)])),{slots:g,hasDynamicSlots:c}}function ts(e,t,s){const o=[ie("name",e),ie("fn",t)];return s!=null&&o.push(ie("key",z(String(s),!0))),$e(o)}function cs(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||cs(s.children))return!0;break;case 9:if(cs(s.branches))return!0;break;case 10:case 11:if(cs(s.children))return!0;break}}return!1}function Js(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():Js(e.content)}const ra=new WeakMap,la=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:o,props:n}=e,i=e.tagType===1;let a=i?ua(e,t):`"${o}"`;const c=po(a)&&a.callee===Ts;let r,u,p=0,f,m,v,k=c||a===yt||a===ks||!i&&(o==="svg"||o==="foreignObject"||o==="math");if(n.length>0){const g=bn(e,t,void 0,i,c);r=g.props,p=g.patchFlag,m=g.dynamicPropNames;const F=g.directives;v=F&&F.length?tt(F.map(N=>ca(N,t))):void 0,g.shouldUseBlock&&(k=!0)}if(e.children.length>0)if(a===Ft&&(k=!0,p|=1024),i&&a!==yt&&a!==Ft){const{slots:F,hasDynamicSlots:N}=ia(e,t);u=F,N&&(p|=1024)}else if(e.children.length===1&&a!==yt){const F=e.children[0],N=F.type,b=N===5||N===8;b&&Ie(F,t)===0&&(p|=1),b||N===2?u=F:u=e.children}else u=e.children;m&&m.length&&(f=tl(m)),e.codegenNode=wt(t,a,r,u,p===0?void 0:p,f,v,!!k,!1,i,e.loc)};function ua(e,t,s=!1){let{tag:o}=e;const n=Ys(o),i=Kt(e,"is",!1,!0);if(i)if(n||ut("COMPILER_IS_ON_ELEMENT",t)){let c;if(i.type===6?c=i.value&&z(i.value.content,!0):(c=i.exp,c||(c=z("is",!1,i.arg.loc))),c)return pe(t.helper(Ts),[c])}else i.type===6&&i.value.content.startsWith("vue:")&&(o=i.value.content.slice(4));const a=fn(o)||t.isBuiltInComponent(o);return a?(s||t.helper(a),a):(t.helper(Ss),t.components.add(o),St(o,"component"))}function bn(e,t,s=e.props,o,n,i=!1){const{tag:a,loc:c,children:r}=e;let u=[];const p=[],f=[],m=r.length>0;let v=!1,k=0,g=!1,F=!1,N=!1,b=!1,w=!1,D=!1;const j=[],U=L=>{u.length&&(p.push($e(Jn(u),c)),u=[]),L&&p.push(L)},J=()=>{t.scopes.vFor>0&&u.push(ie(z("ref_for",!0),z("true")))},C=({key:L,value:A})=>{if(Te(L)){const y=L.content,x=mo(y);if(x&&(!o||n)&&y.toLowerCase()!=="onclick"&&y!=="onUpdate:modelValue"&&!Pn(y)&&(b=!0),x&&Pn(y)&&(D=!0),x&&A.type===14&&(A=A.arguments[0]),A.type===20||(A.type===4||A.type===8)&&Ie(A,t)>0)return;y==="ref"?g=!0:y==="class"?F=!0:y==="style"?N=!0:y!=="key"&&!j.includes(y)&&j.push(y),o&&(y==="class"||y==="style")&&!j.includes(y)&&j.push(y)}else w=!0};for(let L=0;L<s.length;L++){const A=s[L];if(A.type===6){const{loc:y,name:x,nameLoc:P,value:$}=A;let q=!0;if(x==="ref"&&(g=!0,J()),x==="is"&&(Ys(a)||$&&$.content.startsWith("vue:")||ut("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(ie(z(x,!0,P),z($?$.content:"",q,$?$.loc:y)))}else{const{name:y,arg:x,exp:P,loc:$,modifiers:q}=A,H=y==="bind",se=y==="on";if(y==="slot"){o||t.onError(te(40,$));continue}if(y==="once"||y==="memo"||y==="is"||H&&Ze(x,"is")&&(Ys(a)||ut("COMPILER_IS_ON_ELEMENT",t))||se&&i)continue;if((H&&Ze(x,"key")||se&&m&&Ze(x,"vue:before-update"))&&(v=!0),H&&Ze(x,"ref")&&J(),!x&&(H||se)){if(w=!0,P)if(H){if(U(),ut("COMPILER_V_BIND_OBJECT_ORDER",t)){p.unshift(P);continue}J(),U(),p.push(P)}else U({type:14,loc:$,callee:t.helper(Ms),arguments:o?[P]:[P,"true"]});else t.onError(te(H?34:35,$));continue}H&&q.some(Ce=>Ce.content==="prop")&&(k|=32);const De=t.directiveTransforms[y];if(De){const{props:Ce,needRuntime:It}=De(A,e,t);!i&&Ce.forEach(C),se&&x&&!Te(x)?U($e(Ce,c)):u.push(...Ce),It&&(f.push(A),Qs(It)&&ra.set(A,It))}else Ua(y)||(f.push(A),m&&(v=!0))}}let S;if(p.length?(U(),p.length>1?S=pe(t.helper(Bt),p,c):S=p[0]):u.length&&(S=$e(Jn(u),c)),w?k|=16:(F&&!o&&(k|=2),N&&!o&&(k|=4),j.length&&(k|=8),b&&(k|=32)),!v&&(k===0||k===32)&&(g||D||f.length>0)&&(k|=512),!t.inSSR&&S)switch(S.type){case 15:let L=-1,A=-1,y=!1;for(let $=0;$<S.properties.length;$++){const q=S.properties[$].key;Te(q)?q.content==="class"?L=$:q.content==="style"&&(A=$):q.isHandlerKey||(y=!0)}const x=S.properties[L],P=S.properties[A];y?S=pe(t.helper(kt),[S]):(x&&!Te(x.value)&&(x.value=pe(t.helper(Os),[x.value])),P&&(N||P.value.type===4&&P.value.content.trim()[0]==="["||P.value.type===17)&&(P.value=pe(t.helper($s),[P.value])));break;case 14:break;default:S=pe(t.helper(kt),[pe(t.helper(Nt),[S])]);break}return{props:S,directives:f,patchFlag:k,dynamicPropNames:j,shouldUseBlock:v}}function Jn(e){const t=new Map,s=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.key.type===8||!n.key.isStatic){s.push(n);continue}const i=n.key.content,a=t.get(i);a?(i==="style"||i==="class"||mo(i))&&el(a,n):(t.set(i,n),s.push(n))}return s}function el(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=tt([e.value,t.value],e.loc)}function ca(e,t){const s=[],o=ra.get(e);o?s.push(t.helperString(o)):(t.helper(Cs),t.directives.add(e.name),s.push(St(e.name,"directive")));const{loc:n}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const i=z("true",!1,n);s.push($e(e.modifiers.map(a=>ie(a,i)),n))}return tt(s,e.loc)}function tl(e){let t="[";for(let s=0,o=e.length;s<o;s++)t+=JSON.stringify(e[s]),s<o-1&&(t+=", ");return t+"]"}function Ys(e){return e==="component"||e==="Component"}const sl=(e,t)=>{if(Xt(e)){const{children:s,loc:o}=e,{slotName:n,slotProps:i}=da(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let c=2;i&&(a[2]=i,c=3),s.length&&(a[3]=dt([],s,!1,!1,o),c=4),t.scopeId&&!t.slotted&&(c=5),a.splice(c),e.codegenNode=pe(t.helper(ln),a,o)}};function da(e,t){let s='"default"',o;const n=[];for(let i=0;i<e.props.length;i++){const a=e.props[i];if(a.type===6)a.value&&(a.name==="name"?s=JSON.stringify(a.value.content):(a.name=et(a.name),n.push(a)));else if(a.name==="bind"&&Ze(a.arg,"name")){if(a.exp)s=a.exp;else if(a.arg&&a.arg.type===4){const c=et(a.arg.content);s=a.exp=z(c,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Te(a.arg)&&(a.arg.content=et(a.arg.content)),n.push(a)}if(n.length>0){const{props:i,directives:a}=bn(e,t,n,!1,!1);o=i,a.length&&t.onError(te(36,a[0].loc))}return{slotName:s,slotProps:o}}const kn=(e,t,s,o)=>{const{loc:n,modifiers:i,arg:a}=e;!e.exp&&!i.length&&s.onError(te(35,n));let c;if(a.type===4)if(a.isStatic){let f=a.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const m=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?Ha(et(f)):`on:${f}`;c=z(m,!0,a.loc)}else c=Pe([`${s.helperString(ps)}(`,a,")"]);else c=a,c.children.unshift(`${s.helperString(ps)}(`),c.children.push(")");let r=e.exp;r&&!r.content.trim()&&(r=void 0);let u=s.cacheHandlers&&!r&&!s.inVOnce;if(r){const f=pn(r),m=!(f||Po(r)),v=r.content.includes(";");(m||u&&f)&&(r=Pe([`${m?"$event":"(...args)"} => ${v?"{":"("}`,r,v?"}":")"]))}let p={props:[ie(c,r||z("() => {}",!1,n))]};return o&&(p=o(p)),u&&(p.props[0].value=s.cache(p.props[0].value)),p.props.forEach(f=>f.key.isHandlerKey=!0),p},nl=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let o,n=!1;for(let i=0;i<s.length;i++){const a=s[i];if(as(a)){n=!0;for(let c=i+1;c<s.length;c++){const r=s[c];if(as(r))o||(o=s[i]=Pe([a],a.loc)),o.children.push(" + ",r),s.splice(c,1),c--;else{o=void 0;break}}}}if(!(!n||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&e.tag!=="template")))for(let i=0;i<s.length;i++){const a=s[i];if(as(a)||a.type===8){const c=[];(a.type!==2||a.content!==" ")&&c.push(a),!t.ssr&&Ie(a,t)===0&&c.push("1"),s[i]={type:12,content:a,loc:a.loc,codegenNode:pe(t.helper(Es),c)}}}}},Yn=new WeakSet,ol=(e,t)=>{if(e.type===1&&Ee(e,"once",!0))return Yn.has(e)||t.inVOnce||t.inSSR?void 0:(Yn.add(e),t.inVOnce=!0,t.helper(Ut),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0,!0))})},wn=(e,t,s)=>{const{exp:o,arg:n}=e;if(!o)return s.onError(te(41,e.loc)),ss();const i=o.loc.source.trim(),a=o.type===4?o.content:i,c=s.bindingMetadata[i];if(c==="props"||c==="props-aliased")return s.onError(te(44,o.loc)),ss();if(!a.trim()||!pn(o))return s.onError(te(42,o.loc)),ss();const r=n||z("modelValue",!0),u=n?Te(n)?`onUpdate:${et(n.content)}`:Pe(['"onUpdate:" + ',n]):"onUpdate:modelValue";let p;const f=s.isTS?"($event: any)":"$event";p=Pe([`${f} => ((`,o,") = $event)"]);const m=[ie(r,e.exp),ie(u,p)];if(e.modifiers.length&&t.tagType===1){const v=e.modifiers.map(g=>g.content).map(g=>(Gt(g)?g:JSON.stringify(g))+": true").join(", "),k=n?Te(n)?`${n.content}Modifiers`:Pe([n,' + "Modifiers"']):"modelModifiers";m.push(ie(k,z(`{ ${v} }`,!1,e.loc,2)))}return ss(m)};function ss(e=[]){return{props:e}}const al=/[\w).+\-_$\]]/,il=(e,t)=>{ut("COMPILER_FILTERS",t)&&(e.type===5?gs(e.content,t):e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&gs(s.exp,t)}))};function gs(e,t){if(e.type===4)Qn(e,t);else for(let s=0;s<e.children.length;s++){const o=e.children[s];typeof o=="object"&&(o.type===4?Qn(o,t):o.type===8?gs(e,t):o.type===5&&gs(o.content,t))}}function Qn(e,t){const s=e.content;let o=!1,n=!1,i=!1,a=!1,c=0,r=0,u=0,p=0,f,m,v,k,g=[];for(v=0;v<s.length;v++)if(m=f,f=s.charCodeAt(v),o)f===39&&m!==92&&(o=!1);else if(n)f===34&&m!==92&&(n=!1);else if(i)f===96&&m!==92&&(i=!1);else if(a)f===47&&m!==92&&(a=!1);else if(f===124&&s.charCodeAt(v+1)!==124&&s.charCodeAt(v-1)!==124&&!c&&!r&&!u)k===void 0?(p=v+1,k=s.slice(0,v).trim()):F();else{switch(f){case 34:n=!0;break;case 39:o=!0;break;case 96:i=!0;break;case 40:u++;break;case 41:u--;break;case 91:r++;break;case 93:r--;break;case 123:c++;break;case 125:c--;break}if(f===47){let N=v-1,b;for(;N>=0&&(b=s.charAt(N),b===" ");N--);(!b||!al.test(b))&&(a=!0)}}k===void 0?k=s.slice(0,v).trim():p!==0&&F();function F(){g.push(s.slice(p,v).trim()),p=v+1}if(g.length){for(v=0;v<g.length;v++)k=rl(k,g[v],t);e.content=k,e.ast=void 0}}function rl(e,t,s){s.helper(Ns);const o=t.indexOf("(");if(o<0)return s.filters.add(t),`${St(t,"filter")}(${e})`;{const n=t.slice(0,o),i=t.slice(o+1);return s.filters.add(n),`${St(n,"filter")}(${e}${i!==")"?","+i:i}`}}const Zn=new WeakSet,ll=(e,t)=>{if(e.type===1){const s=Ee(e,"memo");return!s||Zn.has(e)?void 0:(Zn.add(e),()=>{const o=e.codegenNode||t.currentNode.codegenNode;o&&o.type===13&&(e.tagType!==1&&Rs(o,t),e.codegenNode=pe(t.helper(Ds),[s.exp,dt(void 0,o),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function fa(e){return[[ol,Gr,ll,Jr,il,sl,la,aa,nl],{on:kn,bind:sa,model:wn}]}function pa(e,t={}){const s=t.onError||dn,o=t.mode==="module";t.prefixIdentifiers===!0?s(te(47)):o&&s(te(48));const n=!1;t.cacheHandlers&&s(te(49)),t.scopeId&&!o&&s(te(50));const i=qe({},t,{prefixIdentifiers:n}),a=he(e)?vn(e,i):e,[c,r]=fa();return Ko(a,qe({},i,{nodeTransforms:[...c,...t.nodeTransforms||[]],directiveTransforms:qe({},r,t.directiveTransforms||{})})),Yo(a,i)}const ul={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},ma=()=>({props:[]});/**
* @vue/compiler-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const xn=Symbol(""),En=Symbol(""),Sn=Symbol(""),Tn=Symbol(""),ys=Symbol(""),Cn=Symbol(""),Nn=Symbol(""),In=Symbol(""),An=Symbol(""),On=Symbol("");xo({[xn]:"vModelRadio",[En]:"vModelCheckbox",[Sn]:"vModelText",[Tn]:"vModelSelect",[ys]:"vModelDynamic",[Cn]:"withModifiers",[Nn]:"withKeys",[In]:"vShow",[An]:"Transition",[On]:"TransitionGroup"});let vt;function cl(e,t=!1){return vt||(vt=document.createElement("div")),t?(vt.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,vt.children[0].getAttribute("foo")):(vt.innerHTML=e,vt.textContent)}const $n={parseMode:"html",isVoidTag:Ga,isNativeTag:e=>qa(e)||za(e)||Wa(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:cl,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return An;if(e==="TransitionGroup"||e==="transition-group")return On},getNamespace(e,t,s){let o=t?t.ns:s;if(t&&o===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(o=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(o=0);else t&&o===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(o=0);if(o===0){if(e==="svg")return 1;if(e==="math")return 2}return o}},ha=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:z("style",!0,t.loc),exp:dl(t.value.content,t.loc),modifiers:[],loc:t.loc})})},dl=(e,t)=>{const s=Ka(e);return z(JSON.stringify(s),!1,t,3)};function We(e,t){return te(e,t)}const fl={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},pl={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},ml=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(We(53,n)),t.children.length&&(s.onError(We(54,n)),t.children.length=0),{props:[ie(z("innerHTML",!0,n),o||z("",!0))]}},hl=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(We(55,n)),t.children.length&&(s.onError(We(56,n)),t.children.length=0),{props:[ie(z("textContent",!0),o?Ie(o,s)>0?o:pe(s.helperString(Wt),[o],n):z("",!0))]}},vl=(e,t,s)=>{const o=wn(e,t,s);if(!o.props.length||t.tagType===1)return o;e.arg&&s.onError(We(58,e.arg.loc));const{tag:n}=t,i=s.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||i){let a=Sn,c=!1;if(n==="input"||i){const r=Kt(t,"type");if(r){if(r.type===7)a=ys;else if(r.value)switch(r.value.content){case"radio":a=xn;break;case"checkbox":a=En;break;case"file":c=!0,s.onError(We(59,e.loc));break}}else Ro(t)&&(a=ys)}else n==="select"&&(a=Tn);c||(o.needRuntime=s.helper(a))}else s.onError(We(57,e.loc));return o.props=o.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),o},gl=bs("passive,once,capture"),yl=bs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),_l=bs("left,right"),va=bs("onkeyup,onkeydown,onkeypress"),bl=(e,t,s,o)=>{const n=[],i=[],a=[];for(let c=0;c<t.length;c++){const r=t[c].content;r==="native"&&xt("COMPILER_V_ON_NATIVE",s)||gl(r)?a.push(r):_l(r)?Te(e)?va(e.content.toLowerCase())?n.push(r):i.push(r):(n.push(r),i.push(r)):yl(r)?i.push(r):n.push(r)}return{keyModifiers:n,nonKeyModifiers:i,eventOptionModifiers:a}},eo=(e,t)=>Te(e)&&e.content.toLowerCase()==="onclick"?z(t,!0):e.type!==4?Pe(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,kl=(e,t,s)=>kn(e,t,s,o=>{const{modifiers:n}=e;if(!n.length)return o;let{key:i,value:a}=o.props[0];const{keyModifiers:c,nonKeyModifiers:r,eventOptionModifiers:u}=bl(i,n,s,e.loc);if(r.includes("right")&&(i=eo(i,"onContextmenu")),r.includes("middle")&&(i=eo(i,"onMouseup")),r.length&&(a=pe(s.helper(Cn),[a,JSON.stringify(r)])),c.length&&(!Te(i)||va(i.content.toLowerCase()))&&(a=pe(s.helper(Nn),[a,JSON.stringify(c)])),u.length){const p=u.map(fo).join("");i=Te(i)?z(`${i.content}${p}`,!0):Pe(["(",i,`) + "${p}"`])}return{props:[ie(i,a)]}}),wl=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(We(61,n)),{props:[],needRuntime:s.helper(In)}},xl=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},ga=[ha],ya={cloak:ma,html:ml,text:hl,model:vl,on:kl,show:wl};function El(e,t={}){return pa(e,qe({},$n,t,{nodeTransforms:[xl,...ga,...t.nodeTransforms||[]],directiveTransforms:qe({},ya,t.directiveTransforms||{}),transformHoist:null}))}function Sl(e,t={}){return vn(e,qe({},$n,t))}const Tl=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:nn,BindingTypes:ul,CAMELIZE:fs,CAPITALIZE:yo,CREATE_BLOCK:on,CREATE_COMMENT:Ct,CREATE_ELEMENT_BLOCK:an,CREATE_ELEMENT_VNODE:xs,CREATE_SLOTS:un,CREATE_STATIC:rn,CREATE_TEXT:Es,CREATE_VNODE:ws,CompilerDeprecationTypes:qi,ConstantTypes:Li,DOMDirectiveTransforms:ya,DOMErrorCodes:fl,DOMErrorMessages:pl,DOMNodeTransforms:ga,ElementTypes:Ri,ErrorCodes:Gi,FRAGMENT:bt,GUARD_REACTIVE_PROPS:Nt,IS_MEMO_SAME:cn,IS_REF:wo,KEEP_ALIVE:Ft,MERGE_PROPS:Bt,NORMALIZE_CLASS:Os,NORMALIZE_PROPS:kt,NORMALIZE_STYLE:$s,Namespaces:Pi,NodeTypes:Di,OPEN_BLOCK:st,POP_SCOPE_ID:bo,PUSH_SCOPE_ID:_o,RENDER_LIST:As,RENDER_SLOT:ln,RESOLVE_COMPONENT:Ss,RESOLVE_DIRECTIVE:Cs,RESOLVE_DYNAMIC_COMPONENT:Ts,RESOLVE_FILTER:Ns,SET_BLOCK_TRACKING:Ut,SUSPENSE:ks,TELEPORT:yt,TO_DISPLAY_STRING:Wt,TO_HANDLERS:Ms,TO_HANDLER_KEY:ps,TRANSITION:An,TRANSITION_GROUP:On,TS_NODE_TYPES:Io,UNREF:ko,V_MODEL_CHECKBOX:En,V_MODEL_DYNAMIC:ys,V_MODEL_RADIO:xn,V_MODEL_SELECT:Tn,V_MODEL_TEXT:Sn,V_ON_WITH_KEYS:Nn,V_ON_WITH_MODIFIERS:Cn,V_SHOW:In,WITH_CTX:Ps,WITH_DIRECTIVES:Is,WITH_MEMO:Ds,advancePositionWithClone:pr,advancePositionWithMutation:Do,assert:mr,baseCompile:pa,baseParse:vn,buildDirectiveArgs:ca,buildProps:bn,buildSlots:ia,checkCompatEnabled:xt,compile:El,convertToBlock:Rs,createArrayExpression:tt,createAssignmentExpression:Bi,createBlockStatement:To,createCacheExpression:So,createCallExpression:pe,createCompilerError:te,createCompoundExpression:Pe,createConditionalExpression:ms,createDOMCompilerError:We,createForLoopParams:vs,createFunctionExpression:dt,createIfStatement:Fi,createInterpolation:Vi,createObjectExpression:$e,createObjectProperty:ie,createReturnStatement:Xi,createRoot:Eo,createSequenceExpression:Ui,createSimpleExpression:z,createStructuralDirectiveTransform:gn,createTemplateLiteral:ji,createTransformContext:Go,createVNodeCall:wt,errorMessages:Ki,extractIdentifiers:He,findDir:Ee,findProp:Kt,forAliasRE:jo,generate:Yo,generateCodeFrame:Ja,getBaseTransformPreset:fa,getConstantType:Ie,getMemoedVNodeCall:Vo,getVNodeBlockHelper:pt,getVNodeHelper:ft,hasDynamicKeyVBind:Ro,hasScopeRef:Re,helperNameMap:ct,injectProp:Ht,isCoreComponent:fn,isFnExpression:Po,isFnExpressionBrowser:Mo,isFnExpressionNode:fr,isFunctionType:or,isInDestructureAssignment:Qi,isInNewExpression:Zi,isMemberExpression:pn,isMemberExpressionBrowser:$o,isMemberExpressionNode:cr,isReferencedIdentifier:Yi,isSimpleIdentifier:Gt,isSlotOutlet:Xt,isStaticArgOf:Ze,isStaticExp:Te,isStaticProperty:No,isStaticPropertyKey:ar,isTemplateNode:Et,isText:as,isVPre:Ws,isVSlot:mn,locStub:ve,noopDirectiveTransform:ma,parse:Sl,parserOptions:$n,processExpression:us,processFor:oa,processIf:ta,processSlotOutlet:da,registerRuntimeHelpers:xo,resolveComponentType:ua,stringifyExpression:ea,toValidAssetId:St,trackSlotScopes:aa,trackVForSlotScopes:Qr,transform:Ko,transformBind:sa,transformElement:la,transformExpression:Wr,transformModel:wn,transformOn:kn,transformStyle:ha,traverseNode:Jt,unwrapTSNode:Ao,walkBlockDeclarations:tr,walkFunctionParams:er,walkIdentifiers:Ji,warnDeprecation:Wi},Symbol.toStringTag,{value:"Module"})),Cl=Zs(Tl),Nl=Zs(Ya),Il=Zs(Qa);/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var to;function Al(){return to||(to=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Cl,s=Nl,o=Il;function n(r){var u=Object.create(null);if(r)for(var p in r)u[p]=r[p];return u.default=r,Object.freeze(u)}var i=n(s);const a=Object.create(null);function c(r,u){if(!o.isString(r))if(r.nodeType)r=r.innerHTML;else return o.NOOP;const p=o.genCacheKey(r,u),f=a[p];if(f)return f;if(r[0]==="#"){const g=document.querySelector(r);r=g?g.innerHTML:""}const m=o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},u);!m.isCustomElement&&typeof customElements<"u"&&(m.isCustomElement=g=>!!customElements.get(g));const{code:v}=t.compile(r,m),k=new Function("Vue",v)(i);return k._rc=!0,a[p]=k}s.registerRuntimeCompiler(c),e.compile=c,Object.keys(s).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=s[r])})}(Bs)),Bs}var so;function Ol(){return so||(so=1,Fs.exports=Al()),Fs.exports}var $l=os.exports,no;function Ml(){return no||(no=1,function(e,t){(function(o,n){e.exports=n(Ol())})($l,s=>(()=>{var o={113:(C,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=(L,A)=>{const y=L.__vccOpts||L;for(const[x,P]of A)y[x]=P;return y}},594:C=>{C.exports=s}},n={};function i(C){var S=n[C];if(S!==void 0)return S.exports;var L=n[C]={exports:{}};return o[C](L,L.exports,i),L.exports}i.d=(C,S)=>{for(var L in S)i.o(S,L)&&!i.o(C,L)&&Object.defineProperty(C,L,{enumerable:!0,get:S[L]})},i.o=(C,S)=>Object.prototype.hasOwnProperty.call(C,S),i.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{ToastComponent:()=>D,ToastPlugin:()=>U,ToastPositions:()=>v,default:()=>J,useToast:()=>j});var c=i(594);const r=["innerHTML"];function u(C,S,L,A,y,x){return(0,c.openBlock)(),(0,c.createBlock)(c.Transition,{"enter-active-class":C.transition.enter,"leave-active-class":C.transition.leave},{default:(0,c.withCtx)(()=>[(0,c.withDirectives)((0,c.createElementVNode)("div",{ref:"root",role:"alert",class:(0,c.normalizeClass)(["v-toast__item",[`v-toast__item--${C.type}`,`v-toast__item--${C.position}`]]),onMouseover:S[0]||(S[0]=P=>C.toggleTimer(!0)),onMouseleave:S[1]||(S[1]=P=>C.toggleTimer(!1)),onClick:S[2]||(S[2]=function(){return C.whenClicked&&C.whenClicked(...arguments)})},[S[3]||(S[3]=(0,c.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,c.createElementVNode)("p",{class:"v-toast__text",innerHTML:C.message},null,8,r)],34),[[c.vShow,C.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function p(C){var S;typeof C.remove<"u"?C.remove():(S=C.parentNode)==null||S.removeChild(C)}function f(C,S,L){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const y=(0,c.h)(C,S,A),x=document.createElement("div");return x.classList.add("v-toast--pending"),L.appendChild(x),(0,c.render)(y,x),y.component}class m{constructor(S,L){this.startedAt=Date.now(),this.callback=S,this.delay=L,this.timer=setTimeout(S,L)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const v=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function k(C){return{all:C=C||new Map,on:function(S,L){var A=C.get(S);A?A.push(L):C.set(S,[L])},off:function(S,L){var A=C.get(S);A&&(L?A.splice(A.indexOf(L)>>>0,1):C.set(S,[]))},emit:function(S,L){var A=C.get(S);A&&A.slice().map(function(y){y(L)}),(A=C.get("*"))&&A.slice().map(function(y){y(S,L)})}}}const F=k(),N=(0,c.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:v.BOTTOM_RIGHT,validator(C){return Object.values(v).includes(C)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),F.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const C=document.body;C.appendChild(this.parentTop),C.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const C=this.$refs.root;(0,c.render)(null,C),p(C)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const C=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),p(C),this.isActive=!0,this.duration&&(this.timer=new m(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(C){!this.pauseOnHover||!this.timer||(C?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case v.TOP:case v.TOP_RIGHT:case v.TOP_LEFT:return this.parentTop;case v.BOTTOM:case v.BOTTOM_RIGHT:case v.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case v.TOP:case v.TOP_RIGHT:case v.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case v.BOTTOM:case v.BOTTOM_RIGHT:case v.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){F.off("toast-clear",this.dismiss)}});var b=i(113);const D=(0,b.default)(N,[["render",u]]),j=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(S){let L=null;typeof S=="string"&&(L=S);const y=Object.assign({},{message:L},C,S);return{dismiss:f(D,y,document.body).ctx.dismiss}},clear(){F.emit("toast-clear")},success(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"success"},L))},error(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"error"},L))},info(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"info"},L))},warning(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"warning"},L))},default(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"default"},L))}}},U={install:function(C){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=j(S);C.config.globalProperties.$toast=L,C.provide("$toast",L)}},J=U;return a})())}(os)),os.exports}var Pl=Ml();const Dl={class:"p-8"},Rl={class:"mt-2 text-sm text-gray-600"},Ll={key:0,class:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-lg"},Vl={class:"mt-4"},jl={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},Fl={class:"lg:col-span-1 space-y-3"},Bl=["onClick"],Ul={class:"flex items-center justify-between"},Xl={class:"flex items-center"},Hl={class:"ml-2 text-sm text-gray-500"},ql={key:0},zl={key:1},Wl={key:1,class:"text-xs text-gray-400"},Gl={key:0,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner"},Kl={key:0},Jl={class:"text-xl font-semibold text-gray-800 mb-4"},Yl={class:"mb-4 text-sm text-right"},Ql=["disabled"],Zl={class:"flex items-center justify-between mb-6 p-4 rounded-lg bg-white shadow-sm border border-gray-200"},eu={class:"relative inline-flex items-center cursor-pointer"},tu=["checked"],su={key:0},nu={class:"flex-1"},ou=["onUpdate:modelValue"],au={class:"flex-1"},iu=["onUpdate:modelValue"],ru=["onClick"],lu={key:1},uu={key:1,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner flex items-center justify-center"},cu={class:"mt-8 flex justify-end space-x-3"},du={key:0,class:"flex items-center"},fu={key:1},pu={__name:"AvailabilityModal",props:{show:Boolean,userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(e,{emit:t}){const s=()=>{const A=localStorage.getItem("authToken");A&&!oe.defaults.headers.common.Authorization&&(oe.defaults.headers.common.Authorization=`Bearer ${A}`)},o=e,n=t,i=Pl.useToast(),a=O({}),c=O({}),r=O(!1),u=O(null),p=O(""),f=O(!1),m=O([]),v=()=>{const A=[],y=new Date,x=y.getDay(),P=x===0?1:8-x,$=new Date(y);$.setDate(y.getDate()+P);for(let q=0;q<7;q++){const H=new Date($);H.setDate($.getDate()+q);const se=H.toISOString().split("T")[0];A.push({value:se,label:H.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:H.toLocaleDateString("en-US",{weekday:"short"})})}return A},k=()=>{const A=[],y=new Date,x=y.getDay(),P=new Date(y);P.setDate(y.getDate()-(x===0?6:x-1));for(let $=0;$<7;$++){const q=new Date(P);q.setDate(P.getDate()+$);const H=q.toISOString().split("T")[0];A.push({value:H,label:q.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:q.toLocaleDateString("en-US",{weekday:"short"})})}return A},g=()=>{f.value=!0,p.value="",m.value=k(),u.value=null,N()},F=()=>{f.value=!1,p.value="",m.value=v(),u.value=null,N()};Ge(()=>{s(),m.value=v(),N()});const N=async()=>{try{if(s(),m.value.length===0)return;const A=m.value[0].value,y=m.value[m.value.length-1].value,x=await oe.get("/api/availabilities",{params:{start_date:A,end_date:y,user_id:o.userId}});if(x.data&&x.data.availabilities){const P={};m.value.forEach($=>{P[$.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),a.value=P,x.data.availabilities.forEach($=>{const q=$.date.split("T")[0];a.value[q]&&(a.value[q].isSelected=!0,a.value[q].isAvailable=$.is_available,$.is_available?a.value[q].timeSlots=$.time_slots&&$.time_slots.length>0?[...$.time_slots]:[{start_time:"",end_time:""}]:a.value[q].reason=$.reason||"")})}}catch(A){console.error("Error fetching existing availabilities:",A)}};me(()=>o.show,async A=>{A&&(c.value={},p.value="",f.value=!1,m.value=v(),await N()),u.value=null},{immediate:!0});const b=K(()=>a.value[u.value]||{isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}),w=K(()=>Object.values(a.value).some(A=>A.isSelected)),D=K(()=>{const A=a.value[u.value];return A?A.isAvailable?A.timeSlots.some(y=>y.start_time&&y.end_time):A.reason.trim().split(/\s+/).filter(Boolean).length>=2:!1}),j=A=>{u.value=A,a.value[A]&&(a.value[A].isSelected=!0)},U=()=>{var y;const A=(y=a.value[u.value])==null?void 0:y.timeSlots;A&&(A.push({start_time:"",end_time:""}),a.value[u.value].isSelected=!0)},J=A=>{var x;const y=(x=a.value[u.value])==null?void 0:x.timeSlots;y&&y.length>1&&(y.splice(A,1),a.value[u.value].isSelected=!0)},C=A=>{a.value[u.value]&&(a.value[u.value].isAvailable=A,a.value[u.value].isSelected=!0,A?a.value[u.value].reason="":a.value[u.value].timeSlots=[{start_time:"",end_time:""}])},S=()=>{const A=a.value[u.value];if(A){if(!D.value){A.isAvailable?c.value[u.value]={timeSlots:"Please fill in at least one time slot before applying to all days."}:c.value[u.value]={reason:"Reason must be at least 2 words to apply to all days."};return}delete c.value[u.value];for(const y of m.value){const x=y.value;a.value[x]=JSON.parse(JSON.stringify(A)),a.value[x].isSelected=!0}i.success("Availability applied to all days!")}},L=async()=>{if(r.value=!0,c.value={},f.value&&!p.value.trim()){c.value.lateReason="Please provide a reason for this late submission.",r.value=!1;return}const A=[];for(const y of m.value){const x=y.value,P=a.value[x];let $={};if(P.isSelected){if(P.isAvailable)if(P.timeSlots.some(q=>!q.start_time||!q.end_time))$.timeSlots="Please fill in all time slots.";else for(const q of P.timeSlots){const H=q.start_time.split(":").map(Number),se=q.end_time.split(":").map(Number);if(H[0]*60+H[1]>=se[0]*60+se[1]){$.timeSlots="End time must be after start time.";break}}else P.reason.trim()||($.reason="Please provide a reason for unavailability.");Object.keys($).length>0&&(c.value[x]=$),Object.keys($).length===0&&A.push({date:x,is_available:P.isAvailable,reason:P.isAvailable?null:P.reason,time_slots:P.isAvailable?P.timeSlots:null})}}if(A.length===0){c.value.general="Please select and set availability for at least one day.",r.value=!1;return}try{s();const y={availabilities:A,reason_for_late_submission:f.value?p.value:null};await oe.post("/api/availabilities/batch",y),i.success("Availability saved successfully!"),n("availability-saved"),n("close")}catch(y){console.error("Error saving availability:",y),i.error("An error occurred while saving your availability.")}finally{r.value=!1}};return(A,y)=>(d(),X(ds,{show:e.show,onClose:y[4]||(y[4]=x=>A.$emit("close")),"max-width":"4xl"},{default:I(()=>{var x,P,$,q;return[l("div",Dl,[y[17]||(y[17]=l("h2",{class:"text-2xl font-bold text-gray-900"}," Set Your Weekly Availability ",-1)),l("p",Rl,[y[5]||(y[5]=M(" Select a day to quickly set your schedule for the upcoming week. ",-1)),f.value?(d(),h("span",{key:1,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:F}," Go back to next week. ")):(d(),h("span",{key:0,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:g}," Missed the deadline? Submit for this week. "))]),f.value?(d(),h("div",Ll,[y[6]||(y[6]=l("div",{class:"flex items-center"},[l("svg",{class:"h-5 w-5 text-yellow-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M8.257 3.344a1.5 1.5 0 012.486 0l5.446 9.176A1.5 1.5 0 0114.246 15H5.754a1.5 1.5 0 01-1.238-2.48zM9 11a1 1 0 102 0V7a1 1 0 10-2 0v4zm1-3a1 1 0 100 2h.01a1 1 0 100-2H10z","clip-rule":"evenodd"})]),l("p",{class:"font-semibold"},"Late Submission for Current Week")],-1)),y[7]||(y[7]=l("p",{class:"mt-2 text-sm"}," Please provide a reason for submitting late. We acknowledge that availability submissions are due by Thursday evening. ",-1)),l("div",Vl,[_(Q,{value:"Reason for late submission"}),de(l("textarea",{"onUpdate:modelValue":y[0]||(y[0]=H=>p.value=H),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., I was out sick, I forgot, I had no access to the system"},null,512),[[Le,p.value]]),_(ee,{message:c.value.lateReason,class:"mt-2"},null,8,["message"])])])):T("",!0),l("div",jl,[l("div",Fl,[(d(!0),h(ae,null,re(m.value,H=>{var se;return d(),h("div",{key:H.value,class:G(["p-4 rounded-xl border cursor-pointer transition-all duration-200 ease-in-out",{"bg-indigo-50 border-indigo-500 shadow-lg":u.value===H.value,"bg-white border-gray-200 hover:border-indigo-400 hover:shadow-md":u.value!==H.value,"border-red-400 bg-red-50":c.value[H.value],"opacity-70":H.isPast}]),onClick:De=>j(H.value)},[l("div",Ul,[l("div",Xl,[l("div",{class:G(["text-lg font-bold",{"text-indigo-600":u.value===H.value,"text-gray-800":u.value!==H.value}])},V(H.day),3),l("div",Hl,V(H.label.split(", ")[1]),1)]),(se=a.value[H.value])!=null&&se.isSelected?(d(),h("span",{key:0,class:G(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",{"bg-emerald-100 text-emerald-800":a.value[H.value].isAvailable,"bg-amber-100 text-amber-800":!a.value[H.value].isAvailable}])},[a.value[H.value].isAvailable?(d(),h("span",ql,"Available")):(d(),h("span",zl,"Unavailable"))],2)):(d(),h("span",Wl," Not Set "))])],10,Bl)}),128))]),u.value?(d(),h("div",Gl,[u.value?(d(),h("div",Kl,[l("h3",Jl," Availability for "+V((x=m.value.find(H=>H.value===u.value))==null?void 0:x.label),1),l("div",Yl,[l("button",{type:"button",onClick:S,disabled:!D.value,class:G([{"opacity-50 cursor-not-allowed":!D.value},"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out"])},y[8]||(y[8]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),l("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"})],-1),M(" Apply to all days ",-1)]),10,Ql)]),l("div",Zl,[y[10]||(y[10]=l("span",{class:"text-sm font-medium text-gray-700"},"I am available on this day",-1)),l("label",eu,[l("input",{type:"checkbox",checked:b.value.isAvailable,onChange:y[1]||(y[1]=H=>C(H.target.checked)),class:"sr-only peer"},null,40,tu),y[9]||(y[9]=l("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1))])]),_(ee,{message:(P=c.value[u.value])==null?void 0:P.general,class:"mt-2"},null,8,["message"]),b.value.isAvailable?(d(),h("div",su,[_(Q,{value:"Available Time Slots",class:"text-gray-800 mb-2"}),_(ee,{message:($=c.value[u.value])==null?void 0:$.timeSlots,class:"mt-2 mb-4"},null,8,["message"]),(d(!0),h(ae,null,re(b.value.timeSlots,(H,se)=>(d(),h("div",{key:se,class:"flex items-center space-x-2 mb-4"},[l("div",nu,[de(l("input",{type:"time","onUpdate:modelValue":De=>a.value[u.value].timeSlots[se].start_time=De,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,ou),[[Le,a.value[u.value].timeSlots[se].start_time]])]),y[12]||(y[12]=l("span",{class:"text-gray-500"},"-",-1)),l("div",au,[de(l("input",{type:"time","onUpdate:modelValue":De=>a.value[u.value].timeSlots[se].end_time=De,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,iu),[[Le,a.value[u.value].timeSlots[se].end_time]])]),a.value[u.value].timeSlots.length>1?(d(),h("button",{key:0,type:"button",onClick:De=>J(se),class:"p-2 text-red-600 hover:text-red-800 transition duration-150 ease-in-out"},y[11]||(y[11]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,ru)):T("",!0)]))),128))])):T("",!0),l("button",{type:"button",onClick:U,class:"mt-2 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},y[13]||(y[13]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),M(" Add Another Time Slot ",-1)]))])):(d(),h("div",lu,[_(Q,{value:"Reason for Not Available",class:"text-gray-800 mb-2"}),de(l("textarea",{"onUpdate:modelValue":y[2]||(y[2]=H=>a.value[u.value].reason=H),rows:"3",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,512),[[Le,a.value[u.value].reason]]),_(ee,{message:(q=c.value[u.value])==null?void 0:q.reason,class:"mt-2"},null,8,["message"])]))])):(d(),h("div",uu,y[14]||(y[14]=[l("p",{class:"text-gray-500 text-lg font-medium"}," Please select a day from the left to set your availability. ",-1)])))]),l("div",cu,[_(jt,{onClick:y[3]||(y[3]=H=>A.$emit("close"))},{default:I(()=>y[15]||(y[15]=[M(" Cancel ",-1)])),_:1,__:[15]}),_(ke,{onClick:L,disabled:r.value||!w.value,class:G({"opacity-50 cursor-not-allowed":r.value||!w.value})},{default:I(()=>[r.value?(d(),h("span",du,y[16]||(y[16]=[l("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),M(" Saving... ",-1)]))):(d(),h("span",fu,"Save Availability"))]),_:1},8,["disabled","class"])])])]}),_:1},8,["show"]))}},mu={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},hu={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},vu={class:"flex justify-center"},gu={__name:"AvailabilityBlocker",setup(e){const t=O(!1),s=O(!0),o=O(!1),n=O([]),i=K(()=>{var g;return((g=zt().props.auth.user)==null?void 0:g.id)||null}),a=()=>{const g=localStorage.getItem("authToken");g&&!oe.defaults.headers.common.Authorization&&(oe.defaults.headers.common.Authorization=`Bearer ${g}`)},c=async()=>{s.value=!0;const g=localStorage.getItem("shouldBlockUser"),F=localStorage.getItem("allWeekdaysCovered");if(g==="true"&&F==="false")t.value=!0,await r();else try{a();const N=await oe.get("/api/availability-prompt");t.value=N.data.should_block_user&&!N.data.all_weekdays_covered,t.value&&await r()}catch(N){console.error("Error checking if user should be blocked:",N),t.value=!1}s.value=!1},r=async()=>{try{a();const g=await oe.get("/api/availability-prompt");u(g.data.next_week_start,g.data.next_week_end)}catch(g){console.error("Error fetching next week dates:",g)}},u=(g,F)=>{const N=[],b=new Date(g),w=new Date(F),D=new Date(b);for(;D<=w;)N.push({value:D.toISOString().split("T")[0],label:D.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),D.setDate(D.getDate()+1);n.value=N},p=()=>{o.value=!0},f=()=>{c()},m=g=>{t.value=g.detail.shouldBlockUser&&!g.detail.allWeekdaysCovered},v=()=>{document.visibilityState==="visible"&&lt(()=>{c()})},k=g=>{(g.key==="shouldBlockUser"||g.key==="allWeekdaysCovered")&&lt(()=>{c()})};return Ge(()=>{c(),window.addEventListener("availability-status-updated",m),document.addEventListener("visibilitychange",v),window.addEventListener("storage",k)}),_s(()=>{window.removeEventListener("availability-status-updated",m),document.removeEventListener("visibilitychange",v),window.removeEventListener("storage",k)}),(g,F)=>t.value&&!s.value?(d(),h("div",mu,[l("div",hu,[F[2]||(F[2]=Za('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div><p class="mb-6 text-gray-700"> You must submit your availability for all weekdays of next week before you can continue using the application. This is required for planning meetings and work schedules. </p>',2)),l("div",vu,[_(ke,{onClick:p,class:"bg-red-600 hover:bg-red-700"},{default:I(()=>F[1]||(F[1]=[M(" Submit Availability Now ",-1)])),_:1,__:[1]})]),_(pu,{show:o.value,"next-week-dates":n.value,date:n.value.length>0?n.value[0].value:"",userId:i.value,onClose:F[0]||(F[0]=N=>o.value=!1),onAvailabilitySaved:f},null,8,["show","next-week-dates","date","userId"])])])):T("",!0)}},yu={class:"p-6"},_u={class:"flex justify-between items-center mb-4"},bu={class:"text-lg font-medium text-gray-900"},ku={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},wu={class:"block sm:inline"},xu={key:0,class:"mt-6 flex justify-end space-x-3"},Eu={__name:"BaseFormModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Modal Title"},apiEndpoint:{type:String,required:!1},httpMethod:{type:String,default:"post",validator:e=>["post","put","patch","delete"].includes(e.toLowerCase())},formData:{type:Object,required:!0},submitButtonText:{type:String,default:"Save"},successMessage:{type:String,default:"Operation successful!"},formatDataForApi:{type:Function,default:e=>e},beforeSubmit:{type:Function,default:()=>!0},showFooter:{type:Boolean,default:!0}},emits:["close","submitted","error"],setup(e,{emit:t}){const s=e,o=t,n=O(!1),i=O({}),a=O("");me(()=>s.show,u=>{u&&(i.value={},a.value="",n.value=!1)});const c=async()=>{var u;n.value=!0,i.value={},a.value="";try{if(await s.beforeSubmit()===!1){n.value=!1;return}const f=s.formatDataForApi(s.formData);let m;const v=s.httpMethod.toLowerCase();if(v==="post")m=await window.axios.post(s.apiEndpoint,f);else if(v==="put")m=await window.axios.put(s.apiEndpoint,f);else if(v==="patch")m=await window.axios.patch(s.apiEndpoint,f);else if(v==="delete")m=await window.axios.delete(s.apiEndpoint,{data:f});else throw new Error(`Unsupported HTTP method: ${s.httpMethod}`);Se(s.successMessage),o("submitted",m.data),o("close")}catch(p){console.error("API submission error:",p);let f="An unexpected error occurred.";p.response?p.response.status===422?(i.value=p.response.data.errors||{},f=p.response.data.message||"Please correct the errors in the form."):(f=p.response.data.message||"An unexpected error occurred.",a.value=f):(f="A network error occurred or the server is unreachable.",a.value=f),Object.keys(i.value).length>0?a.value="Please correct the errors in the form.":((u=p.response)==null?void 0:u.status)!==422&&(a.value=f),fe(f),o("error",p)}finally{n.value=!1}},r=()=>{o("close")};return(u,p)=>(d(),X(ds,{show:e.show,onClose:r},{default:I(()=>[l("div",yu,[l("div",_u,[l("h2",bu,V(e.title),1),l("button",{onClick:r,class:"text-gray-400 hover:text-gray-500"},p[0]||(p[0]=[l("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a.value?(d(),h("div",ku,[l("span",wu,V(a.value),1)])):T("",!0),l("form",{onSubmit:en(c,["prevent"])},[je(u.$slots,"default",{errors:i.value},void 0,!0),e.showFooter?(d(),h("div",xu,[_(jt,{onClick:r,type:"button",disabled:n.value},{default:I(()=>p[1]||(p[1]=[M(" Cancel ",-1)])),_:1,__:[1]},8,["disabled"]),_(ke,{type:"submit",disabled:n.value,class:G({"opacity-75 cursor-not-allowed":n.value})},{default:I(()=>[M(V(n.value?"Submitting...":e.submitButtonText),1)]),_:1},8,["disabled","class"])])):T("",!0)],32)])]),_:3},8,["show"]))}},Qt=Tt(Eu,[["__scopeId","data-v-5ed3c88d"]]),Su=(e,t)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>e(...o),t)}},Tu={class:"relative"},Cu={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},Nu=["onClick"],Iu={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},Au=["onClick"],Ou={key:1,class:"px-4 py-2 text-sm text-gray-500"},$u={key:2,class:"px-4 py-2 text-sm text-gray-500"},Mu={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=O(""),i=O([]),a=O([]),c=O(!1),r=O(null);function u(){o("update:modelValue",a.value.map(N=>N.id))}me(()=>s.initialTags,N=>{if(a.value=[],N&&N.length>0){const j=[],U=new Set;N.forEach(J=>{U.has(J.id)||(j.push(J),U.add(J.id))}),a.value.push(...j)}const b=N.map(j=>j.id),w=Array.isArray(s.modelValue)?s.modelValue:[];(b.length!==w.length||b.some(j=>!w.includes(j))||w.some(j=>!b.includes(j)))&&u()},{immediate:!0});const p=Su(async N=>{if(N.length<2){i.value=[],c.value=!1;return}try{const b=await oe.get(`/api/tags/search?query=${N}`);i.value=b.data,c.value=!0}catch(b){console.error("Error fetching tags:",b),i.value=[],c.value=!1}},300);me(n,N=>{s.disabled||p(N)});const f=N=>{a.value.some(b=>b.id===N.id)||(a.value.push(N),n.value="",i.value=[],c.value=!1,u()),lt(()=>r.value.focus())},m=()=>{if(s.disabled)return;const N=n.value.trim();if(!N)return;const b=i.value.find(D=>D.name.toLowerCase()===N.toLowerCase()),w=a.value.some(D=>D.name.toLowerCase()===N.toLowerCase());if(b)f(b);else if(w)n.value="",i.value=[],c.value=!1;else{const D={id:`new_${N.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:N};a.value.push(D),n.value="",i.value=[],c.value=!1,u()}lt(()=>r.value.focus())},v=N=>{s.disabled||(a.value=a.value.filter(b=>b.id!==N.id),u(),lt(()=>r.value.focus()))},k=()=>{s.disabled||n.value===""&&a.value.length>0&&v(a.value[a.value.length-1])},g=K(()=>i.value.filter(N=>!a.value.some(b=>b.id===N.id))),F=N=>{r.value&&!r.value.$el.contains(N.target)&&(c.value=!1,n.value="")};return Ge(()=>{document.addEventListener("click",F)}),_s(()=>{document.removeEventListener("click",F)}),(N,b)=>(d(),h("div",Tu,[_(Q,{value:e.label,class:"mb-1"},null,8,["value"]),l("div",Cu,[(d(!0),h(ae,null,re(a.value,w=>(d(),h("span",{key:w.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[M(V(w.name)+" ",1),e.disabled?T("",!0):(d(),h("button",{key:0,type:"button",onClick:D=>v(w),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},b[3]||(b[3]=[l("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Nu))]))),128)),_(Ve,{ref_key:"inputRef",ref:r,type:"text",placeholder:a.value.length===0?e.placeholder:"",modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=w=>n.value=w),onFocus:b[1]||(b[1]=w=>c.value=!0),onKeydown:[ns(en(m,["prevent"]),["enter"]),b[2]||(b[2]=ns(w=>c.value=!1,["tab"])),ns(k,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:e.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),c.value&&(g.value.length>0||n.value.length>=2||g.value.length===0&&n.value.length<2)&&!e.disabled?(d(),h("div",Iu,[(d(!0),h(ae,null,re(g.value,w=>(d(),h("div",{key:w.id,onClick:D=>f(w),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},V(w.name),9,Au))),128)),!i.value.some(w=>w.name.toLowerCase()===n.value.toLowerCase())&&n.value.length>=2?(d(),h("div",{key:0,onClick:m,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+V(n.value)+'" ',1)):T("",!0),g.value.length===0&&n.value.length<2?(d(),h("div",Ou," Type at least 2 characters to search for tags. ")):T("",!0),g.value.length===0&&n.value.length>=2&&!i.value.some(w=>w.name.toLowerCase()===n.value.toLowerCase())?(d(),h("div",$u,[b[4]||(b[4]=M(" No matching tags found. Press ",-1)),b[5]||(b[5]=l("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),M(' to add "'+V(n.value)+'" as a new tag. ',1)])):T("",!0)])):T("",!0),_(ee,{message:e.error,class:"mt-2"},null,8,["message"])]))}},_a=Tt(Mu,[["__scopeId","data-v-4d528a4c"]]),Pu={class:"space-y-4"},Du="Add New Milestone",Ru="/api/milestones",Lu="post",Vu="Create Milestone",ju="Milestone created successfully!",Fu={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=_t({name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i=_t({completion_date:null}),a=["Not Started","In Progress","Completed","Overdue"];me(()=>s.show,p=>{p&&(Object.assign(n,{name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i.completion_date=null)},{immediate:!0});const c=()=>(i.completion_date=null,n.completion_date?!0:(i.completion_date=["Completion date is required."],!1)),r=p=>{o("saved",p),o("close")},u=()=>{o("close")};return(p,f)=>(d(),X(Qt,{show:e.show,title:Du,"api-endpoint":Ru,"http-method":Lu,"form-data":n,"submit-button-text":Vu,"success-message":ju,"before-submit":c,onClose:u,onSubmitted:r},{default:I(({errors:m})=>[l("div",Pu,[l("div",null,[_(Q,{for:"milestone-name",value:"Milestone Name"}),_(Ve,{id:"milestone-name",modelValue:n.name,"onUpdate:modelValue":f[0]||(f[0]=v=>n.name=v),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),_(ee,{message:m.name?m.name[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"milestone-description",value:"Description"}),de(l("textarea",{id:"milestone-description","onUpdate:modelValue":f[1]||(f[1]=v=>n.description=v),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[Le,n.description]]),_(ee,{message:m.description?m.description[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"milestone-completion-date",value:"Completion Date"}),_(Ve,{id:"milestone-completion-date",modelValue:n.completion_date,"onUpdate:modelValue":f[2]||(f[2]=v=>n.completion_date=v),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),_(ee,{message:m.completion_date?m.completion_date[0]:i.completion_date?i.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"milestone-status",value:"Status"}),_(Me,{id:"milestone-status",modelValue:n.status,"onUpdate:modelValue":f[3]||(f[3]=v=>n.status=v),options:a.map(v=>({value:v,label:v})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),_(ee,{message:m.status?m.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},Bu={class:"space-y-4"},Uu={key:0},Xu={key:0,class:"text-sm text-gray-500"},Hu={key:0,class:"text-sm text-gray-500"},qu={key:0,class:"text-sm text-gray-500"},zu={class:"flex items-center gap-2 mt-1"},Wu={key:0,class:"text-sm text-gray-500"},Gu=["disabled"],Ku="Create New Task",Ju="/api/tasks",Yu="post",Qu="Create Task",Zu="Task created successfully!",ec={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=_t({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),i=["To Do","In Progress","Done","Blocked","Archived"],a=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],c=O([]),r=O([]),u=O([]),p=O([]),f=O(!0),m=O(!1),v=O(!1),k=O(!1),g=O(!1);me(()=>s.show,async y=>{y&&(Object.assign(n,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),s.projectId?await N(s.projectId):await F())},{immediate:!0}),me(()=>n.project_id,async y=>{y?await N(y):(r.value=[],u.value=[],p.value=[])});const F=async()=>{f.value=!0;try{const y=await window.axios.get("/api/projects-simplified");c.value=y.data.map(x=>({value:x.id,label:x.name}))}catch(y){console.error("Error fetching projects:",y),c.value=[]}finally{f.value=!1}},N=async y=>{if(y){m.value=!0,v.value=!0,k.value=!0;try{const[x,P,$]=await Promise.all([window.axios.get(`/api/projects/${y}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${y}/milestones`)]);r.value=x.data.map(q=>({value:q.id,label:q.name})),u.value=P.data.map(q=>({value:q.id,label:q.name})),p.value=$.data.map(q=>({value:q.id,label:q.name}))}catch(x){console.error("Error fetching associated task data:",x),r.value=[],u.value=[],p.value=[]}finally{m.value=!1,v.value=!1,k.value=!1}}},b=O([]),w=y=>{b.value=Array.from(y.target.files||[])},D=async y=>{if(!b.value.length)return;const x=new FormData;b.value.forEach((P,$)=>x.append(`files[${$}]`,P)),x.append("model_type","Task"),x.append("model_id",y);try{await window.axios.post("/api/files",x,{headers:{"Content-Type":"multipart/form-data"}}),Se("Files uploaded to Google Drive.")}catch(P){console.error("Failed to upload task files",P),fe("Failed to upload files.")}},j=async y=>{var x,P;try{const $=(y==null?void 0:y.id)||((x=y==null?void 0:y.task)==null?void 0:x.id)||((P=y==null?void 0:y.data)==null?void 0:P.id);$&&await D($)}finally{o("saved",y),o("close"),b.value=[]}},U=()=>{o("close")},J=()=>{n.project_id?g.value=!0:alert("Please select a project before adding a milestone.")},C=y=>{if(g.value=!1,y&&y.id&&y.name){const x={value:y.id,label:y.name};p.value.some(P=>P.value===x.value)||p.value.push(x),n.milestone_id=x.value}},S=K(()=>r.value),L=K(()=>u.value),A=K(()=>p.value);return(y,x)=>(d(),h(ae,null,[_(Qt,{show:e.show,title:Ku,"api-endpoint":Ju,"http-method":Yu,"form-data":n,"submit-button-text":Qu,"success-message":Zu,onClose:U,onSubmitted:j},{default:I(({errors:P})=>[l("div",Bu,[e.projectId?T("",!0):(d(),h("div",Uu,[_(Q,{for:"task-project",value:"Project"}),f.value?(d(),h("div",Xu,"Loading projects...")):(d(),X(Me,{key:1,id:"task-project",modelValue:n.project_id,"onUpdate:modelValue":x[0]||(x[0]=$=>n.project_id=$),options:c.value,"value-key":"value","label-key":"label",placeholder:"Select a project",class:"mt-1",required:!0},null,8,["modelValue","options"])),_(ee,{message:P.project_id?P.project_id[0]:"",class:"mt-2"},null,8,["message"])])),l("div",null,[_(Q,{for:"task-name",value:"Task Name"}),_(Ve,{id:"task-name",modelValue:n.name,"onUpdate:modelValue":x[1]||(x[1]=$=>n.name=$),type:"text",class:"mt-1 block w-full",placeholder:"Enter task name",required:""},null,8,["modelValue"]),_(ee,{message:P.name?P.name[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-description",value:"Description"}),de(l("textarea",{id:"task-description","onUpdate:modelValue":x[2]||(x[2]=$=>n.description=$),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[Le,n.description]]),_(ee,{message:P.description?P.description[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-status",value:"Status"}),_(Me,{id:"task-status",modelValue:n.status,"onUpdate:modelValue":x[3]||(x[3]=$=>n.status=$),options:i.map($=>({value:$,label:$})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),_(ee,{message:P.status?P.status[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-priority",value:"Priority"}),_(Me,{id:"task-priority",modelValue:n.priority,"onUpdate:modelValue":x[4]||(x[4]=$=>n.priority=$),options:a,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1"},null,8,["modelValue"]),_(ee,{message:P.priority?P.priority[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-due-date",value:"Due Date"}),_(Ve,{id:"task-due-date",modelValue:n.due_date,"onUpdate:modelValue":x[5]||(x[5]=$=>n.due_date=$),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),_(ee,{message:P.due_date?P.due_date[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-assigned-to",value:"Assigned To"}),m.value?(d(),h("div",Hu,"Loading users...")):(d(),X(Me,{key:1,id:"task-assigned-to",modelValue:n.assigned_to_user_id,"onUpdate:modelValue":x[6]||(x[6]=$=>n.assigned_to_user_id=$),options:S.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),_(ee,{message:P.assigned_to_user_id?P.assigned_to_user_id[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-type",value:"Task Type"}),v.value?(d(),h("div",qu,"Loading task types...")):(d(),X(Me,{key:1,id:"task-type",modelValue:n.task_type_id,"onUpdate:modelValue":x[7]||(x[7]=$=>n.task_type_id=$),options:L.value,"value-key":"value","label-key":"label",placeholder:"Select a task type",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),_(ee,{message:P.task_type_id?P.task_type_id[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-milestone",value:"Milestone"}),l("div",zu,[k.value?(d(),h("div",Wu,"Loading milestones...")):(d(),X(Me,{key:1,id:"task-milestone",modelValue:n.milestone_id,"onUpdate:modelValue":x[8]||(x[8]=$=>n.milestone_id=$),options:A.value,"value-key":"value","label-key":"label",placeholder:"No milestone",class:"flex-grow","allow-empty":!0,disabled:!n.project_id},null,8,["modelValue","options","disabled"])),l("button",{type:"button",onClick:J,disabled:!n.project_id||k.value,class:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add New Milestone"},x[11]||(x[11]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,Gu)]),_(ee,{message:P.milestone_id?P.milestone_id[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(_a,{modelValue:n.tags,"onUpdate:modelValue":x[9]||(x[9]=$=>n.tags=$),initialTags:n.tags_data,label:"Tags",placeholder:"Search or add tags",error:P.tags?P.tags[0]:"",disabled:!n.project_id},null,8,["modelValue","initialTags","error","disabled"])]),l("div",null,[_(Q,{for:"task-files",value:"Attach Files (optional)"}),l("input",{id:"task-files",type:"file",class:"mt-1 block w-full",multiple:"",onChange:w},null,32),x[12]||(x[12]=l("p",{class:"text-xs text-gray-500 mt-1"},"Files will be uploaded to Google Drive under the Task folder after the task is created.",-1))])])]),_:1},8,["show","form-data"]),_(Fu,{show:g.value,"project-id":n.project_id,onClose:x[10]||(x[10]=P=>g.value=!1),onSaved:C},null,8,["show","project-id"])],64))}},tc={class:"space-y-4"},sc={class:"flex items-center mt-4"},nc={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(e,{emit:t}){const s=e,o=t,n=_t({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,tags:[]}),i=K(()=>[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}]),a=u=>u,c=u=>{o("resourceCreated",u),r()},r=()=>{n.title="",n.description="",n.url="",n.type="website",n.thumbnail_url="",n.visible_to_client=!0,n.tags=[],o("close")};return(u,p)=>(d(),X(Qt,{show:s.show,title:"Add New Shareable Resource",apiEndpoint:s.apiEndpoint,httpMethod:"post",formData:n,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",formatDataForApi:a,onSubmitted:c,onClose:r},{default:I(({errors:f})=>[l("div",tc,[l("div",null,[_(Q,{for:"title",value:"Title",class:"mb-1"}),_(Ve,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.title,"onUpdate:modelValue":p[0]||(p[0]=m=>n.title=m),required:""},null,8,["modelValue"]),_(ee,{message:f.title?f.title[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"url",value:"Resource URL",class:"mb-1"}),_(Ve,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.url,"onUpdate:modelValue":p[1]||(p[1]=m=>n.url=m),required:""},null,8,["modelValue"]),_(ee,{message:f.url?f.url[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"type",value:"Resource Type",class:"mb-1"}),_(Me,{id:"type",modelValue:n.type,"onUpdate:modelValue":p[2]||(p[2]=m=>n.type=m),options:i.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),_(ee,{message:f.type?f.type[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),_(Ve,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.thumbnail_url,"onUpdate:modelValue":p[3]||(p[3]=m=>n.thumbnail_url=m)},null,8,["modelValue"]),_(ee,{message:f.thumbnail_url?f.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"description",value:"Description (Optional)",class:"mb-1"}),de(l("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":p[4]||(p[4]=m=>n.description=m),rows:"3"},null,512),[[Le,n.description]]),_(ee,{message:f.description?f.description[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(_a,{modelValue:n.tags,"onUpdate:modelValue":p[5]||(p[5]=m=>n.tags=m),label:"Associated Tags",placeholder:"Search or add tags",error:f.tags?f.tags[0]:""},null,8,["modelValue","error"])]),l("div",sc,[_(li,{id:"visible_to_client",checked:n.visible_to_client,"onUpdate:checked":p[6]||(p[6]=m=>n.visible_to_client=m)},null,8,["checked"]),_(Q,{for:"visible_to_client",value:"Visible to Client",class:"ml-2"}),_(ee,{message:f.visible_to_client?f.visible_to_client[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},oc=Tt(nc,[["__scopeId","data-v-3e3a6a9f"]]),ac={key:0,class:"sidebar-wrapper"},ic={class:"fixed inset-0 z-[100] flex pointer-events-none"},rc={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},lc={class:"text-xl font-semibold text-gray-900"},uc={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},cc={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},dc={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(e,{emit:t}){const s=e,o=t,n=O(s.initialWidth),i=O(!1),a=f=>{i.value=!0,document.addEventListener("pointermove",c),document.addEventListener("pointerup",r)},c=f=>{if(!i.value)return;const m=window.innerWidth,k=(m-f.clientX)/m*100,g=Math.max(s.minWidth,Math.min(s.maxWidth,k));n.value=g},r=()=>{i.value=!1,document.removeEventListener("pointermove",c),document.removeEventListener("pointerup",r)};me(()=>s.show,f=>{f?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const u=()=>{o("update:show",!1),o("close")},p=K(()=>window.innerWidth<768);return me(p,f=>{f&&s.show?n.value=100:!f&&s.show&&(n.value=s.initialWidth)},{immediate:!0}),me(()=>s.show,f=>{f&&(p.value?n.value=100:n.value=s.initialWidth)}),(f,m)=>(d(),X(ti,{to:"body"},[_(ho,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:I(()=>[e.show?(d(),h("div",ac,[l("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity z-[99]",onClick:u}),l("div",ic,[l("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl pointer-events-auto",style:ei({width:p.value?"100%":`${n.value}vw`})},[p.value?T("",!0):(d(),h("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:a,title:"Drag to resize"},null,32)),l("div",rc,[l("h3",lc,V(e.title),1),l("button",{onClick:u,class:"text-gray-400 hover:text-gray-600 transition-colors"},m[0]||(m[0]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",uc,[je(f.$slots,"content",{},void 0,!0)]),f.$slots.footer?(d(),h("div",cc,[je(f.$slots,"footer",{},void 0,!0)])):T("",!0)],4)])])):T("",!0)]),_:3})]))}},ba=Tt(dc,[["__scopeId","data-v-2d864577"]]),fc={class:"flex border-b border-gray-200"},pc={key:0,class:"ml-2 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full"},mc={class:"p-4 space-y-2 overflow-y-auto"},hc={key:0,class:"p-6 text-center text-gray-500"},vc={key:0},gc={key:1},yc=["onClick"],_c={class:"flex-1 min-w-0"},bc={class:"flex items-start justify-between gap-2 mb-1"},kc={class:"flex-1 min-w-0"},wc={key:0,class:"text-base font-semibold text-gray-900 truncate"},xc={key:1,class:"text-xs text-gray-500"},Ec={key:0,class:"text-sm text-gray-600 mt-1 mb-2"},Sc={class:"flex items-center text-xs text-gray-500 font-medium"},Tc={key:0},Cc={key:1,class:"mx-2"},Nc={key:2},Ic={__name:"NotificationsSidebar",setup(e){const t=K(()=>Vt.value.notifications),s=O("New"),o=K(()=>s.value==="New"?t.value.filter(c=>!c.isRead):t.value),n=async c=>{await uo(c.view_id);const r=c.task_id||i(c.url),u=c.project_id||a(c.url);r&&u?(co(r,u),Dn()):(console.warn("Could not open task sidebar. Falling back to opening URL in new tab."),c.url&&window.open(c.url,"_blank"))},i=c=>{const r=c.match(/\/task\/(\d+)/);return r?parseInt(r[1]):null},a=c=>{const r=c.match(/\/project\/(\d+)\//);return r?parseInt(r[1]):null};return(c,r)=>(d(),X(ba,{show:B(Vt).show,"onUpdate:show":B(Dn),title:"Notifications","initial-width":35,class:"z-[100]"},{content:I(()=>[l("div",fc,[l("button",{onClick:r[0]||(r[0]=u=>s.value="New"),class:G([{"border-blue-600 text-blue-600 font-semibold":s.value==="New","border-transparent text-gray-500 hover:text-gray-700":s.value!=="New"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])},[r[2]||(r[2]=M(" New ",-1)),t.value.filter(u=>!u.isRead).length>0?(d(),h("span",pc,V(t.value.filter(u=>!u.isRead).length),1)):T("",!0)],2),l("button",{onClick:r[1]||(r[1]=u=>s.value="All"),class:G([{"border-blue-600 text-blue-600 font-semibold":s.value==="All","border-transparent text-gray-500 hover:text-gray-700":s.value!=="All"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])}," All ",2)]),l("div",mc,[o.value.length===0?(d(),h("div",hc,[s.value==="New"?(d(),h("span",vc,"You have no new notifications.")):(d(),h("span",gc,"You have no notifications."))])):T("",!0),(d(!0),h(ae,null,re(o.value,u=>(d(),h("div",{key:u.id,class:G(["bg-white rounded-xl shadow-sm p-4 flex items-start space-x-4 border border-gray-200 transition-all duration-200 hover:shadow-md cursor-pointer",{"bg-gray-50":u.isRead}]),onClick:p=>n(u)},[l("div",_c,[l("div",bc,[l("div",kc,[u.title?(d(),h("h3",wc,V(u.title),1)):T("",!0),u.project_name?(d(),h("p",xc,V(u.project_name),1)):T("",!0)])]),u.message?(d(),h("p",Ec,V(u.message),1)):T("",!0),l("div",Sc,[u.due_date?(d(),h("span",Tc,"Due: "+V(B(lo)(u.due_date)),1)):T("",!0),u.due_date&&u.priority?(d(),h("span",Cc,"")):T("",!0),u.priority?(d(),h("span",Nc,"Priority: "+V(u.priority),1)):T("",!0)])])],10,yc))),128))])]),_:1},8,["show","onUpdate:show"]))}},Ac={class:"space-y-4"},Oc={key:0,class:"text-red-600 text-xs mt-1"},$c={key:0,class:"text-red-600 text-xs mt-1"},Mc={key:0,class:"text-red-600 text-xs mt-1"},Pc={__name:"KudoModal",props:{show:{type:Boolean,default:!1}},emits:["close","submitted"],setup(e,{emit:t}){const s=t,o=O([]),n=O([]),i=_t({recipient_id:"",project_id:"",comment:""}),a=O({}),c=async()=>{try{const{data:f}=await window.axios.get("/api/projects-simplified");o.value=(f||[]).map(m=>({value:m.id,label:m.name}))}catch{o.value=[]}},r=async f=>{if(n.value=[],!!f)try{const{data:m}=await window.axios.get(`/api/projects/${f}/users`);n.value=(m||[]).map(v=>({value:v.id,label:`${v.name} (${v.email})`}))}catch{n.value=[]}};me(()=>i.project_id,f=>{f&&r(f)}),Ge(()=>{c()});const u=()=>{i.recipient_id="",i.project_id="",i.comment="",a.value={}},p=f=>{u(),s("submitted",f)};return(f,m)=>(d(),X(Qt,{show:e.show,title:"Give a Kudo ","api-endpoint":"/api/kudos","http-method":"post","form-data":i,"submit-button-text":"Submit Kudo","success-message":"Kudo submitted! Pending approval.",onClose:m[3]||(m[3]=v=>f.$emit("close")),onSubmitted:p},{default:I(({errors:v})=>[l("div",Ac,[l("div",null,[m[4]||(m[4]=l("label",{class:"block text-sm font-medium text-gray-700"},"Project",-1)),_(Me,{options:o.value,modelValue:i.project_id,"onUpdate:modelValue":m[0]||(m[0]=k=>i.project_id=k),placeholder:"Select a project..."},null,8,["options","modelValue"]),v.project_id?(d(),h("p",Oc,V(v.project_id[0]),1)):T("",!0)]),l("div",null,[m[5]||(m[5]=l("label",{class:"block text-sm font-medium text-gray-700"},"Recipient",-1)),_(Me,{options:n.value,modelValue:i.recipient_id,"onUpdate:modelValue":m[1]||(m[1]=k=>i.recipient_id=k),placeholder:"Select a teammate..."},null,8,["options","modelValue"]),v.recipient_id?(d(),h("p",$c,V(v.recipient_id[0]),1)):T("",!0)]),l("div",null,[m[6]||(m[6]=l("label",{class:"block text-sm font-medium text-gray-700"},"Comment",-1)),de(l("textarea",{"onUpdate:modelValue":m[2]||(m[2]=k=>i.comment=k),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., Thank you for helping with the last-minute changes!"},null,512),[[Le,i.comment]]),v.comment?(d(),h("p",Mc,V(v.comment[0]),1)):T("",!0)])])]),_:1},8,["show","form-data"]))}},Dc={class:"flex items-center p-4 h-16 border-b border-gray-700"},Rc={key:0,class:"text-xl font-semibold flex-1 truncate"},Lc=["title"],Vc={key:0,class:"p-4 border-b border-gray-700"},jc={class:"relative"},Fc={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},Bc={key:0,class:"mb-4"},Uc={class:"ml-2 mt-2 space-y-1"},Xc=["onClick"],Hc={class:"text-sm font-medium text-gray-300 truncate"},qc={class:"ml-4 mt-1 space-y-1"},zc={class:"truncate"},Wc={key:1,class:"mb-4"},Gc={class:"ml-2 mt-2 space-y-1"},Kc=["onClick"],Jc={class:"text-sm font-medium text-gray-300 truncate"},Yc={class:"ml-4 mt-1 space-y-1"},Qc={class:"truncate"},Zc={key:2,class:"mb-4"},ed={class:"ml-2 mt-2 space-y-1"},td={class:"truncate"},sd={key:3,class:"mb-4"},nd={class:"ml-2 mt-2 space-y-1"},od={class:"truncate"},ad={key:4,class:"text-gray-400 text-sm text-center py-4"},id={key:5,class:"text-gray-400 text-sm text-center py-4"},rd={key:2,class:"flex flex-col items-center pt-4 space-y-4"},ld={key:0,class:"text-gray-400 text-xs text-center px-2"},ud={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(e,{emit:t}){const s=e,o=t,n=O(localStorage.getItem("leftSidebarCollapsed")!=="false"),i=O(""),a=O({}),c=K(()=>{const b=new Set;return s.allProjects.forEach(w=>{w.project_type&&b.add(w.project_type)}),Array.from(b).sort()}),r=K(()=>{const b=new Set;return s.allProjects.forEach(w=>{Array.isArray(w.tags)&&w.tags.forEach(D=>b.add(D))}),Array.from(b).sort()}),u=K(()=>{if(!i.value)return s.allProjects;const b=i.value.toLowerCase();return s.allProjects.filter(w=>{var D,j,U;return w.name.toLowerCase().includes(b)||((D=w.description)==null?void 0:D.toLowerCase().includes(b))||((j=w.project_type)==null?void 0:j.toLowerCase().includes(b))||Array.isArray(w.tags)&&w.tags.some(J=>J.toLowerCase().includes(b))||((U=w.status)==null?void 0:U.toLowerCase().includes(b))})}),p=K(()=>{const b={};u.value.forEach(w=>{w.project_type&&w.status==="active"&&(b[w.project_type]||(b[w.project_type]=[]),b[w.project_type].push(w))});for(const w in b)b[w].sort((D,j)=>D.name.localeCompare(j.name));return b}),f=K(()=>{const b={};u.value.forEach(w=>{Array.isArray(w.tags)&&w.tags.length>0&&w.tags.forEach(D=>{b[D]||(b[D]=[]),b[D].push(w)})});for(const w in b)b[w]=[...new Set(b[w])].sort((D,j)=>D.name.localeCompare(j.name));return b}),m=K(()=>u.value.filter(b=>b.status!=="active").sort((b,w)=>b.name.localeCompare(w.name))),v=K(()=>u.value.filter(b=>!b.project_type&&(!Array.isArray(b.tags)||b.tags.length===0)).sort((b,w)=>b.name.localeCompare(w.name)));me(()=>s.allProjects,()=>{c.value.forEach(b=>{const w=`type-${b}`;a.value[w]===void 0&&(a.value[w]=!0)}),r.value.forEach(b=>{const w=`tag-${b}`;a.value[w]===void 0&&(a.value[w]=!0)}),a.value["main-types"]===void 0&&(a.value["main-types"]=!1),a.value["main-tags"]===void 0&&(a.value["main-tags"]=!1),a.value["inactive-projects"]===void 0&&(a.value["inactive-projects"]=!1),a.value.uncategorized===void 0&&(a.value.uncategorized=!1)},{immediate:!0}),me(n,b=>{localStorage.setItem("leftSidebarCollapsed",b)});const k=()=>{n.value=!n.value},g=b=>{a.value[b]=!a.value[b]},F=b=>{o("project-selected",b)},N=()=>{i.value=""};return(b,w)=>(d(),h("div",{class:G({"w-64":!n.value,"w-16":n.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[l("div",Dc,[n.value?T("",!0):(d(),h("h2",Rc,"Projects")),l("button",{onClick:k,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:n.value?"Expand Sidebar":"Collapse Sidebar"},[(d(),h("svg",{class:G(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":n.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},w[5]||(w[5]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,Lc)]),n.value?T("",!0):(d(),h("div",Vc,[l("div",jc,[de(l("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=D=>i.value=D),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[Le,i.value]]),i.value?(d(),h("button",{key:0,onClick:N,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},w[6]||(w[6]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):T("",!0)])])),n.value?(d(),h("div",rd,[(d(!0),h(ae,null,re(s.allProjects,D=>(d(),X(B(Xe),{key:D.id,href:b.route("projects.show",D.id),onClick:j=>F(D.id),class:G({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":D.id!==e.activeProjectId}),title:D.name},{default:I(()=>[M(V(D.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),e.allProjects.length===0?(d(),h("div",ld," No Projects ")):T("",!0)])):(d(),h("div",Fc,[Object.keys(p.value).length>0?(d(),h("div",Bc,[l("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[1]||(w[1]=D=>g("main-types"))},[w[8]||(w[8]=l("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(d(),h("svg",{class:G(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[7]||(w[7]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),de(l("div",Uc,[(d(!0),h(ae,null,re(p.value,(D,j)=>(d(),h("div",{key:j},[l("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:U=>g(`type-${j}`)},[l("h4",Hc,V(j),1),(d(),h("svg",{class:G(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`type-${j}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[9]||(w[9]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Xc),de(l("ul",qc,[(d(!0),h(ae,null,re(D,U=>(d(),h("li",{key:U.id},[_(B(Xe),{href:b.route("projects.show",U.id),onClick:J=>F(U.id),class:G({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":U.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":U.id!==e.activeProjectId,"font-bold":U.id===e.activeProjectId})},{default:I(()=>[l("span",zc,V(U.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ye,!a.value[`type-${j}`]]])]))),128))],512),[[Ye,!a.value["main-types"]]])])):T("",!0),Object.keys(f.value).length>0?(d(),h("div",Wc,[l("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[2]||(w[2]=D=>g("main-tags"))},[w[11]||(w[11]=l("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(d(),h("svg",{class:G(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[10]||(w[10]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),de(l("div",Gc,[(d(!0),h(ae,null,re(f.value,(D,j)=>(d(),h("div",{key:j},[l("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:U=>g(`tag-${j}`)},[l("h4",Jc,V(j),1),(d(),h("svg",{class:G(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`tag-${j}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[12]||(w[12]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Kc),de(l("ul",Yc,[(d(!0),h(ae,null,re(D,U=>(d(),h("li",{key:U.id},[_(B(Xe),{href:b.route("projects.show",U.id),onClick:J=>F(U.id),class:G({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":U.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":U.id!==e.activeProjectId,"font-bold":U.id===e.activeProjectId})},{default:I(()=>[l("span",Qc,V(U.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ye,!a.value[`tag-${j}`]]])]))),128))],512),[[Ye,!a.value["main-tags"]]])])):T("",!0),m.value.length>0?(d(),h("div",Zc,[l("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[3]||(w[3]=D=>g("inactive-projects"))},[w[14]||(w[14]=l("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(d(),h("svg",{class:G(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[13]||(w[13]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),de(l("ul",ed,[(d(!0),h(ae,null,re(m.value,D=>(d(),h("li",{key:D.id},[_(B(Xe),{href:b.route("projects.show",D.id),onClick:j=>F(D.id),class:G({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":D.id!==e.activeProjectId,"font-bold":D.id===e.activeProjectId})},{default:I(()=>[l("span",td,V(D.name)+" ("+V(D.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ye,!a.value["inactive-projects"]]])])):T("",!0),v.value.length>0?(d(),h("div",sd,[l("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[4]||(w[4]=D=>g("uncategorized"))},[w[16]||(w[16]=l("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(d(),h("svg",{class:G(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[15]||(w[15]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),de(l("ul",nd,[(d(!0),h(ae,null,re(v.value,D=>(d(),h("li",{key:D.id},[_(B(Xe),{href:b.route("projects.show",D.id),onClick:j=>F(D.id),class:G({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":D.id!==e.activeProjectId,"font-bold":D.id===e.activeProjectId})},{default:I(()=>[l("span",od,V(D.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ye,!a.value.uncategorized]])])):T("",!0),u.value.length===0?(d(),h("div",ad," No projects found matching your search. ")):e.allProjects.length===0&&!i.value?(d(),h("div",id," No projects available. ")):T("",!0)]))],2))}},cd=Tt(ud,[["__scopeId","data-v-417d431f"]]),dd={class:"relative"},ka={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(e){const t=e,s=c=>{a.value&&c.key==="Escape"&&(a.value=!1)};Ge(()=>document.addEventListener("keydown",s)),_s(()=>document.removeEventListener("keydown",s));const o=K(()=>{const c={48:"w-48",64:"w-64",72:"w-72",80:"w-80",96:"w-96",full:"w-full",screen:"w-screen",auto:""},r=t.width.toString();return c[r]??c[48]}),n=K(()=>t.width.toString()==="screen"),i=K(()=>t.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":t.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),a=O(!1);return(c,r)=>(d(),h("div",dd,[l("div",{onClick:r[0]||(r[0]=u=>a.value=!a.value)},[je(c.$slots,"trigger")]),de(l("div",{class:"fixed inset-0 z-40",onClick:r[1]||(r[1]=u=>a.value=!1)},null,512),[[Ye,a.value]]),_(ho,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:I(()=>[de(l("div",{class:G(["z-50 mt-2 rounded-md shadow-lg",n.value?"fixed left-0 right-0":"absolute",i.value,o.value]),style:{display:"none"},onClick:r[2]||(r[2]=u=>a.value=!1)},[l("div",{class:G(["rounded-md ring-1 ring-black ring-opacity-5",e.contentClasses])},[je(c.$slots,"content")],2)],2),[[Ye,a.value]])]),_:3})]))}},be={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){return(t,s)=>(d(),X(B(Xe),vo({href:e.href,method:e.method,as:e.as},t.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:I(()=>[je(t.$slots,"default")]),_:3},16,["href","method","as"]))}},gt={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(e){const t=e,s=K(()=>t.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(d(),X(B(Xe),{href:e.href,class:G(s.value)},{default:I(()=>[je(o.$slots,"default")]),_:3},8,["href","class"]))}};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fd=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),pd=e=>{const t=fd(e);return t.charAt(0).toUpperCase()+t.slice(1)},md=(...e)=>e.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim(),ao=e=>e==="";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=({name:e,iconNode:t,absoluteStrokeWidth:s,"absolute-stroke-width":o,strokeWidth:n,"stroke-width":i,size:a=Dt.width,color:c=Dt.stroke,...r},{slots:u})=>qs("svg",{...Dt,...r,width:a,height:a,stroke:c,"stroke-width":ao(s)||ao(o)||s===!0||o===!0?Number(n||i||Dt["stroke-width"])*24/Number(a):n||i||Dt["stroke-width"],class:md("lucide",r.class,...e?[`lucide-${oo(pd(e))}-icon`,`lucide-${oo(e)}`]:["lucide-icon"])},[...t.map(p=>qs(...p)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=(e,t)=>(s,{slots:o,attrs:n})=>qs(hd,{...n,...s,iconNode:t,name:e},o);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=wa("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=wa("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),yd={class:"hidden sm:flex sm:items-center"},_d={class:"mx-auto w-full max-w-6xl"},bd={class:"grid grid-cols-2 md:grid-cols-4 gap-8"},kd={class:"space-y-1"},wd={class:"space-y-1"},xd={class:"space-y-1"},Ed={class:"space-y-1"},Sd={__name:"AdminDropdown",setup(e){const{canDo:t}=tn(),s=t("manage_projects"),o=t("create_users"),n=t("manage_roles"),i=t("manage_task_types"),a=t("create_clients"),c=t("manage_project_tiers")||t("view_project_tiers");return(r,u)=>(d(),h("div",yd,[_(ka,{align:"left",width:"screen","content-classes":"py-6 bg-white p-6 w-full shadow-lg"},{trigger:I(()=>u[0]||(u[0]=[l("span",{class:"inline-flex rounded-md"},[l("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 hover:text-gray-900 focus:outline-none"},[M(" Admin "),l("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:I(()=>[l("div",_d,[l("div",bd,[l("div",null,[u[4]||(u[4]=l("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Management",-1)),l("div",kd,[B(s)?(d(),X(be,{key:0,href:r.route("projects.index"),active:r.route().current("projects.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[1]||(u[1]=[M("Projects",-1)])),_:1,__:[1]},8,["href","active"])):T("",!0),B(a)?(d(),X(be,{key:1,href:r.route("clients.page"),active:r.route().current("clients.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[2]||(u[2]=[M("Clients",-1)])),_:1,__:[2]},8,["href","active"])):T("",!0),B(o)?(d(),X(be,{key:2,href:r.route("users.page"),active:r.route().current("users.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[3]||(u[3]=[M("Users",-1)])),_:1,__:[3]},8,["href","active"])):T("",!0)])]),l("div",null,[u[8]||(u[8]=l("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Planning / Sharing",-1)),l("div",wd,[B(o)?(d(),X(be,{key:0,href:r.route("availability.index"),active:r.route().current("availability.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[5]||(u[5]=[M("Weekly Availability",-1)])),_:1,__:[5]},8,["href","active"])):T("",!0),B(t)("manage_notices")?(d(),X(be,{key:1,href:r.route("admin.notice-board.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[6]||(u[6]=[M("Notice Board",-1)])),_:1,__:[6]},8,["href"])):T("",!0),B(t)("manage_notices")?(d(),X(be,{key:2,href:r.route("shareable-resources.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[7]||(u[7]=[M("Shareable Resources",-1)])),_:1,__:[7]},8,["href"])):T("",!0)])]),l("div",null,[u[13]||(u[13]=l("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Configuration",-1)),l("div",xd,[B(i)?(d(),X(be,{key:0,href:r.route("task-types.page"),active:r.route().current("task-types.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[9]||(u[9]=[M("Task Types",-1)])),_:1,__:[9]},8,["href","active"])):T("",!0),B(c)||B(t)("create_project_tiers")||B(t)("edit_project_tiers")?(d(),X(be,{key:1,href:"/admin/project-tiers",class:"!px-2 !py-1.5"},{default:I(()=>u[10]||(u[10]=[M("Project Tiers",-1)])),_:1,__:[10]})):T("",!0),B(t)("manage_email_templates")?(d(),X(be,{key:2,href:r.route("email-templates.page"),active:r.route().current("email-templates.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[11]||(u[11]=[M("Email Templates",-1)])),_:1,__:[11]},8,["href","active"])):T("",!0),B(t)("manage_placeholder_definitions")?(d(),X(be,{key:3,href:r.route("placeholder-definitions.page"),active:r.route().current("placeholder-definitions.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[12]||(u[12]=[M("Placeholder Definitions",-1)])),_:1,__:[12]},8,["href","active"])):T("",!0)])]),l("div",null,[u[18]||(u[18]=l("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Access & Finance",-1)),l("div",Ed,[B(n)?(d(),X(be,{key:0,href:r.route("admin.roles.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[14]||(u[14]=[M("Manage Roles",-1)])),_:1,__:[14]},8,["href"])):T("",!0),B(t)("manage_permissions")?(d(),X(be,{key:1,href:r.route("admin.permissions.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[15]||(u[15]=[M("Manage Permissions",-1)])),_:1,__:[15]},8,["href"])):T("",!0),B(t)("manage_monthly_budgets")?(d(),X(be,{key:2,href:"/admin/monthly-budgets",class:"!px-2 !py-1.5"},{default:I(()=>u[16]||(u[16]=[M("Monthly Budgets",-1)])),_:1,__:[16]})):T("",!0),B(t)("view_monthly_budgets")?(d(),X(be,{key:3,href:"/admin/bonus-calculator",class:"!px-2 !py-1.5"},{default:I(()=>u[17]||(u[17]=[M("Bonus Calculator",-1)])),_:1,__:[17]})):T("",!0)])])])])]),_:1})]))}},Td={class:"relative ms-3"},Cd={class:"inline-flex rounded-md"},Nd={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},Id={__name:"UserDropdown",emits:["logoutSuccess","logoutError"],setup(e,{emit:t}){const s=K(()=>zt().props.auth.user),o=t,n=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,o("logoutSuccess")},i=a=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",o("logoutError",a)};return(a,c)=>(d(),h("div",Td,[_(ka,{align:"right",width:"48"},{trigger:I(()=>{var r;return[l("span",Cd,[l("button",Nd,[M(V(s.value.name)+" ("+V((r=s.value.role_data)==null?void 0:r.name)+") ",1),c[0]||(c[0]=l("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:I(()=>[_(be,{href:a.route("profile.edit")},{default:I(()=>c[1]||(c[1]=[M(" Profile ",-1)])),_:1,__:[1]},8,["href"]),_(be,{href:a.route("logout"),method:"post",as:"button",onSuccess:n,onError:i},{default:I(()=>c[2]||(c[2]=[M(" Log Out ",-1)])),_:1,__:[2]},8,["href"])]),_:1})]))}},Ad={class:"border-b border-gray-100 bg-white z-10 relative w-full"},Od={class:"w-full px-4 sm:px-6 lg:px-8"},$d={class:"flex h-16 justify-between"},Md={class:"flex flex-1 min-w-0"},Pd={class:"flex shrink-0 items-center"},Dd={class:"hidden sm:ms-6 sm:flex sm:items-center"},Rd={class:"mr-3"},Ld={key:0,class:"inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-green-500 to-emerald-600 text-white text-sm font-semibold shadow-md ring-2 ring-green-300/60",title:"Your points this month"},Vd={key:1,class:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 text-gray-500 text-sm font-medium"},jd={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},Fd={class:"-me-2 flex items-center sm:hidden"},Bd={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Ud={class:"hidden sm:block"},Xd={class:"flex flex-wrap gap-4 overflow-x-auto no-scrollbar py-2 border-t border-gray-100"},Hd={__name:"TopNavigation",props:{unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","open-kudo-modal"],setup(e,{emit:t}){const s=t,o=O(!1);K(()=>zt().props.auth.user);const{canDo:n}=tn(),i=n("manage_roles"),a=O(null),c=O(!0),r=O(null);return Ge(async()=>{try{const{data:u}=await window.axios.get("/api/leaderboard/stats");a.value=(u==null?void 0:u.userMonthlyPoints)??0}catch(u){console.error("Failed to load monthly points",u),r.value="Failed to load points",a.value=0}finally{c.value=!1}}),(u,p)=>(d(),h("nav",Ad,[l("div",Od,[l("div",$d,[l("div",Md,[l("div",Pd,[_(B(Xe),{href:u.route("dashboard")},{default:I(()=>[_(ui,{class:"block h-16 w-auto fill-current text-gray-800"})]),_:1},8,["href"])])]),l("div",Dd,[_(ke,{type:"button",onClick:p[0]||(p[0]=f=>s("openCreateTaskModal")),class:"mr-2 px-4 py-2 text-sm"},{default:I(()=>p[5]||(p[5]=[M(" Add Task ",-1)])),_:1,__:[5]}),_(ke,{type:"button",onClick:p[1]||(p[1]=f=>s("openAddResource")),class:"mr-2 px-4 py-2 text-sm"},{default:I(()=>p[6]||(p[6]=[M(" Add Resource ",-1)])),_:1,__:[6]}),B(n)("create_kudos")?(d(),X(ke,{key:0,type:"button",onClick:p[2]||(p[2]=f=>u.$emit("open-kudo-modal")),class:"mr-2 px-4 py-2 text-sm bg-orange-500 hover:bg-orange-600"},{default:I(()=>p[7]||(p[7]=[M("  Give Kudo ",-1)])),_:1,__:[7]})):T("",!0),l("div",Rd,[c.value?(d(),h("div",Vd," Loading... ")):(d(),h("div",Ld,[p[8]||(p[8]=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 1.343-3 3 0 2.25 3 5 3 5s3-2.75 3-5c0-1.657-1.343-3-3-3z"})],-1)),l("span",null,V(a.value??0),1),p[9]||(p[9]=l("span",{class:"ml-1 text-white/80"},"pts",-1))]))]),l("button",{onClick:p[3]||(p[3]=f=>s("openNotificationsSidebar")),class:"relative flex-shrink-0 text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors duration-200 mr-4","aria-label":"View all notifications"},[_(B(vd),{class:"h-6 w-6"}),e.unreadNotificationCount>0?(d(),h("span",jd,V(e.unreadNotificationCount),1)):T("",!0)]),_(Id)]),l("div",Fd,[l("button",{onClick:p[4]||(p[4]=f=>o.value=!o.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(d(),h("svg",Bd,[l("path",{class:G({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),l("path",{class:G({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])]),l("div",Ud,[l("div",Xd,[_(gt,{href:u.route("dashboard"),active:u.route().current("dashboard")},{default:I(()=>p[10]||(p[10]=[M(" Dashboard ",-1)])),_:1,__:[10]},8,["href","active"]),_(gt,{href:u.route("inbox"),active:u.route().current("inbox")},{default:I(()=>p[11]||(p[11]=[M(" Inbox ",-1)])),_:1,__:[11]},8,["href","active"]),_(gt,{href:u.route("bonus-system.index"),active:u.route().current("bonus-system.index")},{default:I(()=>p[12]||(p[12]=[M(" Bonus System ",-1)])),_:1,__:[12]},8,["href","active"]),_(gt,{href:u.route("leaderboard.index"),active:u.route().current("leaderboard.index")},{default:I(()=>p[13]||(p[13]=[M(" Leaderboard ",-1)])),_:1,__:[13]},8,["href","active"]),_(gt,{href:u.route("kudos.index"),active:u.route().current("kudos.index")},{default:I(()=>p[14]||(p[14]=[M(" Kudos ",-1)])),_:1,__:[14]},8,["href","active"]),B(n)("add_expendables").value?(d(),X(gt,{key:0,href:u.route("project-expendables.index"),class:"!px-2 !py-1.5"},{default:I(()=>p[15]||(p[15]=[M("Project Expendables",-1)])),_:1,__:[15]},8,["href"])):T("",!0),B(i)?(d(),X(Sd,{key:1})):T("",!0)])])])]))}},ce={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){const t=e,s=K(()=>t.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(d(),X(B(Xe),vo({href:e.href,method:e.method,as:e.as},o.$attrs,{class:s.value}),{default:I(()=>[je(o.$slots,"default")]),_:3},16,["href","method","as","class"]))}},qd={class:"space-y-1 pb-3 pt-2"},zd={key:0,class:"mt-3 space-y-1"},Wd={class:"border-t border-gray-200 pb-1 pt-4"},Gd={class:"px-4"},Kd={class:"text-base font-medium text-gray-800"},Jd={class:"text-sm font-medium text-gray-500"},Yd={class:"text-sm font-medium text-gray-500 capitalize"},Qd={class:"mt-3 space-y-1"},Zd={__name:"MobileNavigation",props:{showingNavigationDropdown:{type:Boolean,required:!0},unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","logoutSuccess","logoutError"],setup(e,{emit:t}){const s=t,o=K(()=>zt().props.auth.user),{canDo:n}=tn(),i=n("manage_projects"),a=n("compose_emails"),c=n("approve_emails"),r=n("create_users"),u=n("manage_roles"),p=n("manage_task_types"),f=n("create_clients"),m=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,s("logoutSuccess")},v=k=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",s("logoutError",k)};return(k,g)=>{var F;return d(),h("div",{class:G([{block:e.showingNavigationDropdown,hidden:!e.showingNavigationDropdown},"sm:hidden"])},[l("div",qd,[B(u)?(d(),h("div",zd,[g[18]||(g[18]=l("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),_(ce,{href:k.route("dashboard"),active:k.route().current("dashboard")},{default:I(()=>g[3]||(g[3]=[M(" Dashboard ",-1)])),_:1,__:[3]},8,["href","active"]),B(n)("view_emails")?(d(),X(ce,{key:0,href:k.route("inbox"),active:k.route().current("inbox")},{default:I(()=>g[4]||(g[4]=[M(" Inbox ",-1)])),_:1,__:[4]},8,["href","active"])):T("",!0),B(f)?(d(),X(ce,{key:1,href:k.route("clients.page"),active:k.route().current("clients.page")},{default:I(()=>g[5]||(g[5]=[M(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):T("",!0),B(i)?(d(),X(ce,{key:2,href:k.route("projects.index"),active:k.route().current("projects.index")},{default:I(()=>g[6]||(g[6]=[M(" Projects ",-1)])),_:1,__:[6]},8,["href","active"])):T("",!0),B(r)?(d(),X(ce,{key:3,href:k.route("users.page"),active:k.route().current("users.page")},{default:I(()=>g[7]||(g[7]=[M(" Users ",-1)])),_:1,__:[7]},8,["href","active"])):T("",!0),B(a)?(d(),X(ce,{key:4,href:k.route("emails.compose"),active:k.route().current("emails.compose")},{default:I(()=>g[8]||(g[8]=[M(" Compose Email ",-1)])),_:1,__:[8]},8,["href","active"])):T("",!0),B(c)?(d(),X(ce,{key:5,href:k.route("emails.pending"),active:k.route().current("emails.pending")},{default:I(()=>g[9]||(g[9]=[M(" Approve Emails ",-1)])),_:1,__:[9]},8,["href","active"])):T("",!0),B(a)?(d(),X(ce,{key:6,href:k.route("emails.rejected"),active:k.route().current("emails.rejected")},{default:I(()=>g[10]||(g[10]=[M(" Rejected Emails ",-1)])),_:1,__:[10]},8,["href","active"])):T("",!0),B(r)?(d(),X(ce,{key:7,href:k.route("availability.index"),active:k.route().current("availability.index")},{default:I(()=>g[11]||(g[11]=[M(" Weekly Availability ",-1)])),_:1,__:[11]},8,["href","active"])):T("",!0),B(n)("manage_roles")?(d(),X(ce,{key:8,href:k.route("admin.roles.index"),active:k.route().current("admin.roles.index")},{default:I(()=>g[12]||(g[12]=[M(" Manage Roles ",-1)])),_:1,__:[12]},8,["href","active"])):T("",!0),B(n)("manage_permissions")?(d(),X(ce,{key:9,href:k.route("admin.permissions.index"),active:k.route().current("admin.permissions.index")},{default:I(()=>g[13]||(g[13]=[M(" Manage Permissions ",-1)])),_:1,__:[13]},8,["href","active"])):T("",!0),B(p)?(d(),X(ce,{key:10,href:k.route("task-types.page"),active:k.route().current("task-types.page")},{default:I(()=>g[14]||(g[14]=[M(" Task Types ",-1)])),_:1,__:[14]},8,["href","active"])):T("",!0),B(n)("manage_email_templates")?(d(),X(ce,{key:11,href:k.route("email-templates.page"),active:k.route().current("email-templates.page")},{default:I(()=>g[15]||(g[15]=[M(" Email Templates ",-1)])),_:1,__:[15]},8,["href","active"])):T("",!0),B(n)("manage_placeholder_definitions")?(d(),X(ce,{key:12,href:k.route("placeholder-definitions.page"),active:k.route().current("placeholder-definitions.page")},{default:I(()=>g[16]||(g[16]=[M(" Placeholder Definitions ",-1)])),_:1,__:[16]},8,["href","active"])):T("",!0),B(n)("view_shareable_resources")?(d(),X(ce,{key:13,href:k.route("shareable-resources.page"),active:k.route().current("shareable-resources.page")},{default:I(()=>g[17]||(g[17]=[M(" Shareable Resources ",-1)])),_:1,__:[17]},8,["href","active"])):T("",!0)])):T("",!0)]),l("div",Wd,[l("div",Gd,[l("div",Kd,V(o.value.name),1),l("div",Jd,V(o.value.email),1),l("div",Yd,V((F=o.value.role_data)==null?void 0:F.name),1)]),l("div",Qd,[_(ce,{as:"button",onClick:g[0]||(g[0]=N=>s("openCreateTaskModal"))},{default:I(()=>g[19]||(g[19]=[M(" Add Task ",-1)])),_:1,__:[19]}),_(ce,{as:"button",onClick:g[1]||(g[1]=N=>s("openAddResource"))},{default:I(()=>g[20]||(g[20]=[M(" Add Resource ",-1)])),_:1,__:[20]}),_(ce,{as:"button",onClick:g[2]||(g[2]=N=>s("openNotificationsSidebar"))},{default:I(()=>[M(" Notifications ("+V(e.unreadNotificationCount)+") ",1)]),_:1}),_(ce,{href:k.route("profile.edit")},{default:I(()=>g[21]||(g[21]=[M(" Profile ",-1)])),_:1,__:[21]},8,["href"]),_(ce,{href:k.route("logout"),method:"post",as:"button",onSuccess:m,onError:v},{default:I(()=>g[22]||(g[22]=[M(" Log Out ",-1)])),_:1,__:[22]},8,["href"])])])],2)}}},ef={class:"space-y-4"},tf={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},sf={class:"text-sm font-medium text-gray-900"},nf={class:"text-xs text-gray-500 mt-1"},of={class:"mb-4"},af="post",rf="Add Note",lf="Note added successfully!",uf={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(e,{emit:t}){const s=e,o=t,n=_t({note:""}),i=K(()=>{var u;return`Add Note to Task: "${(u=s.taskForNote)==null?void 0:u.name}"`}),a=K(()=>{var u;return`/api/tasks/${(u=s.taskForNote)==null?void 0:u.id}/notes`});me(()=>s.show,u=>{u&&Object.assign(n,{note:""})},{immediate:!0});const c=u=>{o("note-added",u),o("close")},r=()=>{o("close")};return(u,p)=>(d(),X(Qt,{show:e.show,title:i.value,"api-endpoint":a.value,"http-method":af,"form-data":n,"submit-button-text":rf,"success-message":lf,onClose:r,onSubmitted:c},{default:I(({errors:f})=>[l("div",ef,[e.taskForNote?(d(),h("div",tf,[l("p",sf,V(e.taskForNote.name),1),l("p",nf,"Status: "+V(e.taskForNote.status),1)])):T("",!0),l("div",of,[_(Q,{for:"task-note-content",value:"Note Content"}),de(l("textarea",{id:"task-note-content","onUpdate:modelValue":p[0]||(p[0]=m=>n.note=m),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[Le,n.note]]),_(ee,{message:f.note?f.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},cf={class:"task-history-list"},df={key:0,class:"text-center py-4"},ff={key:1,class:"text-gray-500 text-sm py-2"},pf={key:2,class:"space-y-3"},mf={class:"flex items-start"},hf={class:"text-xl mr-2"},vf={class:"text-sm text-gray-700"},gf={class:"text-xs text-gray-500 mt-1"},yf={__name:"TaskHistoryList",props:{activities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(e){const t=o=>o?new Date(o).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",s=o=>(console.log(o),o.includes("created")?"":o.includes("started")?"":o.includes("paused")?"":o.includes("resumed")?"":o.includes("unblocked")?"":o.includes("blocked")?"":o.includes("completed")?"":o.includes("revised")?"":o.includes("deleted")?"":o.includes("assigned")?"":o.includes("updated")?"":o.includes("added note")?"":o.includes("commented")?"":"");return(o,n)=>(d(),h("div",cf,[e.loading?(d(),h("div",df,n[0]||(n[0]=[l("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"},null,-1),l("p",{class:"mt-2 text-gray-500"},"Loading activity history...",-1)]))):e.activities.length===0?(d(),h("div",ff," No activity history available for this task. ")):(d(),h("div",pf,[(d(!0),h(ae,null,re(e.activities,i=>{var a;return d(),h("div",{key:i.id,class:"p-3 bg-gray-50 rounded-md"},[l("div",mf,[l("span",hf,V(s(i.description)),1),l("div",null,[l("p",vf,V(i.description),1),l("p",gf," By "+V(((a=i.causer)==null?void 0:a.name)||"System")+" on "+V(t(i.created_at)),1)])])])}),128))]))]))}},_f=Tt(yf,[["__scopeId","data-v-423d54af"]]),oh=async()=>{try{return(await oe.get("/api/assigned-tasks")).data}catch(e){throw console.error("Error fetching assigned tasks:",e),fe("Failed to load assigned tasks"),e}},ah=async e=>{try{return(await oe.get(`/api/projects/${e}/tasks`)).data}catch(t){throw console.error("Error fetching project tasks:",t),fe("Failed to load project tasks"),t}},ih=async e=>{try{return(await oe.get(`/api/projects/${e}/due-and-overdue-tasks`)).data}catch(t){throw console.error("Error fetching due and overdue tasks:",t),fe("Failed to load due and overdue tasks"),t}},bf=async e=>{if(!e||e.status==="In Progress")return e;try{nt("Starting task...");const t=await oe.post(`/api/tasks/${e.id}/start`);return Se("Task started successfully"),t.data}catch(t){throw console.error("Error starting task:",t),fe("Failed to start task. Please try again."),t}},kf=async e=>{if(!e||e.status!=="In Progress")return Ae('Task can only be paused from "In Progress" status.'),e;try{nt("Pausing task...");const t=await oe.post(`/api/tasks/${e.id}/pause`);return Se("Task paused successfully"),t.data}catch(t){throw console.error("Error pausing task:",t),fe("Failed to pause task. Please try again."),t}},wf=async e=>{if(!e||e.status!=="Paused")return Ae('Task can only be resumed from "Paused" status.'),e;try{nt("Resuming task...");const t=await oe.post(`/api/tasks/${e.id}/resume`);return Se("Task resumed successfully"),t.data}catch(t){throw console.error("Error resuming task:",t),fe("Failed to resume task. Please try again."),t}},xf=async e=>{if(!e||e.status==="Done")return e;if(e.status!=="In Progress")throw Ae("Task must be started before it can be completed"),new Error("Task must be started before it can be completed");try{nt("Completing task...");const t=await oe.patch(`/api/tasks/${e.id}/complete`);return Se("Task completed successfully"),t.data}catch(t){throw console.error("Error completing task:",t),t.response&&t.response.status===422?Ae(t.response.data.message||"Task must be started before it can be completed"):fe("Failed to complete task. Please try again."),t}},Ef=async(e,t)=>{if(!e||e.status==="Blocked")return Ae("Task is already blocked."),e;if(e.status==="Done")return Ae("Completed tasks cannot be blocked."),e;if(!t)throw Ae("Please provide a reason for blocking the task"),new Error("Blocking reason is required");try{nt("Blocking task...");const s=await oe.post(`/api/tasks/${e.id}/block`,{reason:t});return Se("Task blocked successfully"),s.data}catch(s){throw console.error("Error blocking task:",s),fe("Failed to block task. Please try again."),s}},Sf=async e=>{if(!e||e.status!=="Blocked")return Ae("Task is not in a blocked state."),e;try{nt("Unblocking task...");const t=await oe.post(`/api/tasks/${e.id}/unblock`);return Se("Task unblocked successfully"),t.data}catch(t){throw console.error("Error unblocking task:",t),fe("Failed to unblock task. Please try again."),t}},Tf=async e=>{if(!e||e.status!=="Done")return Ae("Only completed tasks can be revised."),e;try{nt("Revising task...");const t=await oe.post(`/api/tasks/${e.id}/revise`);return Se("Task revised successfully"),t.data}catch(t){throw console.error("Error revising task:",t),t.response&&t.response.status===422?Ae(t.response.data.message||"Only completed tasks can be revised"):fe("Failed to revise task. Please try again."),t}},Cf=async e=>{if(!e)return!1;if(e.status!=="To Do")throw Ae("Only tasks in To Do status can be deleted"),new Error("Only tasks in To Do status can be deleted");if(!confirm("Are you sure you want to delete this task? This action cannot be undone."))return!1;try{return nt("Deleting task..."),await oe.delete(`/api/tasks/${e.id}`),Se("Task deleted successfully"),!0}catch(t){throw console.error("Error deleting task:",t),fe("Failed to delete task. Please try again."),t}},Nf=e=>{switch(e){case"To Do":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Paused":return"bg-orange-100 text-orange-800";case"Blocked":return"bg-red-100 text-red-800";case"Done":return"bg-green-100 text-green-800";case"Archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},rh=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},lh=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Medium",If=["checked","onChange"],Af={__name:"ChecklistComponent",props:{items:{type:Array,required:!0},apiEndpoint:{type:String,required:!0},title:{type:String,default:"Checklist"},containerClass:{type:String,default:"mt-4 p-3 bg-gray-100 rounded-lg text-sm text-gray-700 border border-gray-200"},titleClass:{type:String,default:"font-semibold text-gray-900 mb-2"},itemsContainerClass:{type:String,default:"space-y-1"},itemClass:{type:String,default:"flex items-center space-x-2"},checkboxClass:{type:String,default:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},completedItemClass:{type:String,default:"line-through text-gray-500"},successMessage:{type:String,default:"Checklist item updated!"},errorMessage:{type:String,default:"Failed to update checklist item"},payloadTransformer:{type:Function,default:null},checkListStyle:{type:String,default:"checklist"}},emits:["update:items","item-toggled"],setup(e,{emit:t}){const s=e,o=t,n=O(JSON.parse(JSON.stringify(s.items)));me(()=>s.items,a=>{n.value=JSON.parse(JSON.stringify(a))},{deep:!0});async function i(a){const c=n.value[a],r=!c.completed;c.completed=r;try{let u;s.payloadTransformer?u=s.payloadTransformer(n.value,a):u={items:n.value},await oe.put(s.apiEndpoint,u),o("update:items",n.value),o("item-toggled",{index:a,item:c,completed:r}),Se(s.successMessage)}catch(u){console.error("Error updating checklist item:",u),c.completed=!r,fe(s.errorMessage)}}return(a,c)=>n.value&&n.value.length>0?(d(),h("div",{key:0,class:G(e.containerClass)},[l("p",{class:G(e.titleClass)},V(e.title),3),l("ul",{class:G(e.itemsContainerClass)},[(d(!0),h(ae,null,re(n.value,(r,u)=>(d(),h("li",{key:u,class:G(e.itemClass)},[e.checkListStyle==="checklist"?(d(),h("input",{key:0,type:"checkbox",checked:r.completed,onChange:p=>i(u),class:G(e.checkboxClass)},null,42,If)):T("",!0),l("span",{class:G({[e.completedItemClass]:r.completed})},V(r.name),3)],2))),128))],2)],2)):T("",!0)}};function io(e,t){return d(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z","clip-rule":"evenodd"})])}const Of={class:"mt-4"},$f={__name:"ChecklistCreator",props:{modelValue:{type:Array,required:!0},placeholder:{type:String,default:"e.g., Task 1, Task 2, Task 3"},label:{type:String,default:"Checklist Items"},density:{type:String,default:"spacious",validator:e=>["spacious","tight","notes"].includes(e)}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=O([]),i=O([]),a=O(!1);me(()=>s.modelValue,f=>{a.value=!0,n.value=JSON.parse(JSON.stringify(f)),(n.value.length===0||n.value[n.value.length-1].name.trim()!=="")&&n.value.push({name:"",completed:!1}),lt(()=>{a.value=!1})},{immediate:!0,deep:!0}),me(()=>n.value,f=>{a.value||o("update:modelValue",f)},{deep:!0});function c(f){n.value.splice(f,1),n.value.length===0&&n.value.push({name:"",completed:!1})}function r(f){f===n.value.length-1&&n.value[f].name.trim()!==""&&n.value.push({name:"",completed:!1})}function u(f){f<n.value.length-1&&lt(()=>{var m;(m=i.value[f+1])==null||m.focus()})}const p=K(()=>s.density==="tight"?{listClass:"space-y-1",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-1 text-sm"}:s.density==="notes"?{listClass:"space-y-0.5",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-0.5 text-sm border-transparent focus:border-transparent focus:ring-0 bg-transparent"}:{listClass:"space-y-2",itemClass:"flex items-center space-x-2",inputClass:""});return(f,m)=>(d(),h("div",Of,[e.label?(d(),X(Q,{key:0,value:e.label},null,8,["value"])):T("",!0),l("ul",{class:G(p.value.listClass)},[(d(!0),h(ae,null,re(n.value,(v,k)=>(d(),h("li",{key:k,class:G(p.value.itemClass)},[e.density==="notes"?(d(),X(B(io),{key:0,class:"h4 w-4",onClick:g=>c(k)},null,8,["onClick"])):T("",!0),_(Ve,{modelValue:v.name,"onUpdate:modelValue":g=>v.name=g,type:"text",class:G(["flex-1",p.value.inputClass]),placeholder:k===n.value.length-1?e.placeholder:"",onInput:g=>r(k),onKeyup:ns(en(g=>u(k),["prevent"]),["enter"]),ref_for:!0,ref:g=>{g&&(i.value[k]=g)}},null,8,["modelValue","onUpdate:modelValue","class","placeholder","onInput","onKeyup"]),n.value.length>1&&e.density!=="notes"?(d(),X(sn,{key:1,type:"button",onClick:g=>c(k)},{default:I(()=>[_(B(io),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):T("",!0)],2))),128))],2)]))}},Mf={key:0,class:"text-center py-8 text-gray-500"},Pf={key:1,class:"text-center py-8 text-red-600"},Df={key:2,class:"space-y-6"},Rf={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},Lf={class:"text-xl font-bold text-gray-900 mb-2"},Vf={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},jf={key:0,class:"text-indigo-600 font-medium"},Ff={key:1,class:"text-purple-600 font-medium"},Bf={class:"text-gray-700 leading-relaxed"},Uf={class:"mt-4 flex flex-wrap gap-2"},Xf={key:0,class:"text-xs text-gray-500 mt-1"},Hf={key:0,class:"bg-yellow-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm"},qf={class:"flex items-center"},zf={class:"ml-3"},Wf={class:"mt-2 text-sm text-yellow-700"},Gf={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm mb-4"},Kf={class:"flex justify-between items-center border-b pb-2 mb-4"},Jf={key:0},Yf={key:1},Qf={key:0,class:"mb-4"},Zf={class:"flex justify-end mt-4"},ep={key:2,class:"text-gray-500 text-sm py-2"},tp={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},sp={class:"flex items-center justify-between py-2 border-b border-gray-100"},np={class:"flex-1 text-right"},op={key:0,class:"text-xs text-gray-400 ml-1"},ap={key:1,class:"flex items-center space-x-2"},ip={class:"flex items-center justify-between py-2 border-b border-gray-100"},rp={class:"flex-1 text-right"},lp={key:1,class:"flex items-center space-x-2"},up={class:"flex items-center justify-between py-2 border-b border-gray-100"},cp={class:"flex-1 text-right"},dp={key:0,class:"text-xs text-gray-400 ml-1"},fp={key:1,class:"flex items-center space-x-2"},pp={class:"flex items-center justify-between py-2 border-b border-gray-100"},mp={class:"text-gray-700"},hp={class:"flex items-start py-2 border-b border-gray-100"},vp={class:"flex-1 flex flex-wrap gap-2"},gp={key:0,class:"text-gray-500 text-sm"},yp={class:"bg-white p-4 rounded-lg shadow-sm"},_p={class:"mb-4 border-b pb-3 flex flex-col gap-3"},bp={class:"flex items-center justify-between"},kp={class:"flex items-center gap-2"},wp=["disabled"],xp={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ep={class:"flex items-center gap-3"},Sp={class:"relative inline-flex items-center px-4 py-2 rounded-md border border-dashed border-indigo-300 text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer transition"},Tp=["disabled"],Cp={key:0,class:"flex flex-wrap gap-2"},Np=["title"],Ip=["onClick"],Ap={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},Op={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},$p={class:"aspect-video bg-gray-50 flex items-center justify-center overflow-hidden"},Mp=["src","alt","onClick"],Pp=["onClick"],Dp={class:"p-2 flex items-center justify-between"},Rp=["title","onClick"],Lp=["onClick"],Vp={key:2,class:"text-sm text-gray-500"},jp={class:"bg-white p-4 rounded-lg shadow-sm"},Fp={class:"flex justify-between items-center mb-4 border-b pb-2"},Bp={key:0,class:"space-y-3"},Up={class:"text-sm text-gray-700"},Xp={class:"text-xs text-gray-500 mt-1"},Hp={key:1,class:"text-gray-500 text-sm py-2"},qp={class:"bg-white p-4 rounded-lg shadow-sm"},zp={key:3,class:"text-center py-8 text-gray-500"},Wp={key:4,class:"mt-4 flex flex-col items-center"},Gp={key:0,class:"text-xs text-red-500 mt-1"},Kp={class:"p-6"},Jp={class:"mb-4"},Yp={class:"flex justify-end space-x-3"},Qp={class:"p-4 sm:p-6 w-full max-w-4xl"},Zp={class:"flex justify-between items-center mb-3"},em=["title"],tm={class:"bg-black/5 rounded-lg overflow-hidden",style:{"min-height":"320px"}},sm=["src"],nm=["src"],om={key:2,class:"p-6 text-center text-gray-700"},am=["href"],im={key:3,class:"p-6 text-center text-gray-500"},rm={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(e,{emit:t}){const s=e,o=t,n=O(null),i=O(!0),a=O(""),c=O(!1),r=O(!1),u=O(!1),p=O(null),f=O(null),m=O(null),v=O([]),k=O(!1),g=O([]),F=O(!1),N=O(!1),b=O([]),w=async()=>{if(s.taskId){F.value=!0;try{const R=await window.axios.get("/api/files",{params:{model_type:"Task",model_id:s.taskId}});g.value=R.data||[]}catch(R){console.error("Error fetching task files",R)}finally{F.value=!1}}},D=R=>{b.value=Array.from(R.target.files||[])},j=async()=>{if(!b.value.length)return;N.value=!0;const R=new FormData;b.value.forEach((E,ye)=>R.append(`files[${ye}]`,E)),R.append("model_type","Task"),R.append("model_id",s.taskId);try{await window.axios.post("/api/files",R,{headers:{"Content-Type":"multipart/form-data"}}),Se("Files uploaded"),b.value=[],await w()}catch(E){console.error("Upload failed",E),fe("Failed to upload files")}finally{N.value=!1}},U=async R=>{if(await si(`Delete file "${R.filename}"?`,{confirmText:"Delete",cancelText:"Cancel",type:"warning"}))try{await window.axios.delete(`/api/files/${R.id}`),Se("File deleted"),await w()}catch(ye){console.error("Delete failed",ye),fe("Failed to delete file")}},J=O(!1),C=O(null),S=R=>{C.value=R,J.value=!0},L=()=>{J.value=!1,C.value=null},A=R=>R?R.thumbnail_url?R.thumbnail_url:R.mime_type&&R.mime_type.includes("image")&&R.path_url?R.path_url:null:null,y=R=>{if(!R)return{type:"none"};const E=R.path_url||null,ye=(R.mime_type||"").toLowerCase();return E?ye.includes("image")?{type:"image",src:E}:ye.includes("pdf")||ye.includes("text")||ye.includes("html")?{type:"iframe",src:E}:{type:"external_link",url:E}:{type:"none"}},x=K(()=>y(C.value)),P=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],$=O(!1),q=O(!1),H=O([{name:"",completed:!1}]),se=O(!1),De=async()=>{i.value=!0,a.value="";try{const R=await window.axios.get(`/api/tasks/${s.taskId}`);n.value=R.data,p.value=n.value.assigned_to_id||null,f.value=n.value.due_date||null,m.value=n.value.priority||"medium",Ce()}catch(R){a.value="Failed to load task details.",console.error("Error fetching task details:",R)}finally{i.value=!1}},Ce=async()=>{k.value=!0;try{const R=await window.axios.get("/api/activities",{params:{subject_type:"App\\Models\\Task",subject_id:s.taskId}});v.value=R.data}catch(R){console.error("Error fetching task activities:",R)}finally{k.value=!1}};me(()=>s.taskId,R=>{R?(De(),w()):(n.value=null,g.value=[])},{immediate:!0});const It=K(()=>s.projectUsers.map(R=>({value:R.id,label:R.name}))),xa=async()=>{if(!n.value||p.value===n.value.assigned_to_id){c.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{assigned_to_user_id:p.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating assigned user:",R),p.value=n.value.assigned_to_id,fe("Failed to update assigned user. Please try again.")}finally{c.value=!1}},Ea=async()=>{if(!n.value||f.value===n.value.due_date){r.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{due_date:f.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating due date:",R),f.value=n.value.due_date,fe("Failed to update due date. Please try again.")}finally{r.value=!1}},Sa=async()=>{if(!n.value||m.value===n.value.priority){u.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{priority:m.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating priority:",R),m.value=n.value.priority,fe("Failed to update priority. Please try again.")}finally{u.value=!1}},Ta=()=>{$.value=!0},Ca=()=>{De(),$.value=!1},Na=async()=>{try{await Cf(n.value),o("task-deleted",n.value.id),o("close")}catch(R){console.error("Error deleting task:",R)}},Ia=async()=>{try{n.value=await bf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error starting task:",R)}},Aa=async()=>{try{n.value=await kf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error pausing task:",R)}},Oa=async()=>{try{n.value=await wf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error resuming task:",R)}},$a=async()=>{try{n.value=await xf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error completing task:",R)}},Ma=async()=>{try{n.value=await Tf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error revising task:",R)}},Pa=()=>{var R;q.value=!q.value,q.value&&((R=n.value.details)!=null&&R.checklist&&n.value.details.checklist.length>0?(H.value=JSON.parse(JSON.stringify(n.value.details.checklist)),H.value[H.value.length-1].name!==""&&H.value.push({name:"",completed:!1})):H.value=[{name:"",completed:!1}])},Da=async()=>{if(!se.value){se.value=!0;try{const R=H.value.filter(ot=>ot.name.trim()!==""),E={details:{...n.value.details,checklist:R}},ye=await window.axios.patch(`/api/tasks/${n.value.id}`,E);n.value=ye.data,q.value=!1,Se("Checklist saved successfully"),o("task-updated",n.value)}catch(R){console.error("Error saving checklist:",R),fe("Failed to save checklist")}finally{se.value=!1}}},At=O(!1),mt=O(""),Ra=()=>{mt.value="",At.value=!0},La=async()=>{if(!mt.value.trim()){Ae("Please provide a reason for blocking the task");return}try{n.value=await Ef(n.value,mt.value),Se("Task blocked successfully"),o("task-updated",n.value),Ce(),At.value=!1}catch(R){console.error("Error blocking task:",R)}},Va=async()=>{try{n.value=await Sf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error unblocking task:",R)}},ja=K(()=>n.value?Nf(n.value.status):""),Vs=K(()=>{var E,ye,ot,Ot;if(!v.value||((E=n.value)==null?void 0:E.status)!=="Blocked")return null;const R=v.value.find($t=>{var Mt,Pt;return $t.event==="updated"&&((Pt=(Mt=$t.properties)==null?void 0:Mt.attributes)==null?void 0:Pt.status)==="Blocked"});return R?(console.log(R.properties),{causer:((ye=R.causer)==null?void 0:ye.name)||"Unknown",reason:((Ot=(ot=R.properties)==null?void 0:ot.attributes)==null?void 0:Ot.block_reason)||"No reason provided."}):null});return(R,E)=>{var ye,ot,Ot,$t,Mt,Pt,Mn;return d(),h("div",null,[i.value?(d(),h("div",Mf," Loading task details... ")):a.value?(d(),h("div",Pf,V(a.value),1)):n.value?(d(),h("div",Df,[l("div",Rf,[l("h4",Lf,V(n.value.name),1),l("div",Vf,[l("span",{class:G(["px-2 py-1 rounded-full text-xs font-medium",ja.value])},V(n.value.status),3),n.value.task_type?(d(),h("span",jf," | "+V((ye=n.value.task_type)==null?void 0:ye.name)+" | ",1)):T("",!0),E[14]||(E[14]=l("br",null,null,-1)),(ot=n.value.milestone)!=null&&ot.name?(d(),h("span",Ff,V((Ot=n.value.milestone)==null?void 0:Ot.name),1)):T("",!0)]),l("p",Bf,V(n.value.description||"No description provided."),1),l("div",Uf,[n.value.status==="To Do"?(d(),X(ke,{key:0,onClick:Ia,class:"bg-blue-600 hover:bg-blue-700"},{default:I(()=>E[15]||(E[15]=[M(" Start Task ",-1)])),_:1,__:[15]})):n.value.status==="In Progress"?(d(),X(ke,{key:1,onClick:Aa,class:"bg-orange-600 hover:bg-orange-700"},{default:I(()=>E[16]||(E[16]=[M(" Pause Task ",-1)])),_:1,__:[16]})):n.value.status==="Paused"?(d(),X(ke,{key:2,onClick:Oa,class:"bg-blue-600 hover:bg-blue-700"},{default:I(()=>E[17]||(E[17]=[M(" Resume Task ",-1)])),_:1,__:[17]})):n.value.status==="Blocked"?(d(),X(ke,{key:3,onClick:Va,class:"bg-green-600 hover:bg-green-700"},{default:I(()=>E[18]||(E[18]=[M(" Unblock Task ",-1)])),_:1,__:[18]})):T("",!0),n.value.status==="To Do"||n.value.status==="In Progress"||n.value.status==="Paused"?(d(),X(ke,{key:4,onClick:Ra,class:"bg-red-600 hover:bg-red-700"},{default:I(()=>E[19]||(E[19]=[M(" Block Task ",-1)])),_:1,__:[19]})):T("",!0),n.value.status==="In Progress"?(d(),X(ke,{key:5,onClick:$a,class:"bg-green-600 hover:bg-green-700"},{default:I(()=>E[20]||(E[20]=[M(" Complete Task ",-1)])),_:1,__:[20]})):T("",!0),n.value.status==="Done"?(d(),X(ke,{key:6,onClick:Ma,class:"bg-yellow-600 hover:bg-yellow-700"},{default:I(()=>E[21]||(E[21]=[M(" Revise Task ",-1)])),_:1,__:[21]})):T("",!0)]),n.value.status==="Done"?(d(),h("div",Xf,' Revising will change the task status back to "To Do" ')):T("",!0)]),n.value.status==="Blocked"&&Vs.value?(d(),h("div",Hf,[l("div",qf,[E[23]||(E[23]=l("div",{class:"flex-shrink-0"},[l("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11.75 13a.75.75 0 01-1.5 0v-2.25a.75.75 0 011.5 0V13zm-1.5-7.5a.75.75 0 011.5 0v1.5a.75.75 0 01-1.5 0V5.5z","clip-rule":"evenodd"})])],-1)),l("div",zf,[E[22]||(E[22]=l("h3",{class:"text-sm font-medium text-yellow-800"},"Task Blocked",-1)),l("div",Wf,[l("p",null,"This task was blocked by **"+V(Vs.value.causer)+"** with the following reason:",1),l("p",null,V(Vs.value.reason),1)])])])])):T("",!0),l("div",Gf,[l("div",Kf,[E[24]||(E[24]=l("h5",{class:"text-lg font-semibold text-gray-800"},"Task Checklist",-1)),l("button",{onClick:Pa,class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center"},[q.value?(d(),h("span",Yf,"Cancel")):(d(),h("span",Jf,V(($t=n.value.details)!=null&&$t.checklist&&n.value.details.checklist.length>0?"Edit Checklist":"Add Checklist"),1))])]),q.value?(d(),h("div",Qf,[_($f,{modelValue:H.value,"onUpdate:modelValue":E[0]||(E[0]=W=>H.value=W),placeholder:"e.g., Review design, Update documentation",label:"Checklist Items",density:"notes"},null,8,["modelValue"]),l("div",Zf,[_(ke,{onClick:Da,disabled:se.value,class:"flex items-center space-x-1"},{default:I(()=>[_(B(gd),{class:"h-4 w-4"}),E[25]||(E[25]=l("span",null,"Save Checklist",-1))]),_:1,__:[25]},8,["disabled"])])])):T("",!0),(Mt=n.value.details)!=null&&Mt.checklist&&n.value.details.checklist.length>0&&!q.value?(d(),X(Af,{key:1,items:n.value.details.checklist,"api-endpoint":`/api/tasks/${n.value.id}`,title:"Items to complete:","payload-transformer":W=>({details:{...n.value.details,checklist:W}})},null,8,["items","api-endpoint","payload-transformer"])):T("",!0),(!((Pt=n.value.details)!=null&&Pt.checklist)||n.value.details.checklist.length===0)&&!q.value?(d(),h("div",ep,' No checklist items for this task yet. Click "Add Checklist" to create one. ')):T("",!0)]),l("div",tp,[E[32]||(E[32]=l("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),l("div",sp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:I(()=>E[26]||(E[26]=[M("Assigned To:",-1)])),_:1,__:[26]}),l("div",np,[c.value?(d(),h("div",ap,[_(Me,{id:"edit-assigned-to",modelValue:p.value,"onUpdate:modelValue":E[2]||(E[2]=W=>p.value=W),options:It.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),l("button",{onClick:xa,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),l("button",{onClick:E[3]||(E[3]=W=>c.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(d(),h("div",{key:0,onClick:E[1]||(E[1]=W=>n.value.status!=="Done"?c.value=!0:Ae("Cannot change assignment for a completed task. Use the Revise button to change the task status first.")),class:G(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[M(V(((Mn=n.value.assigned_to)==null?void 0:Mn.name)||"Unassigned")+" ",1),n.value.status!=="Done"?(d(),h("span",op,"(Click to edit)")):T("",!0)],2))])]),l("div",ip,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:I(()=>E[27]||(E[27]=[M("Due Date:",-1)])),_:1,__:[27]}),l("div",rp,[r.value?(d(),h("div",lp,[_(Ve,{id:"edit-due-date",modelValue:f.value,"onUpdate:modelValue":E[5]||(E[5]=W=>f.value=W),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),l("button",{onClick:Ea,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),l("button",{onClick:E[6]||(E[6]=W=>r.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(d(),h("div",{key:0,onClick:E[4]||(E[4]=W=>r.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[M(V(n.value.due_date?B(ci)(n.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),E[28]||(E[28]=l("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),l("div",up,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:I(()=>E[29]||(E[29]=[M("Priority:",-1)])),_:1,__:[29]}),l("div",cp,[u.value?(d(),h("div",fp,[_(Me,{id:"edit-priority",modelValue:m.value,"onUpdate:modelValue":E[8]||(E[8]=W=>m.value=W),options:P,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1 flex-1"},null,8,["modelValue"]),l("button",{onClick:Sa,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),l("button",{onClick:E[9]||(E[9]=W=>u.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(d(),h("div",{key:0,onClick:E[7]||(E[7]=W=>n.value.status!=="Done"?u.value=!0:Ae("Cannot change priority for a completed task. Use the Revise button to change the task status first.")),class:G(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[l("span",{class:G({"text-red-600 font-medium":n.value.priority==="high","text-yellow-600 font-medium":n.value.priority==="medium","text-green-600 font-medium":n.value.priority==="low"})},V(n.value.priority?n.value.priority.charAt(0).toUpperCase()+n.value.priority.slice(1):"Medium"),3),n.value.status!=="Done"?(d(),h("span",dp,"(Click to edit)")):T("",!0)],2))])]),l("div",pp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:I(()=>E[30]||(E[30]=[M("Created:",-1)])),_:1,__:[30]}),l("span",mp,V(n.value.created_at?new Date(n.value.created_at).toLocaleDateString():"N/A"),1)]),l("div",hp,[_(Q,{class:"min-w-[100px] text-gray-600 mt-1"},{default:I(()=>E[31]||(E[31]=[M("Tags:",-1)])),_:1,__:[31]}),l("div",vp,[(d(!0),h(ae,null,re(n.value.tags,W=>(d(),h("span",{key:W.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},V(W.name),1))),128)),!n.value.tags||n.value.tags.length===0?(d(),h("span",gp,"No tags")):T("",!0)])])]),l("div",yp,[l("div",_p,[l("div",bp,[E[34]||(E[34]=l("h5",{class:"text-lg font-semibold text-gray-800"},"Files",-1)),l("div",kp,[l("button",{type:"button",class:"inline-flex items-center px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:N.value||b.value.length===0,onClick:j},[N.value?(d(),h("svg",xp,E[33]||(E[33]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):T("",!0),l("span",null,V(N.value?"Uploading...":"Upload"),1)],8,wp)])]),l("div",Ep,[l("label",Sp,[E[35]||(E[35]=l("svg",{class:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M4 12l1.5-1.5M20 12l-1.5-1.5M12 4v12"})],-1)),E[36]||(E[36]=l("span",{class:"font-medium"},"Choose Files",-1)),l("input",{class:"absolute inset-0 opacity-0 cursor-pointer",type:"file",multiple:"",onChange:D,disabled:N.value},null,40,Tp)]),E[37]||(E[37]=l("p",{class:"text-xs text-gray-500"},"You can select multiple files. Images, PDFs, Docs are supported.",-1))]),b.value.length?(d(),h("div",Cp,[(d(!0),h(ae,null,re(b.value,(W,ht)=>(d(),h("span",{key:ht,class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-100 text-gray-800 text-xs"},[E[38]||(E[38]=l("svg",{class:"h-4 w-4 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),l("span",{class:"max-w-[160px] truncate",title:W.name},V(W.name),9,Np),l("button",{type:"button",class:"text-gray-500 hover:text-red-600",onClick:Xm=>b.value=b.value.filter((Hm,Fa)=>Fa!==ht)},"",8,Ip)]))),128))])):T("",!0)]),l("div",null,[F.value?(d(),h("div",Ap,[(d(),h(ae,null,re(6,W=>l("div",{key:W,class:"h-28 bg-gray-100 rounded animate-pulse"})),64))])):g.value.length>0?(d(),h("div",Op,[(d(!0),h(ae,null,re(g.value,W=>(d(),h("div",{key:W.id,class:"group relative rounded-lg border border-gray-200 overflow-hidden bg-white shadow-sm hover:shadow-md transition"},[l("div",$p,[A(W)?(d(),h("img",{key:0,src:A(W),alt:W.filename,class:"object-cover w-full h-full",onClick:ht=>S(W)},null,8,Mp)):(d(),h("div",{key:1,class:"text-gray-400",onClick:ht=>S(W)},E[39]||(E[39]=[l("svg",{class:"h-10 w-10",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)]),8,Pp))]),l("div",Dp,[l("button",{class:"text-xs text-blue-600 hover:underline truncate max-w-[70%] text-left",title:W.filename,onClick:ht=>S(W)},V(W.filename),9,Rp),l("button",{class:"text-red-600 hover:text-red-800 text-xs",onClick:ht=>U(W)},"Delete",8,Lp)])]))),128))])):(d(),h("div",Vp,"No files attached."))])]),l("div",jp,[l("div",Fp,[E[41]||(E[41]=l("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),_(ke,{onClick:Ta,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:I(()=>E[40]||(E[40]=[M(" Add Note ",-1)])),_:1,__:[40]})]),n.value.notes&&n.value.notes.length>0?(d(),h("div",Bp,[(d(!0),h(ae,null,re(n.value.notes,W=>(d(),h("div",{key:W.id,class:"p-3 bg-gray-50 rounded-md"},[l("p",Up,V(W.content),1),l("p",Xp," By "+V(W.creator_name||"Unknown")+" on "+V(new Date(W.created_at).toLocaleDateString()),1)]))),128))])):(d(),h("div",Hp,"No notes for this task yet."))]),l("div",qp,[E[42]||(E[42]=l("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"History",-1)),_(_f,{activities:v.value,loading:k.value},null,8,["activities","loading"])])])):(d(),h("div",zp," Select a task to view details. ")),n.value&&n.value.status!=="Done"?(d(),h("div",Wp,[_(sn,{onClick:Na,disabled:n.value.status!=="To Do"},{default:I(()=>E[43]||(E[43]=[M(" Delete Task ",-1)])),_:1,__:[43]},8,["disabled"]),n.value.status!=="To Do"?(d(),h("p",Gp,"Task can only be deleted in 'To Do' status.")):T("",!0)])):T("",!0),_(uf,{show:$.value,"task-for-note":n.value,onClose:E[10]||(E[10]=W=>$.value=!1),onNoteAdded:Ca},null,8,["show","task-for-note"]),_(ds,{show:At.value,onClose:E[13]||(E[13]=W=>At.value=!1)},{default:I(()=>[l("div",Kp,[E[47]||(E[47]=l("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Block Task ",-1)),l("div",Jp,[E[44]||(E[44]=l("p",{class:"text-sm text-gray-600 mb-2"}," Please provide a reason for blocking this task: ",-1)),de(l("textarea",{"onUpdate:modelValue":E[11]||(E[11]=W=>mt.value=W),class:"w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3",placeholder:"Enter reason for blocking..."},null,512),[[Le,mt.value]])]),l("div",Yp,[_(jt,{onClick:E[12]||(E[12]=W=>At.value=!1)},{default:I(()=>E[45]||(E[45]=[M(" Cancel ",-1)])),_:1,__:[45]}),_(ke,{onClick:La,disabled:!mt.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:I(()=>E[46]||(E[46]=[M(" Block Task ",-1)])),_:1,__:[46]},8,["disabled"])])])]),_:1},8,["show"]),_(ds,{show:J.value,onClose:L},{default:I(()=>[l("div",Qp,[l("div",Zp,[l("h3",{class:"text-lg font-semibold text-gray-800 truncate",title:C.value&&C.value.filename?C.value.filename:""},V(C.value&&C.value.filename?C.value.filename:"Preview"),9,em),l("button",{class:"text-gray-500 hover:text-gray-700",onClick:L},"")]),l("div",tm,[M(V(x.value.type)+" ",1),x.value.type==="iframe"?(d(),h("iframe",{key:0,src:x.value.src,class:"w-full h-[70vh]",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,sm)):x.value.type==="image"?(d(),h("img",{key:1,src:x.value.src,alt:"Preview",class:"w-full h-auto"},null,8,nm)):x.value.type==="external_link"?(d(),h("div",om,[E[48]||(E[48]=l("p",null,"This file can't be embedded. You can open it using the link below:",-1)),l("a",{href:x.value.url,target:"_blank",class:"text-indigo-600 hover:underline break-all"},V(x.value.url),9,am)])):(d(),h("div",im,"No preview available."))])])]),_:1},8,["show"])])}}},lm={key:1,class:"p-4 text-gray-500"},um={key:0,class:"flex justify-end space-x-3"},cm={__name:"TaskSidebar",emits:["taskUpdated","taskDeleted"],setup(e){const t=O(null);return(s,o)=>(d(),X(ba,{show:B(Ke).show,"onUpdate:show":B(js),title:B(Ke).taskId?"Task Details":"Details",initialWidth:50},{content:I(()=>[B(Ke).taskId?(d(),X(rm,{key:0,"task-id":B(Ke).taskId,"project-id":B(Ke).projectId,"project-users":B(Ke).projectUsers,ref_key:"taskDetailSidebarRef",ref:t,onClose:B(js),onTaskUpdated:o[0]||(o[0]=n=>{s.$emit("taskUpdated",n)}),onTaskDeleted:o[1]||(o[1]=n=>{s.$emit("taskDeleted",n),B(js)()})},null,8,["task-id","project-id","project-users","onClose"])):B(Ke).show?(d(),h("div",lm," No task selected or task ID is missing. ")):T("",!0)]),footer:I(()=>[B(Ke).taskId?(d(),h("div",um,[t.value&&t.value.task&&t.value.task.status!=="In Progress"&&t.value.task.status!=="Done"?(d(),X(jt,{key:0,onClick:t.value.startTask,class:"bg-blue-50 text-blue-700 hover:bg-blue-100"},{default:I(()=>o[2]||(o[2]=[M(" Start Task ",-1)])),_:1,__:[2]},8,["onClick"])):T("",!0),t.value&&t.value.task&&t.value.task.status==="In Progress"?(d(),X(jt,{key:1,onClick:t.value.completeTask,class:"bg-green-50 text-green-700 hover:bg-green-100"},{default:I(()=>o[3]||(o[3]=[M(" Complete Task ",-1)])),_:1,__:[3]},8,["onClick"])):T("",!0),t.value&&t.value.task?(d(),X(sn,{key:2,onClick:t.value.deleteTask,class:"bg-red-50 text-red-700 hover:bg-red-100"},{default:I(()=>o[4]||(o[4]=[M(" Delete Task ",-1)])),_:1,__:[4]},8,["onClick"])):T("",!0)])):T("",!0)]),_:1},8,["show","onUpdate:show","title"]))}};function dm(e,t){return d(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function ro(e,t){return d(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"})])}function fm(e,t){return d(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function pm(e,t){return d(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function mm(e,t){return d(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"})])}function hm(e,t){return d(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const vm={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},gm={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},ym={class:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},_m={class:"max-h-[70vh] overflow-y-auto p-6 space-y-4"},bm={key:0,class:"text-center text-gray-500 py-8"},km={key:1,class:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-600"},wm={class:"flex items-start justify-between gap-4"},xm={class:"flex-1 min-w-0"},Em={class:"flex items-center gap-2 mb-2"},Sm={class:"font-bold text-lg text-gray-900 dark:text-white truncate"},Tm={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line leading-relaxed"},Cm={key:0,class:"flex-shrink-0"},Nm=["href"],Im={key:2,class:"text-xs text-gray-500 dark:text-gray-400 text-right pr-1"},Am={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex flex-col md:flex-row items-center justify-between gap-4"},Om={class:"flex items-center w-full md:w-auto"},$m={class:"flex justify-end gap-3 w-full md:w-auto"},Mm=["disabled"],Pm={key:0},Dm={key:1},Rm={__name:"NoticeboardModal",props:{show:{type:Boolean,default:!1},unreadNotices:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const s=e,o=t,n=O(!1),i=O(!1),a=O(0);me(()=>s.show,m=>{m&&(a.value=0,n.value=!1)}),me(()=>s.unreadNotices,()=>{a.value>=s.unreadNotices.length&&(a.value=0)});const c=K(()=>s.unreadNotices.length),r=K(()=>s.unreadNotices[a.value]||null),u=async()=>{if(!(!n.value||i.value)){if(!r.value){o("close");return}i.value=!0;try{const m=r.value.id;await oe.post("/api/notices/acknowledge",{notice_ids:[m]}),n.value=!1,a.value+1<s.unreadNotices.length?a.value+=1:o("close")}catch(m){console.error("Failed to acknowledge notices",m)}finally{i.value=!1}}},p=m=>{switch(m){case"Warning":return pm;case"Updates":return mm;case"Final Notice":return fm;default:return ro}},f=m=>{switch(m){case"Warning":return"text-red-500 bg-red-100";case"Updates":return"text-blue-500 bg-blue-100";case"Final Notice":return"text-yellow-500 bg-yellow-100";default:return"text-indigo-500 bg-indigo-100"}};return(m,v)=>e.show?(d(),h("div",vm,[l("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:v[0]||(v[0]=k=>o("close"))}),l("div",{class:G(["relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-2xl w-full mx-auto transform transition-all duration-300 scale-100",{"scale-95 opacity-0":!e.show}])},[l("div",gm,[l("h3",ym,[_(B(ro),{class:"h-7 w-7 text-indigo-500"}),v[4]||(v[4]=M(" Important Notices ",-1))]),l("button",{onClick:v[1]||(v[1]=k=>o("close")),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},[_(B(hm),{class:"h-6 w-6"})])]),l("div",_m,[r.value?(d(),h("div",km,[l("div",wm,[l("div",xm,[l("div",Em,[(d(),X(ni(p(r.value.type)),{class:G(["h-5 w-5",f(r.value.type)])},null,8,["class"])),l("div",Sm,V(r.value.title),1)]),l("div",Tm,V(r.value.description),1)]),r.value.url?(d(),h("div",Cm,[l("a",{href:`/notices/${r.value.id}/redirect`,target:"_blank",class:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors font-medium text-sm"},[v[5]||(v[5]=M(" Open Link ",-1)),_(B(dm),{class:"h-4 w-4 ml-1"})],8,Nm)])):T("",!0)])])):(d(),h("div",bm," All notices have been read. ")),r.value&&c.value>1?(d(),h("div",Im," Notice "+V(a.value+1)+" of "+V(c.value),1)):T("",!0)]),l("div",Am,[l("div",Om,[de(l("input",{id:"acknowledge",type:"checkbox","onUpdate:modelValue":v[2]||(v[2]=k=>n.value=k),class:"h-5 w-5 text-indigo-600 rounded-lg border-gray-300 dark:border-gray-500 dark:bg-gray-600 focus:ring-indigo-500 focus:ring-offset-0 transition-colors"},null,512),[[oi,n.value]]),v[6]||(v[6]=l("label",{for:"acknowledge",class:"ml-3 text-sm text-gray-700 dark:text-gray-300 select-none"}," I have read and understood this notice. ",-1))]),l("div",$m,[l("button",{onClick:v[3]||(v[3]=k=>o("close")),class:"px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm font-medium"}," Close "),l("button",{onClick:u,disabled:!n.value||i.value,class:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-700 transition-colors text-sm font-medium"},[i.value?(d(),h("span",Pm,"Acknowledging...")):(d(),h("span",Dm,"Acknowledge"))],8,Mm)])])],2)])):T("",!0)}},Xs=O(!1),Rt=O([]),Hs=O(!1);function Lm(){const e=async()=>{var o;try{const n=await oe.get("/api/notices/unread");Rt.value=((o=n.data)==null?void 0:o.data)||[],Xs.value=Rt.value.length>0}catch(n){console.error("Failed to fetch unread notices",n)}},t=async()=>{if(Hs.value)try{const o=Rt.value.map(n=>n.id);if(o.length===0)return;await oe.post("/api/notices/acknowledge",{notice_ids:o}),s()}catch(o){console.error("Failed to acknowledge notices",o)}},s=()=>{Xs.value=!1,Rt.value=[],Hs.value=!1};return Ge(()=>{e()}),go(()=>{}),{showNoticeModal:Xs,unreadNotices:Rt,acknowledgeChecked:Hs,fetchUnreadNotices:e,acknowledgeNotices:t,closeModal:s}}const Vm={class:"flex h-screen overflow-hidden"},jm={class:"flex-1 flex flex-col overflow-hidden"},Fm={key:0,class:"bg-white shadow"},Bm={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},Um={class:"flex-1 overflow-y-auto"},uh={__name:"AuthenticatedLayout",setup(e){const t=O(!1),s=O(!1),o=O(!1),n=O(!1),i=O([]),a=O(!0),c=K(()=>zt().props.id||null),{showNoticeModal:r,unreadNotices:u,fetchUnreadNotices:p,closeModal:f}=Lm(),m=O(null),v=async()=>{const j=localStorage.getItem("authToken");if(j){window.axios.defaults.headers.common.Authorization=`Bearer ${j}`;try{await window.axios.get("/api/user")}catch(U){U.response&&U.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},k=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization},g=j=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},F=async()=>{a.value=!0;try{const j=await window.axios.get("/api/projects-simplified");i.value=j.data}catch(j){console.error("Error fetching all projects for sidebar:",j),i.value=[]}finally{a.value=!1}},N=j=>{ri.visit(route("projects.show",j))},b=K(()=>Vt.value.notifications.filter(j=>!j.isRead).length),w=j=>{console.log("Task updated globally.",j)},D=j=>{console.log("Task deleted globally.",j)};return Ge(()=>{v(),m.value&&ai(m.value),F(),ii(),Rn(p),p()}),go(()=>{Rn(null)}),(j,U)=>(d(),h("div",Vm,[_(Mi,{ref_key:"standardNotificationContainerRef",ref:m},null,512),_(Ti,{"sidebar-is-open":B(Vt).show},null,8,["sidebar-is-open"]),_(gu),_(cd,{"all-projects":i.value,"active-project-id":c.value,onProjectSelected:N},null,8,["all-projects","active-project-id"]),l("div",jm,[_(Hd,{"unread-notification-count":b.value,onOpenCreateTaskModal:U[0]||(U[0]=J=>s.value=!0),onOpenAddResource:U[1]||(U[1]=J=>o.value=!0),onOpenNotificationsSidebar:B(Ln),onOpenKudoModal:U[2]||(U[2]=J=>n.value=!0)},null,8,["unread-notification-count","onOpenNotificationsSidebar"]),_(Zd,{"showing-navigation-dropdown":t.value,"unread-notification-count":b.value,onOpenCreateTaskModal:U[3]||(U[3]=J=>s.value=!0),onOpenAddResource:U[4]||(U[4]=J=>o.value=!0),onOpenNotificationsSidebar:B(Ln),onLogoutSuccess:k,onLogoutError:g},null,8,["showing-navigation-dropdown","unread-notification-count","onOpenNotificationsSidebar"]),j.$slots.header?(d(),h("header",Fm,[l("div",Bm,[je(j.$slots,"header")])])):T("",!0),l("main",Um,[je(j.$slots,"default")]),_(ec,{show:s.value,onClose:U[5]||(U[5]=J=>s.value=!1),onSaved:U[6]||(U[6]=J=>s.value=!1)},null,8,["show"]),_(oc,{"api-endpoint":"/api/shareable-resources",show:o.value,onClose:U[7]||(U[7]=J=>o.value=!1)},null,8,["show"]),_(Pc,{show:n.value,onClose:U[8]||(U[8]=J=>n.value=!1),onSubmitted:U[9]||(U[9]=J=>n.value=!1)},null,8,["show"])]),_(cm,{onTaskUpdated:w,onTaskDeleted:D}),_(Ic),_(Rm,{show:B(r),unreadNotices:B(u),onClose:B(f)},null,8,["show","unreadNotices","onClose"])]))}};export{Qt as B,oc as C,_a as T,uh as _,Fu as a,pu as b,lh as c,rh as d,xf as e,oh as f,Nf as g,Cf as h,Tf as i,Ef as j,Af as k,$f as l,Su as m,io as n,uf as o,kf as p,ah as q,wf as r,bf as s,ec as t,Sf as u,ih as v};
