import{r as n,a as r,o as l,d as a,b as t,u as w,h as R,V as L,i as x,g as A,w as u,m,A as C,t as y,v as B,y as I,x as P,F}from"./app-k8YCGMbP.js";import{_ as H}from"./Modal-DX5UQkzi.js";import{_ as V}from"./InputLabel-CMIDUBLA.js";import{_ as N}from"./PrimaryButton-CE6s-XIy.js";import{_ as Y}from"./SecondaryButton-Cm0da0-H.js";const Z={class:"bg-gray-50 min-h-screen"},$={class:"bg-white shadow-sm"},q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center"},D={key:0,class:"flex space-x-4"},K={key:1,class:"flex space-x-4"},W={class:"bg-indigo-700 text-white"},U={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},J={class:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4"},Q={class:"bg-indigo-600 text-white"},X={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center"},ee={class:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4"},te={class:"p-6"},se={key:0,class:"mb-4 p-3 bg-green-100 text-green-800 rounded-md"},oe={key:1,class:"mb-4 p-3 bg-red-100 text-red-800 rounded-md"},ie={class:"mb-4"},le={key:2,class:"mb-4"},ae={key:0,class:"mt-2 p-2 bg-amber-50 text-amber-700 text-xs rounded-md border border-amber-100 flex items-center gap-2"},ne={class:"mt-6"},re={key:0},de={key:1,class:"space-y-4"},pe={__name:"Welcome",props:{canLogin:{type:Boolean},laravelVersion:{type:String,required:!0},phpVersion:{type:String,required:!0}},setup(S){const _=n(!1),d=n(""),g=n(""),v=n(!1),k=n(!1),f=n(""),s=n(""),b=n(!1),p=n(0);let h=null;const T=o=>{p.value=o,h&&clearInterval(h),h=setInterval(()=>{p.value--,p.value<=0&&clearInterval(h)},1e3)},j=()=>{if(!d.value||!d.value.includes("@")){s.value="Please enter a valid email address";return}s.value="",v.value=!0},z=async()=>{var o,e;if(!d.value){s.value="Please enter your email address";return}k.value=!0,f.value="",s.value="";try{const i=await window.axios.post("/api/client-magic-link",{email:d.value});i.data.success?(f.value="Magic link and temporary PIN sent to your email. You can login with the temporary PIN below or click the magic link in your email.",v.value=!0):s.value=i.data.message||"Failed to send magic link"}catch(i){s.value=((e=(o=i.response)==null?void 0:o.data)==null?void 0:e.message)||"An error occurred"}finally{k.value=!1}},E=async()=>{var o,e,i;if(!g.value||g.value.length<4){s.value="Please enter a valid PIN";return}b.value=!0,s.value="";try{const c=await window.axios.post("/api/client-api/verify-pin",{email:d.value,pin:g.value});c.data.success&&(localStorage.setItem("client_dashboard_token",c.data.auth_token),c.data.used_temporary_pin&&localStorage.setItem("client_used_temp_pin","true"),window.location.href=c.data.redirect_url)}catch(c){((o=c.response)==null?void 0:o.status)===429?(s.value="Too many attempts.",T(c.response.data.lockout_seconds)):s.value=((i=(e=c.response)==null?void 0:e.data)==null?void 0:i.message)||"Invalid credentials. Please attempt again."}finally{b.value=!1}},M=()=>{d.value="",g.value="",v.value=!1,f.value="",s.value="",p.value=0,h&&clearInterval(h),_.value=!1},O=()=>{M(),_.value=!0};return(o,e)=>(l(),r(F,null,[a(w(R),{title:"OZEE CRM"}),t("div",Z,[t("header",$,[t("div",q,[e[5]||(e[5]=t("div",{class:"flex items-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})]),t("h1",{class:"ml-2 text-xl font-bold text-gray-900"},"OZEE CRM")],-1)),S.canLogin?(l(),r("nav",D,[o.$page.props.auth.user?(l(),A(w(C),{key:0,href:o.route("dashboard"),class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:u(()=>e[3]||(e[3]=[m(" Dashboard ",-1)])),_:1,__:[3]},8,["href"])):(l(),r("div",K,[a(w(C),{href:o.route("login"),class:"px-4 py-2 text-sm font-medium text-indigo-600 bg-white border border-indigo-600 rounded-md hover:bg-indigo-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:u(()=>e[4]||(e[4]=[m(" Team Log in ",-1)])),_:1,__:[4]},8,["href"]),t("button",{onClick:O,class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Client Login ")]))])):x("",!0)])]),t("div",W,[t("div",U,[t("div",G,[t("div",null,[e[7]||(e[7]=t("h2",{class:"text-3xl md:text-4xl font-bold mb-4"},"Welcome to OZEE CRM!",-1)),e[8]||(e[8]=t("p",{class:"text-lg md:text-xl mb-6"},"Your central hub for managing client interactions, projects, and communications. This system is exclusively for our invited employees, contractors, and clients to collaborate seamlessly.",-1)),t("div",J,[a(w(C),{href:o.route("login"),class:"px-6 py-3 text-base font-medium text-indigo-700 bg-white rounded-md shadow-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white"},{default:u(()=>e[6]||(e[6]=[m(" Access Your Account ",-1)])),_:1,__:[6]},8,["href"])])]),e[9]||(e[9]=t("div",{class:"hidden md:block"},[t("img",{src:"https://cdn.pixabay.com/photo/2018/03/10/12/00/teamwork-3213924_1280.jpg",alt:"Collaborative Teamwork",class:"rounded-lg shadow-xl"})],-1))])])]),e[19]||(e[19]=L('<div class="py-12 bg-white"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-12"><h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl"> Comprehensive Tools for Your Workflow </h2><p class="mt-4 text-lg text-gray-600"> Everything you need to manage your projects, communications, and client relationships efficiently. </p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="bg-gray-50 p-6 rounded-lg shadow-md"><div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><h3 class="text-lg font-medium text-gray-900">Centralized Communication</h3><p class="mt-2 text-base text-gray-600"> Effortlessly manage all your client and internal communications in one place, ensuring everyone is on the same page. </p></div><div class="bg-gray-50 p-6 rounded-lg shadow-md"><div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div><h3 class="text-lg font-medium text-gray-900">Streamlined Approvals</h3><p class="mt-2 text-base text-gray-600"> Efficiently manage any approval processes, whether for documents, content, or other critical items, ensuring quick turnaround times. </p></div><div class="bg-gray-50 p-6 rounded-lg shadow-md"><div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-500 text-white mb-4"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div><h3 class="text-lg font-medium text-gray-900">Comprehensive Project &amp; Client Management</h3><p class="mt-2 text-base text-gray-600"> Organize all your projects and client information, keeping data accessible and relationships strong. </p></div></div></div></div><div class="py-12 bg-gray-50"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="text-center mb-12"><h2 class="text-3xl font-extrabold text-gray-900 sm:text-4xl"> Benefits for Everyone in Your Ecosystem </h2><p class="mt-4 text-lg text-gray-600"> OZEE CRM provides tailored value for employees, contractors, and clients alike. </p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="bg-white p-6 rounded-lg shadow-md"><h3 class="text-lg font-medium text-gray-900 mb-2">For Employees &amp; Contractors</h3><ul class="space-y-2 text-gray-600"><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Efficiently manage your tasks and projects </li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Collaborate seamlessly on client interactions </li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Access all necessary information in one place </li></ul></div><div class="bg-white p-6 rounded-lg shadow-md"><h3 class="text-lg font-medium text-gray-900 mb-2">For Managers</h3><ul class="space-y-2 text-gray-600"><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Oversee projects and team progress </li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Ensure consistent communication quality </li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Gain insights with comprehensive reporting </li></ul></div><div class="bg-white p-6 rounded-lg shadow-md"><h3 class="text-lg font-medium text-gray-900 mb-2">For Clients</h3><ul class="space-y-2 text-gray-600"><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Stay informed on project progress </li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Easily access relevant project documents and communications </li><li class="flex items-start"><svg class="h-5 w-5 text-green-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Direct and clear communication channels </li></ul></div></div></div></div>',2)),t("div",Q,[t("div",X,[e[11]||(e[11]=t("h2",{class:"text-2xl md:text-3xl font-bold mb-4"},"Ready to enhance your team's collaboration and client management?",-1)),e[12]||(e[12]=t("p",{class:"text-lg mb-8"},"If you've received an invitation, please log in to access OZEE CRM.",-1)),t("div",ee,[a(w(C),{href:o.route("login"),class:"px-6 py-3 text-base font-medium text-white bg-indigo-500 border border-white rounded-md shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:u(()=>e[10]||(e[10]=[m(" Log In ",-1)])),_:1,__:[10]},8,["href"])])])]),e[20]||(e[20]=L('<footer class="bg-gray-800 text-white py-8"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg><h3 class="ml-2 text-xl font-bold">OZEE CRM</h3></div><p class="mt-2 text-gray-400"> Your comprehensive CRM for seamless internal operations and client management. </p></div><div class="mt-8 md:mt-0 text-right"></div></div></div></footer>',1)),a(H,{show:_.value,onClose:M},{default:u(()=>[t("div",te,[t("div",{class:"flex justify-between items-center mb-4"},[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Client Login",-1)),t("button",{onClick:M,class:"text-gray-400 hover:text-gray-500"},e[13]||(e[13]=[t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),f.value?(l(),r("div",se,y(f.value),1)):x("",!0),s.value?(l(),r("div",oe,y(s.value),1)):x("",!0),t("div",ie,[a(V,{for:"client-email",value:"Email Address"}),B(t("input",{id:"client-email",type:"email","onUpdate:modelValue":e[0]||(e[0]=i=>d.value=i),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full",placeholder:"your@email.com",onKeyup:e[1]||(e[1]=I(i=>v.value?null:j(),["enter"]))},null,544),[[P,d.value]])]),v.value?(l(),r("div",le,[a(V,{for:"client-pin",value:"Enter PIN (Permanent or Temporary)"}),B(t("input",{id:"client-pin",type:"password","onUpdate:modelValue":e[2]||(e[2]=i=>g.value=i),maxlength:"6",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full text-center tracking-[0.5em] font-bold text-lg",placeholder:"",onKeyup:I(E,["enter"])},null,544),[[P,g.value]]),p.value>0?(l(),r("div",ae,[e[15]||(e[15]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),m(" Try again in "+y(p.value)+"s ",1)])):x("",!0)])):x("",!0),t("div",ne,[!v.value&&!f.value?(l(),r("div",re,[a(N,{onClick:j,class:"bg-indigo-600 hover:bg-indigo-700 w-full justify-center py-2.5"},{default:u(()=>e[16]||(e[16]=[m(" Next Step ",-1)])),_:1,__:[16]})])):x("",!0),v.value?(l(),r("div",de,[a(N,{onClick:E,disabled:b.value||g.value.length<4||p.value>0,class:"bg-indigo-600 hover:bg-indigo-700 w-full justify-center py-2.5"},{default:u(()=>[m(y(b.value?"Verifying...":"Log in"),1)]),_:1},8,["disabled"]),e[17]||(e[17]=t("div",{class:"relative"},[t("div",{class:"absolute inset-0 flex items-center"},[t("div",{class:"w-full border-t border-gray-200"})]),t("div",{class:"relative flex justify-center text-xs"},[t("span",{class:"px-2 bg-white text-gray-400"},"OR")])],-1)),a(Y,{onClick:z,disabled:k.value,class:"w-full justify-center py-2.5"},{default:u(()=>[m(y(k.value?"Sending...":"Email me a new Magic Link"),1)]),_:1},8,["disabled"]),e[18]||(e[18]=t("p",{class:"text-xs text-center text-gray-500"}," Check your email for your permanent PIN or request a magic link to receive a temporary PIN. ",-1))])):x("",!0)])])]),_:1},8,["show"])])],64))}};export{pe as default};
