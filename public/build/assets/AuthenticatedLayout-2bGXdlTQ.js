import{r as P,c as W,T as Dt,f as st,v as hs,a as v,i as T,o as f,F as ue,l as pe,b as c,t as R,u as L,U as ao,V as Sa,W as io,X as ro,j as z,Y as Pt,Z as qe,_ as me,$ as Jt,a0 as Gs,a1 as xa,a2 as lo,a3 as Ze,a4 as Ta,a5 as uo,a6 as Ca,a7 as Fe,a8 as co,a9 as On,aa as Na,ab as Ia,ac as Aa,ad as Oa,ae as $a,af as gs,ag as Ma,ah as Ks,ai as Pa,aj as Da,p as ne,e as fe,g as B,w as I,m as M,d as _,x as ce,A as De,B as Xt,R as Ra,n as ut,y as Js,O as je,N as $e,I as ve,J as es,K as yt,k as La,ak as fo,al as Va,am as $n,z as Je,G as Xe,an as po,ao as Us,q as Ys,ap as nt,aq as Ce,ar as Ge,as as Ds,S as ja,D as Ba,E as mo,at as Ua,au as Fa,av as Mn,aw as Pn,H as Xa}from"./app-DNyLw3kL.js";import{P as be}from"./PrimaryButton-BqxAc8eF.js";import{_ as Qs}from"./Modal-LDWekqmT.js";import{_ as Q}from"./InputLabel-aah-Wjzx.js";import{_ as ee}from"./InputError-hgXXzus2.js";import{_ as Rt}from"./SecondaryButton-D4V817Pp.js";import{_ as xt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ve}from"./TextInput-25srFAic.js";import{S as Ae}from"./SelectDropdown-CTk_771u.js";import{_ as Ha}from"./Checkbox-Dj4QO9mJ.js";import{A as qa}from"./ApplicationLogo-B-Pw6S0R.js";import{D as Zs}from"./DangerButton-B7H3dFeC.js";import{h as za}from"./moment-BLMuvzoS.js";const Wa={key:0,class:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2"},Ga={key:0,class:"notification-list w-full max-w-xs space-y-2"},Ka={class:"flex-1 min-w-0"},Ja={class:"flex items-start justify-between gap-2 mb-1"},Ya={class:"flex-1 min-w-0"},Qa={key:0,class:"text-base font-semibold text-gray-800 truncate"},Za={key:1,class:"text-xs text-gray-500"},ei={key:0,class:"text-xs text-gray-600 mb-2"},ti={class:"flex items-center justify-between mt-2"},si={key:0,class:"text-xs text-gray-500 font-medium"},ni=["onClick"],oi={key:1,class:"flex justify-end w-full max-w-xs"},ai={key:0},ii={key:1},it="notification_minimized_state",ri=3,li={__name:"PushNotificationContainer",props:{sidebarIsOpen:{type:Boolean,default:!1}},setup(e){const t=P(!1),s=P(null),o=P(0),n=P(null),i=W(()=>Dt.value.notifications.filter(d=>d.isNewPush).slice(0,ri)),a=W(()=>{const d=Math.floor(o.value/60),p=o.value%60;return`${String(d).padStart(2,"0")}:${String(p).padStart(2,"0")}`}),l=d=>{if(!d)return null;const p=d.match(/\/task\/(\d+)/);return p?parseInt(p[1]):null},r=d=>{if(!d)return null;const p=d.match(/\/project\/(\d+)\//);return p?parseInt(p[1]):null},u=()=>{if(t.value=!t.value,clearTimeout(s.value),clearInterval(n.value),t.value){const d=Date.now()+3e5;localStorage.setItem(it,JSON.stringify({isMinimized:!0,expiryTime:d})),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(it)},3e5),o.value=300,n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)}else localStorage.removeItem(it)},m=async d=>{Sa(d.id),await io(d.view_id);const p=d.task_id||l(d.url),h=d.project_id||r(d.url);p&&h?ro(p,h):(console.warn("Could not open task sidebar. Falling back to redirecting."),d.url&&(window.location.href=d.url))};return st(()=>{const d=localStorage.getItem(it);if(d)try{const{isMinimized:p,expiryTime:h}=JSON.parse(d),b=Date.now(),g=h-b;g>0?(t.value=p,o.value=Math.floor(g/1e3),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(it)},g),n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)):localStorage.removeItem(it)}catch(p){console.error("Error restoring notification minimized state:",p),localStorage.removeItem(it)}}),hs(()=>{clearTimeout(s.value),clearInterval(n.value)}),(d,p)=>e.sidebarIsOpen?T("",!0):(f(),v("div",Wa,[!t.value&&i.value.length>0?(f(),v("div",Ga,[(f(!0),v(ue,null,pe(i.value,h=>(f(),v("div",{key:h.id,class:"bg-white rounded-lg shadow-lg p-3 flex items-start space-x-3 border border-gray-200 transition-opacity duration-300 opacity-60 hover:opacity-100"},[c("div",Ka,[c("div",Ja,[c("div",Ya,[h.title?(f(),v("h3",Qa,R(h.title),1)):T("",!0),h.project_name?(f(),v("p",Za,R(h.project_name),1)):T("",!0)])]),h.message?(f(),v("p",ei,R(h.message),1)):T("",!0),c("div",ti,[h.due_date?(f(),v("div",si," Due: "+R(L(ao)(h.due_date)),1)):T("",!0),c("button",{onClick:b=>m(h),class:"px-2.5 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 shadow"},R(h.button_label||"View"),9,ni)])])]))),128))])):T("",!0),i.value.length>0?(f(),v("div",oi,[c("button",{onClick:u,class:"bg-white/80 backdrop-blur-sm text-gray-600 hover:text-gray-900 text-xs font-bold py-1 px-3 rounded-full shadow-md transition-all duration-300"},[t.value?(f(),v("span",ai,"Show ("+R(a.value)+")",1)):(f(),v("span",ii,"Minimize"))])])):T("",!0)]))}},ui={class:"fixed top-4 right-4 z-[9999] flex flex-col items-end space-y-3"},ci={class:"p-4"},di={class:"text-sm font-medium text-white"},fi={key:0,class:"mt-3 flex gap-2"},pi=["onClick"],mi=["onClick"],hi={__name:"StandardNotificationContainer",setup(e,{expose:t}){const s=P([]),o=(r,u="info",m=5e3)=>{let d;typeof r=="object"&&r!==null?d={...r}:d={message:r,type:u,duration:m};const p=d.id||crypto.randomUUID(),h={id:p,message:d.message||"",type:d.type||"info",duration:typeof d.duration=="number"?d.duration:5e3,sticky:!!d.sticky,confirm:d.confirm||null};return s.value.unshift(h),!h.sticky&&!h.confirm&&setTimeout(()=>{n(p)},h.duration),p},n=r=>{const u=s.value.findIndex(m=>m.id===r);u>-1&&s.value.splice(u,1)},i=r=>{const u=s.value.find(m=>m.id===r);if(u&&u.confirm&&typeof u.confirm.onConfirm=="function")try{u.confirm.onConfirm()}catch{}n(r)},a=r=>{const u=s.value.find(m=>m.id===r);if(u&&u.confirm&&typeof u.confirm.onCancel=="function")try{u.confirm.onCancel()}catch{}n(r)},l=r=>{switch(r){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":default:return"bg-blue-500"}};return t({addNotification:o}),(r,u)=>(f(),v("div",ui,[(f(!0),v(ue,null,pe(s.value,m=>(f(),v("div",{key:m.id,class:z(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto overflow-hidden",l(m.type)])},[c("div",ci,[c("p",di,R(m.message),1),m.confirm?(f(),v("div",fi,[c("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-white/90 text-slate-800 hover:bg-white",onClick:d=>i(m.id)},R(m.confirm.confirmText||"Confirm"),9,pi),c("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-transparent border border-white/70 text-white hover:bg-white/10",onClick:d=>a(m.id)},R(m.confirm.cancelText||"Cancel"),9,mi)])):T("",!0)])],2))),128))]))}};var ts={exports:{}},Rs={exports:{}},Ls={};/**
* @vue/compiler-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const _t=Symbol(""),vt=Symbol(""),vs=Symbol(""),Lt=Symbol(""),en=Symbol(""),tt=Symbol(""),tn=Symbol(""),sn=Symbol(""),ys=Symbol(""),_s=Symbol(""),Tt=Symbol(""),bs=Symbol(""),nn=Symbol(""),ks=Symbol(""),ws=Symbol(""),Es=Symbol(""),Ss=Symbol(""),xs=Symbol(""),Ts=Symbol(""),on=Symbol(""),an=Symbol(""),Ht=Symbol(""),Vt=Symbol(""),Cs=Symbol(""),Ns=Symbol(""),bt=Symbol(""),Ct=Symbol(""),Is=Symbol(""),ls=Symbol(""),ho=Symbol(""),us=Symbol(""),jt=Symbol(""),go=Symbol(""),vo=Symbol(""),As=Symbol(""),yo=Symbol(""),_o=Symbol(""),Os=Symbol(""),rn=Symbol(""),dt={[_t]:"Fragment",[vt]:"Teleport",[vs]:"Suspense",[Lt]:"KeepAlive",[en]:"BaseTransition",[tt]:"openBlock",[tn]:"createBlock",[sn]:"createElementBlock",[ys]:"createVNode",[_s]:"createElementVNode",[Tt]:"createCommentVNode",[bs]:"createTextVNode",[nn]:"createStaticVNode",[ks]:"resolveComponent",[ws]:"resolveDynamicComponent",[Es]:"resolveDirective",[Ss]:"resolveFilter",[xs]:"withDirectives",[Ts]:"renderList",[on]:"renderSlot",[an]:"createSlots",[Ht]:"toDisplayString",[Vt]:"mergeProps",[Cs]:"normalizeClass",[Ns]:"normalizeStyle",[bt]:"normalizeProps",[Ct]:"guardReactiveProps",[Is]:"toHandlers",[ls]:"camelize",[ho]:"capitalize",[us]:"toHandlerKey",[jt]:"setBlockTracking",[go]:"pushScopeId",[vo]:"popScopeId",[As]:"withCtx",[yo]:"unref",[_o]:"isRef",[Os]:"withMemo",[rn]:"isMemoSame"};function bo(e){Object.getOwnPropertySymbols(e).forEach(t=>{dt[t]=e[t]})}const gi={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},vi={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},yi={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},_i={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},he={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function ko(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:he}}function kt(e,t,s,o,n,i,a,l=!1,r=!1,u=!1,m=he){return e&&(l?(e.helper(tt),e.helper(mt(e.inSSR,u))):e.helper(pt(e.inSSR,u)),a&&e.helper(xs)),{type:13,tag:t,props:s,children:o,patchFlag:n,dynamicProps:i,directives:a,isBlock:l,disableTracking:r,isComponent:u,loc:m}}function et(e,t=he){return{type:17,loc:t,elements:e}}function Ie(e,t=he){return{type:15,loc:t,properties:e}}function oe(e,t){return{type:16,loc:he,key:me(e)?H(e,!0):e,value:t}}function H(e,t=!1,s=he,o=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:o}}function bi(e,t){return{type:5,loc:t,content:me(e)?H(e,!1,t):e}}function Oe(e,t=he){return{type:8,loc:t,children:e}}function de(e,t=[],s=he){return{type:14,loc:s,callee:e,arguments:t}}function ft(e,t=void 0,s=!1,o=!1,n=he){return{type:18,params:e,returns:t,newline:s,isSlot:o,loc:n}}function cs(e,t,s,o=!0){return{type:19,test:e,consequent:t,alternate:s,newline:o,loc:he}}function wo(e,t,s=!1,o=!1){return{type:20,index:e,value:t,needPauseTracking:s,inVOnce:o,needArraySpread:!1,loc:he}}function Eo(e){return{type:21,body:e,loc:he}}function ki(e){return{type:22,elements:e,loc:he}}function wi(e,t,s){return{type:23,test:e,consequent:t,alternate:s,loc:he}}function Ei(e,t){return{type:24,left:e,right:t,loc:he}}function Si(e){return{type:25,expressions:e,loc:he}}function xi(e){return{type:26,returns:e,loc:he}}function pt(e,t){return e||t?ys:_s}function mt(e,t){return e||t?tn:sn}function $s(e,{helper:t,removeHelper:s,inSSR:o}){e.isBlock||(e.isBlock=!0,s(pt(o,e.isComponent)),t(tt),t(mt(o,e.isComponent)))}const Dn=new Uint8Array([123,123]),Rn=new Uint8Array([125,125]);function Ln(e){return e>=97&&e<=122||e>=65&&e<=90}function Ne(e){return e===32||e===10||e===9||e===12||e===13}function Ke(e){return e===47||e===62||Ne(e)}function ds(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}const ye={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Ti{constructor(t,s){this.stack=t,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Dn,this.delimiterClose=Rn,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Dn,this.delimiterClose=Rn}getPos(t){let s=1,o=t+1;for(let n=this.newlines.length-1;n>=0;n--){const i=this.newlines[n];if(t>i){s=n+2,o=t-i;break}}return{column:o,line:s,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?Ke(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Ne(t)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const o=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=o}this.sectionStart=s+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ye.TitleEnd||this.currentSequence===ye.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===ye.Cdata[this.sequenceIndex]?++this.sequenceIndex===ye.Cdata.length&&(this.state=28,this.currentSequence=ye.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ye.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,s){this.enterRCDATA(t,s),this.state=31}enterRCDATA(t,s){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=s}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Ln(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Ke(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Ke(t)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(ds("</"+s),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Ne(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Ln(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Ne(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Ne(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Ne(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Ke(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Ke(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Ke(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Ke(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Ke(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Ne(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Ne(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,s){(t===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Ne(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=ye.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===ye.ScriptEnd[3]?this.startSpecial(ye.ScriptEnd,4):t===ye.StyleEnd[3]?this.startSpecial(ye.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===ye.TitleEnd[3]?this.startSpecial(ye.TitleEnd,4):t===ye.TextareaEnd[3]?this.startSpecial(ye.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===ye.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,s){}}const Ci={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},Ni={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Fs(e,{compatConfig:t}){const s=t&&t[e];return e==="MODE"?s||3:s}function ct(e,t){const s=Fs("MODE",t),o=Fs(e,t);return s===3?o===!0:o!==!1}function wt(e,t,s,...o){return ct(e,t)}function Ii(e,t,s,...o){if(Fs(e,t)==="suppress-warning")return;const{message:i,link:a}=Ni[e],l=`(deprecation ${e}) ${typeof i=="function"?i(...o):i}${a?`
  Details: ${a}`:""}`,r=new SyntaxError(l);r.code=e,s&&(r.loc=s),t.onWarn(r)}function ln(e){throw e}function So(e){}function te(e,t,s,o){const n=`https://vuejs.org/error-reference/#compiler-${e}`,i=new SyntaxError(String(n));return i.code=e,i.loc=t,i}const Ai={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},Oi={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function $i(e,t,s=!1,o=[],n=Object.create(null)){}function Mi(e,t,s){return!1}function Pi(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let s=t.length;for(;s--;){const o=t[s];if(o.type==="AssignmentExpression")return!0;if(o.type!=="ObjectProperty"&&!o.type.endsWith("Pattern"))break}}return!1}function Di(e){let t=e.length;for(;t--;){const s=e[t];if(s.type==="NewExpression")return!0;if(s.type!=="MemberExpression")break}return!1}function Ri(e,t){for(const s of e.params)for(const o of He(s))t(o)}function Li(e,t){for(const s of e.body)if(s.type==="VariableDeclaration"){if(s.declare)continue;for(const o of s.declarations)for(const n of He(o.id))t(n)}else if(s.type==="FunctionDeclaration"||s.type==="ClassDeclaration"){if(s.declare||!s.id)continue;t(s.id)}else Vi(s)&&ji(s,!0,t)}function Vi(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function ji(e,t,s){const o=e.type==="ForStatement"?e.init:e.left;if(o&&o.type==="VariableDeclaration"&&(o.kind==="var"?t:!t))for(const n of o.declarations)for(const i of He(n.id))s(i)}function He(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let s=e;for(;s.type==="MemberExpression";)s=s.object;t.push(s);break;case"ObjectPattern":for(const o of e.properties)o.type==="RestElement"?He(o.argument,t):He(o.value,t);break;case"ArrayPattern":e.elements.forEach(o=>{o&&He(o,t)});break;case"RestElement":He(e.argument,t);break;case"AssignmentPattern":He(e.left,t);break}return t}const Bi=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),xo=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,Ui=(e,t)=>xo(t)&&t.key===e,To=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function Co(e){return To.includes(e.type)?Co(e.expression):e}const Se=e=>e.type===4&&e.isStatic;function un(e){switch(e){case"Teleport":case"teleport":return vt;case"Suspense":case"suspense":return vs;case"KeepAlive":case"keep-alive":return Lt;case"BaseTransition":case"base-transition":return en}}const Fi=/^$|^\d|[^\$\w\xA0-\uFFFF]/,qt=e=>!Fi.test(e),Xi=/[A-Za-z_$\xA0-\uFFFF]/,Hi=/[\.\?\w$\xA0-\uFFFF]/,qi=/\s+[.[]\s*|\s*[.[]\s+/g,No=e=>e.type===4?e.content:e.loc.source,Io=e=>{const t=No(e).trim().replace(qi,l=>l.trim());let s=0,o=[],n=0,i=0,a=null;for(let l=0;l<t.length;l++){const r=t.charAt(l);switch(s){case 0:if(r==="[")o.push(s),s=1,n++;else if(r==="(")o.push(s),s=2,i++;else if(!(l===0?Xi:Hi).test(r))return!1;break;case 1:r==="'"||r==='"'||r==="`"?(o.push(s),s=3,a=r):r==="["?n++:r==="]"&&(--n||(s=o.pop()));break;case 2:if(r==="'"||r==='"'||r==="`")o.push(s),s=3,a=r;else if(r==="(")i++;else if(r===")"){if(l===t.length-1)return!1;--i||(s=o.pop())}break;case 3:r===a&&(s=o.pop(),a=null);break}}return!n&&!i},zi=Pt,cn=Io,Wi=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Ao=e=>Wi.test(No(e)),Gi=Pt,Oo=Ao;function Ki(e,t,s=t.length){return $o({offset:e.offset,line:e.line,column:e.column},t,s)}function $o(e,t,s=t.length){let o=0,n=-1;for(let i=0;i<s;i++)t.charCodeAt(i)===10&&(o++,n=i);return e.offset+=s,e.line+=o,e.column=n===-1?e.column+s:s-n,e}function Ji(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function Ee(e,t,s=!1){for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&(s||n.exp)&&(me(t)?n.name===t:t.test(n.name)))return n}}function zt(e,t,s=!1,o=!1){for(let n=0;n<e.props.length;n++){const i=e.props[n];if(i.type===6){if(s)continue;if(i.name===t&&(i.value||o))return i}else if(i.name==="bind"&&(i.exp||o)&&Qe(i.arg,t))return i}}function Qe(e,t){return!!(e&&Se(e)&&e.content===t)}function Mo(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function ss(e){return e.type===5||e.type===2}function Xs(e){return e.type===7&&e.name==="pre"}function dn(e){return e.type===7&&e.name==="slot"}function Et(e){return e.type===1&&e.tagType===3}function Bt(e){return e.type===1&&e.tagType===2}const Yi=new Set([bt,Ct]);function Po(e,t=[]){if(e&&!me(e)&&e.type===14){const s=e.callee;if(!me(s)&&Yi.has(s))return Po(e.arguments[0],t.concat(e))}return[e,t]}function Ut(e,t,s){let o,n=e.type===13?e.props:e.arguments[2],i=[],a;if(n&&!me(n)&&n.type===14){const l=Po(n);n=l[0],i=l[1],a=i[i.length-1]}if(n==null||me(n))o=Ie([t]);else if(n.type===14){const l=n.arguments[0];!me(l)&&l.type===15?Vn(t,l)||l.properties.unshift(t):n.callee===Is?o=de(s.helper(Vt),[Ie([t]),n]):n.arguments.unshift(Ie([t])),!o&&(o=n)}else n.type===15?(Vn(t,n)||n.properties.unshift(t),o=n):(o=de(s.helper(Vt),[Ie([t]),n]),a&&a.callee===Ct&&(a=i[i.length-2]));e.type===13?a?a.arguments[0]=o:e.props=o:a?a.arguments[0]=o:e.arguments[2]=o}function Vn(e,t){let s=!1;if(e.key.type===4){const o=e.key.content;s=t.properties.some(n=>n.key.type===4&&n.key.content===o)}return s}function St(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,o)=>s==="-"?"_":e.charCodeAt(o).toString())}`}function Pe(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===7&&(Pe(o.arg,t)||Pe(o.exp,t)))return!0}return e.children.some(s=>Pe(s,t));case 11:return Pe(e.source,t)?!0:e.children.some(s=>Pe(s,t));case 9:return e.branches.some(s=>Pe(s,t));case 10:return Pe(e.condition,t)?!0:e.children.some(s=>Pe(s,t));case 4:return!e.isStatic&&qt(e.content)&&!!t[e.content];case 8:return e.children.some(s=>uo(s)&&Pe(s,t));case 5:case 12:return Pe(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function Do(e){return e.type===14&&e.callee===Os?e.arguments[1].returns:e}const Ro=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Lo={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Jt,isPreTag:Jt,isIgnoreNewlineTag:Jt,isCustomElement:Jt,onError:ln,onWarn:So,comments:!1,prefixIdentifiers:!1};let Y=Lo,Ft=null,ze="",ke=null,G=null,xe="",Ue=-1,rt=-1,fn=0,Ye=!1,Hs=null;const se=[],ae=new Ti(se,{onerr:Be,ontext(e,t){Yt(ge(e,t),e,t)},ontextentity(e,t,s){Yt(e,t,s)},oninterpolation(e,t){if(Ye)return Yt(ge(e,t),e,t);let s=e+ae.delimiterOpen.length,o=t-ae.delimiterClose.length;for(;Ne(ze.charCodeAt(s));)s++;for(;Ne(ze.charCodeAt(o-1));)o--;let n=ge(s,o);n.includes("&")&&(n=Y.decodeEntities(n,!1)),qs({type:5,content:os(n,!1,re(s,o)),loc:re(e,t)})},onopentagname(e,t){const s=ge(e,t);ke={type:1,tag:s,ns:Y.getNamespace(s,se[0],Y.ns),tagType:0,props:[],children:[],loc:re(e-1,t),codegenNode:void 0}},onopentagend(e){Bn(e)},onclosetag(e,t){const s=ge(e,t);if(!Y.isVoidTag(s)){let o=!1;for(let n=0;n<se.length;n++)if(se[n].tag.toLowerCase()===s.toLowerCase()){o=!0,n>0&&Be(24,se[0].loc.start.offset);for(let a=0;a<=n;a++){const l=se.shift();ns(l,t,a<n)}break}o||Be(23,Vo(e,60))}},onselfclosingtag(e){const t=ke.tag;ke.isSelfClosing=!0,Bn(e),se[0]&&se[0].tag===t&&ns(se.shift(),e)},onattribname(e,t){G={type:6,name:ge(e,t),nameLoc:re(e,t),value:void 0,loc:re(e)}},ondirname(e,t){const s=ge(e,t),o=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!Ye&&o===""&&Be(26,e),Ye||o==="")G={type:6,name:s,nameLoc:re(e,t),value:void 0,loc:re(e)};else if(G={type:7,name:o,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[H("prop")]:[],loc:re(e)},o==="pre"){Ye=ae.inVPre=!0,Hs=ke;const n=ke.props;for(let i=0;i<n.length;i++)n[i].type===7&&(n[i]=lr(n[i]))}},ondirarg(e,t){if(e===t)return;const s=ge(e,t);if(Ye&&!Xs(G))G.name+=s,lt(G.nameLoc,t);else{const o=s[0]!=="[";G.arg=os(o?s:s.slice(1,-1),o,re(e,t),o?3:0)}},ondirmodifier(e,t){const s=ge(e,t);if(Ye&&!Xs(G))G.name+="."+s,lt(G.nameLoc,t);else if(G.name==="slot"){const o=G.arg;o&&(o.content+="."+s,lt(o.loc,t))}else{const o=H(s,!0,re(e,t));G.modifiers.push(o)}},onattribdata(e,t){xe+=ge(e,t),Ue<0&&(Ue=e),rt=t},onattribentity(e,t,s){xe+=e,Ue<0&&(Ue=t),rt=s},onattribnameend(e){const t=G.loc.start.offset,s=ge(t,e);G.type===7&&(G.rawName=s),ke.props.some(o=>(o.type===7?o.rawName:o.name)===s)&&Be(2,t)},onattribend(e,t){if(ke&&G){if(lt(G.loc,t),e!==0)if(xe.includes("&")&&(xe=Y.decodeEntities(xe,!0)),G.type===6)G.name==="class"&&(xe=Bo(xe).trim()),e===1&&!xe&&Be(13,t),G.value={type:2,content:xe,loc:e===1?re(Ue,rt):re(Ue-1,rt+1)},ae.inSFCRoot&&ke.tag==="template"&&G.name==="lang"&&xe&&xe!=="html"&&ae.enterRCDATA(ds("</template"),0);else{let s=0;G.exp=os(xe,!1,re(Ue,rt),0,s),G.name==="for"&&(G.forParseResult=Zi(G.exp));let o=-1;G.name==="bind"&&(o=G.modifiers.findIndex(n=>n.content==="sync"))>-1&&wt("COMPILER_V_BIND_SYNC",Y,G.loc,G.arg.loc.source)&&(G.name="model",G.modifiers.splice(o,1))}(G.type!==7||G.name!=="pre")&&ke.props.push(G)}xe="",Ue=rt=-1},oncomment(e,t){Y.comments&&qs({type:3,content:ge(e,t),loc:re(e-4,t+3)})},onend(){const e=ze.length;for(let t=0;t<se.length;t++)ns(se[t],e-1),Be(24,se[t].loc.start.offset)},oncdata(e,t){se[0].ns!==0?Yt(ge(e,t),e,t):Be(1,e-9)},onprocessinginstruction(e){(se[0]?se[0].ns:Y.ns)===0&&Be(21,e-1)}}),jn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Qi=/^\(|\)$/g;function Zi(e){const t=e.loc,s=e.content,o=s.match(Ro);if(!o)return;const[,n,i]=o,a=(d,p,h=!1)=>{const b=t.start.offset+p,g=b+d.length;return os(d,!1,re(b,g),0,h?1:0)},l={source:a(i.trim(),s.indexOf(i,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let r=n.trim().replace(Qi,"").trim();const u=n.indexOf(r),m=r.match(jn);if(m){r=r.replace(jn,"").trim();const d=m[1].trim();let p;if(d&&(p=s.indexOf(d,u+r.length),l.key=a(d,p,!0)),m[2]){const h=m[2].trim();h&&(l.index=a(h,s.indexOf(h,l.key?p+d.length:u+r.length),!0))}}return r&&(l.value=a(r,u,!0)),l}function ge(e,t){return ze.slice(e,t)}function Bn(e){ae.inSFCRoot&&(ke.innerLoc=re(e+1,e+1)),qs(ke);const{tag:t,ns:s}=ke;s===0&&Y.isPreTag(t)&&fn++,Y.isVoidTag(t)?ns(ke,e):(se.unshift(ke),(s===1||s===2)&&(ae.inXML=!0)),ke=null}function Yt(e,t,s){{const i=se[0]&&se[0].tag;i!=="script"&&i!=="style"&&e.includes("&")&&(e=Y.decodeEntities(e,!1))}const o=se[0]||Ft,n=o.children[o.children.length-1];n&&n.type===2?(n.content+=e,lt(n.loc,s)):o.children.push({type:2,content:e,loc:re(t,s)})}function ns(e,t,s=!1){s?lt(e.loc,Vo(t,60)):lt(e.loc,er(t,62)+1),ae.inSFCRoot&&(e.children.length?e.innerLoc.end=qe({},e.children[e.children.length-1].loc.end):e.innerLoc.end=qe({},e.innerLoc.start),e.innerLoc.source=ge(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:o,ns:n,children:i}=e;if(Ye||(o==="slot"?e.tagType=2:Un(e)?e.tagType=3:sr(e)&&(e.tagType=1)),ae.inRCDATA||(e.children=jo(i)),n===0&&Y.isIgnoreNewlineTag(o)){const a=i[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}n===0&&Y.isPreTag(o)&&fn--,Hs===e&&(Ye=ae.inVPre=!1,Hs=null),ae.inXML&&(se[0]?se[0].ns:Y.ns)===0&&(ae.inXML=!1);{const a=e.props;if(!ae.inSFCRoot&&ct("COMPILER_NATIVE_TEMPLATE",Y)&&e.tag==="template"&&!Un(e)){const r=se[0]||Ft,u=r.children.indexOf(e);r.children.splice(u,1,...e.children)}const l=a.find(r=>r.type===6&&r.name==="inline-template");l&&wt("COMPILER_INLINE_TEMPLATE",Y,l.loc)&&e.children.length&&(l.value={type:2,content:ge(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:l.loc})}}function er(e,t){let s=e;for(;ze.charCodeAt(s)!==t&&s<ze.length-1;)s++;return s}function Vo(e,t){let s=e;for(;ze.charCodeAt(s)!==t&&s>=0;)s--;return s}const tr=new Set(["if","else","else-if","for","slot"]);function Un({tag:e,props:t}){if(e==="template"){for(let s=0;s<t.length;s++)if(t[s].type===7&&tr.has(t[s].name))return!0}return!1}function sr({tag:e,props:t}){if(Y.isCustomElement(e))return!1;if(e==="component"||nr(e.charCodeAt(0))||un(e)||Y.isBuiltInComponent&&Y.isBuiltInComponent(e)||Y.isNativeTag&&!Y.isNativeTag(e))return!0;for(let s=0;s<t.length;s++){const o=t[s];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(wt("COMPILER_IS_ON_ELEMENT",Y,o.loc))return!0}}else if(o.name==="bind"&&Qe(o.arg,"is")&&wt("COMPILER_IS_ON_ELEMENT",Y,o.loc))return!0}return!1}function nr(e){return e>64&&e<91}const or=/\r\n/g;function jo(e){const t=Y.whitespace!=="preserve";let s=!1;for(let o=0;o<e.length;o++){const n=e[o];if(n.type===2)if(fn)n.content=n.content.replace(or,`
`);else if(ar(n.content)){const i=e[o-1]&&e[o-1].type,a=e[o+1]&&e[o+1].type;!i||!a||t&&(i===3&&(a===3||a===1)||i===1&&(a===3||a===1&&ir(n.content)))?(s=!0,e[o]=null):n.content=" "}else t&&(n.content=Bo(n.content))}return s?e.filter(Boolean):e}function ar(e){for(let t=0;t<e.length;t++)if(!Ne(e.charCodeAt(t)))return!1;return!0}function ir(e){for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(s===10||s===13)return!0}return!1}function Bo(e){let t="",s=!1;for(let o=0;o<e.length;o++)Ne(e.charCodeAt(o))?s||(t+=" ",s=!0):(t+=e[o],s=!1);return t}function qs(e){(se[0]||Ft).children.push(e)}function re(e,t){return{start:ae.getPos(e),end:t==null?t:ae.getPos(t),source:t==null?t:ge(e,t)}}function rr(e){return re(e.start.offset,e.end.offset)}function lt(e,t){e.end=ae.getPos(t),e.source=ge(e.start.offset,t)}function lr(e){const t={type:6,name:e.rawName,nameLoc:re(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const s=e.exp.loc;s.end.offset<e.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),t.value={type:2,content:e.exp.content,loc:s}}return t}function os(e,t=!1,s,o=0,n=0){return H(e,t,s,o)}function Be(e,t,s){Y.onError(te(e,re(t,t)))}function ur(){ae.reset(),ke=null,G=null,xe="",Ue=-1,rt=-1,se.length=0}function pn(e,t){if(ur(),ze=e,Y=qe({},Lo),t){let n;for(n in t)t[n]!=null&&(Y[n]=t[n])}ae.mode=Y.parseMode==="html"?1:Y.parseMode==="sfc"?2:0,ae.inXML=Y.ns===1||Y.ns===2;const s=t&&t.delimiters;s&&(ae.delimiterOpen=ds(s[0]),ae.delimiterClose=ds(s[1]));const o=Ft=ko([],e);return ae.parse(ze),o.loc=re(0,e.length),o.children=jo(o.children),Ft=null,o}function cr(e,t){as(e,void 0,t,!!Uo(e))}function Uo(e){const t=e.children.filter(s=>s.type!==3);return t.length===1&&t[0].type===1&&!Bt(t[0])?t[0]:null}function as(e,t,s,o=!1,n=!1){const{children:i}=e,a=[];for(let d=0;d<i.length;d++){const p=i[d];if(p.type===1&&p.tagType===0){const h=o?0:Te(p,s);if(h>0){if(h>=2){p.codegenNode.patchFlag=-1,a.push(p);continue}}else{const b=p.codegenNode;if(b.type===13){const g=b.patchFlag;if((g===void 0||g===512||g===1)&&Xo(p,s)>=2){const D=Ho(p);D&&(b.props=s.hoist(D))}b.dynamicProps&&(b.dynamicProps=s.hoist(b.dynamicProps))}}}else if(p.type===12&&(o?0:Te(p,s))>=2){p.codegenNode.type===14&&p.codegenNode.arguments.length>0&&p.codegenNode.arguments.push("-1"),a.push(p);continue}if(p.type===1){const h=p.tagType===1;h&&s.scopes.vSlot++,as(p,e,s,!1,n),h&&s.scopes.vSlot--}else if(p.type===11)as(p,e,s,p.children.length===1,!0);else if(p.type===9)for(let h=0;h<p.branches.length;h++)as(p.branches[h],e,s,p.branches[h].children.length===1,n)}let l=!1;const r=[];if(a.length===i.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Fe(e.codegenNode.children))e.codegenNode.children=u(et(e.codegenNode.children)),l=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Fe(e.codegenNode.children)&&e.codegenNode.children.type===15){const d=m(e.codegenNode,"default");d&&(r.push(s.cached.length),d.returns=u(et(d.returns)),l=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Fe(t.codegenNode.children)&&t.codegenNode.children.type===15){const d=Ee(e,"slot",!0),p=d&&d.arg&&m(t.codegenNode,d.arg);p&&(r.push(s.cached.length),p.returns=u(et(p.returns)),l=!0)}}if(!l)for(const d of a)r.push(s.cached.length),d.codegenNode=s.cache(d.codegenNode);r.length&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Fe(e.codegenNode.children)&&e.codegenNode.children.type===15&&e.codegenNode.children.properties.push(oe("__",H(JSON.stringify(r),!1)));function u(d){const p=s.cache(d);return n&&s.hmr&&(p.needArraySpread=!0),p}function m(d,p){if(d.children&&!Fe(d.children)&&d.children.type===15){const h=d.children.properties.find(b=>b.key===p||b.key.content===p);return h&&h.value}}a.length&&s.transformHoist&&s.transformHoist(i,s,e)}function Te(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const o=s.get(e);if(o!==void 0)return o;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let a=3;const l=Xo(e,t);if(l===0)return s.set(e,0),0;l<a&&(a=l);for(let r=0;r<e.children.length;r++){const u=Te(e.children[r],t);if(u===0)return s.set(e,0),0;u<a&&(a=u)}if(a>1)for(let r=0;r<e.props.length;r++){const u=e.props[r];if(u.type===7&&u.name==="bind"&&u.exp){const m=Te(u.exp,t);if(m===0)return s.set(e,0),0;m<a&&(a=m)}}if(n.isBlock){for(let r=0;r<e.props.length;r++)if(e.props[r].type===7)return s.set(e,0),0;t.removeHelper(tt),t.removeHelper(mt(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(pt(t.inSSR,n.isComponent))}return s.set(e,a),a}else return s.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Te(e.content,t);case 4:return e.constType;case 8:let i=3;for(let a=0;a<e.children.length;a++){const l=e.children[a];if(me(l)||Gs(l))continue;const r=Te(l,t);if(r===0)return 0;r<i&&(i=r)}return i;case 20:return 2;default:return 0}}const dr=new Set([Cs,Ns,bt,Ct]);function Fo(e,t){if(e.type===14&&!me(e.callee)&&dr.has(e.callee)){const s=e.arguments[0];if(s.type===4)return Te(s,t);if(s.type===14)return Fo(s,t)}return 0}function Xo(e,t){let s=3;const o=Ho(e);if(o&&o.type===15){const{properties:n}=o;for(let i=0;i<n.length;i++){const{key:a,value:l}=n[i],r=Te(a,t);if(r===0)return r;r<s&&(s=r);let u;if(l.type===4?u=Te(l,t):l.type===14?u=Fo(l,t):u=0,u===0)return u;u<s&&(s=u)}}return s}function Ho(e){const t=e.codegenNode;if(t.type===13)return t.props}function qo(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:o=!1,hmr:n=!1,cacheHandlers:i=!1,nodeTransforms:a=[],directiveTransforms:l={},transformHoist:r=null,isBuiltInComponent:u=Pt,isCustomElement:m=Pt,expressionPlugins:d=[],scopeId:p=null,slotted:h=!0,ssr:b=!1,inSSR:g=!1,ssrCssVars:D="",bindingMetadata:C=Ta,inline:k=!1,isTS:E=!1,onError:$=ln,onWarn:O=So,compatConfig:j}){const K=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),N={filename:t,selfName:K&&lo(Ze(K[1])),prefixIdentifiers:s,hoistStatic:o,hmr:n,cacheHandlers:i,nodeTransforms:a,directiveTransforms:l,transformHoist:r,isBuiltInComponent:u,isCustomElement:m,expressionPlugins:d,scopeId:p,slotted:h,ssr:b,inSSR:g,ssrCssVars:D,bindingMetadata:C,inline:k,isTS:E,onError:$,onWarn:O,compatConfig:j,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(w){const x=N.helpers.get(w)||0;return N.helpers.set(w,x+1),w},removeHelper(w){const x=N.helpers.get(w);if(x){const S=x-1;S?N.helpers.set(w,S):N.helpers.delete(w)}},helperString(w){return`_${dt[N.helper(w)]}`},replaceNode(w){N.parent.children[N.childIndex]=N.currentNode=w},removeNode(w){const x=N.parent.children,S=w?x.indexOf(w):N.currentNode?N.childIndex:-1;!w||w===N.currentNode?(N.currentNode=null,N.onNodeRemoved()):N.childIndex>S&&(N.childIndex--,N.onNodeRemoved()),N.parent.children.splice(S,1)},onNodeRemoved:Pt,addIdentifiers(w){},removeIdentifiers(w){},hoist(w){me(w)&&(w=H(w)),N.hoists.push(w);const x=H(`_hoisted_${N.hoists.length}`,!1,w.loc,2);return x.hoisted=w,x},cache(w,x=!1,S=!1){const y=wo(N.cached.length,w,x,S);return N.cached.push(y),y}};return N.filters=new Set,N}function zo(e,t){const s=qo(e,t);Wt(e,s),t.hoistStatic&&cr(e,s),t.ssr||fr(e,s),e.helpers=new Set([...s.helpers.keys()]),e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.transformed=!0,e.filters=[...s.filters]}function fr(e,t){const{helper:s}=t,{children:o}=e;if(o.length===1){const n=Uo(e);if(n&&n.codegenNode){const i=n.codegenNode;i.type===13&&$s(i,t),e.codegenNode=i}else e.codegenNode=o[0]}else if(o.length>1){let n=64;e.codegenNode=kt(t,s(_t),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function pr(e,t){let s=0;const o=()=>{s--};for(;s<e.children.length;s++){const n=e.children[s];me(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=s,t.onNodeRemoved=o,Wt(n,t))}}function Wt(e,t){t.currentNode=e;const{nodeTransforms:s}=t,o=[];for(let i=0;i<s.length;i++){const a=s[i](e,t);if(a&&(Fe(a)?o.push(...a):o.push(a)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Tt);break;case 5:t.ssr||t.helper(Ht);break;case 9:for(let i=0;i<e.branches.length;i++)Wt(e.branches[i],t);break;case 10:case 11:case 1:case 0:pr(e,t);break}t.currentNode=e;let n=o.length;for(;n--;)o[n]()}function mn(e,t){const s=me(e)?o=>o===e:o=>e.test(o);return(o,n)=>{if(o.type===1){const{props:i}=o;if(o.tagType===3&&i.some(dn))return;const a=[];for(let l=0;l<i.length;l++){const r=i[l];if(r.type===7&&s(r.name)){i.splice(l,1),l--;const u=t(o,r,n);u&&a.push(u)}}return a}}}const Ms="/*@__PURE__*/",Wo=e=>`${dt[e]}: _${dt[e]}`;function mr(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:o=!1,filename:n="template.vue.html",scopeId:i=null,optimizeImports:a=!1,runtimeGlobalName:l="Vue",runtimeModuleName:r="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:m=!1,isTS:d=!1,inSSR:p=!1}){const h={mode:t,prefixIdentifiers:s,sourceMap:o,filename:n,scopeId:i,optimizeImports:a,runtimeGlobalName:l,runtimeModuleName:r,ssrRuntimeModuleName:u,ssr:m,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${dt[g]}`},push(g,D=-2,C){h.code+=g},indent(){b(++h.indentLevel)},deindent(g=!1){g?--h.indentLevel:b(--h.indentLevel)},newline(){b(h.indentLevel)}};function b(g){h.push(`
`+"  ".repeat(g),0)}return h}function Go(e,t={}){const s=mr(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:o,push:n,prefixIdentifiers:i,indent:a,deindent:l,newline:r,scopeId:u,ssr:m}=s,d=Array.from(e.helpers),p=d.length>0,h=!i&&o!=="module";hr(e,s);const g=m?"ssrRender":"render",C=(m?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${g}(${C}) {`),a(),h&&(n("with (_ctx) {"),a(),p&&(n(`const { ${d.map(Wo).join(", ")} } = _Vue
`,-1),r())),e.components.length&&(Vs(e.components,"component",s),(e.directives.length||e.temps>0)&&r()),e.directives.length&&(Vs(e.directives,"directive",s),e.temps>0&&r()),e.filters&&e.filters.length&&(r(),Vs(e.filters,"filter",s),r()),e.temps>0){n("let ");for(let k=0;k<e.temps;k++)n(`${k>0?", ":""}_temp${k}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),r()),m||n("return "),e.codegenNode?we(e.codegenNode,s):n("null"),h&&(l(),n("}")),l(),n("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function hr(e,t){const{ssr:s,prefixIdentifiers:o,push:n,newline:i,runtimeModuleName:a,runtimeGlobalName:l,ssrRuntimeModuleName:r}=t,u=l,m=Array.from(e.helpers);if(m.length>0&&(n(`const _Vue = ${u}
`,-1),e.hoists.length)){const d=[ys,_s,Tt,bs,nn].filter(p=>m.includes(p)).map(Wo).join(", ");n(`const { ${d} } = _Vue
`,-1)}gr(e.hoists,t),i(),n("return ")}function Vs(e,t,{helper:s,push:o,newline:n,isTS:i}){const a=s(t==="filter"?Ss:t==="component"?ks:Es);for(let l=0;l<e.length;l++){let r=e[l];const u=r.endsWith("__self");u&&(r=r.slice(0,-6)),o(`const ${St(r,t)} = ${a}(${JSON.stringify(r)}${u?", true":""})${i?"!":""}`),l<e.length-1&&n()}}function gr(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:o}=t;o();for(let n=0;n<e.length;n++){const i=e[n];i&&(s(`const _hoisted_${n+1} = `),we(i,t),o())}t.pure=!1}function hn(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),Gt(e,t,s),s&&t.deindent(),t.push("]")}function Gt(e,t,s=!1,o=!0){const{push:n,newline:i}=t;for(let a=0;a<e.length;a++){const l=e[a];me(l)?n(l,-3):Fe(l)?hn(l,t):we(l,t),a<e.length-1&&(s?(o&&n(","),i()):o&&n(", "))}}function we(e,t){if(me(e)){t.push(e,-3);return}if(Gs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:we(e.codegenNode,t);break;case 2:vr(e,t);break;case 4:Ko(e,t);break;case 5:yr(e,t);break;case 12:we(e.codegenNode,t);break;case 8:Jo(e,t);break;case 3:br(e,t);break;case 13:kr(e,t);break;case 14:Er(e,t);break;case 15:Sr(e,t);break;case 17:xr(e,t);break;case 18:Tr(e,t);break;case 19:Cr(e,t);break;case 20:Nr(e,t);break;case 21:Gt(e.body,t,!0,!1);break}}function vr(e,t){t.push(JSON.stringify(e.content),-3,e)}function Ko(e,t){const{content:s,isStatic:o}=e;t.push(o?JSON.stringify(s):s,-3,e)}function yr(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ms),s(`${o(Ht)}(`),we(e.content,t),s(")")}function Jo(e,t){for(let s=0;s<e.children.length;s++){const o=e.children[s];me(o)?t.push(o,-3):we(o,t)}}function _r(e,t){const{push:s}=t;if(e.type===8)s("["),Jo(e,t),s("]");else if(e.isStatic){const o=qt(e.content)?e.content:JSON.stringify(e.content);s(o,-2,e)}else s(`[${e.content}]`,-3,e)}function br(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ms),s(`${o(Tt)}(${JSON.stringify(e.content)})`,-3,e)}function kr(e,t){const{push:s,helper:o,pure:n}=t,{tag:i,props:a,children:l,patchFlag:r,dynamicProps:u,directives:m,isBlock:d,disableTracking:p,isComponent:h}=e;let b;r&&(b=String(r)),m&&s(o(xs)+"("),d&&s(`(${o(tt)}(${p?"true":""}), `),n&&s(Ms);const g=d?mt(t.inSSR,h):pt(t.inSSR,h);s(o(g)+"(",-2,e),Gt(wr([i,a,l,b,u]),t),s(")"),d&&s(")"),m&&(s(", "),we(m,t),s(")"))}function wr(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function Er(e,t){const{push:s,helper:o,pure:n}=t,i=me(e.callee)?e.callee:o(e.callee);n&&s(Ms),s(i+"(",-2,e),Gt(e.arguments,t),s(")")}function Sr(e,t){const{push:s,indent:o,deindent:n,newline:i}=t,{properties:a}=e;if(!a.length){s("{}",-2,e);return}const l=a.length>1||!1;s(l?"{":"{ "),l&&o();for(let r=0;r<a.length;r++){const{key:u,value:m}=a[r];_r(u,t),s(": "),we(m,t),r<a.length-1&&(s(","),i())}l&&n(),s(l?"}":" }")}function xr(e,t){hn(e.elements,t)}function Tr(e,t){const{push:s,indent:o,deindent:n}=t,{params:i,returns:a,body:l,newline:r,isSlot:u}=e;u&&s(`_${dt[As]}(`),s("(",-2,e),Fe(i)?Gt(i,t):i&&we(i,t),s(") => "),(r||l)&&(s("{"),o()),a?(r&&s("return "),Fe(a)?hn(a,t):we(a,t)):l&&we(l,t),(r||l)&&(n(),s("}")),u&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function Cr(e,t){const{test:s,consequent:o,alternate:n,newline:i}=e,{push:a,indent:l,deindent:r,newline:u}=t;if(s.type===4){const d=!qt(s.content);d&&a("("),Ko(s,t),d&&a(")")}else a("("),we(s,t),a(")");i&&l(),t.indentLevel++,i||a(" "),a("? "),we(o,t),t.indentLevel--,i&&u(),i||a(" "),a(": ");const m=n.type===19;m||t.indentLevel++,we(n,t),m||t.indentLevel--,i&&r(!0)}function Nr(e,t){const{push:s,helper:o,indent:n,deindent:i,newline:a}=t,{needPauseTracking:l,needArraySpread:r}=e;r&&s("[...("),s(`_cache[${e.index}] || (`),l&&(n(),s(`${o(jt)}(-1`),e.inVOnce&&s(", true"),s("),"),a(),s("(")),s(`_cache[${e.index}] = `),we(e.value,t),l&&(s(`).cacheIndex = ${e.index},`),a(),s(`${o(jt)}(1),`),a(),s(`_cache[${e.index}]`),i()),s(")"),r&&s(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Ir=(e,t)=>{if(e.type===5)e.content=is(e.content,t);else if(e.type===1){const s=Ee(e,"memo");for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&n.name!=="for"){const i=n.exp,a=n.arg;i&&i.type===4&&!(n.name==="on"&&a)&&!(s&&a&&a.type===4&&a.content==="key")&&(n.exp=is(i,t,n.name==="slot")),a&&a.type===4&&!a.isStatic&&(n.arg=is(a,t))}}}};function is(e,t,s=!1,o=!1,n=Object.create(t.identifiers)){return e}function Yo(e){return me(e)?e:e.type===4?e.content:e.children.map(Yo).join("")}const Ar=mn(/^(if|else|else-if)$/,(e,t,s)=>Qo(e,t,s,(o,n,i)=>{const a=s.parent.children;let l=a.indexOf(o),r=0;for(;l-->=0;){const u=a[l];u&&u.type===9&&(r+=u.branches.length)}return()=>{if(i)o.codegenNode=Xn(n,r,s);else{const u=Or(o.codegenNode);u.alternate=Xn(n,r+o.branches.length-1,s)}}}));function Qo(e,t,s,o){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;s.onError(te(28,t.loc)),t.exp=H("true",!1,n)}if(t.name==="if"){const n=Fn(e,t),i={type:9,loc:rr(e.loc),branches:[n]};if(s.replaceNode(i),o)return o(i,n,!0)}else{const n=s.parent.children;let i=n.indexOf(e);for(;i-->=-1;){const a=n[i];if(a&&a.type===3){s.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){s.removeNode(a);continue}if(a&&a.type===9){t.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&s.onError(te(30,e.loc)),s.removeNode();const l=Fn(e,t);a.branches.push(l);const r=o&&o(a,l,!1);Wt(l,s),r&&r(),s.currentNode=null}else s.onError(te(30,e.loc));break}}}function Fn(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!Ee(e,"for")?e.children:[e],userKey:zt(e,"key"),isTemplateIf:s}}function Xn(e,t,s){return e.condition?cs(e.condition,Hn(e,t,s),de(s.helper(Tt),['""',"true"])):Hn(e,t,s)}function Hn(e,t,s){const{helper:o}=s,n=oe("key",H(`${t}`,!1,he,2)),{children:i}=e,a=i[0];if(i.length!==1||a.type!==1)if(i.length===1&&a.type===11){const r=a.codegenNode;return Ut(r,n,s),r}else return kt(s,o(_t),Ie([n]),i,64,void 0,void 0,!0,!1,!1,e.loc);else{const r=a.codegenNode,u=Do(r);return u.type===13&&$s(u,s),Ut(u,n,s),r}}function Or(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Zo=(e,t,s)=>{const{modifiers:o,loc:n}=e,i=e.arg;let{exp:a}=e;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(i.type!==4||!i.isStatic)return s.onError(te(52,i.loc)),{props:[oe(i,H("",!0,n))]};ea(e),a=e.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=i.content?`${i.content} || ""`:'""'),o.some(l=>l.content==="camel")&&(i.type===4?i.isStatic?i.content=Ze(i.content):i.content=`${s.helperString(ls)}(${i.content})`:(i.children.unshift(`${s.helperString(ls)}(`),i.children.push(")"))),s.inSSR||(o.some(l=>l.content==="prop")&&qn(i,"."),o.some(l=>l.content==="attr")&&qn(i,"^")),{props:[oe(i,a)]}},ea=(e,t)=>{const s=e.arg,o=Ze(s.content);e.exp=H(o,!1,s.loc)},qn=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},$r=mn("for",(e,t,s)=>{const{helper:o,removeHelper:n}=s;return ta(e,t,s,i=>{const a=de(o(Ts),[i.source]),l=Et(e),r=Ee(e,"memo"),u=zt(e,"key",!1,!0);u&&u.type===7&&!u.exp&&ea(u);let d=u&&(u.type===6?u.value?H(u.value.content,!0):void 0:u.exp);const p=u&&d?oe("key",d):null,h=i.source.type===4&&i.source.constType>0,b=h?64:u?128:256;return i.codegenNode=kt(s,o(_t),void 0,a,b,void 0,void 0,!0,!h,!1,e.loc),()=>{let g;const{children:D}=i,C=D.length!==1||D[0].type!==1,k=Bt(e)?e:l&&e.children.length===1&&Bt(e.children[0])?e.children[0]:null;if(k?(g=k.codegenNode,l&&p&&Ut(g,p,s)):C?g=kt(s,o(_t),p?Ie([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=D[0].codegenNode,l&&p&&Ut(g,p,s),g.isBlock!==!h&&(g.isBlock?(n(tt),n(mt(s.inSSR,g.isComponent))):n(pt(s.inSSR,g.isComponent))),g.isBlock=!h,g.isBlock?(o(tt),o(mt(s.inSSR,g.isComponent))):o(pt(s.inSSR,g.isComponent))),r){const E=ft(fs(i.parseResult,[H("_cached")]));E.body=Eo([Oe(["const _memo = (",r.exp,")"]),Oe(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${s.helperString(rn)}(_cached, _memo)) return _cached`]),Oe(["const _item = ",g]),H("_item.memo = _memo"),H("return _item")]),a.arguments.push(E,H("_cache"),H(String(s.cached.length))),s.cached.push(null)}else a.arguments.push(ft(fs(i.parseResult),g,!0))}})});function ta(e,t,s,o){if(!t.exp){s.onError(te(31,t.loc));return}const n=t.forParseResult;if(!n){s.onError(te(32,t.loc));return}gn(n);const{addIdentifiers:i,removeIdentifiers:a,scopes:l}=s,{source:r,value:u,key:m,index:d}=n,p={type:11,loc:t.loc,source:r,valueAlias:u,keyAlias:m,objectIndexAlias:d,parseResult:n,children:Et(e)?e.children:[e]};s.replaceNode(p),l.vFor++;const h=o&&o(p);return()=>{l.vFor--,h&&h()}}function gn(e,t){e.finalized||(e.finalized=!0)}function fs({value:e,key:t,index:s},o=[]){return Mr([e,t,s,...o])}function Mr(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,o)=>s||H("_".repeat(o+1),!1))}const zn=H("undefined",!1),sa=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=Ee(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Pr=(e,t)=>{let s;if(Et(e)&&e.props.some(dn)&&(s=Ee(e,"for"))){const o=s.forParseResult;if(o){gn(o);const{value:n,key:i,index:a}=o,{addIdentifiers:l,removeIdentifiers:r}=t;return n&&l(n),i&&l(i),a&&l(a),()=>{n&&r(n),i&&r(i),a&&r(a)}}}},Dr=(e,t,s,o)=>ft(e,s,!1,!0,s.length?s[0].loc:o);function na(e,t,s=Dr){t.helper(As);const{children:o,loc:n}=e,i=[],a=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const r=Ee(e,"slot",!0);if(r){const{arg:D,exp:C}=r;D&&!Se(D)&&(l=!0),i.push(oe(D||H("default",!0),s(C,void 0,o,n)))}let u=!1,m=!1;const d=[],p=new Set;let h=0;for(let D=0;D<o.length;D++){const C=o[D];let k;if(!Et(C)||!(k=Ee(C,"slot",!0))){C.type!==3&&d.push(C);continue}if(r){t.onError(te(37,k.loc));break}u=!0;const{children:E,loc:$}=C,{arg:O=H("default",!0),exp:j,loc:K}=k;let N;Se(O)?N=O?O.content:"default":l=!0;const w=Ee(C,"for"),x=s(j,w,E,$);let S,y;if(S=Ee(C,"if"))l=!0,a.push(cs(S.exp,Qt(O,x,h++),zn));else if(y=Ee(C,/^else(-if)?$/,!0)){let V=D,X;for(;V--&&(X=o[V],!(X.type!==3&&zs(X))););if(X&&Et(X)&&Ee(X,/^(else-)?if$/)){let F=a[a.length-1];for(;F.alternate.type===19;)F=F.alternate;F.alternate=y.exp?cs(y.exp,Qt(O,x,h++),zn):Qt(O,x,h++)}else t.onError(te(30,y.loc))}else if(w){l=!0;const V=w.forParseResult;V?(gn(V),a.push(de(t.helper(Ts),[V.source,ft(fs(V),Qt(O,x),!0)]))):t.onError(te(32,w.loc))}else{if(N){if(p.has(N)){t.onError(te(38,K));continue}p.add(N),N==="default"&&(m=!0)}i.push(oe(O,x))}}if(!r){const D=(C,k)=>{const E=s(C,void 0,k,n);return t.compatConfig&&(E.isNonScopedSlot=!0),oe("default",E)};u?d.length&&d.some(C=>zs(C))&&(m?t.onError(te(39,d[0].loc)):i.push(D(void 0,d))):i.push(D(void 0,o))}const b=l?2:rs(e.children)?3:1;let g=Ie(i.concat(oe("_",H(b+"",!1))),n);return a.length&&(g=de(t.helper(an),[g,et(a)])),{slots:g,hasDynamicSlots:l}}function Qt(e,t,s){const o=[oe("name",e),oe("fn",t)];return s!=null&&o.push(oe("key",H(String(s),!0))),Ie(o)}function rs(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||rs(s.children))return!0;break;case 9:if(rs(s.branches))return!0;break;case 10:case 11:if(rs(s.children))return!0;break}}return!1}function zs(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():zs(e.content)}const oa=new WeakMap,aa=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:o,props:n}=e,i=e.tagType===1;let a=i?ia(e,t):`"${o}"`;const l=uo(a)&&a.callee===ws;let r,u,m=0,d,p,h,b=l||a===vt||a===vs||!i&&(o==="svg"||o==="foreignObject"||o==="math");if(n.length>0){const g=vn(e,t,void 0,i,l);r=g.props,m=g.patchFlag,p=g.dynamicPropNames;const D=g.directives;h=D&&D.length?et(D.map(C=>ra(C,t))):void 0,g.shouldUseBlock&&(b=!0)}if(e.children.length>0)if(a===Lt&&(b=!0,m|=1024),i&&a!==vt&&a!==Lt){const{slots:D,hasDynamicSlots:C}=na(e,t);u=D,C&&(m|=1024)}else if(e.children.length===1&&a!==vt){const D=e.children[0],C=D.type,k=C===5||C===8;k&&Te(D,t)===0&&(m|=1),k||C===2?u=D:u=e.children}else u=e.children;p&&p.length&&(d=Lr(p)),e.codegenNode=kt(t,a,r,u,m===0?void 0:m,d,h,!!b,!1,i,e.loc)};function ia(e,t,s=!1){let{tag:o}=e;const n=Ws(o),i=zt(e,"is",!1,!0);if(i)if(n||ct("COMPILER_IS_ON_ELEMENT",t)){let l;if(i.type===6?l=i.value&&H(i.value.content,!0):(l=i.exp,l||(l=H("is",!1,i.arg.loc))),l)return de(t.helper(ws),[l])}else i.type===6&&i.value.content.startsWith("vue:")&&(o=i.value.content.slice(4));const a=un(o)||t.isBuiltInComponent(o);return a?(s||t.helper(a),a):(t.helper(ks),t.components.add(o),St(o,"component"))}function vn(e,t,s=e.props,o,n,i=!1){const{tag:a,loc:l,children:r}=e;let u=[];const m=[],d=[],p=r.length>0;let h=!1,b=0,g=!1,D=!1,C=!1,k=!1,E=!1,$=!1;const O=[],j=x=>{u.length&&(m.push(Ie(Wn(u),l)),u=[]),x&&m.push(x)},K=()=>{t.scopes.vFor>0&&u.push(oe(H("ref_for",!0),H("true")))},N=({key:x,value:S})=>{if(Se(x)){const y=x.content,V=co(y);if(V&&(!o||n)&&y.toLowerCase()!=="onclick"&&y!=="onUpdate:modelValue"&&!On(y)&&(k=!0),V&&On(y)&&($=!0),V&&S.type===14&&(S=S.arguments[0]),S.type===20||(S.type===4||S.type===8)&&Te(S,t)>0)return;y==="ref"?g=!0:y==="class"?D=!0:y==="style"?C=!0:y!=="key"&&!O.includes(y)&&O.push(y),o&&(y==="class"||y==="style")&&!O.includes(y)&&O.push(y)}else E=!0};for(let x=0;x<s.length;x++){const S=s[x];if(S.type===6){const{loc:y,name:V,nameLoc:X,value:F}=S;let J=!0;if(V==="ref"&&(g=!0,K()),V==="is"&&(Ws(a)||F&&F.content.startsWith("vue:")||ct("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(oe(H(V,!0,X),H(F?F.content:"",J,F?F.loc:y)))}else{const{name:y,arg:V,exp:X,loc:F,modifiers:J}=S,q=y==="bind",ie=y==="on";if(y==="slot"){o||t.onError(te(40,F));continue}if(y==="once"||y==="memo"||y==="is"||q&&Qe(V,"is")&&(Ws(a)||ct("COMPILER_IS_ON_ELEMENT",t))||ie&&i)continue;if((q&&Qe(V,"key")||ie&&p&&Qe(V,"vue:before-update"))&&(h=!0),q&&Qe(V,"ref")&&K(),!V&&(q||ie)){if(E=!0,X)if(q){if(j(),ct("COMPILER_V_BIND_OBJECT_ORDER",t)){m.unshift(X);continue}K(),j(),m.push(X)}else j({type:14,loc:F,callee:t.helper(Is),arguments:o?[X]:[X,"true"]});else t.onError(te(q?34:35,F));continue}q&&J.some(Me=>Me.content==="prop")&&(b|=32);const Re=t.directiveTransforms[y];if(Re){const{props:Me,needRuntime:Le}=Re(S,e,t);!i&&Me.forEach(N),ie&&V&&!Se(V)?j(Ie(Me,l)):u.push(...Me),Le&&(d.push(S),Gs(Le)&&oa.set(S,Le))}else xa(y)||(d.push(S),p&&(h=!0))}}let w;if(m.length?(j(),m.length>1?w=de(t.helper(Vt),m,l):w=m[0]):u.length&&(w=Ie(Wn(u),l)),E?b|=16:(D&&!o&&(b|=2),C&&!o&&(b|=4),O.length&&(b|=8),k&&(b|=32)),!h&&(b===0||b===32)&&(g||$||d.length>0)&&(b|=512),!t.inSSR&&w)switch(w.type){case 15:let x=-1,S=-1,y=!1;for(let F=0;F<w.properties.length;F++){const J=w.properties[F].key;Se(J)?J.content==="class"?x=F:J.content==="style"&&(S=F):J.isHandlerKey||(y=!0)}const V=w.properties[x],X=w.properties[S];y?w=de(t.helper(bt),[w]):(V&&!Se(V.value)&&(V.value=de(t.helper(Cs),[V.value])),X&&(C||X.value.type===4&&X.value.content.trim()[0]==="["||X.value.type===17)&&(X.value=de(t.helper(Ns),[X.value])));break;case 14:break;default:w=de(t.helper(bt),[de(t.helper(Ct),[w])]);break}return{props:w,directives:d,patchFlag:b,dynamicPropNames:O,shouldUseBlock:h}}function Wn(e){const t=new Map,s=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.key.type===8||!n.key.isStatic){s.push(n);continue}const i=n.key.content,a=t.get(i);a?(i==="style"||i==="class"||co(i))&&Rr(a,n):(t.set(i,n),s.push(n))}return s}function Rr(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=et([e.value,t.value],e.loc)}function ra(e,t){const s=[],o=oa.get(e);o?s.push(t.helperString(o)):(t.helper(Es),t.directives.add(e.name),s.push(St(e.name,"directive")));const{loc:n}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const i=H("true",!1,n);s.push(Ie(e.modifiers.map(a=>oe(a,i)),n))}return et(s,e.loc)}function Lr(e){let t="[";for(let s=0,o=e.length;s<o;s++)t+=JSON.stringify(e[s]),s<o-1&&(t+=", ");return t+"]"}function Ws(e){return e==="component"||e==="Component"}const Vr=(e,t)=>{if(Bt(e)){const{children:s,loc:o}=e,{slotName:n,slotProps:i}=la(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let l=2;i&&(a[2]=i,l=3),s.length&&(a[3]=ft([],s,!1,!1,o),l=4),t.scopeId&&!t.slotted&&(l=5),a.splice(l),e.codegenNode=de(t.helper(on),a,o)}};function la(e,t){let s='"default"',o;const n=[];for(let i=0;i<e.props.length;i++){const a=e.props[i];if(a.type===6)a.value&&(a.name==="name"?s=JSON.stringify(a.value.content):(a.name=Ze(a.name),n.push(a)));else if(a.name==="bind"&&Qe(a.arg,"name")){if(a.exp)s=a.exp;else if(a.arg&&a.arg.type===4){const l=Ze(a.arg.content);s=a.exp=H(l,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Se(a.arg)&&(a.arg.content=Ze(a.arg.content)),n.push(a)}if(n.length>0){const{props:i,directives:a}=vn(e,t,n,!1,!1);o=i,a.length&&t.onError(te(36,a[0].loc))}return{slotName:s,slotProps:o}}const yn=(e,t,s,o)=>{const{loc:n,modifiers:i,arg:a}=e;!e.exp&&!i.length&&s.onError(te(35,n));let l;if(a.type===4)if(a.isStatic){let d=a.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Ca(Ze(d)):`on:${d}`;l=H(p,!0,a.loc)}else l=Oe([`${s.helperString(us)}(`,a,")"]);else l=a,l.children.unshift(`${s.helperString(us)}(`),l.children.push(")");let r=e.exp;r&&!r.content.trim()&&(r=void 0);let u=s.cacheHandlers&&!r&&!s.inVOnce;if(r){const d=cn(r),p=!(d||Oo(r)),h=r.content.includes(";");(p||u&&d)&&(r=Oe([`${p?"$event":"(...args)"} => ${h?"{":"("}`,r,h?"}":")"]))}let m={props:[oe(l,r||H("() => {}",!1,n))]};return o&&(m=o(m)),u&&(m.props[0].value=s.cache(m.props[0].value)),m.props.forEach(d=>d.key.isHandlerKey=!0),m},jr=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let o,n=!1;for(let i=0;i<s.length;i++){const a=s[i];if(ss(a)){n=!0;for(let l=i+1;l<s.length;l++){const r=s[l];if(ss(r))o||(o=s[i]=Oe([a],a.loc)),o.children.push(" + ",r),s.splice(l,1),l--;else{o=void 0;break}}}}if(!(!n||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&e.tag!=="template")))for(let i=0;i<s.length;i++){const a=s[i];if(ss(a)||a.type===8){const l=[];(a.type!==2||a.content!==" ")&&l.push(a),!t.ssr&&Te(a,t)===0&&l.push("1"),s[i]={type:12,content:a,loc:a.loc,codegenNode:de(t.helper(bs),l)}}}}},Gn=new WeakSet,Br=(e,t)=>{if(e.type===1&&Ee(e,"once",!0))return Gn.has(e)||t.inVOnce||t.inSSR?void 0:(Gn.add(e),t.inVOnce=!0,t.helper(jt),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0,!0))})},_n=(e,t,s)=>{const{exp:o,arg:n}=e;if(!o)return s.onError(te(41,e.loc)),Zt();const i=o.loc.source.trim(),a=o.type===4?o.content:i,l=s.bindingMetadata[i];if(l==="props"||l==="props-aliased")return s.onError(te(44,o.loc)),Zt();if(!a.trim()||!cn(o))return s.onError(te(42,o.loc)),Zt();const r=n||H("modelValue",!0),u=n?Se(n)?`onUpdate:${Ze(n.content)}`:Oe(['"onUpdate:" + ',n]):"onUpdate:modelValue";let m;const d=s.isTS?"($event: any)":"$event";m=Oe([`${d} => ((`,o,") = $event)"]);const p=[oe(r,e.exp),oe(u,m)];if(e.modifiers.length&&t.tagType===1){const h=e.modifiers.map(g=>g.content).map(g=>(qt(g)?g:JSON.stringify(g))+": true").join(", "),b=n?Se(n)?`${n.content}Modifiers`:Oe([n,' + "Modifiers"']):"modelModifiers";p.push(oe(b,H(`{ ${h} }`,!1,e.loc,2)))}return Zt(p)};function Zt(e=[]){return{props:e}}const Ur=/[\w).+\-_$\]]/,Fr=(e,t)=>{ct("COMPILER_FILTERS",t)&&(e.type===5?ps(e.content,t):e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&ps(s.exp,t)}))};function ps(e,t){if(e.type===4)Kn(e,t);else for(let s=0;s<e.children.length;s++){const o=e.children[s];typeof o=="object"&&(o.type===4?Kn(o,t):o.type===8?ps(e,t):o.type===5&&ps(o.content,t))}}function Kn(e,t){const s=e.content;let o=!1,n=!1,i=!1,a=!1,l=0,r=0,u=0,m=0,d,p,h,b,g=[];for(h=0;h<s.length;h++)if(p=d,d=s.charCodeAt(h),o)d===39&&p!==92&&(o=!1);else if(n)d===34&&p!==92&&(n=!1);else if(i)d===96&&p!==92&&(i=!1);else if(a)d===47&&p!==92&&(a=!1);else if(d===124&&s.charCodeAt(h+1)!==124&&s.charCodeAt(h-1)!==124&&!l&&!r&&!u)b===void 0?(m=h+1,b=s.slice(0,h).trim()):D();else{switch(d){case 34:n=!0;break;case 39:o=!0;break;case 96:i=!0;break;case 40:u++;break;case 41:u--;break;case 91:r++;break;case 93:r--;break;case 123:l++;break;case 125:l--;break}if(d===47){let C=h-1,k;for(;C>=0&&(k=s.charAt(C),k===" ");C--);(!k||!Ur.test(k))&&(a=!0)}}b===void 0?b=s.slice(0,h).trim():m!==0&&D();function D(){g.push(s.slice(m,h).trim()),m=h+1}if(g.length){for(h=0;h<g.length;h++)b=Xr(b,g[h],t);e.content=b,e.ast=void 0}}function Xr(e,t,s){s.helper(Ss);const o=t.indexOf("(");if(o<0)return s.filters.add(t),`${St(t,"filter")}(${e})`;{const n=t.slice(0,o),i=t.slice(o+1);return s.filters.add(n),`${St(n,"filter")}(${e}${i!==")"?","+i:i}`}}const Jn=new WeakSet,Hr=(e,t)=>{if(e.type===1){const s=Ee(e,"memo");return!s||Jn.has(e)?void 0:(Jn.add(e),()=>{const o=e.codegenNode||t.currentNode.codegenNode;o&&o.type===13&&(e.tagType!==1&&$s(o,t),e.codegenNode=de(t.helper(Os),[s.exp,ft(void 0,o),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function ua(e){return[[Br,Ar,Hr,$r,Fr,Vr,aa,sa,jr],{on:yn,bind:Zo,model:_n}]}function ca(e,t={}){const s=t.onError||ln,o=t.mode==="module";t.prefixIdentifiers===!0?s(te(47)):o&&s(te(48));const n=!1;t.cacheHandlers&&s(te(49)),t.scopeId&&!o&&s(te(50));const i=qe({},t,{prefixIdentifiers:n}),a=me(e)?pn(e,i):e,[l,r]=ua();return zo(a,qe({},i,{nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:qe({},r,t.directiveTransforms||{})})),Go(a,i)}const qr={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},da=()=>({props:[]});/**
* @vue/compiler-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bn=Symbol(""),kn=Symbol(""),wn=Symbol(""),En=Symbol(""),ms=Symbol(""),Sn=Symbol(""),xn=Symbol(""),Tn=Symbol(""),Cn=Symbol(""),Nn=Symbol("");bo({[bn]:"vModelRadio",[kn]:"vModelCheckbox",[wn]:"vModelText",[En]:"vModelSelect",[ms]:"vModelDynamic",[Sn]:"withModifiers",[xn]:"withKeys",[Tn]:"vShow",[Cn]:"Transition",[Nn]:"TransitionGroup"});let ht;function zr(e,t=!1){return ht||(ht=document.createElement("div")),t?(ht.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,ht.children[0].getAttribute("foo")):(ht.innerHTML=e,ht.textContent)}const In={parseMode:"html",isVoidTag:Oa,isNativeTag:e=>Na(e)||Ia(e)||Aa(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:zr,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Cn;if(e==="TransitionGroup"||e==="transition-group")return Nn},getNamespace(e,t,s){let o=t?t.ns:s;if(t&&o===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(o=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(o=0);else t&&o===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(o=0);if(o===0){if(e==="svg")return 1;if(e==="math")return 2}return o}},fa=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:H("style",!0,t.loc),exp:Wr(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Wr=(e,t)=>{const s=$a(e);return H(JSON.stringify(s),!1,t,3)};function We(e,t){return te(e,t)}const Gr={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},Kr={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},Jr=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(We(53,n)),t.children.length&&(s.onError(We(54,n)),t.children.length=0),{props:[oe(H("innerHTML",!0,n),o||H("",!0))]}},Yr=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(We(55,n)),t.children.length&&(s.onError(We(56,n)),t.children.length=0),{props:[oe(H("textContent",!0),o?Te(o,s)>0?o:de(s.helperString(Ht),[o],n):H("",!0))]}},Qr=(e,t,s)=>{const o=_n(e,t,s);if(!o.props.length||t.tagType===1)return o;e.arg&&s.onError(We(58,e.arg.loc));const{tag:n}=t,i=s.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||i){let a=wn,l=!1;if(n==="input"||i){const r=zt(t,"type");if(r){if(r.type===7)a=ms;else if(r.value)switch(r.value.content){case"radio":a=bn;break;case"checkbox":a=kn;break;case"file":l=!0,s.onError(We(59,e.loc));break}}else Mo(t)&&(a=ms)}else n==="select"&&(a=En);l||(o.needRuntime=s.helper(a))}else s.onError(We(57,e.loc));return o.props=o.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),o},Zr=gs("passive,once,capture"),el=gs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),tl=gs("left,right"),pa=gs("onkeyup,onkeydown,onkeypress"),sl=(e,t,s,o)=>{const n=[],i=[],a=[];for(let l=0;l<t.length;l++){const r=t[l].content;r==="native"&&wt("COMPILER_V_ON_NATIVE",s)||Zr(r)?a.push(r):tl(r)?Se(e)?pa(e.content.toLowerCase())?n.push(r):i.push(r):(n.push(r),i.push(r)):el(r)?i.push(r):n.push(r)}return{keyModifiers:n,nonKeyModifiers:i,eventOptionModifiers:a}},Yn=(e,t)=>Se(e)&&e.content.toLowerCase()==="onclick"?H(t,!0):e.type!==4?Oe(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,nl=(e,t,s)=>yn(e,t,s,o=>{const{modifiers:n}=e;if(!n.length)return o;let{key:i,value:a}=o.props[0];const{keyModifiers:l,nonKeyModifiers:r,eventOptionModifiers:u}=sl(i,n,s,e.loc);if(r.includes("right")&&(i=Yn(i,"onContextmenu")),r.includes("middle")&&(i=Yn(i,"onMouseup")),r.length&&(a=de(s.helper(Sn),[a,JSON.stringify(r)])),l.length&&(!Se(i)||pa(i.content.toLowerCase()))&&(a=de(s.helper(xn),[a,JSON.stringify(l)])),u.length){const m=u.map(lo).join("");i=Se(i)?H(`${i.content}${m}`,!0):Oe(["(",i,`) + "${m}"`])}return{props:[oe(i,a)]}}),ol=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(We(61,n)),{props:[],needRuntime:s.helper(Tn)}},al=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},ma=[fa],ha={cloak:da,html:Jr,text:Yr,model:Qr,on:nl,show:ol};function il(e,t={}){return ca(e,qe({},In,t,{nodeTransforms:[al,...ma,...t.nodeTransforms||[]],directiveTransforms:qe({},ha,t.directiveTransforms||{}),transformHoist:null}))}function rl(e,t={}){return pn(e,qe({},In,t))}const ll=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:en,BindingTypes:qr,CAMELIZE:ls,CAPITALIZE:ho,CREATE_BLOCK:tn,CREATE_COMMENT:Tt,CREATE_ELEMENT_BLOCK:sn,CREATE_ELEMENT_VNODE:_s,CREATE_SLOTS:an,CREATE_STATIC:nn,CREATE_TEXT:bs,CREATE_VNODE:ys,CompilerDeprecationTypes:Ci,ConstantTypes:_i,DOMDirectiveTransforms:ha,DOMErrorCodes:Gr,DOMErrorMessages:Kr,DOMNodeTransforms:ma,ElementTypes:yi,ErrorCodes:Ai,FRAGMENT:_t,GUARD_REACTIVE_PROPS:Ct,IS_MEMO_SAME:rn,IS_REF:_o,KEEP_ALIVE:Lt,MERGE_PROPS:Vt,NORMALIZE_CLASS:Cs,NORMALIZE_PROPS:bt,NORMALIZE_STYLE:Ns,Namespaces:gi,NodeTypes:vi,OPEN_BLOCK:tt,POP_SCOPE_ID:vo,PUSH_SCOPE_ID:go,RENDER_LIST:Ts,RENDER_SLOT:on,RESOLVE_COMPONENT:ks,RESOLVE_DIRECTIVE:Es,RESOLVE_DYNAMIC_COMPONENT:ws,RESOLVE_FILTER:Ss,SET_BLOCK_TRACKING:jt,SUSPENSE:vs,TELEPORT:vt,TO_DISPLAY_STRING:Ht,TO_HANDLERS:Is,TO_HANDLER_KEY:us,TRANSITION:Cn,TRANSITION_GROUP:Nn,TS_NODE_TYPES:To,UNREF:yo,V_MODEL_CHECKBOX:kn,V_MODEL_DYNAMIC:ms,V_MODEL_RADIO:bn,V_MODEL_SELECT:En,V_MODEL_TEXT:wn,V_ON_WITH_KEYS:xn,V_ON_WITH_MODIFIERS:Sn,V_SHOW:Tn,WITH_CTX:As,WITH_DIRECTIVES:xs,WITH_MEMO:Os,advancePositionWithClone:Ki,advancePositionWithMutation:$o,assert:Ji,baseCompile:ca,baseParse:pn,buildDirectiveArgs:ra,buildProps:vn,buildSlots:na,checkCompatEnabled:wt,compile:il,convertToBlock:$s,createArrayExpression:et,createAssignmentExpression:Ei,createBlockStatement:Eo,createCacheExpression:wo,createCallExpression:de,createCompilerError:te,createCompoundExpression:Oe,createConditionalExpression:cs,createDOMCompilerError:We,createForLoopParams:fs,createFunctionExpression:ft,createIfStatement:wi,createInterpolation:bi,createObjectExpression:Ie,createObjectProperty:oe,createReturnStatement:xi,createRoot:ko,createSequenceExpression:Si,createSimpleExpression:H,createStructuralDirectiveTransform:mn,createTemplateLiteral:ki,createTransformContext:qo,createVNodeCall:kt,errorMessages:Oi,extractIdentifiers:He,findDir:Ee,findProp:zt,forAliasRE:Ro,generate:Go,generateCodeFrame:Ma,getBaseTransformPreset:ua,getConstantType:Te,getMemoedVNodeCall:Do,getVNodeBlockHelper:mt,getVNodeHelper:pt,hasDynamicKeyVBind:Mo,hasScopeRef:Pe,helperNameMap:dt,injectProp:Ut,isCoreComponent:un,isFnExpression:Oo,isFnExpressionBrowser:Ao,isFnExpressionNode:Gi,isFunctionType:Bi,isInDestructureAssignment:Pi,isInNewExpression:Di,isMemberExpression:cn,isMemberExpressionBrowser:Io,isMemberExpressionNode:zi,isReferencedIdentifier:Mi,isSimpleIdentifier:qt,isSlotOutlet:Bt,isStaticArgOf:Qe,isStaticExp:Se,isStaticProperty:xo,isStaticPropertyKey:Ui,isTemplateNode:Et,isText:ss,isVPre:Xs,isVSlot:dn,locStub:he,noopDirectiveTransform:da,parse:rl,parserOptions:In,processExpression:is,processFor:ta,processIf:Qo,processSlotOutlet:la,registerRuntimeHelpers:bo,resolveComponentType:ia,stringifyExpression:Yo,toValidAssetId:St,trackSlotScopes:sa,trackVForSlotScopes:Pr,transform:zo,transformBind:Zo,transformElement:aa,transformExpression:Ir,transformModel:_n,transformOn:yn,transformStyle:fa,traverseNode:Wt,unwrapTSNode:Co,walkBlockDeclarations:Li,walkFunctionParams:Ri,walkIdentifiers:$i,warnDeprecation:Ii},Symbol.toStringTag,{value:"Module"})),ul=Ks(ll),cl=Ks(Pa),dl=Ks(Da);/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Qn;function fl(){return Qn||(Qn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ul,s=cl,o=dl;function n(r){var u=Object.create(null);if(r)for(var m in r)u[m]=r[m];return u.default=r,Object.freeze(u)}var i=n(s);const a=Object.create(null);function l(r,u){if(!o.isString(r))if(r.nodeType)r=r.innerHTML;else return o.NOOP;const m=o.genCacheKey(r,u),d=a[m];if(d)return d;if(r[0]==="#"){const g=document.querySelector(r);r=g?g.innerHTML:""}const p=o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},u);!p.isCustomElement&&typeof customElements<"u"&&(p.isCustomElement=g=>!!customElements.get(g));const{code:h}=t.compile(r,p),b=new Function("Vue",h)(i);return b._rc=!0,a[m]=b}s.registerRuntimeCompiler(l),e.compile=l,Object.keys(s).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=s[r])})}(Ls)),Ls}var Zn;function pl(){return Zn||(Zn=1,Rs.exports=fl()),Rs.exports}var ml=ts.exports,eo;function hl(){return eo||(eo=1,function(e,t){(function(o,n){e.exports=n(pl())})(ml,s=>(()=>{var o={113:(N,w)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.default=(x,S)=>{const y=x.__vccOpts||x;for(const[V,X]of S)y[V]=X;return y}},594:N=>{N.exports=s}},n={};function i(N){var w=n[N];if(w!==void 0)return w.exports;var x=n[N]={exports:{}};return o[N](x,x.exports,i),x.exports}i.d=(N,w)=>{for(var x in w)i.o(w,x)&&!i.o(N,x)&&Object.defineProperty(N,x,{enumerable:!0,get:w[x]})},i.o=(N,w)=>Object.prototype.hasOwnProperty.call(N,w),i.r=N=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{ToastComponent:()=>$,ToastPlugin:()=>j,ToastPositions:()=>h,default:()=>K,useToast:()=>O});var l=i(594);const r=["innerHTML"];function u(N,w,x,S,y,V){return(0,l.openBlock)(),(0,l.createBlock)(l.Transition,{"enter-active-class":N.transition.enter,"leave-active-class":N.transition.leave},{default:(0,l.withCtx)(()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",{ref:"root",role:"alert",class:(0,l.normalizeClass)(["v-toast__item",[`v-toast__item--${N.type}`,`v-toast__item--${N.position}`]]),onMouseover:w[0]||(w[0]=X=>N.toggleTimer(!0)),onMouseleave:w[1]||(w[1]=X=>N.toggleTimer(!1)),onClick:w[2]||(w[2]=function(){return N.whenClicked&&N.whenClicked(...arguments)})},[w[3]||(w[3]=(0,l.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,l.createElementVNode)("p",{class:"v-toast__text",innerHTML:N.message},null,8,r)],34),[[l.vShow,N.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function m(N){var w;typeof N.remove<"u"?N.remove():(w=N.parentNode)==null||w.removeChild(N)}function d(N,w,x){let S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const y=(0,l.h)(N,w,S),V=document.createElement("div");return V.classList.add("v-toast--pending"),x.appendChild(V),(0,l.render)(y,V),y.component}class p{constructor(w,x){this.startedAt=Date.now(),this.callback=w,this.delay=x,this.timer=setTimeout(w,x)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const h=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function b(N){return{all:N=N||new Map,on:function(w,x){var S=N.get(w);S?S.push(x):N.set(w,[x])},off:function(w,x){var S=N.get(w);S&&(x?S.splice(S.indexOf(x)>>>0,1):N.set(w,[]))},emit:function(w,x){var S=N.get(w);S&&S.slice().map(function(y){y(x)}),(S=N.get("*"))&&S.slice().map(function(y){y(w,x)})}}}const D=b(),C=(0,l.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:h.BOTTOM_RIGHT,validator(N){return Object.values(h).includes(N)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),D.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const N=document.body;N.appendChild(this.parentTop),N.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const N=this.$refs.root;(0,l.render)(null,N),m(N)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const N=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),m(N),this.isActive=!0,this.duration&&(this.timer=new p(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(N){!this.pauseOnHover||!this.timer||(N?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case h.TOP:case h.TOP_RIGHT:case h.TOP_LEFT:return this.parentTop;case h.BOTTOM:case h.BOTTOM_RIGHT:case h.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case h.TOP:case h.TOP_RIGHT:case h.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case h.BOTTOM:case h.BOTTOM_RIGHT:case h.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){D.off("toast-clear",this.dismiss)}});var k=i(113);const $=(0,k.default)(C,[["render",u]]),O=function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(w){let x=null;typeof w=="string"&&(x=w);const y=Object.assign({},{message:x},N,w);return{dismiss:d($,y,document.body).ctx.dismiss}},clear(){D.emit("toast-clear")},success(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"success"},x))},error(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"error"},x))},info(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"info"},x))},warning(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"warning"},x))},default(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"default"},x))}}},j={install:function(N){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=O(w);N.config.globalProperties.$toast=x,N.provide("$toast",x)}},K=j;return a})())}(ts)),ts.exports}var gl=hl();const vl={class:"p-8"},yl={class:"mt-2 text-sm text-gray-600"},_l={key:0,class:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-lg"},bl={class:"mt-4"},kl={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},wl={class:"lg:col-span-1 space-y-3"},El=["onClick"],Sl={class:"flex items-center justify-between"},xl={class:"flex items-center"},Tl={class:"ml-2 text-sm text-gray-500"},Cl={key:0},Nl={key:1},Il={key:1,class:"text-xs text-gray-400"},Al={key:0,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner"},Ol={key:0},$l={class:"text-xl font-semibold text-gray-800 mb-4"},Ml={class:"mb-4 text-sm text-right"},Pl=["disabled"],Dl={class:"flex items-center justify-between mb-6 p-4 rounded-lg bg-white shadow-sm border border-gray-200"},Rl={class:"relative inline-flex items-center cursor-pointer"},Ll=["checked"],Vl={key:0},jl={class:"flex-1"},Bl=["onUpdate:modelValue"],Ul={class:"flex-1"},Fl=["onUpdate:modelValue"],Xl=["onClick"],Hl={key:1},ql={key:1,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner flex items-center justify-center"},zl={class:"mt-8 flex justify-end space-x-3"},Wl={key:0,class:"flex items-center"},Gl={key:1},Kl={__name:"AvailabilityModal",props:{show:Boolean,userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(e,{emit:t}){const s=()=>{const S=localStorage.getItem("authToken");S&&!ne.defaults.headers.common.Authorization&&(ne.defaults.headers.common.Authorization=`Bearer ${S}`)},o=e,n=t,i=gl.useToast(),a=P({}),l=P({}),r=P(!1),u=P(null),m=P(""),d=P(!1),p=P([]),h=()=>{const S=[],y=new Date,V=y.getDay(),X=V===0?1:8-V,F=new Date(y);F.setDate(y.getDate()+X);for(let J=0;J<7;J++){const q=new Date(F);q.setDate(F.getDate()+J);const ie=q.toISOString().split("T")[0];S.push({value:ie,label:q.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:q.toLocaleDateString("en-US",{weekday:"short"})})}return S},b=()=>{const S=[],y=new Date,V=y.getDay(),X=new Date(y);X.setDate(y.getDate()-(V===0?6:V-1));for(let F=0;F<7;F++){const J=new Date(X);J.setDate(X.getDate()+F);const q=J.toISOString().split("T")[0];S.push({value:q,label:J.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:J.toLocaleDateString("en-US",{weekday:"short"})})}return S},g=()=>{d.value=!0,m.value="",p.value=b(),u.value=null,C()},D=()=>{d.value=!1,m.value="",p.value=h(),u.value=null,C()};st(()=>{s(),p.value=h(),C()});const C=async()=>{try{if(s(),p.value.length===0)return;const S=p.value[0].value,y=p.value[p.value.length-1].value,V=await ne.get("/api/availabilities",{params:{start_date:S,end_date:y,user_id:o.userId}});if(V.data&&V.data.availabilities){const X={};p.value.forEach(F=>{X[F.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),a.value=X,V.data.availabilities.forEach(F=>{const J=F.date.split("T")[0];a.value[J]&&(a.value[J].isSelected=!0,a.value[J].isAvailable=F.is_available,F.is_available?a.value[J].timeSlots=F.time_slots&&F.time_slots.length>0?[...F.time_slots]:[{start_time:"",end_time:""}]:a.value[J].reason=F.reason||"")})}}catch(S){console.error("Error fetching existing availabilities:",S)}};fe(()=>o.show,async S=>{S&&(l.value={},m.value="",d.value=!1,p.value=h(),await C()),u.value=null},{immediate:!0});const k=W(()=>a.value[u.value]||{isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}),E=W(()=>Object.values(a.value).some(S=>S.isSelected)),$=W(()=>{const S=a.value[u.value];return S?S.isAvailable?S.timeSlots.some(y=>y.start_time&&y.end_time):S.reason.trim().split(/\s+/).filter(Boolean).length>=2:!1}),O=S=>{u.value=S,a.value[S]&&(a.value[S].isSelected=!0)},j=()=>{var y;const S=(y=a.value[u.value])==null?void 0:y.timeSlots;S&&(S.push({start_time:"",end_time:""}),a.value[u.value].isSelected=!0)},K=S=>{var V;const y=(V=a.value[u.value])==null?void 0:V.timeSlots;y&&y.length>1&&(y.splice(S,1),a.value[u.value].isSelected=!0)},N=S=>{a.value[u.value]&&(a.value[u.value].isAvailable=S,a.value[u.value].isSelected=!0,S?a.value[u.value].reason="":a.value[u.value].timeSlots=[{start_time:"",end_time:""}])},w=()=>{const S=a.value[u.value];if(S){if(!$.value){S.isAvailable?l.value[u.value]={timeSlots:"Please fill in at least one time slot before applying to all days."}:l.value[u.value]={reason:"Reason must be at least 2 words to apply to all days."};return}delete l.value[u.value];for(const y of p.value){const V=y.value;a.value[V]=JSON.parse(JSON.stringify(S)),a.value[V].isSelected=!0}i.success("Availability applied to all days!")}},x=async()=>{if(r.value=!0,l.value={},d.value&&!m.value.trim()){l.value.lateReason="Please provide a reason for this late submission.",r.value=!1;return}const S=[];for(const y of p.value){const V=y.value,X=a.value[V];let F={};if(X.isSelected){if(X.isAvailable)if(X.timeSlots.some(J=>!J.start_time||!J.end_time))F.timeSlots="Please fill in all time slots.";else for(const J of X.timeSlots){const q=J.start_time.split(":").map(Number),ie=J.end_time.split(":").map(Number);if(q[0]*60+q[1]>=ie[0]*60+ie[1]){F.timeSlots="End time must be after start time.";break}}else X.reason.trim()||(F.reason="Please provide a reason for unavailability.");Object.keys(F).length>0&&(l.value[V]=F),Object.keys(F).length===0&&S.push({date:V,is_available:X.isAvailable,reason:X.isAvailable?null:X.reason,time_slots:X.isAvailable?X.timeSlots:null})}}if(S.length===0){l.value.general="Please select and set availability for at least one day.",r.value=!1;return}try{s();const y={availabilities:S,reason_for_late_submission:d.value?m.value:null};await ne.post("/api/availabilities/batch",y),i.success("Availability saved successfully!"),n("availability-saved"),n("close")}catch(y){console.error("Error saving availability:",y),i.error("An error occurred while saving your availability.")}finally{r.value=!1}};return(S,y)=>(f(),B(Qs,{show:e.show,onClose:y[4]||(y[4]=V=>S.$emit("close")),"max-width":"4xl"},{default:I(()=>{var V,X,F,J;return[c("div",vl,[y[17]||(y[17]=c("h2",{class:"text-2xl font-bold text-gray-900"}," Set Your Weekly Availability ",-1)),c("p",yl,[y[5]||(y[5]=M(" Select a day to quickly set your schedule for the upcoming week. ",-1)),d.value?(f(),v("span",{key:1,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:D}," Go back to next week. ")):(f(),v("span",{key:0,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:g}," Missed the deadline? Submit for this week. "))]),d.value?(f(),v("div",_l,[y[6]||(y[6]=c("div",{class:"flex items-center"},[c("svg",{class:"h-5 w-5 text-yellow-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c("path",{"fill-rule":"evenodd",d:"M8.257 3.344a1.5 1.5 0 012.486 0l5.446 9.176A1.5 1.5 0 0114.246 15H5.754a1.5 1.5 0 01-1.238-2.48zM9 11a1 1 0 102 0V7a1 1 0 10-2 0v4zm1-3a1 1 0 100 2h.01a1 1 0 100-2H10z","clip-rule":"evenodd"})]),c("p",{class:"font-semibold"},"Late Submission for Current Week")],-1)),y[7]||(y[7]=c("p",{class:"mt-2 text-sm"}," Please provide a reason for submitting late. We acknowledge that availability submissions are due by Thursday evening. ",-1)),c("div",bl,[_(Q,{value:"Reason for late submission"}),ce(c("textarea",{"onUpdate:modelValue":y[0]||(y[0]=q=>m.value=q),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., I was out sick, I forgot, I had no access to the system"},null,512),[[De,m.value]]),_(ee,{message:l.value.lateReason,class:"mt-2"},null,8,["message"])])])):T("",!0),c("div",kl,[c("div",wl,[(f(!0),v(ue,null,pe(p.value,q=>{var ie;return f(),v("div",{key:q.value,class:z(["p-4 rounded-xl border cursor-pointer transition-all duration-200 ease-in-out",{"bg-indigo-50 border-indigo-500 shadow-lg":u.value===q.value,"bg-white border-gray-200 hover:border-indigo-400 hover:shadow-md":u.value!==q.value,"border-red-400 bg-red-50":l.value[q.value],"opacity-70":q.isPast}]),onClick:Re=>O(q.value)},[c("div",Sl,[c("div",xl,[c("div",{class:z(["text-lg font-bold",{"text-indigo-600":u.value===q.value,"text-gray-800":u.value!==q.value}])},R(q.day),3),c("div",Tl,R(q.label.split(", ")[1]),1)]),(ie=a.value[q.value])!=null&&ie.isSelected?(f(),v("span",{key:0,class:z(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",{"bg-emerald-100 text-emerald-800":a.value[q.value].isAvailable,"bg-amber-100 text-amber-800":!a.value[q.value].isAvailable}])},[a.value[q.value].isAvailable?(f(),v("span",Cl,"Available")):(f(),v("span",Nl,"Unavailable"))],2)):(f(),v("span",Il," Not Set "))])],10,El)}),128))]),u.value?(f(),v("div",Al,[u.value?(f(),v("div",Ol,[c("h3",$l," Availability for "+R((V=p.value.find(q=>q.value===u.value))==null?void 0:V.label),1),c("div",Ml,[c("button",{type:"button",onClick:w,disabled:!$.value,class:z([{"opacity-50 cursor-not-allowed":!$.value},"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out"])},y[8]||(y[8]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),c("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"})],-1),M(" Apply to all days ",-1)]),10,Pl)]),c("div",Dl,[y[10]||(y[10]=c("span",{class:"text-sm font-medium text-gray-700"},"I am available on this day",-1)),c("label",Rl,[c("input",{type:"checkbox",checked:k.value.isAvailable,onChange:y[1]||(y[1]=q=>N(q.target.checked)),class:"sr-only peer"},null,40,Ll),y[9]||(y[9]=c("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1))])]),_(ee,{message:(X=l.value[u.value])==null?void 0:X.general,class:"mt-2"},null,8,["message"]),k.value.isAvailable?(f(),v("div",Vl,[_(Q,{value:"Available Time Slots",class:"text-gray-800 mb-2"}),_(ee,{message:(F=l.value[u.value])==null?void 0:F.timeSlots,class:"mt-2 mb-4"},null,8,["message"]),(f(!0),v(ue,null,pe(k.value.timeSlots,(q,ie)=>(f(),v("div",{key:ie,class:"flex items-center space-x-2 mb-4"},[c("div",jl,[ce(c("input",{type:"time","onUpdate:modelValue":Re=>a.value[u.value].timeSlots[ie].start_time=Re,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,Bl),[[De,a.value[u.value].timeSlots[ie].start_time]])]),y[12]||(y[12]=c("span",{class:"text-gray-500"},"-",-1)),c("div",Ul,[ce(c("input",{type:"time","onUpdate:modelValue":Re=>a.value[u.value].timeSlots[ie].end_time=Re,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,Fl),[[De,a.value[u.value].timeSlots[ie].end_time]])]),a.value[u.value].timeSlots.length>1?(f(),v("button",{key:0,type:"button",onClick:Re=>K(ie),class:"p-2 text-red-600 hover:text-red-800 transition duration-150 ease-in-out"},y[11]||(y[11]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,Xl)):T("",!0)]))),128))])):T("",!0),c("button",{type:"button",onClick:j,class:"mt-2 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},y[13]||(y[13]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),M(" Add Another Time Slot ",-1)]))])):(f(),v("div",Hl,[_(Q,{value:"Reason for Not Available",class:"text-gray-800 mb-2"}),ce(c("textarea",{"onUpdate:modelValue":y[2]||(y[2]=q=>a.value[u.value].reason=q),rows:"3",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,512),[[De,a.value[u.value].reason]]),_(ee,{message:(J=l.value[u.value])==null?void 0:J.reason,class:"mt-2"},null,8,["message"])]))])):(f(),v("div",ql,y[14]||(y[14]=[c("p",{class:"text-gray-500 text-lg font-medium"}," Please select a day from the left to set your availability. ",-1)])))]),c("div",zl,[_(Rt,{onClick:y[3]||(y[3]=q=>S.$emit("close"))},{default:I(()=>y[15]||(y[15]=[M(" Cancel ",-1)])),_:1,__:[15]}),_(be,{onClick:x,disabled:r.value||!E.value,class:z({"opacity-50 cursor-not-allowed":r.value||!E.value})},{default:I(()=>[r.value?(f(),v("span",Wl,y[16]||(y[16]=[c("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),M(" Saving... ",-1)]))):(f(),v("span",Gl,"Save Availability"))]),_:1},8,["disabled","class"])])])]}),_:1},8,["show"]))}},Jl={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},Yl={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},Ql={class:"flex justify-center"},Zl={__name:"AvailabilityBlocker",setup(e){const t=P(!1),s=P(!0),o=P(!1),n=P([]),i=W(()=>{var g;return((g=Xt().props.auth.user)==null?void 0:g.id)||null}),a=()=>{const g=localStorage.getItem("authToken");g&&!ne.defaults.headers.common.Authorization&&(ne.defaults.headers.common.Authorization=`Bearer ${g}`)},l=async()=>{s.value=!0;const g=localStorage.getItem("shouldBlockUser"),D=localStorage.getItem("allWeekdaysCovered");if(g==="true"&&D==="false")t.value=!0,await r();else try{a();const C=await ne.get("/api/availability-prompt");t.value=C.data.should_block_user&&!C.data.all_weekdays_covered,t.value&&await r()}catch(C){console.error("Error checking if user should be blocked:",C),t.value=!1}s.value=!1},r=async()=>{try{a();const g=await ne.get("/api/availability-prompt");u(g.data.next_week_start,g.data.next_week_end)}catch(g){console.error("Error fetching next week dates:",g)}},u=(g,D)=>{const C=[],k=new Date(g),E=new Date(D),$=new Date(k);for(;$<=E;)C.push({value:$.toISOString().split("T")[0],label:$.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),$.setDate($.getDate()+1);n.value=C},m=()=>{o.value=!0},d=()=>{l()},p=g=>{t.value=g.detail.shouldBlockUser&&!g.detail.allWeekdaysCovered},h=()=>{document.visibilityState==="visible"&&ut(()=>{l()})},b=g=>{(g.key==="shouldBlockUser"||g.key==="allWeekdaysCovered")&&ut(()=>{l()})};return st(()=>{l(),window.addEventListener("availability-status-updated",p),document.addEventListener("visibilitychange",h),window.addEventListener("storage",b)}),hs(()=>{window.removeEventListener("availability-status-updated",p),document.removeEventListener("visibilitychange",h),window.removeEventListener("storage",b)}),(g,D)=>t.value&&!s.value?(f(),v("div",Jl,[c("div",Yl,[D[2]||(D[2]=Ra('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div><p class="mb-6 text-gray-700"> You must submit your availability for all weekdays of next week before you can continue using the application. This is required for planning meetings and work schedules. </p>',2)),c("div",Ql,[_(be,{onClick:m,class:"bg-red-600 hover:bg-red-700"},{default:I(()=>D[1]||(D[1]=[M(" Submit Availability Now ",-1)])),_:1,__:[1]})]),_(Kl,{show:o.value,"next-week-dates":n.value,date:n.value.length>0?n.value[0].value:"",userId:i.value,onClose:D[0]||(D[0]=C=>o.value=!1),onAvailabilitySaved:d},null,8,["show","next-week-dates","date","userId"])])])):T("",!0)}},eu={class:"p-6"},tu={class:"flex justify-between items-center mb-4"},su={class:"text-lg font-medium text-gray-900"},nu={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},ou={class:"block sm:inline"},au={key:0,class:"mt-6 flex justify-end space-x-3"},iu={__name:"BaseFormModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Modal Title"},apiEndpoint:{type:String,required:!1},httpMethod:{type:String,default:"post",validator:e=>["post","put","patch","delete"].includes(e.toLowerCase())},formData:{type:Object,required:!0},submitButtonText:{type:String,default:"Save"},successMessage:{type:String,default:"Operation successful!"},formatDataForApi:{type:Function,default:e=>e},beforeSubmit:{type:Function,default:()=>!0},showFooter:{type:Boolean,default:!0}},emits:["close","submitted","error"],setup(e,{emit:t}){const s=e,o=t,n=P(!1),i=P({}),a=P("");fe(()=>s.show,u=>{u&&(i.value={},a.value="",n.value=!1)});const l=async()=>{var u;n.value=!0,i.value={},a.value="";try{if(await s.beforeSubmit()===!1){n.value=!1;return}const d=s.formatDataForApi(s.formData);let p;const h=s.httpMethod.toLowerCase();if(h==="post")p=await window.axios.post(s.apiEndpoint,d);else if(h==="put")p=await window.axios.put(s.apiEndpoint,d);else if(h==="patch")p=await window.axios.patch(s.apiEndpoint,d);else if(h==="delete")p=await window.axios.delete(s.apiEndpoint,{data:d});else throw new Error(`Unsupported HTTP method: ${s.httpMethod}`);$e(s.successMessage),o("submitted",p.data),o("close")}catch(m){console.error("API submission error:",m);let d="An unexpected error occurred.";m.response?m.response.status===422?(i.value=m.response.data.errors||{},d=m.response.data.message||"Please correct the errors in the form."):(d=m.response.data.message||"An unexpected error occurred.",a.value=d):(d="A network error occurred or the server is unreachable.",a.value=d),Object.keys(i.value).length>0?a.value="Please correct the errors in the form.":((u=m.response)==null?void 0:u.status)!==422&&(a.value=d),ve(d),o("error",m)}finally{n.value=!1}},r=()=>{o("close")};return(u,m)=>(f(),B(Qs,{show:e.show,onClose:r},{default:I(()=>[c("div",eu,[c("div",tu,[c("h2",su,R(e.title),1),c("button",{onClick:r,class:"text-gray-400 hover:text-gray-500"},m[0]||(m[0]=[c("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a.value?(f(),v("div",nu,[c("span",ou,R(a.value),1)])):T("",!0),c("form",{onSubmit:Js(l,["prevent"])},[je(u.$slots,"default",{errors:i.value},void 0,!0),e.showFooter?(f(),v("div",au,[_(Rt,{onClick:r,type:"button",disabled:n.value},{default:I(()=>m[1]||(m[1]=[M(" Cancel ",-1)])),_:1,__:[1]},8,["disabled"]),_(be,{type:"submit",disabled:n.value,class:z({"opacity-75 cursor-not-allowed":n.value})},{default:I(()=>[M(R(n.value?"Submitting...":e.submitButtonText),1)]),_:1},8,["disabled","class"])])):T("",!0)],32)])]),_:3},8,["show"]))}},Kt=xt(iu,[["__scopeId","data-v-5ed3c88d"]]),ru=(e,t)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>e(...o),t)}},lu={class:"relative"},uu={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},cu=["onClick"],du={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},fu=["onClick"],pu={key:1,class:"px-4 py-2 text-sm text-gray-500"},mu={key:2,class:"px-4 py-2 text-sm text-gray-500"},hu={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=P(""),i=P([]),a=P([]),l=P(!1),r=P(null);function u(){o("update:modelValue",a.value.map(C=>C.id))}fe(()=>s.initialTags,C=>{if(a.value=[],C&&C.length>0){const O=[],j=new Set;C.forEach(K=>{j.has(K.id)||(O.push(K),j.add(K.id))}),a.value.push(...O)}const k=C.map(O=>O.id),E=Array.isArray(s.modelValue)?s.modelValue:[];(k.length!==E.length||k.some(O=>!E.includes(O))||E.some(O=>!k.includes(O)))&&u()},{immediate:!0});const m=ru(async C=>{if(C.length<2){i.value=[],l.value=!1;return}try{const k=await ne.get(`/api/tags/search?query=${C}`);i.value=k.data,l.value=!0}catch(k){console.error("Error fetching tags:",k),i.value=[],l.value=!1}},300);fe(n,C=>{s.disabled||m(C)});const d=C=>{a.value.some(k=>k.id===C.id)||(a.value.push(C),n.value="",i.value=[],l.value=!1,u()),ut(()=>r.value.focus())},p=()=>{if(s.disabled)return;const C=n.value.trim();if(!C)return;const k=i.value.find($=>$.name.toLowerCase()===C.toLowerCase()),E=a.value.some($=>$.name.toLowerCase()===C.toLowerCase());if(k)d(k);else if(E)n.value="",i.value=[],l.value=!1;else{const $={id:`new_${C.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:C};a.value.push($),n.value="",i.value=[],l.value=!1,u()}ut(()=>r.value.focus())},h=C=>{s.disabled||(a.value=a.value.filter(k=>k.id!==C.id),u(),ut(()=>r.value.focus()))},b=()=>{s.disabled||n.value===""&&a.value.length>0&&h(a.value[a.value.length-1])},g=W(()=>i.value.filter(C=>!a.value.some(k=>k.id===C.id))),D=C=>{r.value&&!r.value.$el.contains(C.target)&&(l.value=!1,n.value="")};return st(()=>{document.addEventListener("click",D)}),hs(()=>{document.removeEventListener("click",D)}),(C,k)=>(f(),v("div",lu,[_(Q,{value:e.label,class:"mb-1"},null,8,["value"]),c("div",uu,[(f(!0),v(ue,null,pe(a.value,E=>(f(),v("span",{key:E.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[M(R(E.name)+" ",1),e.disabled?T("",!0):(f(),v("button",{key:0,type:"button",onClick:$=>h(E),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},k[3]||(k[3]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,cu))]))),128)),_(Ve,{ref_key:"inputRef",ref:r,type:"text",placeholder:a.value.length===0?e.placeholder:"",modelValue:n.value,"onUpdate:modelValue":k[0]||(k[0]=E=>n.value=E),onFocus:k[1]||(k[1]=E=>l.value=!0),onKeydown:[es(Js(p,["prevent"]),["enter"]),k[2]||(k[2]=es(E=>l.value=!1,["tab"])),es(b,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:e.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),l.value&&(g.value.length>0||n.value.length>=2||g.value.length===0&&n.value.length<2)&&!e.disabled?(f(),v("div",du,[(f(!0),v(ue,null,pe(g.value,E=>(f(),v("div",{key:E.id,onClick:$=>d(E),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},R(E.name),9,fu))),128)),!i.value.some(E=>E.name.toLowerCase()===n.value.toLowerCase())&&n.value.length>=2?(f(),v("div",{key:0,onClick:p,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+R(n.value)+'" ',1)):T("",!0),g.value.length===0&&n.value.length<2?(f(),v("div",pu," Type at least 2 characters to search for tags. ")):T("",!0),g.value.length===0&&n.value.length>=2&&!i.value.some(E=>E.name.toLowerCase()===n.value.toLowerCase())?(f(),v("div",mu,[k[4]||(k[4]=M(" No matching tags found. Press ",-1)),k[5]||(k[5]=c("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),M(' to add "'+R(n.value)+'" as a new tag. ',1)])):T("",!0)])):T("",!0),_(ee,{message:e.error,class:"mt-2"},null,8,["message"])]))}},ga=xt(hu,[["__scopeId","data-v-4d528a4c"]]),gu={class:"space-y-4"},vu="Add New Milestone",yu="/api/milestones",_u="post",bu="Create Milestone",ku="Milestone created successfully!",wu={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=yt({name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i=yt({completion_date:null}),a=["Not Started","In Progress","Completed","Overdue"];fe(()=>s.show,m=>{m&&(Object.assign(n,{name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i.completion_date=null)},{immediate:!0});const l=()=>(i.completion_date=null,n.completion_date?!0:(i.completion_date=["Completion date is required."],!1)),r=m=>{o("saved",m),o("close")},u=()=>{o("close")};return(m,d)=>(f(),B(Kt,{show:e.show,title:vu,"api-endpoint":yu,"http-method":_u,"form-data":n,"submit-button-text":bu,"success-message":ku,"before-submit":l,onClose:u,onSubmitted:r},{default:I(({errors:p})=>[c("div",gu,[c("div",null,[_(Q,{for:"milestone-name",value:"Milestone Name"}),_(Ve,{id:"milestone-name",modelValue:n.name,"onUpdate:modelValue":d[0]||(d[0]=h=>n.name=h),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),_(ee,{message:p.name?p.name[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"milestone-description",value:"Description"}),ce(c("textarea",{id:"milestone-description","onUpdate:modelValue":d[1]||(d[1]=h=>n.description=h),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[De,n.description]]),_(ee,{message:p.description?p.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"milestone-completion-date",value:"Completion Date"}),_(Ve,{id:"milestone-completion-date",modelValue:n.completion_date,"onUpdate:modelValue":d[2]||(d[2]=h=>n.completion_date=h),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),_(ee,{message:p.completion_date?p.completion_date[0]:i.completion_date?i.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"milestone-status",value:"Status"}),_(Ae,{id:"milestone-status",modelValue:n.status,"onUpdate:modelValue":d[3]||(d[3]=h=>n.status=h),options:a.map(h=>({value:h,label:h})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),_(ee,{message:p.status?p.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},Eu={class:"space-y-4"},Su={key:0},xu={key:0,class:"text-sm text-gray-500"},Tu={key:0,class:"text-sm text-gray-500"},Cu={key:0,class:"text-sm text-gray-500"},Nu={class:"flex items-center gap-2 mt-1"},Iu={key:0,class:"text-sm text-gray-500"},Au=["disabled"],Ou="Create New Task",$u="/api/tasks",Mu="post",Pu="Create Task",Du="Task created successfully!",Ru={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=yt({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),i=["To Do","In Progress","Done","Blocked","Archived"],a=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],l=P([]),r=P([]),u=P([]),m=P([]),d=P(!0),p=P(!1),h=P(!1),b=P(!1),g=P(!1);fe(()=>s.show,async w=>{w&&(Object.assign(n,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),s.projectId?await C(s.projectId):await D())},{immediate:!0}),fe(()=>n.project_id,async w=>{w?await C(w):(r.value=[],u.value=[],m.value=[])});const D=async()=>{d.value=!0;try{const w=await window.axios.get("/api/projects-simplified");l.value=w.data.map(x=>({value:x.id,label:x.name}))}catch(w){console.error("Error fetching projects:",w),l.value=[]}finally{d.value=!1}},C=async w=>{if(w){p.value=!0,h.value=!0,b.value=!0;try{const[x,S,y]=await Promise.all([window.axios.get(`/api/projects/${w}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${w}/milestones`)]);r.value=x.data.map(V=>({value:V.id,label:V.name})),u.value=S.data.map(V=>({value:V.id,label:V.name})),m.value=y.data.map(V=>({value:V.id,label:V.name}))}catch(x){console.error("Error fetching associated task data:",x),r.value=[],u.value=[],m.value=[]}finally{p.value=!1,h.value=!1,b.value=!1}}},k=w=>{o("saved",w),o("close")},E=()=>{o("close")},$=()=>{n.project_id?g.value=!0:alert("Please select a project before adding a milestone.")},O=w=>{if(g.value=!1,w&&w.id&&w.name){const x={value:w.id,label:w.name};m.value.some(S=>S.value===x.value)||m.value.push(x),n.milestone_id=x.value}},j=W(()=>r.value),K=W(()=>u.value),N=W(()=>m.value);return(w,x)=>(f(),v(ue,null,[_(Kt,{show:e.show,title:Ou,"api-endpoint":$u,"http-method":Mu,"form-data":n,"submit-button-text":Pu,"success-message":Du,onClose:E,onSubmitted:k},{default:I(({errors:S})=>[c("div",Eu,[e.projectId?T("",!0):(f(),v("div",Su,[_(Q,{for:"task-project",value:"Project"}),d.value?(f(),v("div",xu,"Loading projects...")):(f(),B(Ae,{key:1,id:"task-project",modelValue:n.project_id,"onUpdate:modelValue":x[0]||(x[0]=y=>n.project_id=y),options:l.value,"value-key":"value","label-key":"label",placeholder:"Select a project",class:"mt-1",required:!0},null,8,["modelValue","options"])),_(ee,{message:S.project_id?S.project_id[0]:"",class:"mt-2"},null,8,["message"])])),c("div",null,[_(Q,{for:"task-name",value:"Task Name"}),_(Ve,{id:"task-name",modelValue:n.name,"onUpdate:modelValue":x[1]||(x[1]=y=>n.name=y),type:"text",class:"mt-1 block w-full",placeholder:"Enter task name",required:""},null,8,["modelValue"]),_(ee,{message:S.name?S.name[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"task-description",value:"Description"}),ce(c("textarea",{id:"task-description","onUpdate:modelValue":x[2]||(x[2]=y=>n.description=y),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[De,n.description]]),_(ee,{message:S.description?S.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"task-status",value:"Status"}),_(Ae,{id:"task-status",modelValue:n.status,"onUpdate:modelValue":x[3]||(x[3]=y=>n.status=y),options:i.map(y=>({value:y,label:y})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),_(ee,{message:S.status?S.status[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"task-priority",value:"Priority"}),_(Ae,{id:"task-priority",modelValue:n.priority,"onUpdate:modelValue":x[4]||(x[4]=y=>n.priority=y),options:a,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1"},null,8,["modelValue"]),_(ee,{message:S.priority?S.priority[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"task-due-date",value:"Due Date"}),_(Ve,{id:"task-due-date",modelValue:n.due_date,"onUpdate:modelValue":x[5]||(x[5]=y=>n.due_date=y),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),_(ee,{message:S.due_date?S.due_date[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"task-assigned-to",value:"Assigned To"}),p.value?(f(),v("div",Tu,"Loading users...")):(f(),B(Ae,{key:1,id:"task-assigned-to",modelValue:n.assigned_to_user_id,"onUpdate:modelValue":x[6]||(x[6]=y=>n.assigned_to_user_id=y),options:j.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),_(ee,{message:S.assigned_to_user_id?S.assigned_to_user_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"task-type",value:"Task Type"}),h.value?(f(),v("div",Cu,"Loading task types...")):(f(),B(Ae,{key:1,id:"task-type",modelValue:n.task_type_id,"onUpdate:modelValue":x[7]||(x[7]=y=>n.task_type_id=y),options:K.value,"value-key":"value","label-key":"label",placeholder:"Select a task type",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),_(ee,{message:S.task_type_id?S.task_type_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"task-milestone",value:"Milestone"}),c("div",Nu,[b.value?(f(),v("div",Iu,"Loading milestones...")):(f(),B(Ae,{key:1,id:"task-milestone",modelValue:n.milestone_id,"onUpdate:modelValue":x[8]||(x[8]=y=>n.milestone_id=y),options:N.value,"value-key":"value","label-key":"label",placeholder:"No milestone",class:"flex-grow","allow-empty":!0,disabled:!n.project_id},null,8,["modelValue","options","disabled"])),c("button",{type:"button",onClick:$,disabled:!n.project_id||b.value,class:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add New Milestone"},x[11]||(x[11]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,Au)]),_(ee,{message:S.milestone_id?S.milestone_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(ga,{modelValue:n.tags,"onUpdate:modelValue":x[9]||(x[9]=y=>n.tags=y),initialTags:n.tags_data,label:"Tags",placeholder:"Search or add tags",error:S.tags?S.tags[0]:"",disabled:!n.project_id},null,8,["modelValue","initialTags","error","disabled"])])])]),_:1},8,["show","form-data"]),_(wu,{show:g.value,"project-id":n.project_id,onClose:x[10]||(x[10]=S=>g.value=!1),onSaved:O},null,8,["show","project-id"])],64))}},Lu={class:"space-y-4"},Vu={class:"flex items-center mt-4"},ju={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(e,{emit:t}){const s=e,o=t,n=yt({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,tags:[]}),i=W(()=>[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}]),a=u=>u,l=u=>{o("resourceCreated",u),r()},r=()=>{n.title="",n.description="",n.url="",n.type="website",n.thumbnail_url="",n.visible_to_client=!0,n.tags=[],o("close")};return(u,m)=>(f(),B(Kt,{show:s.show,title:"Add New Shareable Resource",apiEndpoint:s.apiEndpoint,httpMethod:"post",formData:n,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",formatDataForApi:a,onSubmitted:l,onClose:r},{default:I(({errors:d})=>[c("div",Lu,[c("div",null,[_(Q,{for:"title",value:"Title",class:"mb-1"}),_(Ve,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.title,"onUpdate:modelValue":m[0]||(m[0]=p=>n.title=p),required:""},null,8,["modelValue"]),_(ee,{message:d.title?d.title[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"url",value:"Resource URL",class:"mb-1"}),_(Ve,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.url,"onUpdate:modelValue":m[1]||(m[1]=p=>n.url=p),required:""},null,8,["modelValue"]),_(ee,{message:d.url?d.url[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"type",value:"Resource Type",class:"mb-1"}),_(Ae,{id:"type",modelValue:n.type,"onUpdate:modelValue":m[2]||(m[2]=p=>n.type=p),options:i.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),_(ee,{message:d.type?d.type[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),_(Ve,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.thumbnail_url,"onUpdate:modelValue":m[3]||(m[3]=p=>n.thumbnail_url=p)},null,8,["modelValue"]),_(ee,{message:d.thumbnail_url?d.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(Q,{for:"description",value:"Description (Optional)",class:"mb-1"}),ce(c("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":m[4]||(m[4]=p=>n.description=p),rows:"3"},null,512),[[De,n.description]]),_(ee,{message:d.description?d.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[_(ga,{modelValue:n.tags,"onUpdate:modelValue":m[5]||(m[5]=p=>n.tags=p),label:"Associated Tags",placeholder:"Search or add tags",error:d.tags?d.tags[0]:""},null,8,["modelValue","error"])]),c("div",Vu,[_(Ha,{id:"visible_to_client",checked:n.visible_to_client,"onUpdate:checked":m[6]||(m[6]=p=>n.visible_to_client=p)},null,8,["checked"]),_(Q,{for:"visible_to_client",value:"Visible to Client",class:"ml-2"}),_(ee,{message:d.visible_to_client?d.visible_to_client[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},Bu=xt(ju,[["__scopeId","data-v-3e3a6a9f"]]),Uu={key:0,class:"sidebar-wrapper"},Fu={class:"fixed inset-0 z-[100] flex pointer-events-none"},Xu={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},Hu={class:"text-xl font-semibold text-gray-900"},qu={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},zu={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},Wu={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(e,{emit:t}){const s=e,o=t,n=P(s.initialWidth),i=P(!1),a=d=>{i.value=!0,document.addEventListener("pointermove",l),document.addEventListener("pointerup",r)},l=d=>{if(!i.value)return;const p=window.innerWidth,b=(p-d.clientX)/p*100,g=Math.max(s.minWidth,Math.min(s.maxWidth,b));n.value=g},r=()=>{i.value=!1,document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",r)};fe(()=>s.show,d=>{d?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const u=()=>{o("update:show",!1),o("close")},m=W(()=>window.innerWidth<768);return fe(m,d=>{d&&s.show?n.value=100:!d&&s.show&&(n.value=s.initialWidth)},{immediate:!0}),fe(()=>s.show,d=>{d&&(m.value?n.value=100:n.value=s.initialWidth)}),(d,p)=>(f(),B(Va,{to:"body"},[_(fo,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:I(()=>[e.show?(f(),v("div",Uu,[c("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity z-[99]",onClick:u}),c("div",Fu,[c("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl pointer-events-auto",style:La({width:m.value?"100%":`${n.value}vw`})},[m.value?T("",!0):(f(),v("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:a,title:"Drag to resize"},null,32)),c("div",Xu,[c("h3",Hu,R(e.title),1),c("button",{onClick:u,class:"text-gray-400 hover:text-gray-600 transition-colors"},p[0]||(p[0]=[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",qu,[je(d.$slots,"content",{},void 0,!0)]),d.$slots.footer?(f(),v("div",zu,[je(d.$slots,"footer",{},void 0,!0)])):T("",!0)],4)])])):T("",!0)]),_:3})]))}},va=xt(Wu,[["__scopeId","data-v-2d864577"]]),Gu={class:"flex border-b border-gray-200"},Ku={key:0,class:"ml-2 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full"},Ju={class:"p-4 space-y-2 overflow-y-auto"},Yu={key:0,class:"p-6 text-center text-gray-500"},Qu={key:0},Zu={key:1},ec=["onClick"],tc={class:"flex-1 min-w-0"},sc={class:"flex items-start justify-between gap-2 mb-1"},nc={class:"flex-1 min-w-0"},oc={key:0,class:"text-base font-semibold text-gray-900 truncate"},ac={key:1,class:"text-xs text-gray-500"},ic={key:0,class:"text-sm text-gray-600 mt-1 mb-2"},rc={class:"flex items-center text-xs text-gray-500 font-medium"},lc={key:0},uc={key:1,class:"mx-2"},cc={key:2},dc={__name:"NotificationsSidebar",setup(e){const t=W(()=>Dt.value.notifications),s=P("New"),o=W(()=>s.value==="New"?t.value.filter(l=>!l.isRead):t.value),n=async l=>{await io(l.view_id);const r=l.task_id||i(l.url),u=l.project_id||a(l.url);r&&u?(ro(r,u),$n()):(console.warn("Could not open task sidebar. Falling back to opening URL in new tab."),l.url&&window.open(l.url,"_blank"))},i=l=>{const r=l.match(/\/task\/(\d+)/);return r?parseInt(r[1]):null},a=l=>{const r=l.match(/\/project\/(\d+)\//);return r?parseInt(r[1]):null};return(l,r)=>(f(),B(va,{show:L(Dt).show,"onUpdate:show":L($n),title:"Notifications","initial-width":35,class:"z-[100]"},{content:I(()=>[c("div",Gu,[c("button",{onClick:r[0]||(r[0]=u=>s.value="New"),class:z([{"border-blue-600 text-blue-600 font-semibold":s.value==="New","border-transparent text-gray-500 hover:text-gray-700":s.value!=="New"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])},[r[2]||(r[2]=M(" New ",-1)),t.value.filter(u=>!u.isRead).length>0?(f(),v("span",Ku,R(t.value.filter(u=>!u.isRead).length),1)):T("",!0)],2),c("button",{onClick:r[1]||(r[1]=u=>s.value="All"),class:z([{"border-blue-600 text-blue-600 font-semibold":s.value==="All","border-transparent text-gray-500 hover:text-gray-700":s.value!=="All"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])}," All ",2)]),c("div",Ju,[o.value.length===0?(f(),v("div",Yu,[s.value==="New"?(f(),v("span",Qu,"You have no new notifications.")):(f(),v("span",Zu,"You have no notifications."))])):T("",!0),(f(!0),v(ue,null,pe(o.value,u=>(f(),v("div",{key:u.id,class:z(["bg-white rounded-xl shadow-sm p-4 flex items-start space-x-4 border border-gray-200 transition-all duration-200 hover:shadow-md cursor-pointer",{"bg-gray-50":u.isRead}]),onClick:m=>n(u)},[c("div",tc,[c("div",sc,[c("div",nc,[u.title?(f(),v("h3",oc,R(u.title),1)):T("",!0),u.project_name?(f(),v("p",ac,R(u.project_name),1)):T("",!0)])]),u.message?(f(),v("p",ic,R(u.message),1)):T("",!0),c("div",rc,[u.due_date?(f(),v("span",lc,"Due: "+R(L(ao)(u.due_date)),1)):T("",!0),u.due_date&&u.priority?(f(),v("span",uc,"")):T("",!0),u.priority?(f(),v("span",cc,"Priority: "+R(u.priority),1)):T("",!0)])])],10,ec))),128))])]),_:1},8,["show","onUpdate:show"]))}},fc={class:"space-y-4"},pc={key:0,class:"text-red-600 text-xs mt-1"},mc={key:0,class:"text-red-600 text-xs mt-1"},hc={key:0,class:"text-red-600 text-xs mt-1"},gc={__name:"KudoModal",props:{show:{type:Boolean,default:!1}},emits:["close","submitted"],setup(e,{emit:t}){const s=t,o=P([]),n=P([]),i=yt({recipient_id:"",project_id:"",comment:""}),a=P({}),l=async()=>{try{const{data:d}=await window.axios.get("/api/projects-simplified");o.value=(d||[]).map(p=>({value:p.id,label:p.name}))}catch{o.value=[]}},r=async d=>{if(n.value=[],!!d)try{const{data:p}=await window.axios.get(`/api/projects/${d}/users`);n.value=(p||[]).map(h=>({value:h.id,label:`${h.name} (${h.email})`}))}catch{n.value=[]}};fe(()=>i.project_id,d=>{d&&r(d)}),st(()=>{l()});const u=()=>{i.recipient_id="",i.project_id="",i.comment="",a.value={}},m=d=>{u(),s("submitted",d)};return(d,p)=>(f(),B(Kt,{show:e.show,title:"Give a Kudo ","api-endpoint":"/api/kudos","http-method":"post","form-data":i,"submit-button-text":"Submit Kudo","success-message":"Kudo submitted! Pending approval.",onClose:p[3]||(p[3]=h=>d.$emit("close")),onSubmitted:m},{default:I(({errors:h})=>[c("div",fc,[c("div",null,[p[4]||(p[4]=c("label",{class:"block text-sm font-medium text-gray-700"},"Project",-1)),_(Ae,{options:o.value,modelValue:i.project_id,"onUpdate:modelValue":p[0]||(p[0]=b=>i.project_id=b),placeholder:"Select a project..."},null,8,["options","modelValue"]),h.project_id?(f(),v("p",pc,R(h.project_id[0]),1)):T("",!0)]),c("div",null,[p[5]||(p[5]=c("label",{class:"block text-sm font-medium text-gray-700"},"Recipient",-1)),_(Ae,{options:n.value,modelValue:i.recipient_id,"onUpdate:modelValue":p[1]||(p[1]=b=>i.recipient_id=b),placeholder:"Select a teammate..."},null,8,["options","modelValue"]),h.recipient_id?(f(),v("p",mc,R(h.recipient_id[0]),1)):T("",!0)]),c("div",null,[p[6]||(p[6]=c("label",{class:"block text-sm font-medium text-gray-700"},"Comment",-1)),ce(c("textarea",{"onUpdate:modelValue":p[2]||(p[2]=b=>i.comment=b),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., Thank you for helping with the last-minute changes!"},null,512),[[De,i.comment]]),h.comment?(f(),v("p",hc,R(h.comment[0]),1)):T("",!0)])])]),_:1},8,["show","form-data"]))}},vc={class:"flex items-center p-4 h-16 border-b border-gray-700"},yc={key:0,class:"text-xl font-semibold flex-1 truncate"},_c=["title"],bc={key:0,class:"p-4 border-b border-gray-700"},kc={class:"relative"},wc={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},Ec={key:0,class:"mb-4"},Sc={class:"ml-2 mt-2 space-y-1"},xc=["onClick"],Tc={class:"text-sm font-medium text-gray-300 truncate"},Cc={class:"ml-4 mt-1 space-y-1"},Nc={class:"truncate"},Ic={key:1,class:"mb-4"},Ac={class:"ml-2 mt-2 space-y-1"},Oc=["onClick"],$c={class:"text-sm font-medium text-gray-300 truncate"},Mc={class:"ml-4 mt-1 space-y-1"},Pc={class:"truncate"},Dc={key:2,class:"mb-4"},Rc={class:"ml-2 mt-2 space-y-1"},Lc={class:"truncate"},Vc={key:3,class:"mb-4"},jc={class:"ml-2 mt-2 space-y-1"},Bc={class:"truncate"},Uc={key:4,class:"text-gray-400 text-sm text-center py-4"},Fc={key:5,class:"text-gray-400 text-sm text-center py-4"},Xc={key:2,class:"flex flex-col items-center pt-4 space-y-4"},Hc={key:0,class:"text-gray-400 text-xs text-center px-2"},qc={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(e,{emit:t}){const s=e,o=t,n=P(localStorage.getItem("leftSidebarCollapsed")!=="false"),i=P(""),a=P({}),l=W(()=>{const k=new Set;return s.allProjects.forEach(E=>{E.project_type&&k.add(E.project_type)}),Array.from(k).sort()}),r=W(()=>{const k=new Set;return s.allProjects.forEach(E=>{Array.isArray(E.tags)&&E.tags.forEach($=>k.add($))}),Array.from(k).sort()}),u=W(()=>{if(!i.value)return s.allProjects;const k=i.value.toLowerCase();return s.allProjects.filter(E=>{var $,O,j;return E.name.toLowerCase().includes(k)||(($=E.description)==null?void 0:$.toLowerCase().includes(k))||((O=E.project_type)==null?void 0:O.toLowerCase().includes(k))||Array.isArray(E.tags)&&E.tags.some(K=>K.toLowerCase().includes(k))||((j=E.status)==null?void 0:j.toLowerCase().includes(k))})}),m=W(()=>{const k={};u.value.forEach(E=>{E.project_type&&E.status==="active"&&(k[E.project_type]||(k[E.project_type]=[]),k[E.project_type].push(E))});for(const E in k)k[E].sort(($,O)=>$.name.localeCompare(O.name));return k}),d=W(()=>{const k={};u.value.forEach(E=>{Array.isArray(E.tags)&&E.tags.length>0&&E.tags.forEach($=>{k[$]||(k[$]=[]),k[$].push(E)})});for(const E in k)k[E]=[...new Set(k[E])].sort(($,O)=>$.name.localeCompare(O.name));return k}),p=W(()=>u.value.filter(k=>k.status!=="active").sort((k,E)=>k.name.localeCompare(E.name))),h=W(()=>u.value.filter(k=>!k.project_type&&(!Array.isArray(k.tags)||k.tags.length===0)).sort((k,E)=>k.name.localeCompare(E.name)));fe(()=>s.allProjects,()=>{l.value.forEach(k=>{const E=`type-${k}`;a.value[E]===void 0&&(a.value[E]=!0)}),r.value.forEach(k=>{const E=`tag-${k}`;a.value[E]===void 0&&(a.value[E]=!0)}),a.value["main-types"]===void 0&&(a.value["main-types"]=!1),a.value["main-tags"]===void 0&&(a.value["main-tags"]=!1),a.value["inactive-projects"]===void 0&&(a.value["inactive-projects"]=!1),a.value.uncategorized===void 0&&(a.value.uncategorized=!1)},{immediate:!0}),fe(n,k=>{localStorage.setItem("leftSidebarCollapsed",k)});const b=()=>{n.value=!n.value},g=k=>{a.value[k]=!a.value[k]},D=k=>{o("project-selected",k)},C=()=>{i.value=""};return(k,E)=>(f(),v("div",{class:z({"w-64":!n.value,"w-16":n.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[c("div",vc,[n.value?T("",!0):(f(),v("h2",yc,"Projects")),c("button",{onClick:b,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:n.value?"Expand Sidebar":"Collapse Sidebar"},[(f(),v("svg",{class:z(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":n.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},E[5]||(E[5]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,_c)]),n.value?T("",!0):(f(),v("div",bc,[c("div",kc,[ce(c("input",{type:"text","onUpdate:modelValue":E[0]||(E[0]=$=>i.value=$),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[De,i.value]]),i.value?(f(),v("button",{key:0,onClick:C,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},E[6]||(E[6]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):T("",!0)])])),n.value?(f(),v("div",Xc,[(f(!0),v(ue,null,pe(s.allProjects,$=>(f(),B(L(Xe),{key:$.id,href:k.route("projects.show",$.id),onClick:O=>D($.id),class:z({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":$.id===e.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":$.id!==e.activeProjectId}),title:$.name},{default:I(()=>[M(R($.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),e.allProjects.length===0?(f(),v("div",Hc," No Projects ")):T("",!0)])):(f(),v("div",wc,[Object.keys(m.value).length>0?(f(),v("div",Ec,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:E[1]||(E[1]=$=>g("main-types"))},[E[8]||(E[8]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(f(),v("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E[7]||(E[7]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(c("div",Sc,[(f(!0),v(ue,null,pe(m.value,($,O)=>(f(),v("div",{key:O},[c("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:j=>g(`type-${O}`)},[c("h4",Tc,R(O),1),(f(),v("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`type-${O}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E[9]||(E[9]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,xc),ce(c("ul",Cc,[(f(!0),v(ue,null,pe($,j=>(f(),v("li",{key:j.id},[_(L(Xe),{href:k.route("projects.show",j.id),onClick:K=>D(j.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":j.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":j.id!==e.activeProjectId,"font-bold":j.id===e.activeProjectId})},{default:I(()=>[c("span",Nc,R(j.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Je,!a.value[`type-${O}`]]])]))),128))],512),[[Je,!a.value["main-types"]]])])):T("",!0),Object.keys(d.value).length>0?(f(),v("div",Ic,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:E[2]||(E[2]=$=>g("main-tags"))},[E[11]||(E[11]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(f(),v("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E[10]||(E[10]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(c("div",Ac,[(f(!0),v(ue,null,pe(d.value,($,O)=>(f(),v("div",{key:O},[c("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:j=>g(`tag-${O}`)},[c("h4",$c,R(O),1),(f(),v("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`tag-${O}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E[12]||(E[12]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Oc),ce(c("ul",Mc,[(f(!0),v(ue,null,pe($,j=>(f(),v("li",{key:j.id},[_(L(Xe),{href:k.route("projects.show",j.id),onClick:K=>D(j.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":j.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":j.id!==e.activeProjectId,"font-bold":j.id===e.activeProjectId})},{default:I(()=>[c("span",Pc,R(j.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Je,!a.value[`tag-${O}`]]])]))),128))],512),[[Je,!a.value["main-tags"]]])])):T("",!0),p.value.length>0?(f(),v("div",Dc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:E[3]||(E[3]=$=>g("inactive-projects"))},[E[14]||(E[14]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(f(),v("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E[13]||(E[13]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(c("ul",Rc,[(f(!0),v(ue,null,pe(p.value,$=>(f(),v("li",{key:$.id},[_(L(Xe),{href:k.route("projects.show",$.id),onClick:O=>D($.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":$.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":$.id!==e.activeProjectId,"font-bold":$.id===e.activeProjectId})},{default:I(()=>[c("span",Lc,R($.name)+" ("+R($.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Je,!a.value["inactive-projects"]]])])):T("",!0),h.value.length>0?(f(),v("div",Vc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:E[4]||(E[4]=$=>g("uncategorized"))},[E[16]||(E[16]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(f(),v("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E[15]||(E[15]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(c("ul",jc,[(f(!0),v(ue,null,pe(h.value,$=>(f(),v("li",{key:$.id},[_(L(Xe),{href:k.route("projects.show",$.id),onClick:O=>D($.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":$.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":$.id!==e.activeProjectId,"font-bold":$.id===e.activeProjectId})},{default:I(()=>[c("span",Bc,R($.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Je,!a.value.uncategorized]])])):T("",!0),u.value.length===0?(f(),v("div",Uc," No projects found matching your search. ")):e.allProjects.length===0&&!i.value?(f(),v("div",Fc," No projects available. ")):T("",!0)]))],2))}},zc=xt(qc,[["__scopeId","data-v-417d431f"]]),Wc={class:"relative"},ya={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(e){const t=e,s=l=>{a.value&&l.key==="Escape"&&(a.value=!1)};st(()=>document.addEventListener("keydown",s)),hs(()=>document.removeEventListener("keydown",s));const o=W(()=>{const l={48:"w-48",64:"w-64",72:"w-72",80:"w-80",96:"w-96",full:"w-full",screen:"w-screen",auto:""},r=t.width.toString();return l[r]??l[48]}),n=W(()=>t.width.toString()==="screen"),i=W(()=>t.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":t.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),a=P(!1);return(l,r)=>(f(),v("div",Wc,[c("div",{onClick:r[0]||(r[0]=u=>a.value=!a.value)},[je(l.$slots,"trigger")]),ce(c("div",{class:"fixed inset-0 z-40",onClick:r[1]||(r[1]=u=>a.value=!1)},null,512),[[Je,a.value]]),_(fo,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:I(()=>[ce(c("div",{class:z(["z-50 mt-2 rounded-md shadow-lg",n.value?"fixed left-0 right-0":"absolute",i.value,o.value]),style:{display:"none"},onClick:r[2]||(r[2]=u=>a.value=!1)},[c("div",{class:z(["rounded-md ring-1 ring-black ring-opacity-5",e.contentClasses])},[je(l.$slots,"content")],2)],2),[[Je,a.value]])]),_:3})]))}},_e={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){return(t,s)=>(f(),B(L(Xe),po({href:e.href,method:e.method,as:e.as},t.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:I(()=>[je(t.$slots,"default")]),_:3},16,["href","method","as"]))}},gt={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(e){const t=e,s=W(()=>t.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(f(),B(L(Xe),{href:e.href,class:z(s.value)},{default:I(()=>[je(o.$slots,"default")]),_:3},8,["href","class"]))}};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gc=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),Kc=e=>{const t=Gc(e);return t.charAt(0).toUpperCase()+t.slice(1)},Jc=(...e)=>e.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim(),so=e=>e==="";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=({name:e,iconNode:t,absoluteStrokeWidth:s,"absolute-stroke-width":o,strokeWidth:n,"stroke-width":i,size:a=$t.width,color:l=$t.stroke,...r},{slots:u})=>Us("svg",{...$t,...r,width:a,height:a,stroke:l,"stroke-width":so(s)||so(o)||s===!0||o===!0?Number(n||i||$t["stroke-width"])*24/Number(a):n||i||$t["stroke-width"],class:Jc("lucide",r.class,...e?[`lucide-${to(Kc(e))}-icon`,`lucide-${to(e)}`]:["lucide-icon"])},[...t.map(m=>Us(...m)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=(e,t)=>(s,{slots:o,attrs:n})=>Us(Yc,{...n,...s,iconNode:t,name:e},o);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=_a("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=_a("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ed={class:"hidden sm:flex sm:items-center"},td={class:"mx-auto w-full max-w-6xl"},sd={class:"grid grid-cols-2 md:grid-cols-4 gap-8"},nd={class:"space-y-1"},od={class:"space-y-1"},ad={class:"space-y-1"},id={class:"space-y-1"},rd={__name:"AdminDropdown",setup(e){const{canDo:t}=Ys(),s=t("manage_projects"),o=t("create_users"),n=t("manage_roles"),i=t("manage_task_types"),a=t("create_clients"),l=t("manage_project_tiers")||t("view_project_tiers");return(r,u)=>(f(),v("div",ed,[_(ya,{align:"left",width:"screen","content-classes":"py-6 bg-white p-6 w-full shadow-lg"},{trigger:I(()=>u[0]||(u[0]=[c("span",{class:"inline-flex rounded-md"},[c("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 hover:text-gray-900 focus:outline-none"},[M(" Admin "),c("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:I(()=>[c("div",td,[c("div",sd,[c("div",null,[u[4]||(u[4]=c("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Management",-1)),c("div",nd,[L(s)?(f(),B(_e,{key:0,href:r.route("projects.index"),active:r.route().current("projects.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[1]||(u[1]=[M("Projects",-1)])),_:1,__:[1]},8,["href","active"])):T("",!0),L(a)?(f(),B(_e,{key:1,href:r.route("clients.page"),active:r.route().current("clients.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[2]||(u[2]=[M("Clients",-1)])),_:1,__:[2]},8,["href","active"])):T("",!0),L(o)?(f(),B(_e,{key:2,href:r.route("users.page"),active:r.route().current("users.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[3]||(u[3]=[M("Users",-1)])),_:1,__:[3]},8,["href","active"])):T("",!0)])]),c("div",null,[u[8]||(u[8]=c("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Planning / Sharing",-1)),c("div",od,[L(o)?(f(),B(_e,{key:0,href:r.route("availability.index"),active:r.route().current("availability.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[5]||(u[5]=[M("Weekly Availability",-1)])),_:1,__:[5]},8,["href","active"])):T("",!0),L(t)("manage_notices")?(f(),B(_e,{key:1,href:r.route("admin.notice-board.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[6]||(u[6]=[M("Notice Board",-1)])),_:1,__:[6]},8,["href"])):T("",!0),L(t)("manage_notices")?(f(),B(_e,{key:2,href:r.route("shareable-resources.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[7]||(u[7]=[M("Shareable Resources",-1)])),_:1,__:[7]},8,["href"])):T("",!0)])]),c("div",null,[u[13]||(u[13]=c("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Configuration",-1)),c("div",ad,[L(i)?(f(),B(_e,{key:0,href:r.route("task-types.page"),active:r.route().current("task-types.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[9]||(u[9]=[M("Task Types",-1)])),_:1,__:[9]},8,["href","active"])):T("",!0),L(l)||L(t)("create_project_tiers")||L(t)("edit_project_tiers")?(f(),B(_e,{key:1,href:"/admin/project-tiers",class:"!px-2 !py-1.5"},{default:I(()=>u[10]||(u[10]=[M("Project Tiers",-1)])),_:1,__:[10]})):T("",!0),L(t)("manage_email_templates")?(f(),B(_e,{key:2,href:r.route("email-templates.page"),active:r.route().current("email-templates.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[11]||(u[11]=[M("Email Templates",-1)])),_:1,__:[11]},8,["href","active"])):T("",!0),L(t)("manage_placeholder_definitions")?(f(),B(_e,{key:3,href:r.route("placeholder-definitions.page"),active:r.route().current("placeholder-definitions.page"),class:"!px-2 !py-1.5"},{default:I(()=>u[12]||(u[12]=[M("Placeholder Definitions",-1)])),_:1,__:[12]},8,["href","active"])):T("",!0)])]),c("div",null,[u[18]||(u[18]=c("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Access & Finance",-1)),c("div",id,[L(n)?(f(),B(_e,{key:0,href:r.route("admin.roles.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[14]||(u[14]=[M("Manage Roles",-1)])),_:1,__:[14]},8,["href"])):T("",!0),L(t)("manage_permissions")?(f(),B(_e,{key:1,href:r.route("admin.permissions.index"),class:"!px-2 !py-1.5"},{default:I(()=>u[15]||(u[15]=[M("Manage Permissions",-1)])),_:1,__:[15]},8,["href"])):T("",!0),L(t)("manage_monthly_budgets")?(f(),B(_e,{key:2,href:"/admin/monthly-budgets",class:"!px-2 !py-1.5"},{default:I(()=>u[16]||(u[16]=[M("Monthly Budgets",-1)])),_:1,__:[16]})):T("",!0),L(t)("view_monthly_budgets")?(f(),B(_e,{key:3,href:"/admin/bonus-calculator",class:"!px-2 !py-1.5"},{default:I(()=>u[17]||(u[17]=[M("Bonus Calculator",-1)])),_:1,__:[17]})):T("",!0)])])])])]),_:1})]))}},ld={class:"relative ms-3"},ud={class:"inline-flex rounded-md"},cd={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},dd={__name:"UserDropdown",emits:["logoutSuccess","logoutError"],setup(e,{emit:t}){const s=W(()=>Xt().props.auth.user),o=t,n=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,o("logoutSuccess")},i=a=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",o("logoutError",a)};return(a,l)=>(f(),v("div",ld,[_(ya,{align:"right",width:"48"},{trigger:I(()=>{var r;return[c("span",ud,[c("button",cd,[M(R(s.value.name)+" ("+R((r=s.value.role_data)==null?void 0:r.name)+") ",1),l[0]||(l[0]=c("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:I(()=>[_(_e,{href:a.route("profile.edit")},{default:I(()=>l[1]||(l[1]=[M(" Profile ",-1)])),_:1,__:[1]},8,["href"]),_(_e,{href:a.route("logout"),method:"post",as:"button",onSuccess:n,onError:i},{default:I(()=>l[2]||(l[2]=[M(" Log Out ",-1)])),_:1,__:[2]},8,["href"])]),_:1})]))}},fd={class:"border-b border-gray-100 bg-white z-10 relative w-full"},pd={class:"w-full px-4 sm:px-6 lg:px-8"},md={class:"flex h-16 justify-between"},hd={class:"flex flex-1 min-w-0"},gd={class:"flex shrink-0 items-center"},vd={class:"hidden sm:-my-px sm:ms-10 sm:flex sm:flex-wrap sm:gap-4 overflow-x-auto no-scrollbar"},yd={class:"hidden sm:ms-6 sm:flex sm:items-center"},_d={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},bd={class:"-me-2 flex items-center sm:hidden"},kd={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},wd={__name:"TopNavigation",props:{unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","open-kudo-modal"],setup(e,{emit:t}){const s=t,o=P(!1);W(()=>Xt().props.auth.user);const{canDo:n}=Ys(),i=n("manage_roles");return(a,l)=>(f(),v("nav",fd,[c("div",pd,[c("div",md,[c("div",hd,[c("div",gd,[_(L(Xe),{href:a.route("dashboard")},{default:I(()=>[_(qa,{class:"block h-16 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),c("div",vd,[_(gt,{href:a.route("dashboard"),active:a.route().current("dashboard")},{default:I(()=>l[5]||(l[5]=[M(" Dashboard ",-1)])),_:1,__:[5]},8,["href","active"]),_(gt,{href:a.route("inbox"),active:a.route().current("inbox")},{default:I(()=>l[6]||(l[6]=[M(" Inbox ",-1)])),_:1,__:[6]},8,["href","active"]),_(gt,{href:a.route("bonus-system.index"),active:a.route().current("bonus-system.index")},{default:I(()=>l[7]||(l[7]=[M(" Bonus System ",-1)])),_:1,__:[7]},8,["href","active"]),_(gt,{href:a.route("leaderboard.index"),active:a.route().current("leaderboard.index")},{default:I(()=>l[8]||(l[8]=[M(" Leaderboard ",-1)])),_:1,__:[8]},8,["href","active"]),_(gt,{href:a.route("kudos.index"),active:a.route().current("kudos.index")},{default:I(()=>l[9]||(l[9]=[M(" Kudos ",-1)])),_:1,__:[9]},8,["href","active"]),L(n)("add_expendables").value?(f(),B(gt,{key:0,href:a.route("project-expendables.index"),class:"!px-2 !py-1.5"},{default:I(()=>l[10]||(l[10]=[M("Project Expendables",-1)])),_:1,__:[10]},8,["href"])):T("",!0),L(i)?(f(),B(rd,{key:1})):T("",!0)])]),c("div",yd,[_(be,{type:"button",onClick:l[0]||(l[0]=r=>s("openCreateTaskModal")),class:"mr-2 px-4 py-2 text-sm"},{default:I(()=>l[11]||(l[11]=[M(" Add Task ",-1)])),_:1,__:[11]}),_(be,{type:"button",onClick:l[1]||(l[1]=r=>s("openAddResource")),class:"mr-2 px-4 py-2 text-sm"},{default:I(()=>l[12]||(l[12]=[M(" Add Resource ",-1)])),_:1,__:[12]}),L(n)("create_kudos")?(f(),B(be,{key:0,type:"button",onClick:l[2]||(l[2]=r=>a.$emit("open-kudo-modal")),class:"mr-2 px-4 py-2 text-sm bg-orange-500 hover:bg-orange-600"},{default:I(()=>l[13]||(l[13]=[M("  Give Kudo ",-1)])),_:1,__:[13]})):T("",!0),c("button",{onClick:l[3]||(l[3]=r=>s("openNotificationsSidebar")),class:"relative flex-shrink-0 text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors duration-200 mr-4","aria-label":"View all notifications"},[_(L(Qc),{class:"h-6 w-6"}),e.unreadNotificationCount>0?(f(),v("span",_d,R(e.unreadNotificationCount),1)):T("",!0)]),_(dd)]),c("div",bd,[c("button",{onClick:l[4]||(l[4]=r=>o.value=!o.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(f(),v("svg",kd,[c("path",{class:z({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),c("path",{class:z({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])])]))}},le={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){const t=e,s=W(()=>t.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(f(),B(L(Xe),po({href:e.href,method:e.method,as:e.as},o.$attrs,{class:s.value}),{default:I(()=>[je(o.$slots,"default")]),_:3},16,["href","method","as","class"]))}},Ed={class:"space-y-1 pb-3 pt-2"},Sd={key:0,class:"mt-3 space-y-1"},xd={class:"border-t border-gray-200 pb-1 pt-4"},Td={class:"px-4"},Cd={class:"text-base font-medium text-gray-800"},Nd={class:"text-sm font-medium text-gray-500"},Id={class:"text-sm font-medium text-gray-500 capitalize"},Ad={class:"mt-3 space-y-1"},Od={__name:"MobileNavigation",props:{showingNavigationDropdown:{type:Boolean,required:!0},unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","logoutSuccess","logoutError"],setup(e,{emit:t}){const s=t,o=W(()=>Xt().props.auth.user),{canDo:n}=Ys(),i=n("manage_projects"),a=n("compose_emails"),l=n("approve_emails"),r=n("create_users"),u=n("manage_roles"),m=n("manage_task_types"),d=n("create_clients"),p=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,s("logoutSuccess")},h=b=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",s("logoutError",b)};return(b,g)=>{var D;return f(),v("div",{class:z([{block:e.showingNavigationDropdown,hidden:!e.showingNavigationDropdown},"sm:hidden"])},[c("div",Ed,[L(u)?(f(),v("div",Sd,[g[18]||(g[18]=c("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),_(le,{href:b.route("dashboard"),active:b.route().current("dashboard")},{default:I(()=>g[3]||(g[3]=[M(" Dashboard ",-1)])),_:1,__:[3]},8,["href","active"]),L(n)("view_emails")?(f(),B(le,{key:0,href:b.route("inbox"),active:b.route().current("inbox")},{default:I(()=>g[4]||(g[4]=[M(" Inbox ",-1)])),_:1,__:[4]},8,["href","active"])):T("",!0),L(d)?(f(),B(le,{key:1,href:b.route("clients.page"),active:b.route().current("clients.page")},{default:I(()=>g[5]||(g[5]=[M(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):T("",!0),L(i)?(f(),B(le,{key:2,href:b.route("projects.index"),active:b.route().current("projects.index")},{default:I(()=>g[6]||(g[6]=[M(" Projects ",-1)])),_:1,__:[6]},8,["href","active"])):T("",!0),L(r)?(f(),B(le,{key:3,href:b.route("users.page"),active:b.route().current("users.page")},{default:I(()=>g[7]||(g[7]=[M(" Users ",-1)])),_:1,__:[7]},8,["href","active"])):T("",!0),L(a)?(f(),B(le,{key:4,href:b.route("emails.compose"),active:b.route().current("emails.compose")},{default:I(()=>g[8]||(g[8]=[M(" Compose Email ",-1)])),_:1,__:[8]},8,["href","active"])):T("",!0),L(l)?(f(),B(le,{key:5,href:b.route("emails.pending"),active:b.route().current("emails.pending")},{default:I(()=>g[9]||(g[9]=[M(" Approve Emails ",-1)])),_:1,__:[9]},8,["href","active"])):T("",!0),L(a)?(f(),B(le,{key:6,href:b.route("emails.rejected"),active:b.route().current("emails.rejected")},{default:I(()=>g[10]||(g[10]=[M(" Rejected Emails ",-1)])),_:1,__:[10]},8,["href","active"])):T("",!0),L(r)?(f(),B(le,{key:7,href:b.route("availability.index"),active:b.route().current("availability.index")},{default:I(()=>g[11]||(g[11]=[M(" Weekly Availability ",-1)])),_:1,__:[11]},8,["href","active"])):T("",!0),L(n)("manage_roles")?(f(),B(le,{key:8,href:b.route("admin.roles.index"),active:b.route().current("admin.roles.index")},{default:I(()=>g[12]||(g[12]=[M(" Manage Roles ",-1)])),_:1,__:[12]},8,["href","active"])):T("",!0),L(n)("manage_permissions")?(f(),B(le,{key:9,href:b.route("admin.permissions.index"),active:b.route().current("admin.permissions.index")},{default:I(()=>g[13]||(g[13]=[M(" Manage Permissions ",-1)])),_:1,__:[13]},8,["href","active"])):T("",!0),L(m)?(f(),B(le,{key:10,href:b.route("task-types.page"),active:b.route().current("task-types.page")},{default:I(()=>g[14]||(g[14]=[M(" Task Types ",-1)])),_:1,__:[14]},8,["href","active"])):T("",!0),L(n)("manage_email_templates")?(f(),B(le,{key:11,href:b.route("email-templates.page"),active:b.route().current("email-templates.page")},{default:I(()=>g[15]||(g[15]=[M(" Email Templates ",-1)])),_:1,__:[15]},8,["href","active"])):T("",!0),L(n)("manage_placeholder_definitions")?(f(),B(le,{key:12,href:b.route("placeholder-definitions.page"),active:b.route().current("placeholder-definitions.page")},{default:I(()=>g[16]||(g[16]=[M(" Placeholder Definitions ",-1)])),_:1,__:[16]},8,["href","active"])):T("",!0),L(n)("view_shareable_resources")?(f(),B(le,{key:13,href:b.route("shareable-resources.page"),active:b.route().current("shareable-resources.page")},{default:I(()=>g[17]||(g[17]=[M(" Shareable Resources ",-1)])),_:1,__:[17]},8,["href","active"])):T("",!0)])):T("",!0)]),c("div",xd,[c("div",Td,[c("div",Cd,R(o.value.name),1),c("div",Nd,R(o.value.email),1),c("div",Id,R((D=o.value.role_data)==null?void 0:D.name),1)]),c("div",Ad,[_(le,{as:"button",onClick:g[0]||(g[0]=C=>s("openCreateTaskModal"))},{default:I(()=>g[19]||(g[19]=[M(" Add Task ",-1)])),_:1,__:[19]}),_(le,{as:"button",onClick:g[1]||(g[1]=C=>s("openAddResource"))},{default:I(()=>g[20]||(g[20]=[M(" Add Resource ",-1)])),_:1,__:[20]}),_(le,{as:"button",onClick:g[2]||(g[2]=C=>s("openNotificationsSidebar"))},{default:I(()=>[M(" Notifications ("+R(e.unreadNotificationCount)+") ",1)]),_:1}),_(le,{href:b.route("profile.edit")},{default:I(()=>g[21]||(g[21]=[M(" Profile ",-1)])),_:1,__:[21]},8,["href"]),_(le,{href:b.route("logout"),method:"post",as:"button",onSuccess:p,onError:h},{default:I(()=>g[22]||(g[22]=[M(" Log Out ",-1)])),_:1,__:[22]},8,["href"])])])],2)}}},$d={class:"space-y-4"},Md={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},Pd={class:"text-sm font-medium text-gray-900"},Dd={class:"text-xs text-gray-500 mt-1"},Rd={class:"mb-4"},Ld="post",Vd="Add Note",jd="Note added successfully!",Bd={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(e,{emit:t}){const s=e,o=t,n=yt({note:""}),i=W(()=>{var u;return`Add Note to Task: "${(u=s.taskForNote)==null?void 0:u.name}"`}),a=W(()=>{var u;return`/api/tasks/${(u=s.taskForNote)==null?void 0:u.id}/notes`});fe(()=>s.show,u=>{u&&Object.assign(n,{note:""})},{immediate:!0});const l=u=>{o("note-added",u),o("close")},r=()=>{o("close")};return(u,m)=>(f(),B(Kt,{show:e.show,title:i.value,"api-endpoint":a.value,"http-method":Ld,"form-data":n,"submit-button-text":Vd,"success-message":jd,onClose:r,onSubmitted:l},{default:I(({errors:d})=>[c("div",$d,[e.taskForNote?(f(),v("div",Md,[c("p",Pd,R(e.taskForNote.name),1),c("p",Dd,"Status: "+R(e.taskForNote.status),1)])):T("",!0),c("div",Rd,[_(Q,{for:"task-note-content",value:"Note Content"}),ce(c("textarea",{id:"task-note-content","onUpdate:modelValue":m[0]||(m[0]=p=>n.note=p),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[De,n.note]]),_(ee,{message:d.note?d.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},Ud={class:"task-history-list"},Fd={key:0,class:"text-center py-4"},Xd={key:1,class:"text-gray-500 text-sm py-2"},Hd={key:2,class:"space-y-3"},qd={class:"flex items-start"},zd={class:"text-xl mr-2"},Wd={class:"text-sm text-gray-700"},Gd={class:"text-xs text-gray-500 mt-1"},Kd={__name:"TaskHistoryList",props:{activities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(e){const t=o=>o?new Date(o).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",s=o=>(console.log(o),o.includes("created")?"":o.includes("started")?"":o.includes("paused")?"":o.includes("resumed")?"":o.includes("unblocked")?"":o.includes("blocked")?"":o.includes("completed")?"":o.includes("revised")?"":o.includes("deleted")?"":o.includes("assigned")?"":o.includes("updated")?"":o.includes("added note")?"":o.includes("commented")?"":"");return(o,n)=>(f(),v("div",Ud,[e.loading?(f(),v("div",Fd,n[0]||(n[0]=[c("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"},null,-1),c("p",{class:"mt-2 text-gray-500"},"Loading activity history...",-1)]))):e.activities.length===0?(f(),v("div",Xd," No activity history available for this task. ")):(f(),v("div",Hd,[(f(!0),v(ue,null,pe(e.activities,i=>{var a;return f(),v("div",{key:i.id,class:"p-3 bg-gray-50 rounded-md"},[c("div",qd,[c("span",zd,R(s(i.description)),1),c("div",null,[c("p",Wd,R(i.description),1),c("p",Gd," By "+R(((a=i.causer)==null?void 0:a.name)||"System")+" on "+R(t(i.created_at)),1)])])])}),128))]))]))}},Jd=xt(Kd,[["__scopeId","data-v-423d54af"]]),om=async()=>{try{return(await ne.get("/api/assigned-tasks")).data}catch(e){throw console.error("Error fetching assigned tasks:",e),ve("Failed to load assigned tasks"),e}},am=async e=>{try{return(await ne.get(`/api/projects/${e}/tasks`)).data}catch(t){throw console.error("Error fetching project tasks:",t),ve("Failed to load project tasks"),t}},im=async e=>{try{return(await ne.get(`/api/projects/${e}/due-and-overdue-tasks`)).data}catch(t){throw console.error("Error fetching due and overdue tasks:",t),ve("Failed to load due and overdue tasks"),t}},Yd=async e=>{if(!e||e.status==="In Progress")return e;try{nt("Starting task...");const t=await ne.post(`/api/tasks/${e.id}/start`);return $e("Task started successfully"),t.data}catch(t){throw console.error("Error starting task:",t),ve("Failed to start task. Please try again."),t}},Qd=async e=>{if(!e||e.status!=="In Progress")return Ce('Task can only be paused from "In Progress" status.'),e;try{nt("Pausing task...");const t=await ne.post(`/api/tasks/${e.id}/pause`);return $e("Task paused successfully"),t.data}catch(t){throw console.error("Error pausing task:",t),ve("Failed to pause task. Please try again."),t}},Zd=async e=>{if(!e||e.status!=="Paused")return Ce('Task can only be resumed from "Paused" status.'),e;try{nt("Resuming task...");const t=await ne.post(`/api/tasks/${e.id}/resume`);return $e("Task resumed successfully"),t.data}catch(t){throw console.error("Error resuming task:",t),ve("Failed to resume task. Please try again."),t}},ef=async e=>{if(!e||e.status==="Done")return e;if(e.status!=="In Progress")throw Ce("Task must be started before it can be completed"),new Error("Task must be started before it can be completed");try{nt("Completing task...");const t=await ne.patch(`/api/tasks/${e.id}/complete`);return $e("Task completed successfully"),t.data}catch(t){throw console.error("Error completing task:",t),t.response&&t.response.status===422?Ce(t.response.data.message||"Task must be started before it can be completed"):ve("Failed to complete task. Please try again."),t}},tf=async(e,t)=>{if(!e||e.status==="Blocked")return Ce("Task is already blocked."),e;if(e.status==="Done")return Ce("Completed tasks cannot be blocked."),e;if(!t)throw Ce("Please provide a reason for blocking the task"),new Error("Blocking reason is required");try{nt("Blocking task...");const s=await ne.post(`/api/tasks/${e.id}/block`,{reason:t});return $e("Task blocked successfully"),s.data}catch(s){throw console.error("Error blocking task:",s),ve("Failed to block task. Please try again."),s}},sf=async e=>{if(!e||e.status!=="Blocked")return Ce("Task is not in a blocked state."),e;try{nt("Unblocking task...");const t=await ne.post(`/api/tasks/${e.id}/unblock`);return $e("Task unblocked successfully"),t.data}catch(t){throw console.error("Error unblocking task:",t),ve("Failed to unblock task. Please try again."),t}},nf=async e=>{if(!e||e.status!=="Done")return Ce("Only completed tasks can be revised."),e;try{nt("Revising task...");const t=await ne.post(`/api/tasks/${e.id}/revise`);return $e("Task revised successfully"),t.data}catch(t){throw console.error("Error revising task:",t),t.response&&t.response.status===422?Ce(t.response.data.message||"Only completed tasks can be revised"):ve("Failed to revise task. Please try again."),t}},of=async e=>{if(!e)return!1;if(e.status!=="To Do")throw Ce("Only tasks in To Do status can be deleted"),new Error("Only tasks in To Do status can be deleted");if(!confirm("Are you sure you want to delete this task? This action cannot be undone."))return!1;try{return nt("Deleting task..."),await ne.delete(`/api/tasks/${e.id}`),$e("Task deleted successfully"),!0}catch(t){throw console.error("Error deleting task:",t),ve("Failed to delete task. Please try again."),t}},af=e=>{switch(e){case"To Do":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Paused":return"bg-orange-100 text-orange-800";case"Blocked":return"bg-red-100 text-red-800";case"Done":return"bg-green-100 text-green-800";case"Archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},rm=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},lm=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Medium",rf=["checked","onChange"],lf={__name:"ChecklistComponent",props:{items:{type:Array,required:!0},apiEndpoint:{type:String,required:!0},title:{type:String,default:"Checklist"},containerClass:{type:String,default:"mt-4 p-3 bg-gray-100 rounded-lg text-sm text-gray-700 border border-gray-200"},titleClass:{type:String,default:"font-semibold text-gray-900 mb-2"},itemsContainerClass:{type:String,default:"space-y-1"},itemClass:{type:String,default:"flex items-center space-x-2"},checkboxClass:{type:String,default:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},completedItemClass:{type:String,default:"line-through text-gray-500"},successMessage:{type:String,default:"Checklist item updated!"},errorMessage:{type:String,default:"Failed to update checklist item"},payloadTransformer:{type:Function,default:null},checkListStyle:{type:String,default:"checklist"}},emits:["update:items","item-toggled"],setup(e,{emit:t}){const s=e,o=t,n=P(JSON.parse(JSON.stringify(s.items)));fe(()=>s.items,a=>{n.value=JSON.parse(JSON.stringify(a))},{deep:!0});async function i(a){const l=n.value[a],r=!l.completed;l.completed=r;try{let u;s.payloadTransformer?u=s.payloadTransformer(n.value,a):u={items:n.value},await ne.put(s.apiEndpoint,u),o("update:items",n.value),o("item-toggled",{index:a,item:l,completed:r}),$e(s.successMessage)}catch(u){console.error("Error updating checklist item:",u),l.completed=!r,ve(s.errorMessage)}}return(a,l)=>n.value&&n.value.length>0?(f(),v("div",{key:0,class:z(e.containerClass)},[c("p",{class:z(e.titleClass)},R(e.title),3),c("ul",{class:z(e.itemsContainerClass)},[(f(!0),v(ue,null,pe(n.value,(r,u)=>(f(),v("li",{key:u,class:z(e.itemClass)},[e.checkListStyle==="checklist"?(f(),v("input",{key:0,type:"checkbox",checked:r.completed,onChange:m=>i(u),class:z(e.checkboxClass)},null,42,rf)):T("",!0),c("span",{class:z({[e.completedItemClass]:r.completed})},R(r.name),3)],2))),128))],2)],2)):T("",!0)}};function no(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z","clip-rule":"evenodd"})])}const uf={class:"mt-4"},cf={__name:"ChecklistCreator",props:{modelValue:{type:Array,required:!0},placeholder:{type:String,default:"e.g., Task 1, Task 2, Task 3"},label:{type:String,default:"Checklist Items"},density:{type:String,default:"spacious",validator:e=>["spacious","tight","notes"].includes(e)}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=P([]),i=P([]),a=P(!1);fe(()=>s.modelValue,d=>{a.value=!0,n.value=JSON.parse(JSON.stringify(d)),(n.value.length===0||n.value[n.value.length-1].name.trim()!=="")&&n.value.push({name:"",completed:!1}),ut(()=>{a.value=!1})},{immediate:!0,deep:!0}),fe(()=>n.value,d=>{a.value||o("update:modelValue",d)},{deep:!0});function l(d){n.value.splice(d,1),n.value.length===0&&n.value.push({name:"",completed:!1})}function r(d){d===n.value.length-1&&n.value[d].name.trim()!==""&&n.value.push({name:"",completed:!1})}function u(d){d<n.value.length-1&&ut(()=>{var p;(p=i.value[d+1])==null||p.focus()})}const m=W(()=>s.density==="tight"?{listClass:"space-y-1",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-1 text-sm"}:s.density==="notes"?{listClass:"space-y-0.5",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-0.5 text-sm border-transparent focus:border-transparent focus:ring-0 bg-transparent"}:{listClass:"space-y-2",itemClass:"flex items-center space-x-2",inputClass:""});return(d,p)=>(f(),v("div",uf,[e.label?(f(),B(Q,{key:0,value:e.label},null,8,["value"])):T("",!0),c("ul",{class:z(m.value.listClass)},[(f(!0),v(ue,null,pe(n.value,(h,b)=>(f(),v("li",{key:b,class:z(m.value.itemClass)},[e.density==="notes"?(f(),B(L(no),{key:0,class:"h4 w-4",onClick:g=>l(b)},null,8,["onClick"])):T("",!0),_(Ve,{modelValue:h.name,"onUpdate:modelValue":g=>h.name=g,type:"text",class:z(["flex-1",m.value.inputClass]),placeholder:b===n.value.length-1?e.placeholder:"",onInput:g=>r(b),onKeyup:es(Js(g=>u(b),["prevent"]),["enter"]),ref_for:!0,ref:g=>{g&&(i.value[b]=g)}},null,8,["modelValue","onUpdate:modelValue","class","placeholder","onInput","onKeyup"]),n.value.length>1&&e.density!=="notes"?(f(),B(Zs,{key:1,type:"button",onClick:g=>l(b)},{default:I(()=>[_(L(no),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):T("",!0)],2))),128))],2)]))}},df={key:0,class:"text-center py-8 text-gray-500"},ff={key:1,class:"text-center py-8 text-red-600"},pf={key:2,class:"space-y-6"},mf={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},hf={class:"text-xl font-bold text-gray-900 mb-2"},gf={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},vf={key:0,class:"text-indigo-600 font-medium"},yf={key:1,class:"text-purple-600 font-medium"},_f={class:"text-gray-700 leading-relaxed"},bf={class:"mt-4 flex flex-wrap gap-2"},kf={key:0,class:"text-xs text-gray-500 mt-1"},wf={key:0,class:"bg-yellow-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm"},Ef={class:"flex items-center"},Sf={class:"ml-3"},xf={class:"mt-2 text-sm text-yellow-700"},Tf={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm mb-4"},Cf={class:"flex justify-between items-center border-b pb-2 mb-4"},Nf={key:0},If={key:1},Af={key:0,class:"mb-4"},Of={class:"flex justify-end mt-4"},$f={key:2,class:"text-gray-500 text-sm py-2"},Mf={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},Pf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Df={class:"flex-1 text-right"},Rf={key:0,class:"text-xs text-gray-400 ml-1"},Lf={key:1,class:"flex items-center space-x-2"},Vf={class:"flex items-center justify-between py-2 border-b border-gray-100"},jf={class:"flex-1 text-right"},Bf={key:1,class:"flex items-center space-x-2"},Uf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Ff={class:"flex-1 text-right"},Xf={key:0,class:"text-xs text-gray-400 ml-1"},Hf={key:1,class:"flex items-center space-x-2"},qf={class:"flex items-center justify-between py-2 border-b border-gray-100"},zf={class:"text-gray-700"},Wf={class:"flex items-start py-2 border-b border-gray-100"},Gf={class:"flex-1 flex flex-wrap gap-2"},Kf={key:0,class:"text-gray-500 text-sm"},Jf={class:"bg-white p-4 rounded-lg shadow-sm"},Yf={class:"flex justify-between items-center mb-4 border-b pb-2"},Qf={key:0,class:"space-y-3"},Zf={class:"text-sm text-gray-700"},ep={class:"text-xs text-gray-500 mt-1"},tp={key:1,class:"text-gray-500 text-sm py-2"},sp={class:"bg-white p-4 rounded-lg shadow-sm"},np={key:3,class:"text-center py-8 text-gray-500"},op={key:4,class:"mt-4 flex flex-col items-center"},ap={key:0,class:"text-xs text-red-500 mt-1"},ip={class:"p-6"},rp={class:"mb-4"},lp={class:"flex justify-end space-x-3"},up={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(e,{emit:t}){const s=e,o=t,n=P(null),i=P(!0),a=P(""),l=P(!1),r=P(!1),u=P(!1),m=P(null),d=P(null),p=P(null),h=P([]),b=P(!1),g=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],D=P(!1),C=P(!1),k=P([{name:"",completed:!1}]),E=P(!1),$=async()=>{i.value=!0,a.value="";try{const U=await window.axios.get(`/api/tasks/${s.taskId}`);n.value=U.data,m.value=n.value.assigned_to_id||null,d.value=n.value.due_date||null,p.value=n.value.priority||"medium",O()}catch(U){a.value="Failed to load task details.",console.error("Error fetching task details:",U)}finally{i.value=!1}},O=async()=>{b.value=!0;try{const U=await window.axios.get("/api/activities",{params:{subject_type:"App\\Models\\Task",subject_id:s.taskId}});h.value=U.data}catch(U){console.error("Error fetching task activities:",U)}finally{b.value=!1}};fe(()=>s.taskId,U=>{U?$():n.value=null},{immediate:!0});const j=W(()=>s.projectUsers.map(U=>({value:U.id,label:U.name}))),K=async()=>{if(!n.value||m.value===n.value.assigned_to_id){l.value=!1;return}try{const U=await window.axios.patch(`/api/tasks/${n.value.id}`,{assigned_to_user_id:m.value});n.value=U.data,o("task-updated",n.value)}catch(U){console.error("Error updating assigned user:",U),m.value=n.value.assigned_to_id,ve("Failed to update assigned user. Please try again.")}finally{l.value=!1}},N=async()=>{if(!n.value||d.value===n.value.due_date){r.value=!1;return}try{const U=await window.axios.patch(`/api/tasks/${n.value.id}`,{due_date:d.value});n.value=U.data,o("task-updated",n.value)}catch(U){console.error("Error updating due date:",U),d.value=n.value.due_date,ve("Failed to update due date. Please try again.")}finally{r.value=!1}},w=async()=>{if(!n.value||p.value===n.value.priority){u.value=!1;return}try{const U=await window.axios.patch(`/api/tasks/${n.value.id}`,{priority:p.value});n.value=U.data,o("task-updated",n.value)}catch(U){console.error("Error updating priority:",U),p.value=n.value.priority,ve("Failed to update priority. Please try again.")}finally{u.value=!1}},x=()=>{D.value=!0},S=()=>{$(),D.value=!1},y=async()=>{try{await of(n.value),o("task-deleted",n.value.id),o("close")}catch(U){console.error("Error deleting task:",U)}},V=async()=>{try{n.value=await Yd(n.value),o("task-updated",n.value),O()}catch(U){console.error("Error starting task:",U)}},X=async()=>{try{n.value=await Qd(n.value),o("task-updated",n.value),O()}catch(U){console.error("Error pausing task:",U)}},F=async()=>{try{n.value=await Zd(n.value),o("task-updated",n.value),O()}catch(U){console.error("Error resuming task:",U)}},J=async()=>{try{n.value=await ef(n.value),o("task-updated",n.value),O()}catch(U){console.error("Error completing task:",U)}},q=async()=>{try{n.value=await nf(n.value),o("task-updated",n.value),O()}catch(U){console.error("Error revising task:",U)}},ie=()=>{var U;C.value=!C.value,C.value&&((U=n.value.details)!=null&&U.checklist&&n.value.details.checklist.length>0?(k.value=JSON.parse(JSON.stringify(n.value.details.checklist)),k.value[k.value.length-1].name!==""&&k.value.push({name:"",completed:!1})):k.value=[{name:"",completed:!1}])},Re=async()=>{if(!E.value){E.value=!0;try{const U=k.value.filter(at=>at.name.trim()!==""),A={details:{...n.value.details,checklist:U}},ot=await window.axios.patch(`/api/tasks/${n.value.id}`,A);n.value=ot.data,C.value=!1,$e("Checklist saved successfully"),o("task-updated",n.value)}catch(U){console.error("Error saving checklist:",U),ve("Failed to save checklist")}finally{E.value=!1}}},Me=P(!1),Le=P(""),ba=()=>{Le.value="",Me.value=!0},ka=async()=>{if(!Le.value.trim()){Ce("Please provide a reason for blocking the task");return}try{n.value=await tf(n.value,Le.value),$e("Task blocked successfully"),o("task-updated",n.value),O(),Me.value=!1}catch(U){console.error("Error blocking task:",U)}},wa=async()=>{try{n.value=await sf(n.value),o("task-updated",n.value),O()}catch(U){console.error("Error unblocking task:",U)}},Ea=W(()=>n.value?af(n.value.status):""),Ps=W(()=>{var A,ot,at,Nt;if(!h.value||((A=n.value)==null?void 0:A.status)!=="Blocked")return null;const U=h.value.find(It=>{var At,Ot;return It.event==="updated"&&((Ot=(At=It.properties)==null?void 0:At.attributes)==null?void 0:Ot.status)==="Blocked"});return U?(console.log(U.properties),{causer:((ot=U.causer)==null?void 0:ot.name)||"Unknown",reason:((Nt=(at=U.properties)==null?void 0:at.attributes)==null?void 0:Nt.block_reason)||"No reason provided."}):null});return(U,A)=>{var ot,at,Nt,It,At,Ot,An;return f(),v("div",null,[i.value?(f(),v("div",df," Loading task details... ")):a.value?(f(),v("div",ff,R(a.value),1)):n.value?(f(),v("div",pf,[c("div",mf,[c("h4",hf,R(n.value.name),1),c("div",gf,[c("span",{class:z(["px-2 py-1 rounded-full text-xs font-medium",Ea.value])},R(n.value.status),3),n.value.task_type?(f(),v("span",vf," | "+R((ot=n.value.task_type)==null?void 0:ot.name)+" | ",1)):T("",!0),A[14]||(A[14]=c("br",null,null,-1)),(at=n.value.milestone)!=null&&at.name?(f(),v("span",yf,R((Nt=n.value.milestone)==null?void 0:Nt.name),1)):T("",!0)]),c("p",_f,R(n.value.description||"No description provided."),1),c("div",bf,[n.value.status==="To Do"?(f(),B(be,{key:0,onClick:V,class:"bg-blue-600 hover:bg-blue-700"},{default:I(()=>A[15]||(A[15]=[M(" Start Task ",-1)])),_:1,__:[15]})):n.value.status==="In Progress"?(f(),B(be,{key:1,onClick:X,class:"bg-orange-600 hover:bg-orange-700"},{default:I(()=>A[16]||(A[16]=[M(" Pause Task ",-1)])),_:1,__:[16]})):n.value.status==="Paused"?(f(),B(be,{key:2,onClick:F,class:"bg-blue-600 hover:bg-blue-700"},{default:I(()=>A[17]||(A[17]=[M(" Resume Task ",-1)])),_:1,__:[17]})):n.value.status==="Blocked"?(f(),B(be,{key:3,onClick:wa,class:"bg-green-600 hover:bg-green-700"},{default:I(()=>A[18]||(A[18]=[M(" Unblock Task ",-1)])),_:1,__:[18]})):T("",!0),n.value.status==="To Do"||n.value.status==="In Progress"||n.value.status==="Paused"?(f(),B(be,{key:4,onClick:ba,class:"bg-red-600 hover:bg-red-700"},{default:I(()=>A[19]||(A[19]=[M(" Block Task ",-1)])),_:1,__:[19]})):T("",!0),n.value.status==="In Progress"?(f(),B(be,{key:5,onClick:J,class:"bg-green-600 hover:bg-green-700"},{default:I(()=>A[20]||(A[20]=[M(" Complete Task ",-1)])),_:1,__:[20]})):T("",!0),n.value.status==="Done"?(f(),B(be,{key:6,onClick:q,class:"bg-yellow-600 hover:bg-yellow-700"},{default:I(()=>A[21]||(A[21]=[M(" Revise Task ",-1)])),_:1,__:[21]})):T("",!0)]),n.value.status==="Done"?(f(),v("div",kf,' Revising will change the task status back to "To Do" ')):T("",!0)]),n.value.status==="Blocked"&&Ps.value?(f(),v("div",wf,[c("div",Ef,[A[23]||(A[23]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11.75 13a.75.75 0 01-1.5 0v-2.25a.75.75 0 011.5 0V13zm-1.5-7.5a.75.75 0 011.5 0v1.5a.75.75 0 01-1.5 0V5.5z","clip-rule":"evenodd"})])],-1)),c("div",Sf,[A[22]||(A[22]=c("h3",{class:"text-sm font-medium text-yellow-800"},"Task Blocked",-1)),c("div",xf,[c("p",null,"This task was blocked by **"+R(Ps.value.causer)+"** with the following reason:",1),c("p",null,R(Ps.value.reason),1)])])])])):T("",!0),c("div",Tf,[c("div",Cf,[A[24]||(A[24]=c("h5",{class:"text-lg font-semibold text-gray-800"},"Task Checklist",-1)),c("button",{onClick:ie,class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center"},[C.value?(f(),v("span",If,"Cancel")):(f(),v("span",Nf,R((It=n.value.details)!=null&&It.checklist&&n.value.details.checklist.length>0?"Edit Checklist":"Add Checklist"),1))])]),C.value?(f(),v("div",Af,[_(cf,{modelValue:k.value,"onUpdate:modelValue":A[0]||(A[0]=Z=>k.value=Z),placeholder:"e.g., Review design, Update documentation",label:"Checklist Items",density:"notes"},null,8,["modelValue"]),c("div",Of,[_(be,{onClick:Re,disabled:E.value,class:"flex items-center space-x-1"},{default:I(()=>[_(L(Zc),{class:"h-4 w-4"}),A[25]||(A[25]=c("span",null,"Save Checklist",-1))]),_:1,__:[25]},8,["disabled"])])])):T("",!0),(At=n.value.details)!=null&&At.checklist&&n.value.details.checklist.length>0&&!C.value?(f(),B(lf,{key:1,items:n.value.details.checklist,"api-endpoint":`/api/tasks/${n.value.id}`,title:"Items to complete:","payload-transformer":Z=>({details:{...n.value.details,checklist:Z}})},null,8,["items","api-endpoint","payload-transformer"])):T("",!0),(!((Ot=n.value.details)!=null&&Ot.checklist)||n.value.details.checklist.length===0)&&!C.value?(f(),v("div",$f,' No checklist items for this task yet. Click "Add Checklist" to create one. ')):T("",!0)]),c("div",Mf,[A[32]||(A[32]=c("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),c("div",Pf,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:I(()=>A[26]||(A[26]=[M("Assigned To:",-1)])),_:1,__:[26]}),c("div",Df,[l.value?(f(),v("div",Lf,[_(Ae,{id:"edit-assigned-to",modelValue:m.value,"onUpdate:modelValue":A[2]||(A[2]=Z=>m.value=Z),options:j.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),c("button",{onClick:K,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:A[3]||(A[3]=Z=>l.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),v("div",{key:0,onClick:A[1]||(A[1]=Z=>n.value.status!=="Done"?l.value=!0:Ce("Cannot change assignment for a completed task. Use the Revise button to change the task status first.")),class:z(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[M(R(((An=n.value.assigned_to)==null?void 0:An.name)||"Unassigned")+" ",1),n.value.status!=="Done"?(f(),v("span",Rf,"(Click to edit)")):T("",!0)],2))])]),c("div",Vf,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:I(()=>A[27]||(A[27]=[M("Due Date:",-1)])),_:1,__:[27]}),c("div",jf,[r.value?(f(),v("div",Bf,[_(Ve,{id:"edit-due-date",modelValue:d.value,"onUpdate:modelValue":A[5]||(A[5]=Z=>d.value=Z),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),c("button",{onClick:N,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:A[6]||(A[6]=Z=>r.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),v("div",{key:0,onClick:A[4]||(A[4]=Z=>r.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[M(R(n.value.due_date?L(za)(n.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),A[28]||(A[28]=c("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),c("div",Uf,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:I(()=>A[29]||(A[29]=[M("Priority:",-1)])),_:1,__:[29]}),c("div",Ff,[u.value?(f(),v("div",Hf,[_(Ae,{id:"edit-priority",modelValue:p.value,"onUpdate:modelValue":A[8]||(A[8]=Z=>p.value=Z),options:g,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1 flex-1"},null,8,["modelValue"]),c("button",{onClick:w,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:A[9]||(A[9]=Z=>u.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),v("div",{key:0,onClick:A[7]||(A[7]=Z=>n.value.status!=="Done"?u.value=!0:Ce("Cannot change priority for a completed task. Use the Revise button to change the task status first.")),class:z(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[c("span",{class:z({"text-red-600 font-medium":n.value.priority==="high","text-yellow-600 font-medium":n.value.priority==="medium","text-green-600 font-medium":n.value.priority==="low"})},R(n.value.priority?n.value.priority.charAt(0).toUpperCase()+n.value.priority.slice(1):"Medium"),3),n.value.status!=="Done"?(f(),v("span",Xf,"(Click to edit)")):T("",!0)],2))])]),c("div",qf,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:I(()=>A[30]||(A[30]=[M("Created:",-1)])),_:1,__:[30]}),c("span",zf,R(n.value.created_at?new Date(n.value.created_at).toLocaleDateString():"N/A"),1)]),c("div",Wf,[_(Q,{class:"min-w-[100px] text-gray-600 mt-1"},{default:I(()=>A[31]||(A[31]=[M("Tags:",-1)])),_:1,__:[31]}),c("div",Gf,[(f(!0),v(ue,null,pe(n.value.tags,Z=>(f(),v("span",{key:Z.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},R(Z.name),1))),128)),!n.value.tags||n.value.tags.length===0?(f(),v("span",Kf,"No tags")):T("",!0)])])]),c("div",Jf,[c("div",Yf,[A[34]||(A[34]=c("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),_(be,{onClick:x,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:I(()=>A[33]||(A[33]=[M(" Add Note ",-1)])),_:1,__:[33]})]),n.value.notes&&n.value.notes.length>0?(f(),v("div",Qf,[(f(!0),v(ue,null,pe(n.value.notes,Z=>(f(),v("div",{key:Z.id,class:"p-3 bg-gray-50 rounded-md"},[c("p",Zf,R(Z.content),1),c("p",ep," By "+R(Z.creator_name||"Unknown")+" on "+R(new Date(Z.created_at).toLocaleDateString()),1)]))),128))])):(f(),v("div",tp,"No notes for this task yet."))]),c("div",sp,[A[35]||(A[35]=c("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"History",-1)),_(Jd,{activities:h.value,loading:b.value},null,8,["activities","loading"])])])):(f(),v("div",np," Select a task to view details. ")),n.value&&n.value.status!=="Done"?(f(),v("div",op,[_(Zs,{onClick:y,disabled:n.value.status!=="To Do"},{default:I(()=>A[36]||(A[36]=[M(" Delete Task ",-1)])),_:1,__:[36]},8,["disabled"]),n.value.status!=="To Do"?(f(),v("p",ap,"Task can only be deleted in 'To Do' status.")):T("",!0)])):T("",!0),_(Bd,{show:D.value,"task-for-note":n.value,onClose:A[10]||(A[10]=Z=>D.value=!1),onNoteAdded:S},null,8,["show","task-for-note"]),_(Qs,{show:Me.value,onClose:A[13]||(A[13]=Z=>Me.value=!1)},{default:I(()=>[c("div",ip,[A[40]||(A[40]=c("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Block Task ",-1)),c("div",rp,[A[37]||(A[37]=c("p",{class:"text-sm text-gray-600 mb-2"}," Please provide a reason for blocking this task: ",-1)),ce(c("textarea",{"onUpdate:modelValue":A[11]||(A[11]=Z=>Le.value=Z),class:"w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3",placeholder:"Enter reason for blocking..."},null,512),[[De,Le.value]])]),c("div",lp,[_(Rt,{onClick:A[12]||(A[12]=Z=>Me.value=!1)},{default:I(()=>A[38]||(A[38]=[M(" Cancel ",-1)])),_:1,__:[38]}),_(be,{onClick:ka,disabled:!Le.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:I(()=>A[39]||(A[39]=[M(" Block Task ",-1)])),_:1,__:[39]},8,["disabled"])])])]),_:1},8,["show"])])}}},cp={key:1,class:"p-4 text-gray-500"},dp={key:0,class:"flex justify-end space-x-3"},fp={__name:"TaskSidebar",emits:["taskUpdated","taskDeleted"],setup(e){const t=P(null);return(s,o)=>(f(),B(va,{show:L(Ge).show,"onUpdate:show":L(Ds),title:L(Ge).taskId?"Task Details":"Details",initialWidth:50},{content:I(()=>[L(Ge).taskId?(f(),B(up,{key:0,"task-id":L(Ge).taskId,"project-id":L(Ge).projectId,"project-users":L(Ge).projectUsers,ref_key:"taskDetailSidebarRef",ref:t,onClose:L(Ds),onTaskUpdated:o[0]||(o[0]=n=>{s.$emit("taskUpdated",n)}),onTaskDeleted:o[1]||(o[1]=n=>{s.$emit("taskDeleted",n),L(Ds)()})},null,8,["task-id","project-id","project-users","onClose"])):L(Ge).show?(f(),v("div",cp," No task selected or task ID is missing. ")):T("",!0)]),footer:I(()=>[L(Ge).taskId?(f(),v("div",dp,[t.value&&t.value.task&&t.value.task.status!=="In Progress"&&t.value.task.status!=="Done"?(f(),B(Rt,{key:0,onClick:t.value.startTask,class:"bg-blue-50 text-blue-700 hover:bg-blue-100"},{default:I(()=>o[2]||(o[2]=[M(" Start Task ",-1)])),_:1,__:[2]},8,["onClick"])):T("",!0),t.value&&t.value.task&&t.value.task.status==="In Progress"?(f(),B(Rt,{key:1,onClick:t.value.completeTask,class:"bg-green-50 text-green-700 hover:bg-green-100"},{default:I(()=>o[3]||(o[3]=[M(" Complete Task ",-1)])),_:1,__:[3]},8,["onClick"])):T("",!0),t.value&&t.value.task?(f(),B(Zs,{key:2,onClick:t.value.deleteTask,class:"bg-red-50 text-red-700 hover:bg-red-100"},{default:I(()=>o[4]||(o[4]=[M(" Delete Task ",-1)])),_:1,__:[4]},8,["onClick"])):T("",!0)])):T("",!0)]),_:1},8,["show","onUpdate:show","title"]))}};function pp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function oo(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"})])}function mp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function hp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function gp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"})])}function vp(e,t){return f(),v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const yp={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},_p={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},bp={class:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},kp={class:"max-h-[70vh] overflow-y-auto p-6 space-y-4"},wp={key:0,class:"text-center text-gray-500 py-8"},Ep={key:1,class:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-600"},Sp={class:"flex items-start justify-between gap-4"},xp={class:"flex-1 min-w-0"},Tp={class:"flex items-center gap-2 mb-2"},Cp={class:"font-bold text-lg text-gray-900 dark:text-white truncate"},Np={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line leading-relaxed"},Ip={key:0,class:"flex-shrink-0"},Ap=["href"],Op={key:2,class:"text-xs text-gray-500 dark:text-gray-400 text-right pr-1"},$p={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex flex-col md:flex-row items-center justify-between gap-4"},Mp={class:"flex items-center w-full md:w-auto"},Pp={class:"flex justify-end gap-3 w-full md:w-auto"},Dp=["disabled"],Rp={key:0},Lp={key:1},Vp={__name:"NoticeboardModal",props:{show:{type:Boolean,default:!1},unreadNotices:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const s=e,o=t,n=P(!1),i=P(!1),a=P(0);fe(()=>s.show,p=>{p&&(a.value=0,n.value=!1)}),fe(()=>s.unreadNotices,()=>{a.value>=s.unreadNotices.length&&(a.value=0)});const l=W(()=>s.unreadNotices.length),r=W(()=>s.unreadNotices[a.value]||null),u=async()=>{if(!(!n.value||i.value)){if(!r.value){o("close");return}i.value=!0;try{const p=r.value.id;await ne.post("/api/notices/acknowledge",{notice_ids:[p]}),n.value=!1,a.value+1<s.unreadNotices.length?a.value+=1:o("close")}catch(p){console.error("Failed to acknowledge notices",p)}finally{i.value=!1}}},m=p=>{switch(p){case"Warning":return hp;case"Updates":return gp;case"Final Notice":return mp;default:return oo}},d=p=>{switch(p){case"Warning":return"text-red-500 bg-red-100";case"Updates":return"text-blue-500 bg-blue-100";case"Final Notice":return"text-yellow-500 bg-yellow-100";default:return"text-indigo-500 bg-indigo-100"}};return(p,h)=>e.show?(f(),v("div",yp,[c("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:h[0]||(h[0]=b=>o("close"))}),c("div",{class:z(["relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-2xl w-full mx-auto transform transition-all duration-300 scale-100",{"scale-95 opacity-0":!e.show}])},[c("div",_p,[c("h3",bp,[_(L(oo),{class:"h-7 w-7 text-indigo-500"}),h[4]||(h[4]=M(" Important Notices ",-1))]),c("button",{onClick:h[1]||(h[1]=b=>o("close")),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},[_(L(vp),{class:"h-6 w-6"})])]),c("div",kp,[r.value?(f(),v("div",Ep,[c("div",Sp,[c("div",xp,[c("div",Tp,[(f(),B(ja(m(r.value.type)),{class:z(["h-5 w-5",d(r.value.type)])},null,8,["class"])),c("div",Cp,R(r.value.title),1)]),c("div",Np,R(r.value.description),1)]),r.value.url?(f(),v("div",Ip,[c("a",{href:`/notices/${r.value.id}/redirect`,target:"_blank",class:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors font-medium text-sm"},[h[5]||(h[5]=M(" Open Link ",-1)),_(L(pp),{class:"h-4 w-4 ml-1"})],8,Ap)])):T("",!0)])])):(f(),v("div",wp," All notices have been read. ")),r.value&&l.value>1?(f(),v("div",Op," Notice "+R(a.value+1)+" of "+R(l.value),1)):T("",!0)]),c("div",$p,[c("div",Mp,[ce(c("input",{id:"acknowledge",type:"checkbox","onUpdate:modelValue":h[2]||(h[2]=b=>n.value=b),class:"h-5 w-5 text-indigo-600 rounded-lg border-gray-300 dark:border-gray-500 dark:bg-gray-600 focus:ring-indigo-500 focus:ring-offset-0 transition-colors"},null,512),[[Ba,n.value]]),h[6]||(h[6]=c("label",{for:"acknowledge",class:"ml-3 text-sm text-gray-700 dark:text-gray-300 select-none"}," I have read and understood this notice. ",-1))]),c("div",Pp,[c("button",{onClick:h[3]||(h[3]=b=>o("close")),class:"px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm font-medium"}," Close "),c("button",{onClick:u,disabled:!n.value||i.value,class:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-700 transition-colors text-sm font-medium"},[i.value?(f(),v("span",Rp,"Acknowledging...")):(f(),v("span",Lp,"Acknowledge"))],8,Dp)])])],2)])):T("",!0)}},js=P(!1),Mt=P([]),Bs=P(!1);function jp(){const e=async()=>{var o;try{const n=await ne.get("/api/notices/unread");Mt.value=((o=n.data)==null?void 0:o.data)||[],js.value=Mt.value.length>0}catch(n){console.error("Failed to fetch unread notices",n)}},t=async()=>{if(Bs.value)try{const o=Mt.value.map(n=>n.id);if(o.length===0)return;await ne.post("/api/notices/acknowledge",{notice_ids:o}),s()}catch(o){console.error("Failed to acknowledge notices",o)}},s=()=>{js.value=!1,Mt.value=[],Bs.value=!1};return st(()=>{e()}),mo(()=>{}),{showNoticeModal:js,unreadNotices:Mt,acknowledgeChecked:Bs,fetchUnreadNotices:e,acknowledgeNotices:t,closeModal:s}}const Bp={class:"flex h-screen overflow-hidden"},Up={class:"flex-1 flex flex-col overflow-hidden"},Fp={key:0,class:"bg-white shadow"},Xp={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},Hp={class:"flex-1 overflow-y-auto"},um={__name:"AuthenticatedLayout",setup(e){const t=P(!1),s=P(!1),o=P(!1),n=P(!1),i=P([]),a=P(!0),l=W(()=>Xt().props.id||null),{showNoticeModal:r,unreadNotices:u,fetchUnreadNotices:m,closeModal:d}=jp(),p=P(null),h=async()=>{const O=localStorage.getItem("authToken");if(O){window.axios.defaults.headers.common.Authorization=`Bearer ${O}`;try{await window.axios.get("/api/user")}catch(j){j.response&&j.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},b=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization},g=O=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},D=async()=>{a.value=!0;try{const O=await window.axios.get("/api/projects-simplified");i.value=O.data}catch(O){console.error("Error fetching all projects for sidebar:",O),i.value=[]}finally{a.value=!1}},C=O=>{Xa.visit(route("projects.show",O))},k=W(()=>Dt.value.notifications.filter(O=>!O.isRead).length),E=O=>{console.log("Task updated globally.",O)},$=O=>{console.log("Task deleted globally.",O)};return st(()=>{h(),p.value&&Ua(p.value),D(),Fa(),Mn(m),m()}),mo(()=>{Mn(null)}),(O,j)=>(f(),v("div",Bp,[_(hi,{ref_key:"standardNotificationContainerRef",ref:p},null,512),_(li,{"sidebar-is-open":L(Dt).show},null,8,["sidebar-is-open"]),_(Zl),_(zc,{"all-projects":i.value,"active-project-id":l.value,onProjectSelected:C},null,8,["all-projects","active-project-id"]),c("div",Up,[_(wd,{"unread-notification-count":k.value,onOpenCreateTaskModal:j[0]||(j[0]=K=>s.value=!0),onOpenAddResource:j[1]||(j[1]=K=>o.value=!0),onOpenNotificationsSidebar:L(Pn),onOpenKudoModal:j[2]||(j[2]=K=>n.value=!0)},null,8,["unread-notification-count","onOpenNotificationsSidebar"]),_(Od,{"showing-navigation-dropdown":t.value,"unread-notification-count":k.value,onOpenCreateTaskModal:j[3]||(j[3]=K=>s.value=!0),onOpenAddResource:j[4]||(j[4]=K=>o.value=!0),onOpenNotificationsSidebar:L(Pn),onLogoutSuccess:b,onLogoutError:g},null,8,["showing-navigation-dropdown","unread-notification-count","onOpenNotificationsSidebar"]),O.$slots.header?(f(),v("header",Fp,[c("div",Xp,[je(O.$slots,"header")])])):T("",!0),c("main",Hp,[je(O.$slots,"default")]),_(Ru,{show:s.value,onClose:j[5]||(j[5]=K=>s.value=!1),onSaved:j[6]||(j[6]=K=>s.value=!1)},null,8,["show"]),_(Bu,{"api-endpoint":"/api/shareable-resources",show:o.value,onClose:j[7]||(j[7]=K=>o.value=!1)},null,8,["show"]),_(gc,{show:n.value,onClose:j[8]||(j[8]=K=>n.value=!1),onSubmitted:j[9]||(j[9]=K=>n.value=!1)},null,8,["show"])]),_(fp,{onTaskUpdated:E,onTaskDeleted:$}),_(dc),_(Vp,{show:L(r),unreadNotices:L(u),onClose:L(d)},null,8,["show","unreadNotices","onClose"])]))}};export{Kt as B,Bu as C,ga as T,um as _,wu as a,Kl as b,lm as c,rm as d,ef as e,om as f,af as g,of as h,nf as i,tf as j,lf as k,cf as l,ru as m,no as n,Bd as o,Qd as p,am as q,Zd as r,Yd as s,Ru as t,sf as u,im as v};
