import{r as M,c as G,T as Vt,f as Je,N as _s,a as v,i as C,o as p,F as ae,l as ue,b as l,t as F,u as B,U as uo,V as Ua,W as co,X as fo,j as K,Y as Lt,Z as ze,_ as me,$ as Zt,a0 as Zs,a1 as Xa,a2 as po,a3 as st,a4 as Ha,a5 as mo,a6 as qa,a7 as He,a8 as ho,a9 as Dn,aa as za,ab as Wa,ac as Ga,ad as Ka,ae as Ja,af as bs,ag as Ya,ah as en,ai as Qa,aj as Za,p as re,e as ge,g as X,w as N,m as O,d as _,x as ce,y as Ve,v as zt,R as ei,n as ut,C as tn,O as Be,M as Ie,H as pe,G as ns,I as _t,A as ti,k as si,ak as vo,al as ni,am as Rn,J as Ze,D as je,an as go,ao as zs,q as sn,E as yo,ap as Ke,aq as Oe,L as oi,ar as Ye,as as Fs,B as _o,at as ai,au as ii,av as Ln,aw as Vn}from"./app-DDzbo8Mi.js";import{P as ke}from"./PrimaryButton-BCGqKbah.js";import{_ as cs}from"./Modal-CSjdNaLt.js";import{_ as Q}from"./InputLabel-BlWwAwJW.js";import{_ as ee}from"./InputError-D32L53re.js";import{_ as jt}from"./SecondaryButton-hLEFjRQx.js";import{_ as Tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Fe}from"./TextInput-BYqzsaMY.js";import{S as Pe}from"./SelectDropdown-C_bXkqkh.js";import{_ as ri}from"./Checkbox-jnzt3d7M.js";import{A as li}from"./ApplicationLogo-DUs1gecg.js";import{D as nn}from"./DangerButton-BayGMqXB.js";import{h as ui}from"./moment-BLMuvzoS.js";import{_ as di,a as ci}from"./NoticeboardModal-NW0o0gxr.js";const fi={key:0,class:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2"},pi={key:0,class:"notification-list w-full max-w-xs space-y-2"},mi={class:"flex-1 min-w-0"},hi={class:"flex items-start justify-between gap-2 mb-1"},vi={class:"flex-1 min-w-0"},gi={key:0,class:"text-base font-semibold text-gray-800 truncate"},yi={key:1,class:"text-xs text-gray-500"},_i={key:0,class:"text-xs text-gray-600 mb-2"},bi={class:"flex items-center justify-between mt-2"},ki={key:0,class:"text-xs text-gray-500 font-medium"},wi=["onClick"],Ei={key:1,class:"flex justify-end w-full max-w-xs"},xi={key:0},Si={key:1},it="notification_minimized_state",Ti=3,Ci={__name:"PushNotificationContainer",props:{sidebarIsOpen:{type:Boolean,default:!1}},setup(e){const t=M(!1),s=M(null),o=M(0),n=M(null),i=G(()=>Vt.value.notifications.filter(c=>c.isNewPush).slice(0,Ti)),a=G(()=>{const c=Math.floor(o.value/60),m=o.value%60;return`${String(c).padStart(2,"0")}:${String(m).padStart(2,"0")}`}),d=c=>{if(!c)return null;const m=c.match(/\/task\/(\d+)/);return m?parseInt(m[1]):null},u=c=>{if(!c)return null;const m=c.match(/\/project\/(\d+)\//);return m?parseInt(m[1]):null},r=()=>{if(t.value=!t.value,clearTimeout(s.value),clearInterval(n.value),t.value){const c=Date.now()+3e5;localStorage.setItem(it,JSON.stringify({isMinimized:!0,expiryTime:c})),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(it)},3e5),o.value=300,n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)}else localStorage.removeItem(it)},f=async c=>{Ua(c.id),await co(c.view_id);const m=c.task_id||d(c.url),g=c.project_id||u(c.url);m&&g?fo(m,g):(console.warn("Could not open task sidebar. Falling back to redirecting."),c.url&&(window.location.href=c.url))};return Je(()=>{const c=localStorage.getItem(it);if(c)try{const{isMinimized:m,expiryTime:g}=JSON.parse(c),k=Date.now(),h=g-k;h>0?(t.value=m,o.value=Math.floor(h/1e3),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(it)},h),n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)):localStorage.removeItem(it)}catch(m){console.error("Error restoring notification minimized state:",m),localStorage.removeItem(it)}}),_s(()=>{clearTimeout(s.value),clearInterval(n.value)}),(c,m)=>e.sidebarIsOpen?C("",!0):(p(),v("div",fi,[!t.value&&i.value.length>0?(p(),v("div",pi,[(p(!0),v(ae,null,ue(i.value,g=>(p(),v("div",{key:g.id,class:"bg-white rounded-lg shadow-lg p-3 flex items-start space-x-3 border border-gray-200 transition-opacity duration-300 opacity-60 hover:opacity-100"},[l("div",mi,[l("div",hi,[l("div",vi,[g.title?(p(),v("h3",gi,F(g.title),1)):C("",!0),g.project_name?(p(),v("p",yi,F(g.project_name),1)):C("",!0)])]),g.message?(p(),v("p",_i,F(g.message),1)):C("",!0),l("div",bi,[g.due_date?(p(),v("div",ki," Due: "+F(B(uo)(g.due_date)),1)):C("",!0),l("button",{onClick:k=>f(g),class:"px-2.5 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 shadow"},F(g.button_label||"View"),9,wi)])])]))),128))])):C("",!0),i.value.length>0?(p(),v("div",Ei,[l("button",{onClick:r,class:"bg-white/80 backdrop-blur-sm text-gray-600 hover:text-gray-900 text-xs font-bold py-1 px-3 rounded-full shadow-md transition-all duration-300"},[t.value?(p(),v("span",xi,"Show ("+F(a.value)+")",1)):(p(),v("span",Si,"Minimize"))])])):C("",!0)]))}},Ni={class:"fixed top-4 right-4 z-[9999] flex flex-col items-end space-y-3"},Ii={class:"p-4"},Ai={class:"text-sm font-medium text-white"},Oi={key:0,class:"mt-3 flex gap-2"},$i=["onClick"],Mi=["onClick"],Pi={__name:"StandardNotificationContainer",setup(e,{expose:t}){const s=M([]),o=(u,r="info",f=5e3)=>{let c;typeof u=="object"&&u!==null?c={...u}:c={message:u,type:r,duration:f};const m=c.id||crypto.randomUUID(),g={id:m,message:c.message||"",type:c.type||"info",duration:typeof c.duration=="number"?c.duration:5e3,sticky:!!c.sticky,confirm:c.confirm||null};return s.value.unshift(g),!g.sticky&&!g.confirm&&setTimeout(()=>{n(m)},g.duration),m},n=u=>{const r=s.value.findIndex(f=>f.id===u);r>-1&&s.value.splice(r,1)},i=u=>{const r=s.value.find(f=>f.id===u);if(r&&r.confirm&&typeof r.confirm.onConfirm=="function")try{r.confirm.onConfirm()}catch{}n(u)},a=u=>{const r=s.value.find(f=>f.id===u);if(r&&r.confirm&&typeof r.confirm.onCancel=="function")try{r.confirm.onCancel()}catch{}n(u)},d=u=>{switch(u){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":default:return"bg-blue-500"}};return t({addNotification:o}),(u,r)=>(p(),v("div",Ni,[(p(!0),v(ae,null,ue(s.value,f=>(p(),v("div",{key:f.id,class:K(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto overflow-hidden",d(f.type)])},[l("div",Ii,[l("p",Ai,F(f.message),1),f.confirm?(p(),v("div",Oi,[l("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-white/90 text-slate-800 hover:bg-white",onClick:c=>i(f.id)},F(f.confirm.confirmText||"Confirm"),9,$i),l("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-transparent border border-white/70 text-white hover:bg-white/10",onClick:c=>a(f.id)},F(f.confirm.cancelText||"Cancel"),9,Mi)])):C("",!0)])],2))),128))]))}};var os={exports:{}},Bs={exports:{}},Us={};/**
* @vue/compiler-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bt=Symbol(""),yt=Symbol(""),ks=Symbol(""),Ft=Symbol(""),on=Symbol(""),ot=Symbol(""),an=Symbol(""),rn=Symbol(""),ws=Symbol(""),Es=Symbol(""),Ct=Symbol(""),xs=Symbol(""),ln=Symbol(""),Ss=Symbol(""),Ts=Symbol(""),Cs=Symbol(""),Ns=Symbol(""),Is=Symbol(""),As=Symbol(""),un=Symbol(""),dn=Symbol(""),Wt=Symbol(""),Bt=Symbol(""),Os=Symbol(""),$s=Symbol(""),kt=Symbol(""),Nt=Symbol(""),Ms=Symbol(""),fs=Symbol(""),bo=Symbol(""),ps=Symbol(""),Ut=Symbol(""),ko=Symbol(""),wo=Symbol(""),Ps=Symbol(""),Eo=Symbol(""),xo=Symbol(""),Ds=Symbol(""),cn=Symbol(""),ct={[bt]:"Fragment",[yt]:"Teleport",[ks]:"Suspense",[Ft]:"KeepAlive",[on]:"BaseTransition",[ot]:"openBlock",[an]:"createBlock",[rn]:"createElementBlock",[ws]:"createVNode",[Es]:"createElementVNode",[Ct]:"createCommentVNode",[xs]:"createTextVNode",[ln]:"createStaticVNode",[Ss]:"resolveComponent",[Ts]:"resolveDynamicComponent",[Cs]:"resolveDirective",[Ns]:"resolveFilter",[Is]:"withDirectives",[As]:"renderList",[un]:"renderSlot",[dn]:"createSlots",[Wt]:"toDisplayString",[Bt]:"mergeProps",[Os]:"normalizeClass",[$s]:"normalizeStyle",[kt]:"normalizeProps",[Nt]:"guardReactiveProps",[Ms]:"toHandlers",[fs]:"camelize",[bo]:"capitalize",[ps]:"toHandlerKey",[Ut]:"setBlockTracking",[ko]:"pushScopeId",[wo]:"popScopeId",[Ps]:"withCtx",[Eo]:"unref",[xo]:"isRef",[Ds]:"withMemo",[cn]:"isMemoSame"};function So(e){Object.getOwnPropertySymbols(e).forEach(t=>{ct[t]=e[t]})}const Di={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},Ri={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},Li={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},Vi={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},he={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function To(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:he}}function wt(e,t,s,o,n,i,a,d=!1,u=!1,r=!1,f=he){return e&&(d?(e.helper(ot),e.helper(mt(e.inSSR,r))):e.helper(pt(e.inSSR,r)),a&&e.helper(Is)),{type:13,tag:t,props:s,children:o,patchFlag:n,dynamicProps:i,directives:a,isBlock:d,disableTracking:u,isComponent:r,loc:f}}function nt(e,t=he){return{type:17,loc:t,elements:e}}function Me(e,t=he){return{type:15,loc:t,properties:e}}function oe(e,t){return{type:16,loc:he,key:me(e)?z(e,!0):e,value:t}}function z(e,t=!1,s=he,o=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:o}}function ji(e,t){return{type:5,loc:t,content:me(e)?z(e,!1,t):e}}function De(e,t=he){return{type:8,loc:t,children:e}}function fe(e,t=[],s=he){return{type:14,loc:s,callee:e,arguments:t}}function ft(e,t=void 0,s=!1,o=!1,n=he){return{type:18,params:e,returns:t,newline:s,isSlot:o,loc:n}}function ms(e,t,s,o=!0){return{type:19,test:e,consequent:t,alternate:s,newline:o,loc:he}}function Co(e,t,s=!1,o=!1){return{type:20,index:e,value:t,needPauseTracking:s,inVOnce:o,needArraySpread:!1,loc:he}}function No(e){return{type:21,body:e,loc:he}}function Fi(e){return{type:22,elements:e,loc:he}}function Bi(e,t,s){return{type:23,test:e,consequent:t,alternate:s,loc:he}}function Ui(e,t){return{type:24,left:e,right:t,loc:he}}function Xi(e){return{type:25,expressions:e,loc:he}}function Hi(e){return{type:26,returns:e,loc:he}}function pt(e,t){return e||t?ws:Es}function mt(e,t){return e||t?an:rn}function Rs(e,{helper:t,removeHelper:s,inSSR:o}){e.isBlock||(e.isBlock=!0,s(pt(o,e.isComponent)),t(ot),t(mt(o,e.isComponent)))}const jn=new Uint8Array([123,123]),Fn=new Uint8Array([125,125]);function Bn(e){return e>=97&&e<=122||e>=65&&e<=90}function $e(e){return e===32||e===10||e===9||e===12||e===13}function Qe(e){return e===47||e===62||$e(e)}function hs(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}const _e={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class qi{constructor(t,s){this.stack=t,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=jn,this.delimiterClose=Fn,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=jn,this.delimiterClose=Fn}getPos(t){let s=1,o=t+1;for(let n=this.newlines.length-1;n>=0;n--){const i=this.newlines[n];if(t>i){s=n+2,o=t-i;break}}return{column:o,line:s,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?Qe(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||$e(t)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const o=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=o}this.sectionStart=s+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===_e.TitleEnd||this.currentSequence===_e.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===_e.Cdata[this.sequenceIndex]?++this.sequenceIndex===_e.Cdata.length&&(this.state=28,this.currentSequence=_e.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===_e.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,s){this.enterRCDATA(t,s),this.state=31}enterRCDATA(t,s){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=s}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Bn(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Qe(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Qe(t)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(hs("</"+s),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){$e(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Bn(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||$e(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):$e(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):$e(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Qe(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Qe(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Qe(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Qe(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Qe(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):$e(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):$e(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,s){(t===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){$e(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=_e.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===_e.ScriptEnd[3]?this.startSpecial(_e.ScriptEnd,4):t===_e.StyleEnd[3]?this.startSpecial(_e.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===_e.TitleEnd[3]?this.startSpecial(_e.TitleEnd,4):t===_e.TextareaEnd[3]?this.startSpecial(_e.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===_e.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,s){}}const zi={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},Wi={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Ws(e,{compatConfig:t}){const s=t&&t[e];return e==="MODE"?s||3:s}function dt(e,t){const s=Ws("MODE",t),o=Ws(e,t);return s===3?o===!0:o!==!1}function Et(e,t,s,...o){return dt(e,t)}function Gi(e,t,s,...o){if(Ws(e,t)==="suppress-warning")return;const{message:i,link:a}=Wi[e],d=`(deprecation ${e}) ${typeof i=="function"?i(...o):i}${a?`
  Details: ${a}`:""}`,u=new SyntaxError(d);u.code=e,s&&(u.loc=s),t.onWarn(u)}function fn(e){throw e}function Io(e){}function te(e,t,s,o){const n=`https://vuejs.org/error-reference/#compiler-${e}`,i=new SyntaxError(String(n));return i.code=e,i.loc=t,i}const Ki={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},Ji={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function Yi(e,t,s=!1,o=[],n=Object.create(null)){}function Qi(e,t,s){return!1}function Zi(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let s=t.length;for(;s--;){const o=t[s];if(o.type==="AssignmentExpression")return!0;if(o.type!=="ObjectProperty"&&!o.type.endsWith("Pattern"))break}}return!1}function er(e){let t=e.length;for(;t--;){const s=e[t];if(s.type==="NewExpression")return!0;if(s.type!=="MemberExpression")break}return!1}function tr(e,t){for(const s of e.params)for(const o of qe(s))t(o)}function sr(e,t){for(const s of e.body)if(s.type==="VariableDeclaration"){if(s.declare)continue;for(const o of s.declarations)for(const n of qe(o.id))t(n)}else if(s.type==="FunctionDeclaration"||s.type==="ClassDeclaration"){if(s.declare||!s.id)continue;t(s.id)}else nr(s)&&or(s,!0,t)}function nr(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function or(e,t,s){const o=e.type==="ForStatement"?e.init:e.left;if(o&&o.type==="VariableDeclaration"&&(o.kind==="var"?t:!t))for(const n of o.declarations)for(const i of qe(n.id))s(i)}function qe(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let s=e;for(;s.type==="MemberExpression";)s=s.object;t.push(s);break;case"ObjectPattern":for(const o of e.properties)o.type==="RestElement"?qe(o.argument,t):qe(o.value,t);break;case"ArrayPattern":e.elements.forEach(o=>{o&&qe(o,t)});break;case"RestElement":qe(e.argument,t);break;case"AssignmentPattern":qe(e.left,t);break}return t}const ar=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),Ao=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,ir=(e,t)=>Ao(t)&&t.key===e,Oo=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function $o(e){return Oo.includes(e.type)?$o(e.expression):e}const Se=e=>e.type===4&&e.isStatic;function pn(e){switch(e){case"Teleport":case"teleport":return yt;case"Suspense":case"suspense":return ks;case"KeepAlive":case"keep-alive":return Ft;case"BaseTransition":case"base-transition":return on}}const rr=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Gt=e=>!rr.test(e),lr=/[A-Za-z_$\xA0-\uFFFF]/,ur=/[\.\?\w$\xA0-\uFFFF]/,dr=/\s+[.[]\s*|\s*[.[]\s+/g,Mo=e=>e.type===4?e.content:e.loc.source,Po=e=>{const t=Mo(e).trim().replace(dr,d=>d.trim());let s=0,o=[],n=0,i=0,a=null;for(let d=0;d<t.length;d++){const u=t.charAt(d);switch(s){case 0:if(u==="[")o.push(s),s=1,n++;else if(u==="(")o.push(s),s=2,i++;else if(!(d===0?lr:ur).test(u))return!1;break;case 1:u==="'"||u==='"'||u==="`"?(o.push(s),s=3,a=u):u==="["?n++:u==="]"&&(--n||(s=o.pop()));break;case 2:if(u==="'"||u==='"'||u==="`")o.push(s),s=3,a=u;else if(u==="(")i++;else if(u===")"){if(d===t.length-1)return!1;--i||(s=o.pop())}break;case 3:u===a&&(s=o.pop(),a=null);break}}return!n&&!i},cr=Lt,mn=Po,fr=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Do=e=>fr.test(Mo(e)),pr=Lt,Ro=Do;function mr(e,t,s=t.length){return Lo({offset:e.offset,line:e.line,column:e.column},t,s)}function Lo(e,t,s=t.length){let o=0,n=-1;for(let i=0;i<s;i++)t.charCodeAt(i)===10&&(o++,n=i);return e.offset+=s,e.line+=o,e.column=n===-1?e.column+s:s-n,e}function hr(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function xe(e,t,s=!1){for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&(s||n.exp)&&(me(t)?n.name===t:t.test(n.name)))return n}}function Kt(e,t,s=!1,o=!1){for(let n=0;n<e.props.length;n++){const i=e.props[n];if(i.type===6){if(s)continue;if(i.name===t&&(i.value||o))return i}else if(i.name==="bind"&&(i.exp||o)&&tt(i.arg,t))return i}}function tt(e,t){return!!(e&&Se(e)&&e.content===t)}function Vo(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function as(e){return e.type===5||e.type===2}function Gs(e){return e.type===7&&e.name==="pre"}function hn(e){return e.type===7&&e.name==="slot"}function xt(e){return e.type===1&&e.tagType===3}function Xt(e){return e.type===1&&e.tagType===2}const vr=new Set([kt,Nt]);function jo(e,t=[]){if(e&&!me(e)&&e.type===14){const s=e.callee;if(!me(s)&&vr.has(s))return jo(e.arguments[0],t.concat(e))}return[e,t]}function Ht(e,t,s){let o,n=e.type===13?e.props:e.arguments[2],i=[],a;if(n&&!me(n)&&n.type===14){const d=jo(n);n=d[0],i=d[1],a=i[i.length-1]}if(n==null||me(n))o=Me([t]);else if(n.type===14){const d=n.arguments[0];!me(d)&&d.type===15?Un(t,d)||d.properties.unshift(t):n.callee===Ms?o=fe(s.helper(Bt),[Me([t]),n]):n.arguments.unshift(Me([t])),!o&&(o=n)}else n.type===15?(Un(t,n)||n.properties.unshift(t),o=n):(o=fe(s.helper(Bt),[Me([t]),n]),a&&a.callee===Nt&&(a=i[i.length-2]));e.type===13?a?a.arguments[0]=o:e.props=o:a?a.arguments[0]=o:e.arguments[2]=o}function Un(e,t){let s=!1;if(e.key.type===4){const o=e.key.content;s=t.properties.some(n=>n.key.type===4&&n.key.content===o)}return s}function St(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,o)=>s==="-"?"_":e.charCodeAt(o).toString())}`}function Le(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===7&&(Le(o.arg,t)||Le(o.exp,t)))return!0}return e.children.some(s=>Le(s,t));case 11:return Le(e.source,t)?!0:e.children.some(s=>Le(s,t));case 9:return e.branches.some(s=>Le(s,t));case 10:return Le(e.condition,t)?!0:e.children.some(s=>Le(s,t));case 4:return!e.isStatic&&Gt(e.content)&&!!t[e.content];case 8:return e.children.some(s=>mo(s)&&Le(s,t));case 5:case 12:return Le(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function Fo(e){return e.type===14&&e.callee===Ds?e.arguments[1].returns:e}const Bo=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Uo={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Zt,isPreTag:Zt,isIgnoreNewlineTag:Zt,isCustomElement:Zt,onError:fn,onWarn:Io,comments:!1,prefixIdentifiers:!1};let Z=Uo,qt=null,We="",we=null,Y=null,Ne="",Xe=-1,rt=-1,vn=0,et=!1,Ks=null;const ne=[],ie=new qi(ne,{onerr:Ue,ontext(e,t){es(ve(e,t),e,t)},ontextentity(e,t,s){es(e,t,s)},oninterpolation(e,t){if(et)return es(ve(e,t),e,t);let s=e+ie.delimiterOpen.length,o=t-ie.delimiterClose.length;for(;$e(We.charCodeAt(s));)s++;for(;$e(We.charCodeAt(o-1));)o--;let n=ve(s,o);n.includes("&")&&(n=Z.decodeEntities(n,!1)),Js({type:5,content:rs(n,!1,le(s,o)),loc:le(e,t)})},onopentagname(e,t){const s=ve(e,t);we={type:1,tag:s,ns:Z.getNamespace(s,ne[0],Z.ns),tagType:0,props:[],children:[],loc:le(e-1,t),codegenNode:void 0}},onopentagend(e){Hn(e)},onclosetag(e,t){const s=ve(e,t);if(!Z.isVoidTag(s)){let o=!1;for(let n=0;n<ne.length;n++)if(ne[n].tag.toLowerCase()===s.toLowerCase()){o=!0,n>0&&Ue(24,ne[0].loc.start.offset);for(let a=0;a<=n;a++){const d=ne.shift();is(d,t,a<n)}break}o||Ue(23,Xo(e,60))}},onselfclosingtag(e){const t=we.tag;we.isSelfClosing=!0,Hn(e),ne[0]&&ne[0].tag===t&&is(ne.shift(),e)},onattribname(e,t){Y={type:6,name:ve(e,t),nameLoc:le(e,t),value:void 0,loc:le(e)}},ondirname(e,t){const s=ve(e,t),o=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!et&&o===""&&Ue(26,e),et||o==="")Y={type:6,name:s,nameLoc:le(e,t),value:void 0,loc:le(e)};else if(Y={type:7,name:o,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[z("prop")]:[],loc:le(e)},o==="pre"){et=ie.inVPre=!0,Ks=we;const n=we.props;for(let i=0;i<n.length;i++)n[i].type===7&&(n[i]=Cr(n[i]))}},ondirarg(e,t){if(e===t)return;const s=ve(e,t);if(et&&!Gs(Y))Y.name+=s,lt(Y.nameLoc,t);else{const o=s[0]!=="[";Y.arg=rs(o?s:s.slice(1,-1),o,le(e,t),o?3:0)}},ondirmodifier(e,t){const s=ve(e,t);if(et&&!Gs(Y))Y.name+="."+s,lt(Y.nameLoc,t);else if(Y.name==="slot"){const o=Y.arg;o&&(o.content+="."+s,lt(o.loc,t))}else{const o=z(s,!0,le(e,t));Y.modifiers.push(o)}},onattribdata(e,t){Ne+=ve(e,t),Xe<0&&(Xe=e),rt=t},onattribentity(e,t,s){Ne+=e,Xe<0&&(Xe=t),rt=s},onattribnameend(e){const t=Y.loc.start.offset,s=ve(t,e);Y.type===7&&(Y.rawName=s),we.props.some(o=>(o.type===7?o.rawName:o.name)===s)&&Ue(2,t)},onattribend(e,t){if(we&&Y){if(lt(Y.loc,t),e!==0)if(Ne.includes("&")&&(Ne=Z.decodeEntities(Ne,!0)),Y.type===6)Y.name==="class"&&(Ne=qo(Ne).trim()),e===1&&!Ne&&Ue(13,t),Y.value={type:2,content:Ne,loc:e===1?le(Xe,rt):le(Xe-1,rt+1)},ie.inSFCRoot&&we.tag==="template"&&Y.name==="lang"&&Ne&&Ne!=="html"&&ie.enterRCDATA(hs("</template"),0);else{let s=0;Y.exp=rs(Ne,!1,le(Xe,rt),0,s),Y.name==="for"&&(Y.forParseResult=yr(Y.exp));let o=-1;Y.name==="bind"&&(o=Y.modifiers.findIndex(n=>n.content==="sync"))>-1&&Et("COMPILER_V_BIND_SYNC",Z,Y.loc,Y.arg.loc.source)&&(Y.name="model",Y.modifiers.splice(o,1))}(Y.type!==7||Y.name!=="pre")&&we.props.push(Y)}Ne="",Xe=rt=-1},oncomment(e,t){Z.comments&&Js({type:3,content:ve(e,t),loc:le(e-4,t+3)})},onend(){const e=We.length;for(let t=0;t<ne.length;t++)is(ne[t],e-1),Ue(24,ne[t].loc.start.offset)},oncdata(e,t){ne[0].ns!==0?es(ve(e,t),e,t):Ue(1,e-9)},onprocessinginstruction(e){(ne[0]?ne[0].ns:Z.ns)===0&&Ue(21,e-1)}}),Xn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,gr=/^\(|\)$/g;function yr(e){const t=e.loc,s=e.content,o=s.match(Bo);if(!o)return;const[,n,i]=o,a=(c,m,g=!1)=>{const k=t.start.offset+m,h=k+c.length;return rs(c,!1,le(k,h),0,g?1:0)},d={source:a(i.trim(),s.indexOf(i,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=n.trim().replace(gr,"").trim();const r=n.indexOf(u),f=u.match(Xn);if(f){u=u.replace(Xn,"").trim();const c=f[1].trim();let m;if(c&&(m=s.indexOf(c,r+u.length),d.key=a(c,m,!0)),f[2]){const g=f[2].trim();g&&(d.index=a(g,s.indexOf(g,d.key?m+c.length:r+u.length),!0))}}return u&&(d.value=a(u,r,!0)),d}function ve(e,t){return We.slice(e,t)}function Hn(e){ie.inSFCRoot&&(we.innerLoc=le(e+1,e+1)),Js(we);const{tag:t,ns:s}=we;s===0&&Z.isPreTag(t)&&vn++,Z.isVoidTag(t)?is(we,e):(ne.unshift(we),(s===1||s===2)&&(ie.inXML=!0)),we=null}function es(e,t,s){{const i=ne[0]&&ne[0].tag;i!=="script"&&i!=="style"&&e.includes("&")&&(e=Z.decodeEntities(e,!1))}const o=ne[0]||qt,n=o.children[o.children.length-1];n&&n.type===2?(n.content+=e,lt(n.loc,s)):o.children.push({type:2,content:e,loc:le(t,s)})}function is(e,t,s=!1){s?lt(e.loc,Xo(t,60)):lt(e.loc,_r(t,62)+1),ie.inSFCRoot&&(e.children.length?e.innerLoc.end=ze({},e.children[e.children.length-1].loc.end):e.innerLoc.end=ze({},e.innerLoc.start),e.innerLoc.source=ve(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:o,ns:n,children:i}=e;if(et||(o==="slot"?e.tagType=2:qn(e)?e.tagType=3:kr(e)&&(e.tagType=1)),ie.inRCDATA||(e.children=Ho(i)),n===0&&Z.isIgnoreNewlineTag(o)){const a=i[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}n===0&&Z.isPreTag(o)&&vn--,Ks===e&&(et=ie.inVPre=!1,Ks=null),ie.inXML&&(ne[0]?ne[0].ns:Z.ns)===0&&(ie.inXML=!1);{const a=e.props;if(!ie.inSFCRoot&&dt("COMPILER_NATIVE_TEMPLATE",Z)&&e.tag==="template"&&!qn(e)){const u=ne[0]||qt,r=u.children.indexOf(e);u.children.splice(r,1,...e.children)}const d=a.find(u=>u.type===6&&u.name==="inline-template");d&&Et("COMPILER_INLINE_TEMPLATE",Z,d.loc)&&e.children.length&&(d.value={type:2,content:ve(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:d.loc})}}function _r(e,t){let s=e;for(;We.charCodeAt(s)!==t&&s<We.length-1;)s++;return s}function Xo(e,t){let s=e;for(;We.charCodeAt(s)!==t&&s>=0;)s--;return s}const br=new Set(["if","else","else-if","for","slot"]);function qn({tag:e,props:t}){if(e==="template"){for(let s=0;s<t.length;s++)if(t[s].type===7&&br.has(t[s].name))return!0}return!1}function kr({tag:e,props:t}){if(Z.isCustomElement(e))return!1;if(e==="component"||wr(e.charCodeAt(0))||pn(e)||Z.isBuiltInComponent&&Z.isBuiltInComponent(e)||Z.isNativeTag&&!Z.isNativeTag(e))return!0;for(let s=0;s<t.length;s++){const o=t[s];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(Et("COMPILER_IS_ON_ELEMENT",Z,o.loc))return!0}}else if(o.name==="bind"&&tt(o.arg,"is")&&Et("COMPILER_IS_ON_ELEMENT",Z,o.loc))return!0}return!1}function wr(e){return e>64&&e<91}const Er=/\r\n/g;function Ho(e){const t=Z.whitespace!=="preserve";let s=!1;for(let o=0;o<e.length;o++){const n=e[o];if(n.type===2)if(vn)n.content=n.content.replace(Er,`
`);else if(xr(n.content)){const i=e[o-1]&&e[o-1].type,a=e[o+1]&&e[o+1].type;!i||!a||t&&(i===3&&(a===3||a===1)||i===1&&(a===3||a===1&&Sr(n.content)))?(s=!0,e[o]=null):n.content=" "}else t&&(n.content=qo(n.content))}return s?e.filter(Boolean):e}function xr(e){for(let t=0;t<e.length;t++)if(!$e(e.charCodeAt(t)))return!1;return!0}function Sr(e){for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(s===10||s===13)return!0}return!1}function qo(e){let t="",s=!1;for(let o=0;o<e.length;o++)$e(e.charCodeAt(o))?s||(t+=" ",s=!0):(t+=e[o],s=!1);return t}function Js(e){(ne[0]||qt).children.push(e)}function le(e,t){return{start:ie.getPos(e),end:t==null?t:ie.getPos(t),source:t==null?t:ve(e,t)}}function Tr(e){return le(e.start.offset,e.end.offset)}function lt(e,t){e.end=ie.getPos(t),e.source=ve(e.start.offset,t)}function Cr(e){const t={type:6,name:e.rawName,nameLoc:le(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const s=e.exp.loc;s.end.offset<e.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),t.value={type:2,content:e.exp.content,loc:s}}return t}function rs(e,t=!1,s,o=0,n=0){return z(e,t,s,o)}function Ue(e,t,s){Z.onError(te(e,le(t,t)))}function Nr(){ie.reset(),we=null,Y=null,Ne="",Xe=-1,rt=-1,ne.length=0}function gn(e,t){if(Nr(),We=e,Z=ze({},Uo),t){let n;for(n in t)t[n]!=null&&(Z[n]=t[n])}ie.mode=Z.parseMode==="html"?1:Z.parseMode==="sfc"?2:0,ie.inXML=Z.ns===1||Z.ns===2;const s=t&&t.delimiters;s&&(ie.delimiterOpen=hs(s[0]),ie.delimiterClose=hs(s[1]));const o=qt=To([],e);return ie.parse(We),o.loc=le(0,e.length),o.children=Ho(o.children),qt=null,o}function Ir(e,t){ls(e,void 0,t,!!zo(e))}function zo(e){const t=e.children.filter(s=>s.type!==3);return t.length===1&&t[0].type===1&&!Xt(t[0])?t[0]:null}function ls(e,t,s,o=!1,n=!1){const{children:i}=e,a=[];for(let c=0;c<i.length;c++){const m=i[c];if(m.type===1&&m.tagType===0){const g=o?0:Ae(m,s);if(g>0){if(g>=2){m.codegenNode.patchFlag=-1,a.push(m);continue}}else{const k=m.codegenNode;if(k.type===13){const h=k.patchFlag;if((h===void 0||h===512||h===1)&&Go(m,s)>=2){const j=Ko(m);j&&(k.props=s.hoist(j))}k.dynamicProps&&(k.dynamicProps=s.hoist(k.dynamicProps))}}}else if(m.type===12&&(o?0:Ae(m,s))>=2){m.codegenNode.type===14&&m.codegenNode.arguments.length>0&&m.codegenNode.arguments.push("-1"),a.push(m);continue}if(m.type===1){const g=m.tagType===1;g&&s.scopes.vSlot++,ls(m,e,s,!1,n),g&&s.scopes.vSlot--}else if(m.type===11)ls(m,e,s,m.children.length===1,!0);else if(m.type===9)for(let g=0;g<m.branches.length;g++)ls(m.branches[g],e,s,m.branches[g].children.length===1,n)}let d=!1;const u=[];if(a.length===i.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&He(e.codegenNode.children))e.codegenNode.children=r(nt(e.codegenNode.children)),d=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!He(e.codegenNode.children)&&e.codegenNode.children.type===15){const c=f(e.codegenNode,"default");c&&(u.push(s.cached.length),c.returns=r(nt(c.returns)),d=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!He(t.codegenNode.children)&&t.codegenNode.children.type===15){const c=xe(e,"slot",!0),m=c&&c.arg&&f(t.codegenNode,c.arg);m&&(u.push(s.cached.length),m.returns=r(nt(m.returns)),d=!0)}}if(!d)for(const c of a)u.push(s.cached.length),c.codegenNode=s.cache(c.codegenNode);u.length&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!He(e.codegenNode.children)&&e.codegenNode.children.type===15&&e.codegenNode.children.properties.push(oe("__",z(JSON.stringify(u),!1)));function r(c){const m=s.cache(c);return n&&s.hmr&&(m.needArraySpread=!0),m}function f(c,m){if(c.children&&!He(c.children)&&c.children.type===15){const g=c.children.properties.find(k=>k.key===m||k.key.content===m);return g&&g.value}}a.length&&s.transformHoist&&s.transformHoist(i,s,e)}function Ae(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const o=s.get(e);if(o!==void 0)return o;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let a=3;const d=Go(e,t);if(d===0)return s.set(e,0),0;d<a&&(a=d);for(let u=0;u<e.children.length;u++){const r=Ae(e.children[u],t);if(r===0)return s.set(e,0),0;r<a&&(a=r)}if(a>1)for(let u=0;u<e.props.length;u++){const r=e.props[u];if(r.type===7&&r.name==="bind"&&r.exp){const f=Ae(r.exp,t);if(f===0)return s.set(e,0),0;f<a&&(a=f)}}if(n.isBlock){for(let u=0;u<e.props.length;u++)if(e.props[u].type===7)return s.set(e,0),0;t.removeHelper(ot),t.removeHelper(mt(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(pt(t.inSSR,n.isComponent))}return s.set(e,a),a}else return s.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ae(e.content,t);case 4:return e.constType;case 8:let i=3;for(let a=0;a<e.children.length;a++){const d=e.children[a];if(me(d)||Zs(d))continue;const u=Ae(d,t);if(u===0)return 0;u<i&&(i=u)}return i;case 20:return 2;default:return 0}}const Ar=new Set([Os,$s,kt,Nt]);function Wo(e,t){if(e.type===14&&!me(e.callee)&&Ar.has(e.callee)){const s=e.arguments[0];if(s.type===4)return Ae(s,t);if(s.type===14)return Wo(s,t)}return 0}function Go(e,t){let s=3;const o=Ko(e);if(o&&o.type===15){const{properties:n}=o;for(let i=0;i<n.length;i++){const{key:a,value:d}=n[i],u=Ae(a,t);if(u===0)return u;u<s&&(s=u);let r;if(d.type===4?r=Ae(d,t):d.type===14?r=Wo(d,t):r=0,r===0)return r;r<s&&(s=r)}}return s}function Ko(e){const t=e.codegenNode;if(t.type===13)return t.props}function Jo(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:o=!1,hmr:n=!1,cacheHandlers:i=!1,nodeTransforms:a=[],directiveTransforms:d={},transformHoist:u=null,isBuiltInComponent:r=Lt,isCustomElement:f=Lt,expressionPlugins:c=[],scopeId:m=null,slotted:g=!0,ssr:k=!1,inSSR:h=!1,ssrCssVars:j="",bindingMetadata:I=Ha,inline:b=!1,isTS:w=!1,onError:D=fn,onWarn:V=Io,compatConfig:U}){const J=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={filename:t,selfName:J&&po(st(J[1])),prefixIdentifiers:s,hoistStatic:o,hmr:n,cacheHandlers:i,nodeTransforms:a,directiveTransforms:d,transformHoist:u,isBuiltInComponent:r,isCustomElement:f,expressionPlugins:c,scopeId:m,slotted:g,ssr:k,inSSR:h,ssrCssVars:j,bindingMetadata:I,inline:b,isTS:w,onError:D,onWarn:V,compatConfig:U,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(S){const L=T.helpers.get(S)||0;return T.helpers.set(S,L+1),S},removeHelper(S){const L=T.helpers.get(S);if(L){const A=L-1;A?T.helpers.set(S,A):T.helpers.delete(S)}},helperString(S){return`_${ct[T.helper(S)]}`},replaceNode(S){T.parent.children[T.childIndex]=T.currentNode=S},removeNode(S){const L=T.parent.children,A=S?L.indexOf(S):T.currentNode?T.childIndex:-1;!S||S===T.currentNode?(T.currentNode=null,T.onNodeRemoved()):T.childIndex>A&&(T.childIndex--,T.onNodeRemoved()),T.parent.children.splice(A,1)},onNodeRemoved:Lt,addIdentifiers(S){},removeIdentifiers(S){},hoist(S){me(S)&&(S=z(S)),T.hoists.push(S);const L=z(`_hoisted_${T.hoists.length}`,!1,S.loc,2);return L.hoisted=S,L},cache(S,L=!1,A=!1){const y=Co(T.cached.length,S,L,A);return T.cached.push(y),y}};return T.filters=new Set,T}function Yo(e,t){const s=Jo(e,t);Jt(e,s),t.hoistStatic&&Ir(e,s),t.ssr||Or(e,s),e.helpers=new Set([...s.helpers.keys()]),e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.transformed=!0,e.filters=[...s.filters]}function Or(e,t){const{helper:s}=t,{children:o}=e;if(o.length===1){const n=zo(e);if(n&&n.codegenNode){const i=n.codegenNode;i.type===13&&Rs(i,t),e.codegenNode=i}else e.codegenNode=o[0]}else if(o.length>1){let n=64;e.codegenNode=wt(t,s(bt),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function $r(e,t){let s=0;const o=()=>{s--};for(;s<e.children.length;s++){const n=e.children[s];me(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=s,t.onNodeRemoved=o,Jt(n,t))}}function Jt(e,t){t.currentNode=e;const{nodeTransforms:s}=t,o=[];for(let i=0;i<s.length;i++){const a=s[i](e,t);if(a&&(He(a)?o.push(...a):o.push(a)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Ct);break;case 5:t.ssr||t.helper(Wt);break;case 9:for(let i=0;i<e.branches.length;i++)Jt(e.branches[i],t);break;case 10:case 11:case 1:case 0:$r(e,t);break}t.currentNode=e;let n=o.length;for(;n--;)o[n]()}function yn(e,t){const s=me(e)?o=>o===e:o=>e.test(o);return(o,n)=>{if(o.type===1){const{props:i}=o;if(o.tagType===3&&i.some(hn))return;const a=[];for(let d=0;d<i.length;d++){const u=i[d];if(u.type===7&&s(u.name)){i.splice(d,1),d--;const r=t(o,u,n);r&&a.push(r)}}return a}}}const Ls="/*@__PURE__*/",Qo=e=>`${ct[e]}: _${ct[e]}`;function Mr(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:o=!1,filename:n="template.vue.html",scopeId:i=null,optimizeImports:a=!1,runtimeGlobalName:d="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:r="vue/server-renderer",ssr:f=!1,isTS:c=!1,inSSR:m=!1}){const g={mode:t,prefixIdentifiers:s,sourceMap:o,filename:n,scopeId:i,optimizeImports:a,runtimeGlobalName:d,runtimeModuleName:u,ssrRuntimeModuleName:r,ssr:f,isTS:c,inSSR:m,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(h){return`_${ct[h]}`},push(h,j=-2,I){g.code+=h},indent(){k(++g.indentLevel)},deindent(h=!1){h?--g.indentLevel:k(--g.indentLevel)},newline(){k(g.indentLevel)}};function k(h){g.push(`
`+"  ".repeat(h),0)}return g}function Zo(e,t={}){const s=Mr(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:o,push:n,prefixIdentifiers:i,indent:a,deindent:d,newline:u,scopeId:r,ssr:f}=s,c=Array.from(e.helpers),m=c.length>0,g=!i&&o!=="module";Pr(e,s);const h=f?"ssrRender":"render",I=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${h}(${I}) {`),a(),g&&(n("with (_ctx) {"),a(),m&&(n(`const { ${c.map(Qo).join(", ")} } = _Vue
`,-1),u())),e.components.length&&(Xs(e.components,"component",s),(e.directives.length||e.temps>0)&&u()),e.directives.length&&(Xs(e.directives,"directive",s),e.temps>0&&u()),e.filters&&e.filters.length&&(u(),Xs(e.filters,"filter",s),u()),e.temps>0){n("let ");for(let b=0;b<e.temps;b++)n(`${b>0?", ":""}_temp${b}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),u()),f||n("return "),e.codegenNode?Ee(e.codegenNode,s):n("null"),g&&(d(),n("}")),d(),n("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function Pr(e,t){const{ssr:s,prefixIdentifiers:o,push:n,newline:i,runtimeModuleName:a,runtimeGlobalName:d,ssrRuntimeModuleName:u}=t,r=d,f=Array.from(e.helpers);if(f.length>0&&(n(`const _Vue = ${r}
`,-1),e.hoists.length)){const c=[ws,Es,Ct,xs,ln].filter(m=>f.includes(m)).map(Qo).join(", ");n(`const { ${c} } = _Vue
`,-1)}Dr(e.hoists,t),i(),n("return ")}function Xs(e,t,{helper:s,push:o,newline:n,isTS:i}){const a=s(t==="filter"?Ns:t==="component"?Ss:Cs);for(let d=0;d<e.length;d++){let u=e[d];const r=u.endsWith("__self");r&&(u=u.slice(0,-6)),o(`const ${St(u,t)} = ${a}(${JSON.stringify(u)}${r?", true":""})${i?"!":""}`),d<e.length-1&&n()}}function Dr(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:o}=t;o();for(let n=0;n<e.length;n++){const i=e[n];i&&(s(`const _hoisted_${n+1} = `),Ee(i,t),o())}t.pure=!1}function _n(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),Yt(e,t,s),s&&t.deindent(),t.push("]")}function Yt(e,t,s=!1,o=!0){const{push:n,newline:i}=t;for(let a=0;a<e.length;a++){const d=e[a];me(d)?n(d,-3):He(d)?_n(d,t):Ee(d,t),a<e.length-1&&(s?(o&&n(","),i()):o&&n(", "))}}function Ee(e,t){if(me(e)){t.push(e,-3);return}if(Zs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Ee(e.codegenNode,t);break;case 2:Rr(e,t);break;case 4:ea(e,t);break;case 5:Lr(e,t);break;case 12:Ee(e.codegenNode,t);break;case 8:ta(e,t);break;case 3:jr(e,t);break;case 13:Fr(e,t);break;case 14:Ur(e,t);break;case 15:Xr(e,t);break;case 17:Hr(e,t);break;case 18:qr(e,t);break;case 19:zr(e,t);break;case 20:Wr(e,t);break;case 21:Yt(e.body,t,!0,!1);break}}function Rr(e,t){t.push(JSON.stringify(e.content),-3,e)}function ea(e,t){const{content:s,isStatic:o}=e;t.push(o?JSON.stringify(s):s,-3,e)}function Lr(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ls),s(`${o(Wt)}(`),Ee(e.content,t),s(")")}function ta(e,t){for(let s=0;s<e.children.length;s++){const o=e.children[s];me(o)?t.push(o,-3):Ee(o,t)}}function Vr(e,t){const{push:s}=t;if(e.type===8)s("["),ta(e,t),s("]");else if(e.isStatic){const o=Gt(e.content)?e.content:JSON.stringify(e.content);s(o,-2,e)}else s(`[${e.content}]`,-3,e)}function jr(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ls),s(`${o(Ct)}(${JSON.stringify(e.content)})`,-3,e)}function Fr(e,t){const{push:s,helper:o,pure:n}=t,{tag:i,props:a,children:d,patchFlag:u,dynamicProps:r,directives:f,isBlock:c,disableTracking:m,isComponent:g}=e;let k;u&&(k=String(u)),f&&s(o(Is)+"("),c&&s(`(${o(ot)}(${m?"true":""}), `),n&&s(Ls);const h=c?mt(t.inSSR,g):pt(t.inSSR,g);s(o(h)+"(",-2,e),Yt(Br([i,a,d,k,r]),t),s(")"),c&&s(")"),f&&(s(", "),Ee(f,t),s(")"))}function Br(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function Ur(e,t){const{push:s,helper:o,pure:n}=t,i=me(e.callee)?e.callee:o(e.callee);n&&s(Ls),s(i+"(",-2,e),Yt(e.arguments,t),s(")")}function Xr(e,t){const{push:s,indent:o,deindent:n,newline:i}=t,{properties:a}=e;if(!a.length){s("{}",-2,e);return}const d=a.length>1||!1;s(d?"{":"{ "),d&&o();for(let u=0;u<a.length;u++){const{key:r,value:f}=a[u];Vr(r,t),s(": "),Ee(f,t),u<a.length-1&&(s(","),i())}d&&n(),s(d?"}":" }")}function Hr(e,t){_n(e.elements,t)}function qr(e,t){const{push:s,indent:o,deindent:n}=t,{params:i,returns:a,body:d,newline:u,isSlot:r}=e;r&&s(`_${ct[Ps]}(`),s("(",-2,e),He(i)?Yt(i,t):i&&Ee(i,t),s(") => "),(u||d)&&(s("{"),o()),a?(u&&s("return "),He(a)?_n(a,t):Ee(a,t)):d&&Ee(d,t),(u||d)&&(n(),s("}")),r&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function zr(e,t){const{test:s,consequent:o,alternate:n,newline:i}=e,{push:a,indent:d,deindent:u,newline:r}=t;if(s.type===4){const c=!Gt(s.content);c&&a("("),ea(s,t),c&&a(")")}else a("("),Ee(s,t),a(")");i&&d(),t.indentLevel++,i||a(" "),a("? "),Ee(o,t),t.indentLevel--,i&&r(),i||a(" "),a(": ");const f=n.type===19;f||t.indentLevel++,Ee(n,t),f||t.indentLevel--,i&&u(!0)}function Wr(e,t){const{push:s,helper:o,indent:n,deindent:i,newline:a}=t,{needPauseTracking:d,needArraySpread:u}=e;u&&s("[...("),s(`_cache[${e.index}] || (`),d&&(n(),s(`${o(Ut)}(-1`),e.inVOnce&&s(", true"),s("),"),a(),s("(")),s(`_cache[${e.index}] = `),Ee(e.value,t),d&&(s(`).cacheIndex = ${e.index},`),a(),s(`${o(Ut)}(1),`),a(),s(`_cache[${e.index}]`),i()),s(")"),u&&s(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Gr=(e,t)=>{if(e.type===5)e.content=us(e.content,t);else if(e.type===1){const s=xe(e,"memo");for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&n.name!=="for"){const i=n.exp,a=n.arg;i&&i.type===4&&!(n.name==="on"&&a)&&!(s&&a&&a.type===4&&a.content==="key")&&(n.exp=us(i,t,n.name==="slot")),a&&a.type===4&&!a.isStatic&&(n.arg=us(a,t))}}}};function us(e,t,s=!1,o=!1,n=Object.create(t.identifiers)){return e}function sa(e){return me(e)?e:e.type===4?e.content:e.children.map(sa).join("")}const Kr=yn(/^(if|else|else-if)$/,(e,t,s)=>na(e,t,s,(o,n,i)=>{const a=s.parent.children;let d=a.indexOf(o),u=0;for(;d-->=0;){const r=a[d];r&&r.type===9&&(u+=r.branches.length)}return()=>{if(i)o.codegenNode=Wn(n,u,s);else{const r=Jr(o.codegenNode);r.alternate=Wn(n,u+o.branches.length-1,s)}}}));function na(e,t,s,o){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;s.onError(te(28,t.loc)),t.exp=z("true",!1,n)}if(t.name==="if"){const n=zn(e,t),i={type:9,loc:Tr(e.loc),branches:[n]};if(s.replaceNode(i),o)return o(i,n,!0)}else{const n=s.parent.children;let i=n.indexOf(e);for(;i-->=-1;){const a=n[i];if(a&&a.type===3){s.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){s.removeNode(a);continue}if(a&&a.type===9){t.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&s.onError(te(30,e.loc)),s.removeNode();const d=zn(e,t);a.branches.push(d);const u=o&&o(a,d,!1);Jt(d,s),u&&u(),s.currentNode=null}else s.onError(te(30,e.loc));break}}}function zn(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!xe(e,"for")?e.children:[e],userKey:Kt(e,"key"),isTemplateIf:s}}function Wn(e,t,s){return e.condition?ms(e.condition,Gn(e,t,s),fe(s.helper(Ct),['""',"true"])):Gn(e,t,s)}function Gn(e,t,s){const{helper:o}=s,n=oe("key",z(`${t}`,!1,he,2)),{children:i}=e,a=i[0];if(i.length!==1||a.type!==1)if(i.length===1&&a.type===11){const u=a.codegenNode;return Ht(u,n,s),u}else return wt(s,o(bt),Me([n]),i,64,void 0,void 0,!0,!1,!1,e.loc);else{const u=a.codegenNode,r=Fo(u);return r.type===13&&Rs(r,s),Ht(r,n,s),u}}function Jr(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const oa=(e,t,s)=>{const{modifiers:o,loc:n}=e,i=e.arg;let{exp:a}=e;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(i.type!==4||!i.isStatic)return s.onError(te(52,i.loc)),{props:[oe(i,z("",!0,n))]};aa(e),a=e.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=i.content?`${i.content} || ""`:'""'),o.some(d=>d.content==="camel")&&(i.type===4?i.isStatic?i.content=st(i.content):i.content=`${s.helperString(fs)}(${i.content})`:(i.children.unshift(`${s.helperString(fs)}(`),i.children.push(")"))),s.inSSR||(o.some(d=>d.content==="prop")&&Kn(i,"."),o.some(d=>d.content==="attr")&&Kn(i,"^")),{props:[oe(i,a)]}},aa=(e,t)=>{const s=e.arg,o=st(s.content);e.exp=z(o,!1,s.loc)},Kn=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Yr=yn("for",(e,t,s)=>{const{helper:o,removeHelper:n}=s;return ia(e,t,s,i=>{const a=fe(o(As),[i.source]),d=xt(e),u=xe(e,"memo"),r=Kt(e,"key",!1,!0);r&&r.type===7&&!r.exp&&aa(r);let c=r&&(r.type===6?r.value?z(r.value.content,!0):void 0:r.exp);const m=r&&c?oe("key",c):null,g=i.source.type===4&&i.source.constType>0,k=g?64:r?128:256;return i.codegenNode=wt(s,o(bt),void 0,a,k,void 0,void 0,!0,!g,!1,e.loc),()=>{let h;const{children:j}=i,I=j.length!==1||j[0].type!==1,b=Xt(e)?e:d&&e.children.length===1&&Xt(e.children[0])?e.children[0]:null;if(b?(h=b.codegenNode,d&&m&&Ht(h,m,s)):I?h=wt(s,o(bt),m?Me([m]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(h=j[0].codegenNode,d&&m&&Ht(h,m,s),h.isBlock!==!g&&(h.isBlock?(n(ot),n(mt(s.inSSR,h.isComponent))):n(pt(s.inSSR,h.isComponent))),h.isBlock=!g,h.isBlock?(o(ot),o(mt(s.inSSR,h.isComponent))):o(pt(s.inSSR,h.isComponent))),u){const w=ft(vs(i.parseResult,[z("_cached")]));w.body=No([De(["const _memo = (",u.exp,")"]),De(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${s.helperString(cn)}(_cached, _memo)) return _cached`]),De(["const _item = ",h]),z("_item.memo = _memo"),z("return _item")]),a.arguments.push(w,z("_cache"),z(String(s.cached.length))),s.cached.push(null)}else a.arguments.push(ft(vs(i.parseResult),h,!0))}})});function ia(e,t,s,o){if(!t.exp){s.onError(te(31,t.loc));return}const n=t.forParseResult;if(!n){s.onError(te(32,t.loc));return}bn(n);const{addIdentifiers:i,removeIdentifiers:a,scopes:d}=s,{source:u,value:r,key:f,index:c}=n,m={type:11,loc:t.loc,source:u,valueAlias:r,keyAlias:f,objectIndexAlias:c,parseResult:n,children:xt(e)?e.children:[e]};s.replaceNode(m),d.vFor++;const g=o&&o(m);return()=>{d.vFor--,g&&g()}}function bn(e,t){e.finalized||(e.finalized=!0)}function vs({value:e,key:t,index:s},o=[]){return Qr([e,t,s,...o])}function Qr(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,o)=>s||z("_".repeat(o+1),!1))}const Jn=z("undefined",!1),ra=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=xe(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Zr=(e,t)=>{let s;if(xt(e)&&e.props.some(hn)&&(s=xe(e,"for"))){const o=s.forParseResult;if(o){bn(o);const{value:n,key:i,index:a}=o,{addIdentifiers:d,removeIdentifiers:u}=t;return n&&d(n),i&&d(i),a&&d(a),()=>{n&&u(n),i&&u(i),a&&u(a)}}}},el=(e,t,s,o)=>ft(e,s,!1,!0,s.length?s[0].loc:o);function la(e,t,s=el){t.helper(Ps);const{children:o,loc:n}=e,i=[],a=[];let d=t.scopes.vSlot>0||t.scopes.vFor>0;const u=xe(e,"slot",!0);if(u){const{arg:j,exp:I}=u;j&&!Se(j)&&(d=!0),i.push(oe(j||z("default",!0),s(I,void 0,o,n)))}let r=!1,f=!1;const c=[],m=new Set;let g=0;for(let j=0;j<o.length;j++){const I=o[j];let b;if(!xt(I)||!(b=xe(I,"slot",!0))){I.type!==3&&c.push(I);continue}if(u){t.onError(te(37,b.loc));break}r=!0;const{children:w,loc:D}=I,{arg:V=z("default",!0),exp:U,loc:J}=b;let T;Se(V)?T=V?V.content:"default":d=!0;const S=xe(I,"for"),L=s(U,S,w,D);let A,y;if(A=xe(I,"if"))d=!0,a.push(ms(A.exp,ts(V,L,g++),Jn));else if(y=xe(I,/^else(-if)?$/,!0)){let x=j,P;for(;x--&&(P=o[x],!(P.type!==3&&Ys(P))););if(P&&xt(P)&&xe(P,/^(else-)?if$/)){let $=a[a.length-1];for(;$.alternate.type===19;)$=$.alternate;$.alternate=y.exp?ms(y.exp,ts(V,L,g++),Jn):ts(V,L,g++)}else t.onError(te(30,y.loc))}else if(S){d=!0;const x=S.forParseResult;x?(bn(x),a.push(fe(t.helper(As),[x.source,ft(vs(x),ts(V,L),!0)]))):t.onError(te(32,S.loc))}else{if(T){if(m.has(T)){t.onError(te(38,J));continue}m.add(T),T==="default"&&(f=!0)}i.push(oe(V,L))}}if(!u){const j=(I,b)=>{const w=s(I,void 0,b,n);return t.compatConfig&&(w.isNonScopedSlot=!0),oe("default",w)};r?c.length&&c.some(I=>Ys(I))&&(f?t.onError(te(39,c[0].loc)):i.push(j(void 0,c))):i.push(j(void 0,o))}const k=d?2:ds(e.children)?3:1;let h=Me(i.concat(oe("_",z(k+"",!1))),n);return a.length&&(h=fe(t.helper(dn),[h,nt(a)])),{slots:h,hasDynamicSlots:d}}function ts(e,t,s){const o=[oe("name",e),oe("fn",t)];return s!=null&&o.push(oe("key",z(String(s),!0))),Me(o)}function ds(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||ds(s.children))return!0;break;case 9:if(ds(s.branches))return!0;break;case 10:case 11:if(ds(s.children))return!0;break}}return!1}function Ys(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():Ys(e.content)}const ua=new WeakMap,da=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:o,props:n}=e,i=e.tagType===1;let a=i?ca(e,t):`"${o}"`;const d=mo(a)&&a.callee===Ts;let u,r,f=0,c,m,g,k=d||a===yt||a===ks||!i&&(o==="svg"||o==="foreignObject"||o==="math");if(n.length>0){const h=kn(e,t,void 0,i,d);u=h.props,f=h.patchFlag,m=h.dynamicPropNames;const j=h.directives;g=j&&j.length?nt(j.map(I=>fa(I,t))):void 0,h.shouldUseBlock&&(k=!0)}if(e.children.length>0)if(a===Ft&&(k=!0,f|=1024),i&&a!==yt&&a!==Ft){const{slots:j,hasDynamicSlots:I}=la(e,t);r=j,I&&(f|=1024)}else if(e.children.length===1&&a!==yt){const j=e.children[0],I=j.type,b=I===5||I===8;b&&Ae(j,t)===0&&(f|=1),b||I===2?r=j:r=e.children}else r=e.children;m&&m.length&&(c=sl(m)),e.codegenNode=wt(t,a,u,r,f===0?void 0:f,c,g,!!k,!1,i,e.loc)};function ca(e,t,s=!1){let{tag:o}=e;const n=Qs(o),i=Kt(e,"is",!1,!0);if(i)if(n||dt("COMPILER_IS_ON_ELEMENT",t)){let d;if(i.type===6?d=i.value&&z(i.value.content,!0):(d=i.exp,d||(d=z("is",!1,i.arg.loc))),d)return fe(t.helper(Ts),[d])}else i.type===6&&i.value.content.startsWith("vue:")&&(o=i.value.content.slice(4));const a=pn(o)||t.isBuiltInComponent(o);return a?(s||t.helper(a),a):(t.helper(Ss),t.components.add(o),St(o,"component"))}function kn(e,t,s=e.props,o,n,i=!1){const{tag:a,loc:d,children:u}=e;let r=[];const f=[],c=[],m=u.length>0;let g=!1,k=0,h=!1,j=!1,I=!1,b=!1,w=!1,D=!1;const V=[],U=L=>{r.length&&(f.push(Me(Yn(r),d)),r=[]),L&&f.push(L)},J=()=>{t.scopes.vFor>0&&r.push(oe(z("ref_for",!0),z("true")))},T=({key:L,value:A})=>{if(Se(L)){const y=L.content,x=ho(y);if(x&&(!o||n)&&y.toLowerCase()!=="onclick"&&y!=="onUpdate:modelValue"&&!Dn(y)&&(b=!0),x&&Dn(y)&&(D=!0),x&&A.type===14&&(A=A.arguments[0]),A.type===20||(A.type===4||A.type===8)&&Ae(A,t)>0)return;y==="ref"?h=!0:y==="class"?j=!0:y==="style"?I=!0:y!=="key"&&!V.includes(y)&&V.push(y),o&&(y==="class"||y==="style")&&!V.includes(y)&&V.push(y)}else w=!0};for(let L=0;L<s.length;L++){const A=s[L];if(A.type===6){const{loc:y,name:x,nameLoc:P,value:$}=A;let q=!0;if(x==="ref"&&(h=!0,J()),x==="is"&&(Qs(a)||$&&$.content.startsWith("vue:")||dt("COMPILER_IS_ON_ELEMENT",t)))continue;r.push(oe(z(x,!0,P),z($?$.content:"",q,$?$.loc:y)))}else{const{name:y,arg:x,exp:P,loc:$,modifiers:q}=A,H=y==="bind",se=y==="on";if(y==="slot"){o||t.onError(te(40,$));continue}if(y==="once"||y==="memo"||y==="is"||H&&tt(x,"is")&&(Qs(a)||dt("COMPILER_IS_ON_ELEMENT",t))||se&&i)continue;if((H&&tt(x,"key")||se&&m&&tt(x,"vue:before-update"))&&(g=!0),H&&tt(x,"ref")&&J(),!x&&(H||se)){if(w=!0,P)if(H){if(U(),dt("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(P);continue}J(),U(),f.push(P)}else U({type:14,loc:$,callee:t.helper(Ms),arguments:o?[P]:[P,"true"]});else t.onError(te(H?34:35,$));continue}H&&q.some(Te=>Te.content==="prop")&&(k|=32);const Re=t.directiveTransforms[y];if(Re){const{props:Te,needRuntime:It}=Re(A,e,t);!i&&Te.forEach(T),se&&x&&!Se(x)?U(Me(Te,d)):r.push(...Te),It&&(c.push(A),Zs(It)&&ua.set(A,It))}else Xa(y)||(c.push(A),m&&(g=!0))}}let S;if(f.length?(U(),f.length>1?S=fe(t.helper(Bt),f,d):S=f[0]):r.length&&(S=Me(Yn(r),d)),w?k|=16:(j&&!o&&(k|=2),I&&!o&&(k|=4),V.length&&(k|=8),b&&(k|=32)),!g&&(k===0||k===32)&&(h||D||c.length>0)&&(k|=512),!t.inSSR&&S)switch(S.type){case 15:let L=-1,A=-1,y=!1;for(let $=0;$<S.properties.length;$++){const q=S.properties[$].key;Se(q)?q.content==="class"?L=$:q.content==="style"&&(A=$):q.isHandlerKey||(y=!0)}const x=S.properties[L],P=S.properties[A];y?S=fe(t.helper(kt),[S]):(x&&!Se(x.value)&&(x.value=fe(t.helper(Os),[x.value])),P&&(I||P.value.type===4&&P.value.content.trim()[0]==="["||P.value.type===17)&&(P.value=fe(t.helper($s),[P.value])));break;case 14:break;default:S=fe(t.helper(kt),[fe(t.helper(Nt),[S])]);break}return{props:S,directives:c,patchFlag:k,dynamicPropNames:V,shouldUseBlock:g}}function Yn(e){const t=new Map,s=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.key.type===8||!n.key.isStatic){s.push(n);continue}const i=n.key.content,a=t.get(i);a?(i==="style"||i==="class"||ho(i))&&tl(a,n):(t.set(i,n),s.push(n))}return s}function tl(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=nt([e.value,t.value],e.loc)}function fa(e,t){const s=[],o=ua.get(e);o?s.push(t.helperString(o)):(t.helper(Cs),t.directives.add(e.name),s.push(St(e.name,"directive")));const{loc:n}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const i=z("true",!1,n);s.push(Me(e.modifiers.map(a=>oe(a,i)),n))}return nt(s,e.loc)}function sl(e){let t="[";for(let s=0,o=e.length;s<o;s++)t+=JSON.stringify(e[s]),s<o-1&&(t+=", ");return t+"]"}function Qs(e){return e==="component"||e==="Component"}const nl=(e,t)=>{if(Xt(e)){const{children:s,loc:o}=e,{slotName:n,slotProps:i}=pa(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let d=2;i&&(a[2]=i,d=3),s.length&&(a[3]=ft([],s,!1,!1,o),d=4),t.scopeId&&!t.slotted&&(d=5),a.splice(d),e.codegenNode=fe(t.helper(un),a,o)}};function pa(e,t){let s='"default"',o;const n=[];for(let i=0;i<e.props.length;i++){const a=e.props[i];if(a.type===6)a.value&&(a.name==="name"?s=JSON.stringify(a.value.content):(a.name=st(a.name),n.push(a)));else if(a.name==="bind"&&tt(a.arg,"name")){if(a.exp)s=a.exp;else if(a.arg&&a.arg.type===4){const d=st(a.arg.content);s=a.exp=z(d,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Se(a.arg)&&(a.arg.content=st(a.arg.content)),n.push(a)}if(n.length>0){const{props:i,directives:a}=kn(e,t,n,!1,!1);o=i,a.length&&t.onError(te(36,a[0].loc))}return{slotName:s,slotProps:o}}const wn=(e,t,s,o)=>{const{loc:n,modifiers:i,arg:a}=e;!e.exp&&!i.length&&s.onError(te(35,n));let d;if(a.type===4)if(a.isStatic){let c=a.content;c.startsWith("vue:")&&(c=`vnode-${c.slice(4)}`);const m=t.tagType!==0||c.startsWith("vnode")||!/[A-Z]/.test(c)?qa(st(c)):`on:${c}`;d=z(m,!0,a.loc)}else d=De([`${s.helperString(ps)}(`,a,")"]);else d=a,d.children.unshift(`${s.helperString(ps)}(`),d.children.push(")");let u=e.exp;u&&!u.content.trim()&&(u=void 0);let r=s.cacheHandlers&&!u&&!s.inVOnce;if(u){const c=mn(u),m=!(c||Ro(u)),g=u.content.includes(";");(m||r&&c)&&(u=De([`${m?"$event":"(...args)"} => ${g?"{":"("}`,u,g?"}":")"]))}let f={props:[oe(d,u||z("() => {}",!1,n))]};return o&&(f=o(f)),r&&(f.props[0].value=s.cache(f.props[0].value)),f.props.forEach(c=>c.key.isHandlerKey=!0),f},ol=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let o,n=!1;for(let i=0;i<s.length;i++){const a=s[i];if(as(a)){n=!0;for(let d=i+1;d<s.length;d++){const u=s[d];if(as(u))o||(o=s[i]=De([a],a.loc)),o.children.push(" + ",u),s.splice(d,1),d--;else{o=void 0;break}}}}if(!(!n||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&e.tag!=="template")))for(let i=0;i<s.length;i++){const a=s[i];if(as(a)||a.type===8){const d=[];(a.type!==2||a.content!==" ")&&d.push(a),!t.ssr&&Ae(a,t)===0&&d.push("1"),s[i]={type:12,content:a,loc:a.loc,codegenNode:fe(t.helper(xs),d)}}}}},Qn=new WeakSet,al=(e,t)=>{if(e.type===1&&xe(e,"once",!0))return Qn.has(e)||t.inVOnce||t.inSSR?void 0:(Qn.add(e),t.inVOnce=!0,t.helper(Ut),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0,!0))})},En=(e,t,s)=>{const{exp:o,arg:n}=e;if(!o)return s.onError(te(41,e.loc)),ss();const i=o.loc.source.trim(),a=o.type===4?o.content:i,d=s.bindingMetadata[i];if(d==="props"||d==="props-aliased")return s.onError(te(44,o.loc)),ss();if(!a.trim()||!mn(o))return s.onError(te(42,o.loc)),ss();const u=n||z("modelValue",!0),r=n?Se(n)?`onUpdate:${st(n.content)}`:De(['"onUpdate:" + ',n]):"onUpdate:modelValue";let f;const c=s.isTS?"($event: any)":"$event";f=De([`${c} => ((`,o,") = $event)"]);const m=[oe(u,e.exp),oe(r,f)];if(e.modifiers.length&&t.tagType===1){const g=e.modifiers.map(h=>h.content).map(h=>(Gt(h)?h:JSON.stringify(h))+": true").join(", "),k=n?Se(n)?`${n.content}Modifiers`:De([n,' + "Modifiers"']):"modelModifiers";m.push(oe(k,z(`{ ${g} }`,!1,e.loc,2)))}return ss(m)};function ss(e=[]){return{props:e}}const il=/[\w).+\-_$\]]/,rl=(e,t)=>{dt("COMPILER_FILTERS",t)&&(e.type===5?gs(e.content,t):e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&gs(s.exp,t)}))};function gs(e,t){if(e.type===4)Zn(e,t);else for(let s=0;s<e.children.length;s++){const o=e.children[s];typeof o=="object"&&(o.type===4?Zn(o,t):o.type===8?gs(e,t):o.type===5&&gs(o.content,t))}}function Zn(e,t){const s=e.content;let o=!1,n=!1,i=!1,a=!1,d=0,u=0,r=0,f=0,c,m,g,k,h=[];for(g=0;g<s.length;g++)if(m=c,c=s.charCodeAt(g),o)c===39&&m!==92&&(o=!1);else if(n)c===34&&m!==92&&(n=!1);else if(i)c===96&&m!==92&&(i=!1);else if(a)c===47&&m!==92&&(a=!1);else if(c===124&&s.charCodeAt(g+1)!==124&&s.charCodeAt(g-1)!==124&&!d&&!u&&!r)k===void 0?(f=g+1,k=s.slice(0,g).trim()):j();else{switch(c){case 34:n=!0;break;case 39:o=!0;break;case 96:i=!0;break;case 40:r++;break;case 41:r--;break;case 91:u++;break;case 93:u--;break;case 123:d++;break;case 125:d--;break}if(c===47){let I=g-1,b;for(;I>=0&&(b=s.charAt(I),b===" ");I--);(!b||!il.test(b))&&(a=!0)}}k===void 0?k=s.slice(0,g).trim():f!==0&&j();function j(){h.push(s.slice(f,g).trim()),f=g+1}if(h.length){for(g=0;g<h.length;g++)k=ll(k,h[g],t);e.content=k,e.ast=void 0}}function ll(e,t,s){s.helper(Ns);const o=t.indexOf("(");if(o<0)return s.filters.add(t),`${St(t,"filter")}(${e})`;{const n=t.slice(0,o),i=t.slice(o+1);return s.filters.add(n),`${St(n,"filter")}(${e}${i!==")"?","+i:i}`}}const eo=new WeakSet,ul=(e,t)=>{if(e.type===1){const s=xe(e,"memo");return!s||eo.has(e)?void 0:(eo.add(e),()=>{const o=e.codegenNode||t.currentNode.codegenNode;o&&o.type===13&&(e.tagType!==1&&Rs(o,t),e.codegenNode=fe(t.helper(Ds),[s.exp,ft(void 0,o),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function ma(e){return[[al,Kr,ul,Yr,rl,nl,da,ra,ol],{on:wn,bind:oa,model:En}]}function ha(e,t={}){const s=t.onError||fn,o=t.mode==="module";t.prefixIdentifiers===!0?s(te(47)):o&&s(te(48));const n=!1;t.cacheHandlers&&s(te(49)),t.scopeId&&!o&&s(te(50));const i=ze({},t,{prefixIdentifiers:n}),a=me(e)?gn(e,i):e,[d,u]=ma();return Yo(a,ze({},i,{nodeTransforms:[...d,...t.nodeTransforms||[]],directiveTransforms:ze({},u,t.directiveTransforms||{})})),Zo(a,i)}const dl={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},va=()=>({props:[]});/**
* @vue/compiler-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const xn=Symbol(""),Sn=Symbol(""),Tn=Symbol(""),Cn=Symbol(""),ys=Symbol(""),Nn=Symbol(""),In=Symbol(""),An=Symbol(""),On=Symbol(""),$n=Symbol("");So({[xn]:"vModelRadio",[Sn]:"vModelCheckbox",[Tn]:"vModelText",[Cn]:"vModelSelect",[ys]:"vModelDynamic",[Nn]:"withModifiers",[In]:"withKeys",[An]:"vShow",[On]:"Transition",[$n]:"TransitionGroup"});let gt;function cl(e,t=!1){return gt||(gt=document.createElement("div")),t?(gt.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,gt.children[0].getAttribute("foo")):(gt.innerHTML=e,gt.textContent)}const Mn={parseMode:"html",isVoidTag:Ka,isNativeTag:e=>za(e)||Wa(e)||Ga(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:cl,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return On;if(e==="TransitionGroup"||e==="transition-group")return $n},getNamespace(e,t,s){let o=t?t.ns:s;if(t&&o===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(o=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(o=0);else t&&o===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(o=0);if(o===0){if(e==="svg")return 1;if(e==="math")return 2}return o}},ga=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:z("style",!0,t.loc),exp:fl(t.value.content,t.loc),modifiers:[],loc:t.loc})})},fl=(e,t)=>{const s=Ja(e);return z(JSON.stringify(s),!1,t,3)};function Ge(e,t){return te(e,t)}const pl={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},ml={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},hl=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(Ge(53,n)),t.children.length&&(s.onError(Ge(54,n)),t.children.length=0),{props:[oe(z("innerHTML",!0,n),o||z("",!0))]}},vl=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(Ge(55,n)),t.children.length&&(s.onError(Ge(56,n)),t.children.length=0),{props:[oe(z("textContent",!0),o?Ae(o,s)>0?o:fe(s.helperString(Wt),[o],n):z("",!0))]}},gl=(e,t,s)=>{const o=En(e,t,s);if(!o.props.length||t.tagType===1)return o;e.arg&&s.onError(Ge(58,e.arg.loc));const{tag:n}=t,i=s.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||i){let a=Tn,d=!1;if(n==="input"||i){const u=Kt(t,"type");if(u){if(u.type===7)a=ys;else if(u.value)switch(u.value.content){case"radio":a=xn;break;case"checkbox":a=Sn;break;case"file":d=!0,s.onError(Ge(59,e.loc));break}}else Vo(t)&&(a=ys)}else n==="select"&&(a=Cn);d||(o.needRuntime=s.helper(a))}else s.onError(Ge(57,e.loc));return o.props=o.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),o},yl=bs("passive,once,capture"),_l=bs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),bl=bs("left,right"),ya=bs("onkeyup,onkeydown,onkeypress"),kl=(e,t,s,o)=>{const n=[],i=[],a=[];for(let d=0;d<t.length;d++){const u=t[d].content;u==="native"&&Et("COMPILER_V_ON_NATIVE",s)||yl(u)?a.push(u):bl(u)?Se(e)?ya(e.content.toLowerCase())?n.push(u):i.push(u):(n.push(u),i.push(u)):_l(u)?i.push(u):n.push(u)}return{keyModifiers:n,nonKeyModifiers:i,eventOptionModifiers:a}},to=(e,t)=>Se(e)&&e.content.toLowerCase()==="onclick"?z(t,!0):e.type!==4?De(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,wl=(e,t,s)=>wn(e,t,s,o=>{const{modifiers:n}=e;if(!n.length)return o;let{key:i,value:a}=o.props[0];const{keyModifiers:d,nonKeyModifiers:u,eventOptionModifiers:r}=kl(i,n,s,e.loc);if(u.includes("right")&&(i=to(i,"onContextmenu")),u.includes("middle")&&(i=to(i,"onMouseup")),u.length&&(a=fe(s.helper(Nn),[a,JSON.stringify(u)])),d.length&&(!Se(i)||ya(i.content.toLowerCase()))&&(a=fe(s.helper(In),[a,JSON.stringify(d)])),r.length){const f=r.map(po).join("");i=Se(i)?z(`${i.content}${f}`,!0):De(["(",i,`) + "${f}"`])}return{props:[oe(i,a)]}}),El=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(Ge(61,n)),{props:[],needRuntime:s.helper(An)}},xl=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},_a=[ga],ba={cloak:va,html:hl,text:vl,model:gl,on:wl,show:El};function Sl(e,t={}){return ha(e,ze({},Mn,t,{nodeTransforms:[xl,..._a,...t.nodeTransforms||[]],directiveTransforms:ze({},ba,t.directiveTransforms||{}),transformHoist:null}))}function Tl(e,t={}){return gn(e,ze({},Mn,t))}const Cl=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:on,BindingTypes:dl,CAMELIZE:fs,CAPITALIZE:bo,CREATE_BLOCK:an,CREATE_COMMENT:Ct,CREATE_ELEMENT_BLOCK:rn,CREATE_ELEMENT_VNODE:Es,CREATE_SLOTS:dn,CREATE_STATIC:ln,CREATE_TEXT:xs,CREATE_VNODE:ws,CompilerDeprecationTypes:zi,ConstantTypes:Vi,DOMDirectiveTransforms:ba,DOMErrorCodes:pl,DOMErrorMessages:ml,DOMNodeTransforms:_a,ElementTypes:Li,ErrorCodes:Ki,FRAGMENT:bt,GUARD_REACTIVE_PROPS:Nt,IS_MEMO_SAME:cn,IS_REF:xo,KEEP_ALIVE:Ft,MERGE_PROPS:Bt,NORMALIZE_CLASS:Os,NORMALIZE_PROPS:kt,NORMALIZE_STYLE:$s,Namespaces:Di,NodeTypes:Ri,OPEN_BLOCK:ot,POP_SCOPE_ID:wo,PUSH_SCOPE_ID:ko,RENDER_LIST:As,RENDER_SLOT:un,RESOLVE_COMPONENT:Ss,RESOLVE_DIRECTIVE:Cs,RESOLVE_DYNAMIC_COMPONENT:Ts,RESOLVE_FILTER:Ns,SET_BLOCK_TRACKING:Ut,SUSPENSE:ks,TELEPORT:yt,TO_DISPLAY_STRING:Wt,TO_HANDLERS:Ms,TO_HANDLER_KEY:ps,TRANSITION:On,TRANSITION_GROUP:$n,TS_NODE_TYPES:Oo,UNREF:Eo,V_MODEL_CHECKBOX:Sn,V_MODEL_DYNAMIC:ys,V_MODEL_RADIO:xn,V_MODEL_SELECT:Cn,V_MODEL_TEXT:Tn,V_ON_WITH_KEYS:In,V_ON_WITH_MODIFIERS:Nn,V_SHOW:An,WITH_CTX:Ps,WITH_DIRECTIVES:Is,WITH_MEMO:Ds,advancePositionWithClone:mr,advancePositionWithMutation:Lo,assert:hr,baseCompile:ha,baseParse:gn,buildDirectiveArgs:fa,buildProps:kn,buildSlots:la,checkCompatEnabled:Et,compile:Sl,convertToBlock:Rs,createArrayExpression:nt,createAssignmentExpression:Ui,createBlockStatement:No,createCacheExpression:Co,createCallExpression:fe,createCompilerError:te,createCompoundExpression:De,createConditionalExpression:ms,createDOMCompilerError:Ge,createForLoopParams:vs,createFunctionExpression:ft,createIfStatement:Bi,createInterpolation:ji,createObjectExpression:Me,createObjectProperty:oe,createReturnStatement:Hi,createRoot:To,createSequenceExpression:Xi,createSimpleExpression:z,createStructuralDirectiveTransform:yn,createTemplateLiteral:Fi,createTransformContext:Jo,createVNodeCall:wt,errorMessages:Ji,extractIdentifiers:qe,findDir:xe,findProp:Kt,forAliasRE:Bo,generate:Zo,generateCodeFrame:Ya,getBaseTransformPreset:ma,getConstantType:Ae,getMemoedVNodeCall:Fo,getVNodeBlockHelper:mt,getVNodeHelper:pt,hasDynamicKeyVBind:Vo,hasScopeRef:Le,helperNameMap:ct,injectProp:Ht,isCoreComponent:pn,isFnExpression:Ro,isFnExpressionBrowser:Do,isFnExpressionNode:pr,isFunctionType:ar,isInDestructureAssignment:Zi,isInNewExpression:er,isMemberExpression:mn,isMemberExpressionBrowser:Po,isMemberExpressionNode:cr,isReferencedIdentifier:Qi,isSimpleIdentifier:Gt,isSlotOutlet:Xt,isStaticArgOf:tt,isStaticExp:Se,isStaticProperty:Ao,isStaticPropertyKey:ir,isTemplateNode:xt,isText:as,isVPre:Gs,isVSlot:hn,locStub:he,noopDirectiveTransform:va,parse:Tl,parserOptions:Mn,processExpression:us,processFor:ia,processIf:na,processSlotOutlet:pa,registerRuntimeHelpers:So,resolveComponentType:ca,stringifyExpression:sa,toValidAssetId:St,trackSlotScopes:ra,trackVForSlotScopes:Zr,transform:Yo,transformBind:oa,transformElement:da,transformExpression:Gr,transformModel:En,transformOn:wn,transformStyle:ga,traverseNode:Jt,unwrapTSNode:$o,walkBlockDeclarations:sr,walkFunctionParams:tr,walkIdentifiers:Yi,warnDeprecation:Gi},Symbol.toStringTag,{value:"Module"})),Nl=en(Cl),Il=en(Qa),Al=en(Za);/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var so;function Ol(){return so||(so=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Nl,s=Il,o=Al;function n(u){var r=Object.create(null);if(u)for(var f in u)r[f]=u[f];return r.default=u,Object.freeze(r)}var i=n(s);const a=Object.create(null);function d(u,r){if(!o.isString(u))if(u.nodeType)u=u.innerHTML;else return o.NOOP;const f=o.genCacheKey(u,r),c=a[f];if(c)return c;if(u[0]==="#"){const h=document.querySelector(u);u=h?h.innerHTML:""}const m=o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},r);!m.isCustomElement&&typeof customElements<"u"&&(m.isCustomElement=h=>!!customElements.get(h));const{code:g}=t.compile(u,m),k=new Function("Vue",g)(i);return k._rc=!0,a[f]=k}s.registerRuntimeCompiler(d),e.compile=d,Object.keys(s).forEach(function(u){u!=="default"&&!Object.prototype.hasOwnProperty.call(e,u)&&(e[u]=s[u])})}(Us)),Us}var no;function $l(){return no||(no=1,Bs.exports=Ol()),Bs.exports}var Ml=os.exports,oo;function Pl(){return oo||(oo=1,function(e,t){(function(o,n){e.exports=n($l())})(Ml,s=>(()=>{var o={113:(T,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=(L,A)=>{const y=L.__vccOpts||L;for(const[x,P]of A)y[x]=P;return y}},594:T=>{T.exports=s}},n={};function i(T){var S=n[T];if(S!==void 0)return S.exports;var L=n[T]={exports:{}};return o[T](L,L.exports,i),L.exports}i.d=(T,S)=>{for(var L in S)i.o(S,L)&&!i.o(T,L)&&Object.defineProperty(T,L,{enumerable:!0,get:S[L]})},i.o=(T,S)=>Object.prototype.hasOwnProperty.call(T,S),i.r=T=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{ToastComponent:()=>D,ToastPlugin:()=>U,ToastPositions:()=>g,default:()=>J,useToast:()=>V});var d=i(594);const u=["innerHTML"];function r(T,S,L,A,y,x){return(0,d.openBlock)(),(0,d.createBlock)(d.Transition,{"enter-active-class":T.transition.enter,"leave-active-class":T.transition.leave},{default:(0,d.withCtx)(()=>[(0,d.withDirectives)((0,d.createElementVNode)("div",{ref:"root",role:"alert",class:(0,d.normalizeClass)(["v-toast__item",[`v-toast__item--${T.type}`,`v-toast__item--${T.position}`]]),onMouseover:S[0]||(S[0]=P=>T.toggleTimer(!0)),onMouseleave:S[1]||(S[1]=P=>T.toggleTimer(!1)),onClick:S[2]||(S[2]=function(){return T.whenClicked&&T.whenClicked(...arguments)})},[S[3]||(S[3]=(0,d.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,d.createElementVNode)("p",{class:"v-toast__text",innerHTML:T.message},null,8,u)],34),[[d.vShow,T.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function f(T){var S;typeof T.remove<"u"?T.remove():(S=T.parentNode)==null||S.removeChild(T)}function c(T,S,L){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const y=(0,d.h)(T,S,A),x=document.createElement("div");return x.classList.add("v-toast--pending"),L.appendChild(x),(0,d.render)(y,x),y.component}class m{constructor(S,L){this.startedAt=Date.now(),this.callback=S,this.delay=L,this.timer=setTimeout(S,L)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const g=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function k(T){return{all:T=T||new Map,on:function(S,L){var A=T.get(S);A?A.push(L):T.set(S,[L])},off:function(S,L){var A=T.get(S);A&&(L?A.splice(A.indexOf(L)>>>0,1):T.set(S,[]))},emit:function(S,L){var A=T.get(S);A&&A.slice().map(function(y){y(L)}),(A=T.get("*"))&&A.slice().map(function(y){y(S,L)})}}}const j=k(),I=(0,d.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:g.BOTTOM_RIGHT,validator(T){return Object.values(g).includes(T)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),j.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const T=document.body;T.appendChild(this.parentTop),T.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const T=this.$refs.root;(0,d.render)(null,T),f(T)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const T=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),f(T),this.isActive=!0,this.duration&&(this.timer=new m(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(T){!this.pauseOnHover||!this.timer||(T?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case g.TOP:case g.TOP_RIGHT:case g.TOP_LEFT:return this.parentTop;case g.BOTTOM:case g.BOTTOM_RIGHT:case g.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case g.TOP:case g.TOP_RIGHT:case g.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case g.BOTTOM:case g.BOTTOM_RIGHT:case g.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){j.off("toast-clear",this.dismiss)}});var b=i(113);const D=(0,b.default)(I,[["render",r]]),V=function(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(S){let L=null;typeof S=="string"&&(L=S);const y=Object.assign({},{message:L},T,S);return{dismiss:c(D,y,document.body).ctx.dismiss}},clear(){j.emit("toast-clear")},success(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"success"},L))},error(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"error"},L))},info(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"info"},L))},warning(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"warning"},L))},default(S){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"default"},L))}}},U={install:function(T){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=V(S);T.config.globalProperties.$toast=L,T.provide("$toast",L)}},J=U;return a})())}(os)),os.exports}var Dl=Pl();const Rl={class:"p-8"},Ll={class:"mt-2 text-sm text-gray-600"},Vl={key:0,class:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-lg"},jl={class:"mt-4"},Fl={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},Bl={class:"lg:col-span-1 space-y-3"},Ul=["onClick"],Xl={class:"flex items-center justify-between"},Hl={class:"flex items-center"},ql={class:"ml-2 text-sm text-gray-500"},zl={key:0},Wl={key:1},Gl={key:1,class:"text-xs text-gray-400"},Kl={key:0,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner"},Jl={key:0},Yl={class:"text-xl font-semibold text-gray-800 mb-4"},Ql={class:"mb-4 text-sm text-right"},Zl=["disabled"],eu={class:"flex items-center justify-between mb-6 p-4 rounded-lg bg-white shadow-sm border border-gray-200"},tu={class:"relative inline-flex items-center cursor-pointer"},su=["checked"],nu={key:0},ou={class:"flex-1"},au=["onUpdate:modelValue"],iu={class:"flex-1"},ru=["onUpdate:modelValue"],lu=["onClick"],uu={key:1},du={key:1,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner flex items-center justify-center"},cu={class:"mt-8 flex justify-end space-x-3"},fu={key:0,class:"flex items-center"},pu={key:1},mu={__name:"AvailabilityModal",props:{show:Boolean,userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(e,{emit:t}){const s=()=>{const A=localStorage.getItem("authToken");A&&!re.defaults.headers.common.Authorization&&(re.defaults.headers.common.Authorization=`Bearer ${A}`)},o=e,n=t,i=Dl.useToast(),a=M({}),d=M({}),u=M(!1),r=M(null),f=M(""),c=M(!1),m=M([]),g=()=>{const A=[],y=new Date,x=y.getDay(),P=x===0?1:8-x,$=new Date(y);$.setDate(y.getDate()+P);for(let q=0;q<7;q++){const H=new Date($);H.setDate($.getDate()+q);const se=H.toISOString().split("T")[0];A.push({value:se,label:H.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:H.toLocaleDateString("en-US",{weekday:"short"})})}return A},k=()=>{const A=[],y=new Date,x=y.getDay(),P=new Date(y);P.setDate(y.getDate()-(x===0?6:x-1));for(let $=0;$<7;$++){const q=new Date(P);q.setDate(P.getDate()+$);const H=q.toISOString().split("T")[0];A.push({value:H,label:q.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:q.toLocaleDateString("en-US",{weekday:"short"})})}return A},h=()=>{c.value=!0,f.value="",m.value=k(),r.value=null,I()},j=()=>{c.value=!1,f.value="",m.value=g(),r.value=null,I()};Je(()=>{s(),m.value=g(),I()});const I=async()=>{try{if(s(),m.value.length===0)return;const A=m.value[0].value,y=m.value[m.value.length-1].value,x=await re.get("/api/availabilities",{params:{start_date:A,end_date:y,user_id:o.userId}});if(x.data&&x.data.availabilities){const P={};m.value.forEach($=>{P[$.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),a.value=P,x.data.availabilities.forEach($=>{const q=$.date.split("T")[0];a.value[q]&&(a.value[q].isSelected=!0,a.value[q].isAvailable=$.is_available,$.is_available?a.value[q].timeSlots=$.time_slots&&$.time_slots.length>0?[...$.time_slots]:[{start_time:"",end_time:""}]:a.value[q].reason=$.reason||"")})}}catch(A){console.error("Error fetching existing availabilities:",A)}};ge(()=>o.show,async A=>{A&&(d.value={},f.value="",c.value=!1,m.value=g(),await I()),r.value=null},{immediate:!0});const b=G(()=>a.value[r.value]||{isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}),w=G(()=>Object.values(a.value).some(A=>A.isSelected)),D=G(()=>{const A=a.value[r.value];return A?A.isAvailable?A.timeSlots.some(y=>y.start_time&&y.end_time):A.reason.trim().split(/\s+/).filter(Boolean).length>=2:!1}),V=A=>{r.value=A,a.value[A]&&(a.value[A].isSelected=!0)},U=()=>{var y;const A=(y=a.value[r.value])==null?void 0:y.timeSlots;A&&(A.push({start_time:"",end_time:""}),a.value[r.value].isSelected=!0)},J=A=>{var x;const y=(x=a.value[r.value])==null?void 0:x.timeSlots;y&&y.length>1&&(y.splice(A,1),a.value[r.value].isSelected=!0)},T=A=>{a.value[r.value]&&(a.value[r.value].isAvailable=A,a.value[r.value].isSelected=!0,A?a.value[r.value].reason="":a.value[r.value].timeSlots=[{start_time:"",end_time:""}])},S=()=>{const A=a.value[r.value];if(A){if(!D.value){A.isAvailable?d.value[r.value]={timeSlots:"Please fill in at least one time slot before applying to all days."}:d.value[r.value]={reason:"Reason must be at least 2 words to apply to all days."};return}delete d.value[r.value];for(const y of m.value){const x=y.value;a.value[x]=JSON.parse(JSON.stringify(A)),a.value[x].isSelected=!0}i.success("Availability applied to all days!")}},L=async()=>{if(u.value=!0,d.value={},c.value&&!f.value.trim()){d.value.lateReason="Please provide a reason for this late submission.",u.value=!1;return}const A=[];for(const y of m.value){const x=y.value,P=a.value[x];let $={};if(P.isSelected){if(P.isAvailable)if(P.timeSlots.some(q=>!q.start_time||!q.end_time))$.timeSlots="Please fill in all time slots.";else for(const q of P.timeSlots){const H=q.start_time.split(":").map(Number),se=q.end_time.split(":").map(Number);if(H[0]*60+H[1]>=se[0]*60+se[1]){$.timeSlots="End time must be after start time.";break}}else P.reason.trim()||($.reason="Please provide a reason for unavailability.");Object.keys($).length>0&&(d.value[x]=$),Object.keys($).length===0&&A.push({date:x,is_available:P.isAvailable,reason:P.isAvailable?null:P.reason,time_slots:P.isAvailable?P.timeSlots:null})}}if(A.length===0){d.value.general="Please select and set availability for at least one day.",u.value=!1;return}try{s();const y={availabilities:A,reason_for_late_submission:c.value?f.value:null};await re.post("/api/availabilities/batch",y),i.success("Availability saved successfully!"),n("availability-saved"),n("close")}catch(y){console.error("Error saving availability:",y),i.error("An error occurred while saving your availability.")}finally{u.value=!1}};return(A,y)=>(p(),X(cs,{show:e.show,onClose:y[4]||(y[4]=x=>A.$emit("close")),"max-width":"4xl"},{default:N(()=>{var x,P,$,q;return[l("div",Rl,[y[17]||(y[17]=l("h2",{class:"text-2xl font-bold text-gray-900"}," Set Your Weekly Availability ",-1)),l("p",Ll,[y[5]||(y[5]=O(" Select a day to quickly set your schedule for the upcoming week. ",-1)),c.value?(p(),v("span",{key:1,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:j}," Go back to next week. ")):(p(),v("span",{key:0,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:h}," Missed the deadline? Submit for this week. "))]),c.value?(p(),v("div",Vl,[y[6]||(y[6]=l("div",{class:"flex items-center"},[l("svg",{class:"h-5 w-5 text-yellow-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M8.257 3.344a1.5 1.5 0 012.486 0l5.446 9.176A1.5 1.5 0 0114.246 15H5.754a1.5 1.5 0 01-1.238-2.48zM9 11a1 1 0 102 0V7a1 1 0 10-2 0v4zm1-3a1 1 0 100 2h.01a1 1 0 100-2H10z","clip-rule":"evenodd"})]),l("p",{class:"font-semibold"},"Late Submission for Current Week")],-1)),y[7]||(y[7]=l("p",{class:"mt-2 text-sm"}," Please provide a reason for submitting late. We acknowledge that availability submissions are due by Thursday evening. ",-1)),l("div",jl,[_(Q,{value:"Reason for late submission"}),ce(l("textarea",{"onUpdate:modelValue":y[0]||(y[0]=H=>f.value=H),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., I was out sick, I forgot, I had no access to the system"},null,512),[[Ve,f.value]]),_(ee,{message:d.value.lateReason,class:"mt-2"},null,8,["message"])])])):C("",!0),l("div",Fl,[l("div",Bl,[(p(!0),v(ae,null,ue(m.value,H=>{var se;return p(),v("div",{key:H.value,class:K(["p-4 rounded-xl border cursor-pointer transition-all duration-200 ease-in-out",{"bg-indigo-50 border-indigo-500 shadow-lg":r.value===H.value,"bg-white border-gray-200 hover:border-indigo-400 hover:shadow-md":r.value!==H.value,"border-red-400 bg-red-50":d.value[H.value],"opacity-70":H.isPast}]),onClick:Re=>V(H.value)},[l("div",Xl,[l("div",Hl,[l("div",{class:K(["text-lg font-bold",{"text-indigo-600":r.value===H.value,"text-gray-800":r.value!==H.value}])},F(H.day),3),l("div",ql,F(H.label.split(", ")[1]),1)]),(se=a.value[H.value])!=null&&se.isSelected?(p(),v("span",{key:0,class:K(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",{"bg-emerald-100 text-emerald-800":a.value[H.value].isAvailable,"bg-amber-100 text-amber-800":!a.value[H.value].isAvailable}])},[a.value[H.value].isAvailable?(p(),v("span",zl,"Available")):(p(),v("span",Wl,"Unavailable"))],2)):(p(),v("span",Gl," Not Set "))])],10,Ul)}),128))]),r.value?(p(),v("div",Kl,[r.value?(p(),v("div",Jl,[l("h3",Yl," Availability for "+F((x=m.value.find(H=>H.value===r.value))==null?void 0:x.label),1),l("div",Ql,[l("button",{type:"button",onClick:S,disabled:!D.value,class:K([{"opacity-50 cursor-not-allowed":!D.value},"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out"])},y[8]||(y[8]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),l("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"})],-1),O(" Apply to all days ",-1)]),10,Zl)]),l("div",eu,[y[10]||(y[10]=l("span",{class:"text-sm font-medium text-gray-700"},"I am available on this day",-1)),l("label",tu,[l("input",{type:"checkbox",checked:b.value.isAvailable,onChange:y[1]||(y[1]=H=>T(H.target.checked)),class:"sr-only peer"},null,40,su),y[9]||(y[9]=l("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1))])]),_(ee,{message:(P=d.value[r.value])==null?void 0:P.general,class:"mt-2"},null,8,["message"]),b.value.isAvailable?(p(),v("div",nu,[_(Q,{value:"Available Time Slots",class:"text-gray-800 mb-2"}),_(ee,{message:($=d.value[r.value])==null?void 0:$.timeSlots,class:"mt-2 mb-4"},null,8,["message"]),(p(!0),v(ae,null,ue(b.value.timeSlots,(H,se)=>(p(),v("div",{key:se,class:"flex items-center space-x-2 mb-4"},[l("div",ou,[ce(l("input",{type:"time","onUpdate:modelValue":Re=>a.value[r.value].timeSlots[se].start_time=Re,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,au),[[Ve,a.value[r.value].timeSlots[se].start_time]])]),y[12]||(y[12]=l("span",{class:"text-gray-500"},"-",-1)),l("div",iu,[ce(l("input",{type:"time","onUpdate:modelValue":Re=>a.value[r.value].timeSlots[se].end_time=Re,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,ru),[[Ve,a.value[r.value].timeSlots[se].end_time]])]),a.value[r.value].timeSlots.length>1?(p(),v("button",{key:0,type:"button",onClick:Re=>J(se),class:"p-2 text-red-600 hover:text-red-800 transition duration-150 ease-in-out"},y[11]||(y[11]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,lu)):C("",!0)]))),128))])):C("",!0),l("button",{type:"button",onClick:U,class:"mt-2 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},y[13]||(y[13]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),O(" Add Another Time Slot ",-1)]))])):(p(),v("div",uu,[_(Q,{value:"Reason for Not Available",class:"text-gray-800 mb-2"}),ce(l("textarea",{"onUpdate:modelValue":y[2]||(y[2]=H=>a.value[r.value].reason=H),rows:"3",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,512),[[Ve,a.value[r.value].reason]]),_(ee,{message:(q=d.value[r.value])==null?void 0:q.reason,class:"mt-2"},null,8,["message"])]))])):(p(),v("div",du,y[14]||(y[14]=[l("p",{class:"text-gray-500 text-lg font-medium"}," Please select a day from the left to set your availability. ",-1)])))]),l("div",cu,[_(jt,{onClick:y[3]||(y[3]=H=>A.$emit("close"))},{default:N(()=>y[15]||(y[15]=[O(" Cancel ",-1)])),_:1,__:[15]}),_(ke,{onClick:L,disabled:u.value||!w.value,class:K({"opacity-50 cursor-not-allowed":u.value||!w.value})},{default:N(()=>[u.value?(p(),v("span",fu,y[16]||(y[16]=[l("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),O(" Saving... ",-1)]))):(p(),v("span",pu,"Save Availability"))]),_:1},8,["disabled","class"])])])]}),_:1},8,["show"]))}},hu={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},vu={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},gu={class:"flex justify-center"},yu={__name:"AvailabilityBlocker",setup(e){const t=M(!1),s=M(!0),o=M(!1),n=M([]),i=G(()=>{var h;return((h=zt().props.auth.user)==null?void 0:h.id)||null}),a=()=>{const h=localStorage.getItem("authToken");h&&!re.defaults.headers.common.Authorization&&(re.defaults.headers.common.Authorization=`Bearer ${h}`)},d=async()=>{s.value=!0;const h=localStorage.getItem("shouldBlockUser"),j=localStorage.getItem("allWeekdaysCovered");if(h==="true"&&j==="false")t.value=!0,await u();else try{a();const I=await re.get("/api/availability-prompt");t.value=I.data.should_block_user&&!I.data.all_weekdays_covered,t.value&&await u()}catch(I){console.error("Error checking if user should be blocked:",I),t.value=!1}s.value=!1},u=async()=>{try{a();const h=await re.get("/api/availability-prompt");r(h.data.next_week_start,h.data.next_week_end)}catch(h){console.error("Error fetching next week dates:",h)}},r=(h,j)=>{const I=[],b=new Date(h),w=new Date(j),D=new Date(b);for(;D<=w;)I.push({value:D.toISOString().split("T")[0],label:D.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),D.setDate(D.getDate()+1);n.value=I},f=()=>{o.value=!0},c=()=>{d()},m=h=>{t.value=h.detail.shouldBlockUser&&!h.detail.allWeekdaysCovered},g=()=>{document.visibilityState==="visible"&&ut(()=>{d()})},k=h=>{(h.key==="shouldBlockUser"||h.key==="allWeekdaysCovered")&&ut(()=>{d()})};return Je(()=>{d(),window.addEventListener("availability-status-updated",m),document.addEventListener("visibilitychange",g),window.addEventListener("storage",k)}),_s(()=>{window.removeEventListener("availability-status-updated",m),document.removeEventListener("visibilitychange",g),window.removeEventListener("storage",k)}),(h,j)=>t.value&&!s.value?(p(),v("div",hu,[l("div",vu,[j[2]||(j[2]=ei('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div><p class="mb-6 text-gray-700"> You must submit your availability for all weekdays of next week before you can continue using the application. This is required for planning meetings and work schedules. </p>',2)),l("div",gu,[_(ke,{onClick:f,class:"bg-red-600 hover:bg-red-700"},{default:N(()=>j[1]||(j[1]=[O(" Submit Availability Now ",-1)])),_:1,__:[1]})]),_(mu,{show:o.value,"next-week-dates":n.value,date:n.value.length>0?n.value[0].value:"",userId:i.value,onClose:j[0]||(j[0]=I=>o.value=!1),onAvailabilitySaved:c},null,8,["show","next-week-dates","date","userId"])])])):C("",!0)}},_u={class:"p-6"},bu={class:"flex justify-between items-center mb-4"},ku={class:"text-lg font-medium text-gray-900"},wu={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},Eu={class:"block sm:inline"},xu={key:0,class:"mt-6 flex justify-end space-x-3"},Su={__name:"BaseFormModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Modal Title"},apiEndpoint:{type:String,required:!1},httpMethod:{type:String,default:"post",validator:e=>["post","put","patch","delete"].includes(e.toLowerCase())},formData:{type:Object,required:!0},submitButtonText:{type:String,default:"Save"},successMessage:{type:String,default:"Operation successful!"},formatDataForApi:{type:Function,default:e=>e},beforeSubmit:{type:Function,default:()=>!0},showFooter:{type:Boolean,default:!0}},emits:["close","submitted","error"],setup(e,{emit:t}){const s=e,o=t,n=M(!1),i=M({}),a=M("");ge(()=>s.show,r=>{r&&(i.value={},a.value="",n.value=!1)});const d=async()=>{var r;n.value=!0,i.value={},a.value="";try{if(await s.beforeSubmit()===!1){n.value=!1;return}const c=s.formatDataForApi(s.formData);let m;const g=s.httpMethod.toLowerCase();if(g==="post")m=await window.axios.post(s.apiEndpoint,c);else if(g==="put")m=await window.axios.put(s.apiEndpoint,c);else if(g==="patch")m=await window.axios.patch(s.apiEndpoint,c);else if(g==="delete")m=await window.axios.delete(s.apiEndpoint,{data:c});else throw new Error(`Unsupported HTTP method: ${s.httpMethod}`);Ie(s.successMessage),o("submitted",m.data),o("close")}catch(f){console.error("API submission error:",f);let c="An unexpected error occurred.";f.response?f.response.status===422?(i.value=f.response.data.errors||{},c=f.response.data.message||"Please correct the errors in the form."):(c=f.response.data.message||"An unexpected error occurred.",a.value=c):(c="A network error occurred or the server is unreachable.",a.value=c),Object.keys(i.value).length>0?a.value="Please correct the errors in the form.":((r=f.response)==null?void 0:r.status)!==422&&(a.value=c),pe(c),o("error",f)}finally{n.value=!1}},u=()=>{o("close")};return(r,f)=>(p(),X(cs,{show:e.show,onClose:u},{default:N(()=>[l("div",_u,[l("div",bu,[l("h2",ku,F(e.title),1),l("button",{onClick:u,class:"text-gray-400 hover:text-gray-500"},f[0]||(f[0]=[l("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a.value?(p(),v("div",wu,[l("span",Eu,F(a.value),1)])):C("",!0),l("form",{onSubmit:tn(d,["prevent"])},[Be(r.$slots,"default",{errors:i.value},void 0,!0),e.showFooter?(p(),v("div",xu,[_(jt,{onClick:u,type:"button",disabled:n.value},{default:N(()=>f[1]||(f[1]=[O(" Cancel ",-1)])),_:1,__:[1]},8,["disabled"]),_(ke,{type:"submit",disabled:n.value,class:K({"opacity-75 cursor-not-allowed":n.value})},{default:N(()=>[O(F(n.value?"Submitting...":e.submitButtonText),1)]),_:1},8,["disabled","class"])])):C("",!0)],32)])]),_:3},8,["show"]))}},Qt=Tt(Su,[["__scopeId","data-v-5ed3c88d"]]),Tu=(e,t)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>e(...o),t)}},Cu={class:"relative"},Nu={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},Iu=["onClick"],Au={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},Ou=["onClick"],$u={key:1,class:"px-4 py-2 text-sm text-gray-500"},Mu={key:2,class:"px-4 py-2 text-sm text-gray-500"},Pu={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=M(""),i=M([]),a=M([]),d=M(!1),u=M(null);function r(){o("update:modelValue",a.value.map(I=>I.id))}ge(()=>s.initialTags,I=>{if(a.value=[],I&&I.length>0){const V=[],U=new Set;I.forEach(J=>{U.has(J.id)||(V.push(J),U.add(J.id))}),a.value.push(...V)}const b=I.map(V=>V.id),w=Array.isArray(s.modelValue)?s.modelValue:[];(b.length!==w.length||b.some(V=>!w.includes(V))||w.some(V=>!b.includes(V)))&&r()},{immediate:!0});const f=Tu(async I=>{if(I.length<2){i.value=[],d.value=!1;return}try{const b=await re.get(`/api/tags/search?query=${I}`);i.value=b.data,d.value=!0}catch(b){console.error("Error fetching tags:",b),i.value=[],d.value=!1}},300);ge(n,I=>{s.disabled||f(I)});const c=I=>{a.value.some(b=>b.id===I.id)||(a.value.push(I),n.value="",i.value=[],d.value=!1,r()),ut(()=>u.value.focus())},m=()=>{if(s.disabled)return;const I=n.value.trim();if(!I)return;const b=i.value.find(D=>D.name.toLowerCase()===I.toLowerCase()),w=a.value.some(D=>D.name.toLowerCase()===I.toLowerCase());if(b)c(b);else if(w)n.value="",i.value=[],d.value=!1;else{const D={id:`new_${I.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:I};a.value.push(D),n.value="",i.value=[],d.value=!1,r()}ut(()=>u.value.focus())},g=I=>{s.disabled||(a.value=a.value.filter(b=>b.id!==I.id),r(),ut(()=>u.value.focus()))},k=()=>{s.disabled||n.value===""&&a.value.length>0&&g(a.value[a.value.length-1])},h=G(()=>i.value.filter(I=>!a.value.some(b=>b.id===I.id))),j=I=>{u.value&&!u.value.$el.contains(I.target)&&(d.value=!1,n.value="")};return Je(()=>{document.addEventListener("click",j)}),_s(()=>{document.removeEventListener("click",j)}),(I,b)=>(p(),v("div",Cu,[_(Q,{value:e.label,class:"mb-1"},null,8,["value"]),l("div",Nu,[(p(!0),v(ae,null,ue(a.value,w=>(p(),v("span",{key:w.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[O(F(w.name)+" ",1),e.disabled?C("",!0):(p(),v("button",{key:0,type:"button",onClick:D=>g(w),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},b[3]||(b[3]=[l("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Iu))]))),128)),_(Fe,{ref_key:"inputRef",ref:u,type:"text",placeholder:a.value.length===0?e.placeholder:"",modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=w=>n.value=w),onFocus:b[1]||(b[1]=w=>d.value=!0),onKeydown:[ns(tn(m,["prevent"]),["enter"]),b[2]||(b[2]=ns(w=>d.value=!1,["tab"])),ns(k,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:e.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),d.value&&(h.value.length>0||n.value.length>=2||h.value.length===0&&n.value.length<2)&&!e.disabled?(p(),v("div",Au,[(p(!0),v(ae,null,ue(h.value,w=>(p(),v("div",{key:w.id,onClick:D=>c(w),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},F(w.name),9,Ou))),128)),!i.value.some(w=>w.name.toLowerCase()===n.value.toLowerCase())&&n.value.length>=2?(p(),v("div",{key:0,onClick:m,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+F(n.value)+'" ',1)):C("",!0),h.value.length===0&&n.value.length<2?(p(),v("div",$u," Type at least 2 characters to search for tags. ")):C("",!0),h.value.length===0&&n.value.length>=2&&!i.value.some(w=>w.name.toLowerCase()===n.value.toLowerCase())?(p(),v("div",Mu,[b[4]||(b[4]=O(" No matching tags found. Press ",-1)),b[5]||(b[5]=l("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),O(' to add "'+F(n.value)+'" as a new tag. ',1)])):C("",!0)])):C("",!0),_(ee,{message:e.error,class:"mt-2"},null,8,["message"])]))}},ka=Tt(Pu,[["__scopeId","data-v-4d528a4c"]]),Du={class:"space-y-4"},Ru="Add New Milestone",Lu="/api/milestones",Vu="post",ju="Create Milestone",Fu="Milestone created successfully!",Bu={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=_t({name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i=_t({completion_date:null}),a=["Not Started","In Progress","Completed","Overdue"];ge(()=>s.show,f=>{f&&(Object.assign(n,{name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i.completion_date=null)},{immediate:!0});const d=()=>(i.completion_date=null,n.completion_date?!0:(i.completion_date=["Completion date is required."],!1)),u=f=>{o("saved",f),o("close")},r=()=>{o("close")};return(f,c)=>(p(),X(Qt,{show:e.show,title:Ru,"api-endpoint":Lu,"http-method":Vu,"form-data":n,"submit-button-text":ju,"success-message":Fu,"before-submit":d,onClose:r,onSubmitted:u},{default:N(({errors:m})=>[l("div",Du,[l("div",null,[_(Q,{for:"milestone-name",value:"Milestone Name"}),_(Fe,{id:"milestone-name",modelValue:n.name,"onUpdate:modelValue":c[0]||(c[0]=g=>n.name=g),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),_(ee,{message:m.name?m.name[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"milestone-description",value:"Description"}),ce(l("textarea",{id:"milestone-description","onUpdate:modelValue":c[1]||(c[1]=g=>n.description=g),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[Ve,n.description]]),_(ee,{message:m.description?m.description[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"milestone-completion-date",value:"Completion Date"}),_(Fe,{id:"milestone-completion-date",modelValue:n.completion_date,"onUpdate:modelValue":c[2]||(c[2]=g=>n.completion_date=g),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),_(ee,{message:m.completion_date?m.completion_date[0]:i.completion_date?i.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"milestone-status",value:"Status"}),_(Pe,{id:"milestone-status",modelValue:n.status,"onUpdate:modelValue":c[3]||(c[3]=g=>n.status=g),options:a.map(g=>({value:g,label:g})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),_(ee,{message:m.status?m.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},Uu={class:"space-y-4"},Xu={key:0},Hu={key:0,class:"text-sm text-gray-500"},qu={key:0,class:"text-sm text-gray-500"},zu={key:0,class:"text-sm text-gray-500"},Wu={class:"flex items-center gap-2 mt-1"},Gu={key:0,class:"text-sm text-gray-500"},Ku=["disabled"],Ju={class:"flex items-center mt-2"},Yu="Create New Task",Qu="/api/tasks",Zu="post",ed="Create Task",td="Task created successfully!",sd={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=_t({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",needs_approval:!1,tags:[],tags_data:[]}),i=["To Do","In Progress","Done","Blocked","Archived"],a=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],d=M([]),u=M([]),r=M([]),f=M([]),c=M(!0),m=M(!1),g=M(!1),k=M(!1),h=M(!1);ge(()=>s.show,async y=>{y&&(Object.assign(n,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",needs_approval:!1,tags:[],tags_data:[]}),s.projectId?await I(s.projectId):await j())},{immediate:!0}),ge(()=>n.project_id,async y=>{y?await I(y):(u.value=[],r.value=[],f.value=[])});const j=async()=>{c.value=!0;try{const y=await window.axios.get("/api/projects-simplified");d.value=y.data.map(x=>({value:x.id,label:x.name}))}catch(y){console.error("Error fetching projects:",y),d.value=[]}finally{c.value=!1}},I=async y=>{if(y){m.value=!0,g.value=!0,k.value=!0;try{const[x,P,$]=await Promise.all([window.axios.get(`/api/projects/${y}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${y}/milestones`)]);u.value=x.data.map(q=>({value:q.id,label:q.name})),r.value=P.data.map(q=>({value:q.id,label:q.name})),f.value=$.data.map(q=>({value:q.id,label:q.name}))}catch(x){console.error("Error fetching associated task data:",x),u.value=[],r.value=[],f.value=[]}finally{m.value=!1,g.value=!1,k.value=!1}}},b=M([]),w=y=>{b.value=Array.from(y.target.files||[])},D=async y=>{if(!b.value.length)return;const x=new FormData;b.value.forEach((P,$)=>x.append(`files[${$}]`,P)),x.append("model_type","Task"),x.append("model_id",y);try{await window.axios.post("/api/files",x,{headers:{"Content-Type":"multipart/form-data"}}),Ie("Files uploaded to Google Drive.")}catch(P){console.error("Failed to upload task files",P),pe("Failed to upload files.")}},V=async y=>{var x,P;try{const $=(y==null?void 0:y.id)||((x=y==null?void 0:y.task)==null?void 0:x.id)||((P=y==null?void 0:y.data)==null?void 0:P.id);$&&await D($)}finally{o("saved",y),o("close"),b.value=[]}},U=()=>{o("close")},J=()=>{n.project_id?h.value=!0:alert("Please select a project before adding a milestone.")},T=y=>{if(h.value=!1,y&&y.id&&y.name){const x={value:y.id,label:y.name};f.value.some(P=>P.value===x.value)||f.value.push(x),n.milestone_id=x.value}},S=G(()=>u.value),L=G(()=>r.value),A=G(()=>f.value);return(y,x)=>(p(),v(ae,null,[_(Qt,{show:e.show,title:Yu,"api-endpoint":Qu,"http-method":Zu,"form-data":n,"submit-button-text":ed,"success-message":td,onClose:U,onSubmitted:V},{default:N(({errors:P})=>[l("div",Uu,[e.projectId?C("",!0):(p(),v("div",Xu,[_(Q,{for:"task-project",value:"Project"}),c.value?(p(),v("div",Hu,"Loading projects...")):(p(),X(Pe,{key:1,id:"task-project",modelValue:n.project_id,"onUpdate:modelValue":x[0]||(x[0]=$=>n.project_id=$),options:d.value,"value-key":"value","label-key":"label",placeholder:"Select a project",class:"mt-1",required:!0},null,8,["modelValue","options"])),_(ee,{message:P.project_id?P.project_id[0]:"",class:"mt-2"},null,8,["message"])])),l("div",null,[_(Q,{for:"task-name",value:"Task Name"}),_(Fe,{id:"task-name",modelValue:n.name,"onUpdate:modelValue":x[1]||(x[1]=$=>n.name=$),type:"text",class:"mt-1 block w-full",placeholder:"Enter task name",required:""},null,8,["modelValue"]),_(ee,{message:P.name?P.name[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-description",value:"Description"}),ce(l("textarea",{id:"task-description","onUpdate:modelValue":x[2]||(x[2]=$=>n.description=$),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[Ve,n.description]]),_(ee,{message:P.description?P.description[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-status",value:"Status"}),_(Pe,{id:"task-status",modelValue:n.status,"onUpdate:modelValue":x[3]||(x[3]=$=>n.status=$),options:i.map($=>({value:$,label:$})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),_(ee,{message:P.status?P.status[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-priority",value:"Priority"}),_(Pe,{id:"task-priority",modelValue:n.priority,"onUpdate:modelValue":x[4]||(x[4]=$=>n.priority=$),options:a,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1"},null,8,["modelValue"]),_(ee,{message:P.priority?P.priority[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-due-date",value:"Due Date"}),_(Fe,{id:"task-due-date",modelValue:n.due_date,"onUpdate:modelValue":x[5]||(x[5]=$=>n.due_date=$),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),_(ee,{message:P.due_date?P.due_date[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-assigned-to",value:"Assigned To"}),m.value?(p(),v("div",qu,"Loading users...")):(p(),X(Pe,{key:1,id:"task-assigned-to",modelValue:n.assigned_to_user_id,"onUpdate:modelValue":x[6]||(x[6]=$=>n.assigned_to_user_id=$),options:S.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),_(ee,{message:P.assigned_to_user_id?P.assigned_to_user_id[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-type",value:"Task Type"}),g.value?(p(),v("div",zu,"Loading task types...")):(p(),X(Pe,{key:1,id:"task-type",modelValue:n.task_type_id,"onUpdate:modelValue":x[7]||(x[7]=$=>n.task_type_id=$),options:L.value,"value-key":"value","label-key":"label",placeholder:"Select a task type",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),_(ee,{message:P.task_type_id?P.task_type_id[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"task-milestone",value:"Milestone"}),l("div",Wu,[k.value?(p(),v("div",Gu,"Loading milestones...")):(p(),X(Pe,{key:1,id:"task-milestone",modelValue:n.milestone_id,"onUpdate:modelValue":x[8]||(x[8]=$=>n.milestone_id=$),options:A.value,"value-key":"value","label-key":"label",placeholder:"No milestone",class:"flex-grow","allow-empty":!0,disabled:!n.project_id},null,8,["modelValue","options","disabled"])),l("button",{type:"button",onClick:J,disabled:!n.project_id||k.value,class:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add New Milestone"},x[12]||(x[12]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,Ku)]),_(ee,{message:P.milestone_id?P.milestone_id[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(ka,{modelValue:n.tags,"onUpdate:modelValue":x[9]||(x[9]=$=>n.tags=$),initialTags:n.tags_data,label:"Tags",placeholder:"Search or add tags",error:P.tags?P.tags[0]:"",disabled:!n.project_id},null,8,["modelValue","initialTags","error","disabled"])]),l("div",null,[_(Q,{for:"task-files",value:"Attach Files (optional)"}),l("input",{id:"task-files",type:"file",class:"mt-1 block w-full",multiple:"",onChange:w},null,32),x[13]||(x[13]=l("p",{class:"text-xs text-gray-500 mt-1"},"Files will be uploaded to Google Drive under the Task folder after the task is created.",-1))]),l("div",Ju,[ce(l("input",{id:"needs-approval",type:"checkbox","onUpdate:modelValue":x[10]||(x[10]=$=>n.needs_approval=$),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,512),[[ti,n.needs_approval]]),x[14]||(x[14]=l("label",{for:"needs-approval",class:"ml-2 block text-sm text-gray-700"},"This task needs approval",-1))])])]),_:1},8,["show","form-data"]),_(Bu,{show:h.value,"project-id":n.project_id,onClose:x[11]||(x[11]=P=>h.value=!1),onSaved:T},null,8,["show","project-id"])],64))}},nd={class:"space-y-4"},od={class:"flex items-center mt-4"},ad={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(e,{emit:t}){const s=e,o=t,n=_t({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,tags:[]}),i=G(()=>[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}]),a=r=>r,d=r=>{o("resourceCreated",r),u()},u=()=>{n.title="",n.description="",n.url="",n.type="website",n.thumbnail_url="",n.visible_to_client=!0,n.tags=[],o("close")};return(r,f)=>(p(),X(Qt,{show:s.show,title:"Add New Shareable Resource",apiEndpoint:s.apiEndpoint,httpMethod:"post",formData:n,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",formatDataForApi:a,onSubmitted:d,onClose:u},{default:N(({errors:c})=>[l("div",nd,[l("div",null,[_(Q,{for:"title",value:"Title",class:"mb-1"}),_(Fe,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.title,"onUpdate:modelValue":f[0]||(f[0]=m=>n.title=m),required:""},null,8,["modelValue"]),_(ee,{message:c.title?c.title[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"url",value:"Resource URL",class:"mb-1"}),_(Fe,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.url,"onUpdate:modelValue":f[1]||(f[1]=m=>n.url=m),required:""},null,8,["modelValue"]),_(ee,{message:c.url?c.url[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"type",value:"Resource Type",class:"mb-1"}),_(Pe,{id:"type",modelValue:n.type,"onUpdate:modelValue":f[2]||(f[2]=m=>n.type=m),options:i.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),_(ee,{message:c.type?c.type[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),_(Fe,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.thumbnail_url,"onUpdate:modelValue":f[3]||(f[3]=m=>n.thumbnail_url=m)},null,8,["modelValue"]),_(ee,{message:c.thumbnail_url?c.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(Q,{for:"description",value:"Description (Optional)",class:"mb-1"}),ce(l("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":f[4]||(f[4]=m=>n.description=m),rows:"3"},null,512),[[Ve,n.description]]),_(ee,{message:c.description?c.description[0]:"",class:"mt-2"},null,8,["message"])]),l("div",null,[_(ka,{modelValue:n.tags,"onUpdate:modelValue":f[5]||(f[5]=m=>n.tags=m),label:"Associated Tags",placeholder:"Search or add tags",error:c.tags?c.tags[0]:""},null,8,["modelValue","error"])]),l("div",od,[_(ri,{id:"visible_to_client",checked:n.visible_to_client,"onUpdate:checked":f[6]||(f[6]=m=>n.visible_to_client=m)},null,8,["checked"]),_(Q,{for:"visible_to_client",value:"Visible to Client",class:"ml-2"}),_(ee,{message:c.visible_to_client?c.visible_to_client[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},id=Tt(ad,[["__scopeId","data-v-3e3a6a9f"]]),rd={key:0,class:"sidebar-wrapper"},ld={class:"fixed inset-0 z-[100] flex pointer-events-none"},ud={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},dd={class:"text-xl font-semibold text-gray-900"},cd={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},fd={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},pd={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(e,{emit:t}){const s=e,o=t,n=M(s.initialWidth),i=M(!1),a=c=>{i.value=!0,document.addEventListener("pointermove",d),document.addEventListener("pointerup",u)},d=c=>{if(!i.value)return;const m=window.innerWidth,k=(m-c.clientX)/m*100,h=Math.max(s.minWidth,Math.min(s.maxWidth,k));n.value=h},u=()=>{i.value=!1,document.removeEventListener("pointermove",d),document.removeEventListener("pointerup",u)};ge(()=>s.show,c=>{c?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const r=()=>{o("update:show",!1),o("close")},f=G(()=>window.innerWidth<768);return ge(f,c=>{c&&s.show?n.value=100:!c&&s.show&&(n.value=s.initialWidth)},{immediate:!0}),ge(()=>s.show,c=>{c&&(f.value?n.value=100:n.value=s.initialWidth)}),(c,m)=>(p(),X(ni,{to:"body"},[_(vo,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:N(()=>[e.show?(p(),v("div",rd,[l("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity z-[99]",onClick:r}),l("div",ld,[l("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl pointer-events-auto",style:si({width:f.value?"100%":`${n.value}vw`})},[f.value?C("",!0):(p(),v("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:a,title:"Drag to resize"},null,32)),l("div",ud,[l("h3",dd,F(e.title),1),l("button",{onClick:r,class:"text-gray-400 hover:text-gray-600 transition-colors"},m[0]||(m[0]=[l("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",cd,[Be(c.$slots,"content",{},void 0,!0)]),c.$slots.footer?(p(),v("div",fd,[Be(c.$slots,"footer",{},void 0,!0)])):C("",!0)],4)])])):C("",!0)]),_:3})]))}},wa=Tt(pd,[["__scopeId","data-v-2d864577"]]),md={class:"flex border-b border-gray-200"},hd={key:0,class:"ml-2 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full"},vd={class:"p-4 space-y-2 overflow-y-auto"},gd={key:0,class:"p-6 text-center text-gray-500"},yd={key:0},_d={key:1},bd=["onClick"],kd={class:"flex-1 min-w-0"},wd={class:"flex items-start justify-between gap-2 mb-1"},Ed={class:"flex-1 min-w-0"},xd={key:0,class:"text-base font-semibold text-gray-900 truncate"},Sd={key:1,class:"text-xs text-gray-500"},Td={key:0,class:"text-sm text-gray-600 mt-1 mb-2"},Cd={class:"flex items-center text-xs text-gray-500 font-medium"},Nd={key:0},Id={key:1,class:"mx-2"},Ad={key:2},Od={__name:"NotificationsSidebar",setup(e){const t=G(()=>Vt.value.notifications),s=M("New"),o=G(()=>s.value==="New"?t.value.filter(d=>!d.isRead):t.value),n=async d=>{await co(d.view_id);const u=d.task_id||i(d.url),r=d.project_id||a(d.url);u&&r?(fo(u,r),Rn()):(console.warn("Could not open task sidebar. Falling back to opening URL in new tab."),d.url&&window.open(d.url,"_blank"))},i=d=>{const u=d.match(/\/task\/(\d+)/);return u?parseInt(u[1]):null},a=d=>{const u=d.match(/\/project\/(\d+)\//);return u?parseInt(u[1]):null};return(d,u)=>(p(),X(wa,{show:B(Vt).show,"onUpdate:show":B(Rn),title:"Notifications","initial-width":35,class:"z-[100]"},{content:N(()=>[l("div",md,[l("button",{onClick:u[0]||(u[0]=r=>s.value="New"),class:K([{"border-blue-600 text-blue-600 font-semibold":s.value==="New","border-transparent text-gray-500 hover:text-gray-700":s.value!=="New"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])},[u[2]||(u[2]=O(" New ",-1)),t.value.filter(r=>!r.isRead).length>0?(p(),v("span",hd,F(t.value.filter(r=>!r.isRead).length),1)):C("",!0)],2),l("button",{onClick:u[1]||(u[1]=r=>s.value="All"),class:K([{"border-blue-600 text-blue-600 font-semibold":s.value==="All","border-transparent text-gray-500 hover:text-gray-700":s.value!=="All"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])}," All ",2)]),l("div",vd,[o.value.length===0?(p(),v("div",gd,[s.value==="New"?(p(),v("span",yd,"You have no new notifications.")):(p(),v("span",_d,"You have no notifications."))])):C("",!0),(p(!0),v(ae,null,ue(o.value,r=>(p(),v("div",{key:r.id,class:K(["bg-white rounded-xl shadow-sm p-4 flex items-start space-x-4 border border-gray-200 transition-all duration-200 hover:shadow-md cursor-pointer",{"bg-gray-50":r.isRead}]),onClick:f=>n(r)},[l("div",kd,[l("div",wd,[l("div",Ed,[r.title?(p(),v("h3",xd,F(r.title),1)):C("",!0),r.project_name?(p(),v("p",Sd,F(r.project_name),1)):C("",!0)])]),r.message?(p(),v("p",Td,F(r.message),1)):C("",!0),l("div",Cd,[r.due_date?(p(),v("span",Nd,"Due: "+F(B(uo)(r.due_date)),1)):C("",!0),r.due_date&&r.priority?(p(),v("span",Id,"")):C("",!0),r.priority?(p(),v("span",Ad,"Priority: "+F(r.priority),1)):C("",!0)])])],10,bd))),128))])]),_:1},8,["show","onUpdate:show"]))}},$d={class:"space-y-4"},Md={key:0,class:"text-red-600 text-xs mt-1"},Pd={key:0,class:"text-red-600 text-xs mt-1"},Dd={key:0,class:"text-red-600 text-xs mt-1"},Rd={__name:"KudoModal",props:{show:{type:Boolean,default:!1}},emits:["close","submitted"],setup(e,{emit:t}){const s=t,o=M([]),n=M([]),i=_t({recipient_id:"",project_id:"",comment:""}),a=M({}),d=async()=>{try{const{data:c}=await window.axios.get("/api/projects-simplified");o.value=(c||[]).map(m=>({value:m.id,label:m.name}))}catch{o.value=[]}},u=async c=>{if(n.value=[],!!c)try{const{data:m}=await window.axios.get(`/api/projects/${c}/users`);n.value=(m||[]).map(g=>({value:g.id,label:`${g.name} (${g.email})`}))}catch{n.value=[]}};ge(()=>i.project_id,c=>{c&&u(c)}),Je(()=>{d()});const r=()=>{i.recipient_id="",i.project_id="",i.comment="",a.value={}},f=c=>{r(),s("submitted",c)};return(c,m)=>(p(),X(Qt,{show:e.show,title:"Give a Kudo ","api-endpoint":"/api/kudos","http-method":"post","form-data":i,"submit-button-text":"Submit Kudo","success-message":"Kudo submitted! Pending approval.",onClose:m[3]||(m[3]=g=>c.$emit("close")),onSubmitted:f},{default:N(({errors:g})=>[l("div",$d,[l("div",null,[m[4]||(m[4]=l("label",{class:"block text-sm font-medium text-gray-700"},"Project",-1)),_(Pe,{options:o.value,modelValue:i.project_id,"onUpdate:modelValue":m[0]||(m[0]=k=>i.project_id=k),placeholder:"Select a project..."},null,8,["options","modelValue"]),g.project_id?(p(),v("p",Md,F(g.project_id[0]),1)):C("",!0)]),l("div",null,[m[5]||(m[5]=l("label",{class:"block text-sm font-medium text-gray-700"},"Recipient",-1)),_(Pe,{options:n.value,modelValue:i.recipient_id,"onUpdate:modelValue":m[1]||(m[1]=k=>i.recipient_id=k),placeholder:"Select a teammate..."},null,8,["options","modelValue"]),g.recipient_id?(p(),v("p",Pd,F(g.recipient_id[0]),1)):C("",!0)]),l("div",null,[m[6]||(m[6]=l("label",{class:"block text-sm font-medium text-gray-700"},"Comment",-1)),ce(l("textarea",{"onUpdate:modelValue":m[2]||(m[2]=k=>i.comment=k),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., Thank you for helping with the last-minute changes!"},null,512),[[Ve,i.comment]]),g.comment?(p(),v("p",Dd,F(g.comment[0]),1)):C("",!0)])])]),_:1},8,["show","form-data"]))}},Ld={class:"flex items-center p-4 h-16 border-b border-gray-700"},Vd={key:0,class:"text-xl font-semibold flex-1 truncate"},jd=["title"],Fd={key:0,class:"p-4 border-b border-gray-700"},Bd={class:"relative"},Ud={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},Xd={key:0,class:"mb-4"},Hd={class:"ml-2 mt-2 space-y-1"},qd=["onClick"],zd={class:"text-sm font-medium text-gray-300 truncate"},Wd={class:"ml-4 mt-1 space-y-1"},Gd={class:"truncate"},Kd={key:1,class:"mb-4"},Jd={class:"ml-2 mt-2 space-y-1"},Yd=["onClick"],Qd={class:"text-sm font-medium text-gray-300 truncate"},Zd={class:"ml-4 mt-1 space-y-1"},ec={class:"truncate"},tc={key:2,class:"mb-4"},sc={class:"ml-2 mt-2 space-y-1"},nc={class:"truncate"},oc={key:3,class:"mb-4"},ac={class:"ml-2 mt-2 space-y-1"},ic={class:"truncate"},rc={key:4,class:"text-gray-400 text-sm text-center py-4"},lc={key:5,class:"text-gray-400 text-sm text-center py-4"},uc={key:2,class:"flex flex-col items-center pt-4 space-y-4"},dc={key:0,class:"text-gray-400 text-xs text-center px-2"},cc={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(e,{emit:t}){const s=e,o=t,n=M(localStorage.getItem("leftSidebarCollapsed")!=="false"),i=M(""),a=M({}),d=G(()=>{const b=new Set;return s.allProjects.forEach(w=>{w.project_type&&b.add(w.project_type)}),Array.from(b).sort()}),u=G(()=>{const b=new Set;return s.allProjects.forEach(w=>{Array.isArray(w.tags)&&w.tags.forEach(D=>b.add(D))}),Array.from(b).sort()}),r=G(()=>{if(!i.value)return s.allProjects;const b=i.value.toLowerCase();return s.allProjects.filter(w=>{var D,V,U;return w.name.toLowerCase().includes(b)||((D=w.description)==null?void 0:D.toLowerCase().includes(b))||((V=w.project_type)==null?void 0:V.toLowerCase().includes(b))||Array.isArray(w.tags)&&w.tags.some(J=>J.toLowerCase().includes(b))||((U=w.status)==null?void 0:U.toLowerCase().includes(b))})}),f=G(()=>{const b={};r.value.forEach(w=>{w.project_type&&w.status==="active"&&(b[w.project_type]||(b[w.project_type]=[]),b[w.project_type].push(w))});for(const w in b)b[w].sort((D,V)=>D.name.localeCompare(V.name));return b}),c=G(()=>{const b={};r.value.forEach(w=>{Array.isArray(w.tags)&&w.tags.length>0&&w.tags.forEach(D=>{b[D]||(b[D]=[]),b[D].push(w)})});for(const w in b)b[w]=[...new Set(b[w])].sort((D,V)=>D.name.localeCompare(V.name));return b}),m=G(()=>r.value.filter(b=>b.status!=="active").sort((b,w)=>b.name.localeCompare(w.name))),g=G(()=>r.value.filter(b=>!b.project_type&&(!Array.isArray(b.tags)||b.tags.length===0)).sort((b,w)=>b.name.localeCompare(w.name)));ge(()=>s.allProjects,()=>{d.value.forEach(b=>{const w=`type-${b}`;a.value[w]===void 0&&(a.value[w]=!0)}),u.value.forEach(b=>{const w=`tag-${b}`;a.value[w]===void 0&&(a.value[w]=!0)}),a.value["main-types"]===void 0&&(a.value["main-types"]=!1),a.value["main-tags"]===void 0&&(a.value["main-tags"]=!1),a.value["inactive-projects"]===void 0&&(a.value["inactive-projects"]=!1),a.value.uncategorized===void 0&&(a.value.uncategorized=!1)},{immediate:!0}),ge(n,b=>{localStorage.setItem("leftSidebarCollapsed",b)});const k=()=>{n.value=!n.value},h=b=>{a.value[b]=!a.value[b]},j=b=>{o("project-selected",b)},I=()=>{i.value=""};return(b,w)=>(p(),v("div",{class:K({"w-64":!n.value,"w-16":n.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[l("div",Ld,[n.value?C("",!0):(p(),v("h2",Vd,"Projects")),l("button",{onClick:k,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:n.value?"Expand Sidebar":"Collapse Sidebar"},[(p(),v("svg",{class:K(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":n.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},w[5]||(w[5]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,jd)]),n.value?C("",!0):(p(),v("div",Fd,[l("div",Bd,[ce(l("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=D=>i.value=D),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[Ve,i.value]]),i.value?(p(),v("button",{key:0,onClick:I,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},w[6]||(w[6]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):C("",!0)])])),n.value?(p(),v("div",uc,[(p(!0),v(ae,null,ue(s.allProjects,D=>(p(),X(B(je),{key:D.id,href:b.route("projects.show",D.id),onClick:V=>j(D.id),class:K({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":D.id!==e.activeProjectId}),title:D.name},{default:N(()=>[O(F(D.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),e.allProjects.length===0?(p(),v("div",dc," No Projects ")):C("",!0)])):(p(),v("div",Ud,[Object.keys(f.value).length>0?(p(),v("div",Xd,[l("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[1]||(w[1]=D=>h("main-types"))},[w[8]||(w[8]=l("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(p(),v("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[7]||(w[7]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(l("div",Hd,[(p(!0),v(ae,null,ue(f.value,(D,V)=>(p(),v("div",{key:V},[l("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:U=>h(`type-${V}`)},[l("h4",zd,F(V),1),(p(),v("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`type-${V}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[9]||(w[9]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,qd),ce(l("ul",Wd,[(p(!0),v(ae,null,ue(D,U=>(p(),v("li",{key:U.id},[_(B(je),{href:b.route("projects.show",U.id),onClick:J=>j(U.id),class:K({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":U.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":U.id!==e.activeProjectId,"font-bold":U.id===e.activeProjectId})},{default:N(()=>[l("span",Gd,F(U.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ze,!a.value[`type-${V}`]]])]))),128))],512),[[Ze,!a.value["main-types"]]])])):C("",!0),Object.keys(c.value).length>0?(p(),v("div",Kd,[l("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[2]||(w[2]=D=>h("main-tags"))},[w[11]||(w[11]=l("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(p(),v("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[10]||(w[10]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(l("div",Jd,[(p(!0),v(ae,null,ue(c.value,(D,V)=>(p(),v("div",{key:V},[l("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:U=>h(`tag-${V}`)},[l("h4",Qd,F(V),1),(p(),v("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`tag-${V}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[12]||(w[12]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Yd),ce(l("ul",Zd,[(p(!0),v(ae,null,ue(D,U=>(p(),v("li",{key:U.id},[_(B(je),{href:b.route("projects.show",U.id),onClick:J=>j(U.id),class:K({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":U.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":U.id!==e.activeProjectId,"font-bold":U.id===e.activeProjectId})},{default:N(()=>[l("span",ec,F(U.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ze,!a.value[`tag-${V}`]]])]))),128))],512),[[Ze,!a.value["main-tags"]]])])):C("",!0),m.value.length>0?(p(),v("div",tc,[l("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[3]||(w[3]=D=>h("inactive-projects"))},[w[14]||(w[14]=l("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(p(),v("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[13]||(w[13]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(l("ul",sc,[(p(!0),v(ae,null,ue(m.value,D=>(p(),v("li",{key:D.id},[_(B(je),{href:b.route("projects.show",D.id),onClick:V=>j(D.id),class:K({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":D.id!==e.activeProjectId,"font-bold":D.id===e.activeProjectId})},{default:N(()=>[l("span",nc,F(D.name)+" ("+F(D.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ze,!a.value["inactive-projects"]]])])):C("",!0),g.value.length>0?(p(),v("div",oc,[l("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[4]||(w[4]=D=>h("uncategorized"))},[w[16]||(w[16]=l("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(p(),v("svg",{class:K(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[15]||(w[15]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(l("ul",ac,[(p(!0),v(ae,null,ue(g.value,D=>(p(),v("li",{key:D.id},[_(B(je),{href:b.route("projects.show",D.id),onClick:V=>j(D.id),class:K({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":D.id!==e.activeProjectId,"font-bold":D.id===e.activeProjectId})},{default:N(()=>[l("span",ic,F(D.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ze,!a.value.uncategorized]])])):C("",!0),r.value.length===0?(p(),v("div",rc," No projects found matching your search. ")):e.allProjects.length===0&&!i.value?(p(),v("div",lc," No projects available. ")):C("",!0)]))],2))}},fc=Tt(cc,[["__scopeId","data-v-417d431f"]]),pc={class:"relative"},Ea={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(e){const t=e,s=d=>{a.value&&d.key==="Escape"&&(a.value=!1)};Je(()=>document.addEventListener("keydown",s)),_s(()=>document.removeEventListener("keydown",s));const o=G(()=>{const d={48:"w-48",64:"w-64",72:"w-72",80:"w-80",96:"w-96",full:"w-full",screen:"w-screen",auto:""},u=t.width.toString();return d[u]??d[48]}),n=G(()=>t.width.toString()==="screen"),i=G(()=>t.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":t.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),a=M(!1);return(d,u)=>(p(),v("div",pc,[l("div",{onClick:u[0]||(u[0]=r=>a.value=!a.value)},[Be(d.$slots,"trigger")]),ce(l("div",{class:"fixed inset-0 z-40",onClick:u[1]||(u[1]=r=>a.value=!1)},null,512),[[Ze,a.value]]),_(vo,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:N(()=>[ce(l("div",{class:K(["z-50 mt-2 rounded-md shadow-lg",n.value?"fixed left-0 right-0":"absolute",i.value,o.value]),style:{display:"none"},onClick:u[2]||(u[2]=r=>a.value=!1)},[l("div",{class:K(["rounded-md ring-1 ring-black ring-opacity-5",e.contentClasses])},[Be(d.$slots,"content")],2)],2),[[Ze,a.value]])]),_:3})]))}},be={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){return(t,s)=>(p(),X(B(je),go({href:e.href,method:e.method,as:e.as},t.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:N(()=>[Be(t.$slots,"default")]),_:3},16,["href","method","as"]))}},Ce={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(e){const t=e,s=G(()=>t.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(p(),X(B(je),{href:e.href,class:K(s.value)},{default:N(()=>[Be(o.$slots,"default")]),_:3},8,["href","class"]))}};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mc=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),hc=e=>{const t=mc(e);return t.charAt(0).toUpperCase()+t.slice(1)},vc=(...e)=>e.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim(),io=e=>e==="";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=({name:e,iconNode:t,absoluteStrokeWidth:s,"absolute-stroke-width":o,strokeWidth:n,"stroke-width":i,size:a=Dt.width,color:d=Dt.stroke,...u},{slots:r})=>zs("svg",{...Dt,...u,width:a,height:a,stroke:d,"stroke-width":io(s)||io(o)||s===!0||o===!0?Number(n||i||Dt["stroke-width"])*24/Number(a):n||i||Dt["stroke-width"],class:vc("lucide",u.class,...e?[`lucide-${ao(hc(e))}-icon`,`lucide-${ao(e)}`]:["lucide-icon"])},[...t.map(f=>zs(...f)),...r.default?[r.default()]:[]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=(e,t)=>(s,{slots:o,attrs:n})=>zs(gc,{...n,...s,iconNode:t,name:e},o);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Vs("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Vs("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Vs("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Vs("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),kc={class:"hidden sm:flex sm:items-center"},wc={class:"mx-auto w-full max-w-6xl"},Ec={class:"grid grid-cols-2 md:grid-cols-4 gap-8"},xc={class:"space-y-1"},Sc={class:"space-y-1"},Tc={class:"space-y-1"},Cc={class:"space-y-1"},Nc={__name:"AdminDropdown",setup(e){const{canDo:t}=sn(),s=t("manage_projects"),o=t("create_users"),n=t("manage_roles"),i=t("manage_task_types"),a=t("create_clients"),d=t("manage_project_tiers")||t("view_project_tiers");return(u,r)=>(p(),v("div",kc,[_(Ea,{align:"left",width:"screen","content-classes":"py-6 bg-white p-6 w-full shadow-lg"},{trigger:N(()=>r[0]||(r[0]=[l("span",{class:"inline-flex rounded-md"},[l("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 hover:text-gray-900 focus:outline-none"},[O(" Admin "),l("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:N(()=>[l("div",wc,[l("div",Ec,[l("div",null,[r[4]||(r[4]=l("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Management",-1)),l("div",xc,[B(s)?(p(),X(be,{key:0,href:u.route("projects.index"),active:u.route().current("projects.index"),class:"!px-2 !py-1.5"},{default:N(()=>r[1]||(r[1]=[O("Projects",-1)])),_:1,__:[1]},8,["href","active"])):C("",!0),B(a)?(p(),X(be,{key:1,href:u.route("clients.page"),active:u.route().current("clients.page"),class:"!px-2 !py-1.5"},{default:N(()=>r[2]||(r[2]=[O("Clients",-1)])),_:1,__:[2]},8,["href","active"])):C("",!0),B(o)?(p(),X(be,{key:2,href:u.route("users.page"),active:u.route().current("users.page"),class:"!px-2 !py-1.5"},{default:N(()=>r[3]||(r[3]=[O("Users",-1)])),_:1,__:[3]},8,["href","active"])):C("",!0)])]),l("div",null,[r[8]||(r[8]=l("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Planning / Sharing",-1)),l("div",Sc,[B(o)?(p(),X(be,{key:0,href:u.route("availability.index"),active:u.route().current("availability.index"),class:"!px-2 !py-1.5"},{default:N(()=>r[5]||(r[5]=[O("Weekly Availability",-1)])),_:1,__:[5]},8,["href","active"])):C("",!0),B(t)("manage_notices")?(p(),X(be,{key:1,href:u.route("admin.notice-board.index"),class:"!px-2 !py-1.5"},{default:N(()=>r[6]||(r[6]=[O("Notice Board",-1)])),_:1,__:[6]},8,["href"])):C("",!0),B(t)("manage_notices")?(p(),X(be,{key:2,href:u.route("shareable-resources.page"),class:"!px-2 !py-1.5"},{default:N(()=>r[7]||(r[7]=[O("Shareable Resources",-1)])),_:1,__:[7]},8,["href"])):C("",!0)])]),l("div",null,[r[13]||(r[13]=l("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Configuration",-1)),l("div",Tc,[B(i)?(p(),X(be,{key:0,href:u.route("task-types.page"),active:u.route().current("task-types.page"),class:"!px-2 !py-1.5"},{default:N(()=>r[9]||(r[9]=[O("Task Types",-1)])),_:1,__:[9]},8,["href","active"])):C("",!0),B(d)||B(t)("create_project_tiers")||B(t)("edit_project_tiers")?(p(),X(be,{key:1,href:"/admin/project-tiers",class:"!px-2 !py-1.5"},{default:N(()=>r[10]||(r[10]=[O("Project Tiers",-1)])),_:1,__:[10]})):C("",!0),B(t)("manage_email_templates")?(p(),X(be,{key:2,href:u.route("email-templates.page"),active:u.route().current("email-templates.page"),class:"!px-2 !py-1.5"},{default:N(()=>r[11]||(r[11]=[O("Email Templates",-1)])),_:1,__:[11]},8,["href","active"])):C("",!0),B(t)("manage_placeholder_definitions")?(p(),X(be,{key:3,href:u.route("placeholder-definitions.page"),active:u.route().current("placeholder-definitions.page"),class:"!px-2 !py-1.5"},{default:N(()=>r[12]||(r[12]=[O("Placeholder Definitions",-1)])),_:1,__:[12]},8,["href","active"])):C("",!0)])]),l("div",null,[r[18]||(r[18]=l("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Access & Finance",-1)),l("div",Cc,[B(n)?(p(),X(be,{key:0,href:u.route("admin.roles.index"),class:"!px-2 !py-1.5"},{default:N(()=>r[14]||(r[14]=[O("Manage Roles",-1)])),_:1,__:[14]},8,["href"])):C("",!0),B(t)("manage_permissions")?(p(),X(be,{key:1,href:u.route("admin.permissions.index"),class:"!px-2 !py-1.5"},{default:N(()=>r[15]||(r[15]=[O("Manage Permissions",-1)])),_:1,__:[15]},8,["href"])):C("",!0),B(t)("manage_monthly_budgets")?(p(),X(be,{key:2,href:"/admin/monthly-budgets",class:"!px-2 !py-1.5"},{default:N(()=>r[16]||(r[16]=[O("Monthly Budgets",-1)])),_:1,__:[16]})):C("",!0),B(t)("view_monthly_budgets")?(p(),X(be,{key:3,href:"/admin/bonus-calculator",class:"!px-2 !py-1.5"},{default:N(()=>r[17]||(r[17]=[O("Bonus Calculator",-1)])),_:1,__:[17]})):C("",!0)])])])])]),_:1})]))}},Ic={class:"relative ms-3"},Ac={class:"inline-flex rounded-md"},Oc={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},$c={__name:"UserDropdown",emits:["logoutSuccess","logoutError"],setup(e,{emit:t}){const s=G(()=>zt().props.auth.user),o=t,n=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,o("logoutSuccess")},i=a=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",o("logoutError",a)};return(a,d)=>(p(),v("div",Ic,[_(Ea,{align:"right",width:"48"},{trigger:N(()=>{var u;return[l("span",Ac,[l("button",Oc,[O(F(s.value.name)+" ("+F((u=s.value.role_data)==null?void 0:u.name)+") ",1),d[0]||(d[0]=l("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:N(()=>[_(be,{href:a.route("profile.edit")},{default:N(()=>d[1]||(d[1]=[O(" Profile ",-1)])),_:1,__:[1]},8,["href"]),_(be,{href:a.route("logout"),method:"post",as:"button",onSuccess:n,onError:i},{default:N(()=>d[2]||(d[2]=[O(" Log Out ",-1)])),_:1,__:[2]},8,["href"])]),_:1})]))}},Mc={class:"bg-white z-10 relative w-full shadow-sm border-b border-gray-100"},Pc={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Dc={class:"flex h-16 justify-between items-center"},Rc={class:"flex-shrink-0 flex items-center"},Lc={class:"hidden sm:flex items-center space-x-6"},Vc={key:0,class:"group relative inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 text-white text-sm font-semibold shadow-lg ring-2 ring-emerald-300/60 transition-all duration-300 ease-in-out"},jc={class:"font-bold"},Fc={key:1,class:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 text-gray-500 text-sm font-medium"},Bc={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},Uc={class:"-mr-2 flex items-center sm:hidden"},Xc={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Hc={class:"bg-gray-50 border-t border-gray-100 py-2 hidden sm:block"},qc={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},zc={class:"flex items-center justify-between"},Wc={class:"flex items-center space-x-2 overflow-x-auto no-scrollbar"},Gc={class:"flex items-center space-x-2 flex-shrink-0"},Kc={class:"space-y-1 pt-2 pb-3"},Jc={class:"flex items-center p-3"},Yc={__name:"TopNavigation",props:{unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","open-kudo-modal"],setup(e,{emit:t}){const s=t,o=M(!1);G(()=>zt().props.auth.user);const{canDo:n}=sn(),i=n("manage_roles"),a=M(null),d=M(!0),u=M(null);return Je(async()=>{try{const{data:r}=await window.axios.get("/api/leaderboard/stats");a.value=(r==null?void 0:r.userMonthlyPoints)??0}catch(r){console.error("Failed to load monthly points",r),u.value="Failed to load points",a.value=0}finally{d.value=!1}}),(r,f)=>(p(),v("nav",Mc,[l("div",Pc,[l("div",Dc,[l("div",Rc,[_(B(je),{href:r.route("dashboard")},{default:N(()=>[_(li,{class:"block h-14 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),l("div",Lc,[_(B(je),{href:r.route("leaderboard.index"),class:"mr-3 cursor-pointer"},{default:N(()=>[d.value?(p(),v("div",Fc," Loading... ")):(p(),v("div",Vc,[f[6]||(f[6]=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1)),l("span",jc,F(a.value??0),1),f[7]||(f[7]=l("span",{class:"ml-1 text-white/80"},"pts",-1))]))]),_:1},8,["href"]),l("button",{onClick:f[0]||(f[0]=c=>s("openNotificationsSidebar")),class:"relative flex-shrink-0 text-gray-400 hover:text-indigo-600 p-2 rounded-full transition-colors duration-200","aria-label":"View all notifications"},[_(B(_c),{class:"h-6 w-6"}),e.unreadNotificationCount>0?(p(),v("span",Bc,F(e.unreadNotificationCount),1)):C("",!0)]),_($c)]),l("div",Uc,[l("button",{onClick:f[1]||(f[1]=c=>o.value=!o.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(p(),v("svg",Xc,[l("path",{class:K({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),l("path",{class:K({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),l("div",Hc,[l("div",qc,[l("div",zc,[l("div",Wc,[_(Ce,{href:r.route("dashboard"),active:r.route().current("dashboard")},{default:N(()=>f[8]||(f[8]=[O(" Dashboard ",-1)])),_:1,__:[8]},8,["href","active"]),_(Ce,{href:r.route("inbox"),active:r.route().current("inbox")},{default:N(()=>f[9]||(f[9]=[O(" Inbox ",-1)])),_:1,__:[9]},8,["href","active"]),_(Ce,{href:r.route("workspace.index"),active:r.route().current("workspace.index")},{default:N(()=>f[10]||(f[10]=[O(" My Workspace ",-1)])),_:1,__:[10]},8,["href","active"]),_(Ce,{href:r.route("bonus-system.index"),active:r.route().current("bonus-system.index")},{default:N(()=>f[11]||(f[11]=[O(" Bonus System ",-1)])),_:1,__:[11]},8,["href","active"]),_(Ce,{href:r.route("leaderboard.index"),active:r.route().current("leaderboard.index")},{default:N(()=>f[12]||(f[12]=[O(" Leaderboard ",-1)])),_:1,__:[12]},8,["href","active"]),_(Ce,{href:r.route("kudos.index"),active:r.route().current("kudos.index")},{default:N(()=>f[13]||(f[13]=[O(" Kudos ",-1)])),_:1,__:[13]},8,["href","active"]),B(n)("add_expendables").value?(p(),X(Ce,{key:0,href:r.route("project-expendables.index")},{default:N(()=>f[14]||(f[14]=[O(" Project Expendables ",-1)])),_:1,__:[14]},8,["href"])):C("",!0),B(i)?(p(),X(Nc,{key:1})):C("",!0)]),l("div",Gc,[_(ke,{type:"button",onClick:f[2]||(f[2]=c=>s("openCreateTaskModal")),class:"px-3 py-1.5 text-sm"},{default:N(()=>[_(B(ro),{class:"h-4 w-4 mr-1.5"}),f[15]||(f[15]=l("span",null,"Add Task",-1))]),_:1,__:[15]}),_(ke,{type:"button",onClick:f[3]||(f[3]=c=>s("openAddResource")),class:"px-3 py-1.5 text-sm"},{default:N(()=>[_(B(ro),{class:"h-4 w-4 mr-1.5"}),f[16]||(f[16]=l("span",null,"Add Resource",-1))]),_:1,__:[16]}),B(n)("create_kudos")?(p(),v("button",{key:0,type:"button",onClick:f[4]||(f[4]=c=>r.$emit("open-kudo-modal")),class:"inline-flex items-center justify-center px-3 py-1.5 text-sm font-semibold rounded-lg bg-orange-500 text-white hover:bg-orange-600 transition-colors duration-200"},[_(B(yc),{class:"h-4 w-4 mr-1.5"}),f[17]||(f[17]=l("span",null,"Give Kudo",-1))])):C("",!0)])])])]),l("div",{class:K([{block:o.value,hidden:!o.value},"sm:hidden"])},[l("div",Kc,[_(Ce,{href:r.route("dashboard"),active:r.route().current("dashboard")},{default:N(()=>f[18]||(f[18]=[O(" Dashboard ",-1)])),_:1,__:[18]},8,["href","active"]),_(Ce,{href:r.route("inbox"),active:r.route().current("inbox")},{default:N(()=>f[19]||(f[19]=[O(" Inbox ",-1)])),_:1,__:[19]},8,["href","active"]),_(Ce,{href:r.route("workspace.index"),active:r.route().current("workspace.index")},{default:N(()=>f[20]||(f[20]=[O(" My Workspace ",-1)])),_:1,__:[20]},8,["href","active"]),_(Ce,{href:r.route("bonus-system.index"),active:r.route().current("bonus-system.index")},{default:N(()=>f[21]||(f[21]=[O(" Bonus System ",-1)])),_:1,__:[21]},8,["href","active"]),_(Ce,{href:r.route("leaderboard.index"),active:r.route().current("leaderboard.index")},{default:N(()=>f[22]||(f[22]=[O(" Leaderboard ",-1)])),_:1,__:[22]},8,["href","active"]),_(Ce,{href:r.route("kudos.index"),active:r.route().current("kudos.index")},{default:N(()=>f[23]||(f[23]=[O(" Kudos ",-1)])),_:1,__:[23]},8,["href","active"]),B(n)("add_expendables").value?(p(),X(Ce,{key:0,href:r.route("project-expendables.index")},{default:N(()=>f[24]||(f[24]=[O(" Project Expendables ",-1)])),_:1,__:[24]},8,["href"])):C("",!0),l("div",Jc,[_(ke,{type:"button",onClick:f[5]||(f[5]=c=>B(yo).visit(r.route("leaderboard.index"))),class:"px-4 py-2 text-sm w-full"},{default:N(()=>f[25]||(f[25]=[O(" Go to Leaderboard ",-1)])),_:1,__:[25]})])])],2)]))}},de={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){const t=e,s=G(()=>t.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(p(),X(B(je),go({href:e.href,method:e.method,as:e.as},o.$attrs,{class:s.value}),{default:N(()=>[Be(o.$slots,"default")]),_:3},16,["href","method","as","class"]))}},Qc={class:"space-y-1 pb-3 pt-2"},Zc={key:0,class:"mt-3 space-y-1"},ef={class:"border-t border-gray-200 pb-1 pt-4"},tf={class:"px-4"},sf={class:"text-base font-medium text-gray-800"},nf={class:"text-sm font-medium text-gray-500"},of={class:"text-sm font-medium text-gray-500 capitalize"},af={class:"mt-3 space-y-1"},rf={__name:"MobileNavigation",props:{showingNavigationDropdown:{type:Boolean,required:!0},unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","logoutSuccess","logoutError"],setup(e,{emit:t}){const s=t,o=G(()=>zt().props.auth.user),{canDo:n}=sn(),i=n("manage_projects"),a=n("compose_emails"),d=n("approve_emails"),u=n("create_users"),r=n("manage_roles"),f=n("manage_task_types"),c=n("create_clients"),m=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,s("logoutSuccess")},g=k=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",s("logoutError",k)};return(k,h)=>{var j;return p(),v("div",{class:K([{block:e.showingNavigationDropdown,hidden:!e.showingNavigationDropdown},"sm:hidden"])},[l("div",Qc,[B(r)?(p(),v("div",Zc,[h[18]||(h[18]=l("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),_(de,{href:k.route("dashboard"),active:k.route().current("dashboard")},{default:N(()=>h[3]||(h[3]=[O(" Dashboard ",-1)])),_:1,__:[3]},8,["href","active"]),B(n)("view_emails")?(p(),X(de,{key:0,href:k.route("inbox"),active:k.route().current("inbox")},{default:N(()=>h[4]||(h[4]=[O(" Inbox ",-1)])),_:1,__:[4]},8,["href","active"])):C("",!0),B(c)?(p(),X(de,{key:1,href:k.route("clients.page"),active:k.route().current("clients.page")},{default:N(()=>h[5]||(h[5]=[O(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):C("",!0),B(i)?(p(),X(de,{key:2,href:k.route("projects.index"),active:k.route().current("projects.index")},{default:N(()=>h[6]||(h[6]=[O(" Projects ",-1)])),_:1,__:[6]},8,["href","active"])):C("",!0),B(u)?(p(),X(de,{key:3,href:k.route("users.page"),active:k.route().current("users.page")},{default:N(()=>h[7]||(h[7]=[O(" Users ",-1)])),_:1,__:[7]},8,["href","active"])):C("",!0),B(a)?(p(),X(de,{key:4,href:k.route("emails.compose"),active:k.route().current("emails.compose")},{default:N(()=>h[8]||(h[8]=[O(" Compose Email ",-1)])),_:1,__:[8]},8,["href","active"])):C("",!0),B(d)?(p(),X(de,{key:5,href:k.route("emails.pending"),active:k.route().current("emails.pending")},{default:N(()=>h[9]||(h[9]=[O(" Approve Emails ",-1)])),_:1,__:[9]},8,["href","active"])):C("",!0),B(a)?(p(),X(de,{key:6,href:k.route("emails.rejected"),active:k.route().current("emails.rejected")},{default:N(()=>h[10]||(h[10]=[O(" Rejected Emails ",-1)])),_:1,__:[10]},8,["href","active"])):C("",!0),B(u)?(p(),X(de,{key:7,href:k.route("availability.index"),active:k.route().current("availability.index")},{default:N(()=>h[11]||(h[11]=[O(" Weekly Availability ",-1)])),_:1,__:[11]},8,["href","active"])):C("",!0),B(n)("manage_roles")?(p(),X(de,{key:8,href:k.route("admin.roles.index"),active:k.route().current("admin.roles.index")},{default:N(()=>h[12]||(h[12]=[O(" Manage Roles ",-1)])),_:1,__:[12]},8,["href","active"])):C("",!0),B(n)("manage_permissions")?(p(),X(de,{key:9,href:k.route("admin.permissions.index"),active:k.route().current("admin.permissions.index")},{default:N(()=>h[13]||(h[13]=[O(" Manage Permissions ",-1)])),_:1,__:[13]},8,["href","active"])):C("",!0),B(f)?(p(),X(de,{key:10,href:k.route("task-types.page"),active:k.route().current("task-types.page")},{default:N(()=>h[14]||(h[14]=[O(" Task Types ",-1)])),_:1,__:[14]},8,["href","active"])):C("",!0),B(n)("manage_email_templates")?(p(),X(de,{key:11,href:k.route("email-templates.page"),active:k.route().current("email-templates.page")},{default:N(()=>h[15]||(h[15]=[O(" Email Templates ",-1)])),_:1,__:[15]},8,["href","active"])):C("",!0),B(n)("manage_placeholder_definitions")?(p(),X(de,{key:12,href:k.route("placeholder-definitions.page"),active:k.route().current("placeholder-definitions.page")},{default:N(()=>h[16]||(h[16]=[O(" Placeholder Definitions ",-1)])),_:1,__:[16]},8,["href","active"])):C("",!0),B(n)("view_shareable_resources")?(p(),X(de,{key:13,href:k.route("shareable-resources.page"),active:k.route().current("shareable-resources.page")},{default:N(()=>h[17]||(h[17]=[O(" Shareable Resources ",-1)])),_:1,__:[17]},8,["href","active"])):C("",!0)])):C("",!0)]),l("div",ef,[l("div",tf,[l("div",sf,F(o.value.name),1),l("div",nf,F(o.value.email),1),l("div",of,F((j=o.value.role_data)==null?void 0:j.name),1)]),l("div",af,[_(de,{as:"button",onClick:h[0]||(h[0]=I=>s("openCreateTaskModal"))},{default:N(()=>h[19]||(h[19]=[O(" Add Task ",-1)])),_:1,__:[19]}),_(de,{as:"button",onClick:h[1]||(h[1]=I=>s("openAddResource"))},{default:N(()=>h[20]||(h[20]=[O(" Add Resource ",-1)])),_:1,__:[20]}),_(de,{as:"button",onClick:h[2]||(h[2]=I=>s("openNotificationsSidebar"))},{default:N(()=>[O(" Notifications ("+F(e.unreadNotificationCount)+") ",1)]),_:1}),_(de,{href:k.route("profile.edit")},{default:N(()=>h[21]||(h[21]=[O(" Profile ",-1)])),_:1,__:[21]},8,["href"]),_(de,{href:k.route("logout"),method:"post",as:"button",onSuccess:m,onError:g},{default:N(()=>h[22]||(h[22]=[O(" Log Out ",-1)])),_:1,__:[22]},8,["href"])])])],2)}}},lf={class:"space-y-4"},uf={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},df={class:"text-sm font-medium text-gray-900"},cf={class:"text-xs text-gray-500 mt-1"},ff={class:"mb-4"},pf="post",mf="Add Note",hf="Note added successfully!",vf={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(e,{emit:t}){const s=e,o=t,n=_t({note:""}),i=G(()=>{var r;return`Add Note to Task: "${(r=s.taskForNote)==null?void 0:r.name}"`}),a=G(()=>{var r;return`/api/tasks/${(r=s.taskForNote)==null?void 0:r.id}/notes`});ge(()=>s.show,r=>{r&&Object.assign(n,{note:""})},{immediate:!0});const d=r=>{o("note-added",r),o("close")},u=()=>{o("close")};return(r,f)=>(p(),X(Qt,{show:e.show,title:i.value,"api-endpoint":a.value,"http-method":pf,"form-data":n,"submit-button-text":mf,"success-message":hf,onClose:u,onSubmitted:d},{default:N(({errors:c})=>[l("div",lf,[e.taskForNote?(p(),v("div",uf,[l("p",df,F(e.taskForNote.name),1),l("p",cf,"Status: "+F(e.taskForNote.status),1)])):C("",!0),l("div",ff,[_(Q,{for:"task-note-content",value:"Note Content"}),ce(l("textarea",{id:"task-note-content","onUpdate:modelValue":f[0]||(f[0]=m=>n.note=m),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[Ve,n.note]]),_(ee,{message:c.note?c.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},gf={class:"task-history-list"},yf={key:0,class:"text-center py-4"},_f={key:1,class:"text-gray-500 text-sm py-2"},bf={key:2,class:"space-y-3"},kf={class:"flex items-start"},wf={class:"text-xl mr-2"},Ef={class:"text-sm text-gray-700"},xf={class:"text-xs text-gray-500 mt-1"},Sf={__name:"TaskHistoryList",props:{activities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(e){const t=o=>o?new Date(o).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",s=o=>(console.log(o),o.includes("created")?"":o.includes("started")?"":o.includes("paused")?"":o.includes("resumed")?"":o.includes("unblocked")?"":o.includes("blocked")?"":o.includes("completed")?"":o.includes("revised")?"":o.includes("deleted")?"":o.includes("assigned")?"":o.includes("updated")?"":o.includes("added note")?"":o.includes("commented")?"":"");return(o,n)=>(p(),v("div",gf,[e.loading?(p(),v("div",yf,n[0]||(n[0]=[l("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"},null,-1),l("p",{class:"mt-2 text-gray-500"},"Loading activity history...",-1)]))):e.activities.length===0?(p(),v("div",_f," No activity history available for this task. ")):(p(),v("div",bf,[(p(!0),v(ae,null,ue(e.activities,i=>{var a;return p(),v("div",{key:i.id,class:"p-3 bg-gray-50 rounded-md"},[l("div",kf,[l("span",wf,F(s(i.description)),1),l("div",null,[l("p",Ef,F(i.description),1),l("p",xf," By "+F(((a=i.causer)==null?void 0:a.name)||"System")+" on "+F(t(i.created_at)),1)])])])}),128))]))]))}},Tf=Tt(Sf,[["__scopeId","data-v-423d54af"]]),Hm=async()=>{try{return(await re.get("/api/assigned-tasks")).data}catch(e){throw console.error("Error fetching assigned tasks:",e),pe("Failed to load assigned tasks"),e}},qm=async e=>{try{return(await re.get(`/api/projects/${e}/tasks`)).data}catch(t){throw console.error("Error fetching project tasks:",t),pe("Failed to load project tasks"),t}},zm=async e=>{try{return(await re.get(`/api/projects/${e}/due-and-overdue-tasks`)).data}catch(t){throw console.error("Error fetching due and overdue tasks:",t),pe("Failed to load due and overdue tasks"),t}},Cf=async e=>{if(!e||e.status==="In Progress")return e;try{Ke("Starting task...");const t=await re.post(`/api/tasks/${e.id}/start`);return Ie("Task started successfully"),t.data}catch(t){throw console.error("Error starting task:",t),pe("Failed to start task. Please try again."),t}},Nf=async e=>{if(!e||e.status!=="In Progress")return Oe('Task can only be paused from "In Progress" status.'),e;try{Ke("Pausing task...");const t=await re.post(`/api/tasks/${e.id}/pause`);return Ie("Task paused successfully"),t.data}catch(t){throw console.error("Error pausing task:",t),pe("Failed to pause task. Please try again."),t}},If=async e=>{if(!e||e.status!=="Paused")return Oe('Task can only be resumed from "Paused" status.'),e;try{Ke("Resuming task...");const t=await re.post(`/api/tasks/${e.id}/resume`);return Ie("Task resumed successfully"),t.data}catch(t){throw console.error("Error resuming task:",t),pe("Failed to resume task. Please try again."),t}},Af=async e=>{if(!e||e.status==="Done")return e;if(e.status!=="In Progress")throw Oe("Task must be started before it can be completed"),new Error("Task must be started before it can be completed");try{Ke("Completing task...");const t=await re.patch(`/api/tasks/${e.id}/complete`);Ie("Task completed successfully");const s=t.data;if(s!=null&&s.needs_approval){const o=(s==null?void 0:s.creator_name)||"the creator";Ke(`This task requires approval. A notification has been sent to ${o}.`)}return s}catch(t){throw console.error("Error completing task:",t),t.response&&t.response.status===422?Oe(t.response.data.message||"Task must be started before it can be completed"):pe("Failed to complete task. Please try again."),t}},Of=async(e,t)=>{if(!e||e.status==="Blocked")return Oe("Task is already blocked."),e;if(e.status==="Done")return Oe("Completed tasks cannot be blocked."),e;if(!t)throw Oe("Please provide a reason for blocking the task"),new Error("Blocking reason is required");try{Ke("Blocking task...");const s=await re.post(`/api/tasks/${e.id}/block`,{reason:t});return Ie("Task blocked successfully"),s.data}catch(s){throw console.error("Error blocking task:",s),pe("Failed to block task. Please try again."),s}},$f=async e=>{if(!e||e.status!=="Blocked")return Oe("Task is not in a blocked state."),e;try{Ke("Unblocking task...");const t=await re.post(`/api/tasks/${e.id}/unblock`);return Ie("Task unblocked successfully"),t.data}catch(t){throw console.error("Error unblocking task:",t),pe("Failed to unblock task. Please try again."),t}},Mf=async e=>{if(!e||e.status!=="Done")return Oe("Only completed tasks can be revised."),e;try{Ke("Revising task...");const t=await re.post(`/api/tasks/${e.id}/revise`);return Ie("Task revised successfully"),t.data}catch(t){throw console.error("Error revising task:",t),t.response&&t.response.status===422?Oe(t.response.data.message||"Only completed tasks can be revised"):pe("Failed to revise task. Please try again."),t}},Pf=async e=>{if(!e)return!1;if(e.status!=="To Do")throw Oe("Only tasks in To Do status can be deleted"),new Error("Only tasks in To Do status can be deleted");if(!confirm("Are you sure you want to delete this task? This action cannot be undone."))return!1;try{return Ke("Deleting task..."),await re.delete(`/api/tasks/${e.id}`),Ie("Task deleted successfully"),!0}catch(t){throw console.error("Error deleting task:",t),pe("Failed to delete task. Please try again."),t}},Df=e=>{switch(e){case"To Do":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Paused":return"bg-orange-100 text-orange-800";case"Blocked":return"bg-red-100 text-red-800";case"Done":return"bg-green-100 text-green-800";case"Archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Wm=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Gm=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Medium";function lo(e,t){return p(),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z","clip-rule":"evenodd"})])}const Rf={class:"mt-4"},Lf={__name:"ChecklistCreator",props:{modelValue:{type:Array,required:!0},placeholder:{type:String,default:"e.g., Task 1, Task 2, Task 3"},label:{type:String,default:"Checklist Items"},density:{type:String,default:"spacious",validator:e=>["spacious","tight","notes"].includes(e)}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=M([]),i=M([]),a=M(!1);ge(()=>s.modelValue,c=>{a.value=!0,n.value=JSON.parse(JSON.stringify(c)),(n.value.length===0||n.value[n.value.length-1].name.trim()!=="")&&n.value.push({name:"",completed:!1}),ut(()=>{a.value=!1})},{immediate:!0,deep:!0}),ge(()=>n.value,c=>{a.value||o("update:modelValue",c)},{deep:!0});function d(c){n.value.splice(c,1),n.value.length===0&&n.value.push({name:"",completed:!1})}function u(c){c===n.value.length-1&&n.value[c].name.trim()!==""&&n.value.push({name:"",completed:!1})}function r(c){c<n.value.length-1&&ut(()=>{var m;(m=i.value[c+1])==null||m.focus()})}const f=G(()=>s.density==="tight"?{listClass:"space-y-1",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-1 text-sm"}:s.density==="notes"?{listClass:"space-y-0.5",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-0.5 text-sm border-transparent focus:border-transparent focus:ring-0 bg-transparent"}:{listClass:"space-y-2",itemClass:"flex items-center space-x-2",inputClass:""});return(c,m)=>(p(),v("div",Rf,[e.label?(p(),X(Q,{key:0,value:e.label},null,8,["value"])):C("",!0),l("ul",{class:K(f.value.listClass)},[(p(!0),v(ae,null,ue(n.value,(g,k)=>(p(),v("li",{key:k,class:K(f.value.itemClass)},[e.density==="notes"?(p(),X(B(lo),{key:0,class:"h4 w-4",onClick:h=>d(k)},null,8,["onClick"])):C("",!0),_(Fe,{modelValue:g.name,"onUpdate:modelValue":h=>g.name=h,type:"text",class:K(["flex-1",f.value.inputClass]),placeholder:k===n.value.length-1?e.placeholder:"",onInput:h=>u(k),onKeyup:ns(tn(h=>r(k),["prevent"]),["enter"]),ref_for:!0,ref:h=>{h&&(i.value[k]=h)}},null,8,["modelValue","onUpdate:modelValue","class","placeholder","onInput","onKeyup"]),n.value.length>1&&e.density!=="notes"?(p(),X(nn,{key:1,type:"button",onClick:h=>d(k)},{default:N(()=>[_(B(lo),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):C("",!0)],2))),128))],2)]))}},Vf={key:0,class:"text-center py-8 text-gray-500"},jf={key:1,class:"text-center py-8 text-red-600"},Ff={key:2,class:"space-y-6"},Bf={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},Uf={class:"text-xl font-bold text-gray-900 mb-2"},Xf={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},Hf={key:0,class:"text-indigo-600 font-medium"},qf={key:1,class:"text-purple-600 font-medium"},zf={class:"text-gray-700 leading-relaxed"},Wf={class:"mt-4 flex flex-wrap gap-2"},Gf={key:0,class:"text-xs text-gray-500 mt-1"},Kf={key:0,class:"bg-yellow-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm"},Jf={class:"flex items-center"},Yf={class:"ml-3"},Qf={class:"mt-2 text-sm text-yellow-700"},Zf={key:1,class:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-lg shadow-sm"},ep={class:"flex items-start"},tp={class:"ml-3"},sp={class:"mt-1 text-sm text-amber-700"},np={key:0},op={class:"font-medium"},ap={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm mb-4"},ip={class:"flex justify-between items-center border-b pb-2 mb-4"},rp={key:0},lp={key:1},up={key:0,class:"mb-4"},dp={class:"flex justify-end mt-4"},cp={key:2,class:"text-gray-500 text-sm py-2"},fp={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},pp={class:"flex items-center justify-between py-2 border-b border-gray-100"},mp={class:"flex-1 text-right"},hp={key:0,class:"text-xs text-gray-400 ml-1"},vp={key:1,class:"flex items-center space-x-2"},gp={class:"flex items-center justify-between py-2 border-b border-gray-100"},yp={class:"flex-1 text-right"},_p={key:1,class:"flex items-center space-x-2"},bp={class:"flex items-center justify-between py-2 border-b border-gray-100"},kp={class:"flex-1 text-right"},wp={key:0,class:"text-xs text-gray-400 ml-1"},Ep={key:1,class:"flex items-center space-x-2"},xp={class:"flex items-center justify-between py-2 border-b border-gray-100"},Sp={class:"text-gray-700"},Tp={class:"flex items-start py-2 border-b border-gray-100"},Cp={class:"flex-1 flex flex-wrap gap-2"},Np={key:0,class:"text-gray-500 text-sm"},Ip={class:"bg-white p-4 rounded-lg shadow-sm"},Ap={class:"mb-4 border-b pb-3 flex flex-col gap-3"},Op={class:"flex items-center justify-between"},$p={class:"flex items-center gap-2"},Mp=["disabled"],Pp={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Dp={class:"flex items-center gap-3"},Rp={class:"relative inline-flex items-center px-4 py-2 rounded-md border border-dashed border-indigo-300 text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer transition"},Lp=["disabled"],Vp={key:0,class:"flex flex-wrap gap-2"},jp=["title"],Fp=["onClick"],Bp={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},Up={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},Xp={class:"aspect-video bg-gray-50 flex items-center justify-center overflow-hidden"},Hp=["src","alt","onClick"],qp=["onClick"],zp={class:"p-2 flex items-center justify-between"},Wp=["title","onClick"],Gp=["onClick"],Kp={key:2,class:"text-sm text-gray-500"},Jp={class:"bg-white p-4 rounded-lg shadow-sm"},Yp={class:"flex justify-between items-center mb-4 border-b pb-2"},Qp={key:0,class:"space-y-3"},Zp={class:"text-sm text-gray-700"},em={class:"text-xs text-gray-500 mt-1"},tm={key:1,class:"text-gray-500 text-sm py-2"},sm={class:"bg-white p-4 rounded-lg shadow-sm"},nm={key:3,class:"text-center py-8 text-gray-500"},om={key:4,class:"mt-4 flex flex-col items-center"},am={key:0,class:"text-xs text-red-500 mt-1"},im={class:"p-6"},rm={class:"mb-4"},lm={class:"flex justify-end space-x-3"},um={class:"p-4 sm:p-6 w-full max-w-4xl"},dm={class:"flex justify-between items-center mb-3"},cm=["title"],fm={class:"bg-black/5 rounded-lg overflow-hidden",style:{"min-height":"320px"}},pm=["src"],mm=["src"],hm={key:2,class:"p-6 text-center text-gray-700"},vm=["href"],gm={key:3,class:"p-6 text-center text-gray-500"},ym={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(e,{emit:t}){const s=e,o=t,n=M(null),i=M(!0),a=M(""),d=M(!1),u=M(!1),r=M(!1),f=M(null),c=M(null),m=M(null),g=M([]),k=M(!1),h=M([]),j=M(!1),I=M(!1),b=M([]),w=async()=>{if(s.taskId){j.value=!0;try{const R=await window.axios.get("/api/files",{params:{model_type:"Task",model_id:s.taskId}});h.value=R.data||[]}catch(R){console.error("Error fetching task files",R)}finally{j.value=!1}}},D=R=>{b.value=Array.from(R.target.files||[])},V=async()=>{if(!b.value.length)return;I.value=!0;const R=new FormData;b.value.forEach((E,ye)=>R.append(`files[${ye}]`,E)),R.append("model_type","Task"),R.append("model_id",s.taskId);try{await window.axios.post("/api/files",R,{headers:{"Content-Type":"multipart/form-data"}}),Ie("Files uploaded"),b.value=[],await w()}catch(E){console.error("Upload failed",E),pe("Failed to upload files")}finally{I.value=!1}},U=async R=>{if(await oi(`Delete file "${R.filename}"?`,{confirmText:"Delete",cancelText:"Cancel",type:"warning"}))try{await window.axios.delete(`/api/files/${R.id}`),Ie("File deleted"),await w()}catch(ye){console.error("Delete failed",ye),pe("Failed to delete file")}},J=M(!1),T=M(null),S=R=>{T.value=R,J.value=!0},L=()=>{J.value=!1,T.value=null},A=R=>R?R.thumbnail_url?R.thumbnail_url:R.mime_type&&R.mime_type.includes("image")&&R.path_url?R.path_url:null:null,y=R=>{if(!R)return{type:"none"};const E=R.path_url||null,ye=(R.mime_type||"").toLowerCase();return E?ye.includes("image")?{type:"image",src:E}:ye.includes("pdf")||ye.includes("text")||ye.includes("html")?{type:"iframe",src:E}:{type:"external_link",url:E}:{type:"none"}},x=G(()=>y(T.value)),P=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],$=M(!1),q=M(!1),H=M([{name:"",completed:!1}]),se=M(!1),Re=async()=>{i.value=!0,a.value="";try{const R=await window.axios.get(`/api/tasks/${s.taskId}`);n.value=R.data,f.value=n.value.assigned_to_id||null,c.value=n.value.due_date||null,m.value=n.value.priority||"medium",Te()}catch(R){a.value="Failed to load task details.",console.error("Error fetching task details:",R)}finally{i.value=!1}},Te=async()=>{k.value=!0;try{const R=await window.axios.get("/api/activities",{params:{subject_type:"App\\Models\\Task",subject_id:s.taskId}});g.value=R.data}catch(R){console.error("Error fetching task activities:",R)}finally{k.value=!1}};ge(()=>s.taskId,R=>{R?(Re(),w()):(n.value=null,h.value=[])},{immediate:!0});const It=G(()=>s.projectUsers.map(R=>({value:R.id,label:R.name}))),xa=async()=>{if(!n.value||f.value===n.value.assigned_to_id){d.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{assigned_to_user_id:f.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating assigned user:",R),f.value=n.value.assigned_to_id,pe("Failed to update assigned user. Please try again.")}finally{d.value=!1}},Sa=async()=>{if(!n.value||c.value===n.value.due_date){u.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{due_date:c.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating due date:",R),c.value=n.value.due_date,pe("Failed to update due date. Please try again.")}finally{u.value=!1}},Ta=async()=>{if(!n.value||m.value===n.value.priority){r.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{priority:m.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating priority:",R),m.value=n.value.priority,pe("Failed to update priority. Please try again.")}finally{r.value=!1}},Ca=()=>{$.value=!0},Na=()=>{Re(),$.value=!1},Ia=async()=>{try{await Pf(n.value),o("task-deleted",n.value.id),o("close")}catch(R){console.error("Error deleting task:",R)}},Aa=async()=>{try{n.value=await Cf(n.value),o("task-updated",n.value),Te()}catch(R){console.error("Error starting task:",R)}},Oa=async()=>{try{n.value=await Nf(n.value),o("task-updated",n.value),Te()}catch(R){console.error("Error pausing task:",R)}},$a=async()=>{try{n.value=await If(n.value),o("task-updated",n.value),Te()}catch(R){console.error("Error resuming task:",R)}},Ma=async()=>{try{n.value=await Af(n.value),o("task-updated",n.value),Te()}catch(R){console.error("Error completing task:",R)}},Pa=async()=>{try{n.value=await Mf(n.value),o("task-updated",n.value),Te()}catch(R){console.error("Error revising task:",R)}},Da=()=>{var R;q.value=!q.value,q.value&&((R=n.value.details)!=null&&R.checklist&&n.value.details.checklist.length>0?(H.value=JSON.parse(JSON.stringify(n.value.details.checklist)),H.value[H.value.length-1].name!==""&&H.value.push({name:"",completed:!1})):H.value=[{name:"",completed:!1}])},Ra=async()=>{if(!se.value){se.value=!0;try{const R=H.value.filter(at=>at.name.trim()!==""),E={details:{...n.value.details,checklist:R}},ye=await window.axios.patch(`/api/tasks/${n.value.id}`,E);n.value=ye.data,q.value=!1,Ie("Checklist saved successfully"),o("task-updated",n.value)}catch(R){console.error("Error saving checklist:",R),pe("Failed to save checklist")}finally{se.value=!1}}},At=M(!1),ht=M(""),La=()=>{ht.value="",At.value=!0},Va=async()=>{if(!ht.value.trim()){Oe("Please provide a reason for blocking the task");return}try{n.value=await Of(n.value,ht.value),Ie("Task blocked successfully"),o("task-updated",n.value),Te(),At.value=!1}catch(R){console.error("Error blocking task:",R)}},ja=async()=>{try{n.value=await $f(n.value),o("task-updated",n.value),Te()}catch(R){console.error("Error unblocking task:",R)}},Fa=G(()=>n.value?Df(n.value.status):""),js=G(()=>{var E,ye,at,Ot;if(!g.value||((E=n.value)==null?void 0:E.status)!=="Blocked")return null;const R=g.value.find($t=>{var Mt,Pt;return $t.event==="updated"&&((Pt=(Mt=$t.properties)==null?void 0:Mt.attributes)==null?void 0:Pt.status)==="Blocked"});return R?(console.log(R.properties),{causer:((ye=R.causer)==null?void 0:ye.name)||"Unknown",reason:((Ot=(at=R.properties)==null?void 0:at.attributes)==null?void 0:Ot.block_reason)||"No reason provided."}):null});return(R,E)=>{var ye,at,Ot,$t,Mt,Pt,Pn;return p(),v("div",null,[i.value?(p(),v("div",Vf," Loading task details... ")):a.value?(p(),v("div",jf,F(a.value),1)):n.value?(p(),v("div",Ff,[l("div",Bf,[l("h4",Uf,F(n.value.name),1),l("div",Xf,[l("span",{class:K(["px-2 py-1 rounded-full text-xs font-medium",Fa.value])},F(n.value.status),3),n.value.task_type?(p(),v("span",Hf," | "+F((ye=n.value.task_type)==null?void 0:ye.name)+" | ",1)):C("",!0),E[14]||(E[14]=l("br",null,null,-1)),(at=n.value.milestone)!=null&&at.name?(p(),v("span",qf,F((Ot=n.value.milestone)==null?void 0:Ot.name),1)):C("",!0)]),l("p",zf,F(n.value.description||"No description provided."),1),l("div",Wf,[n.value.status==="To Do"?(p(),X(ke,{key:0,onClick:Aa,class:"bg-blue-600 hover:bg-blue-700"},{default:N(()=>E[15]||(E[15]=[O(" Start Task ",-1)])),_:1,__:[15]})):n.value.status==="In Progress"?(p(),X(ke,{key:1,onClick:Oa,class:"bg-orange-600 hover:bg-orange-700"},{default:N(()=>E[16]||(E[16]=[O(" Pause Task ",-1)])),_:1,__:[16]})):n.value.status==="Paused"?(p(),X(ke,{key:2,onClick:$a,class:"bg-blue-600 hover:bg-blue-700"},{default:N(()=>E[17]||(E[17]=[O(" Resume Task ",-1)])),_:1,__:[17]})):n.value.status==="Blocked"?(p(),X(ke,{key:3,onClick:ja,class:"bg-green-600 hover:bg-green-700"},{default:N(()=>E[18]||(E[18]=[O(" Unblock Task ",-1)])),_:1,__:[18]})):C("",!0),n.value.status==="To Do"||n.value.status==="In Progress"||n.value.status==="Paused"?(p(),X(ke,{key:4,onClick:La,class:"bg-red-600 hover:bg-red-700"},{default:N(()=>E[19]||(E[19]=[O(" Block Task ",-1)])),_:1,__:[19]})):C("",!0),n.value.status==="In Progress"?(p(),X(ke,{key:5,onClick:Ma,class:"bg-green-600 hover:bg-green-700"},{default:N(()=>E[20]||(E[20]=[O(" Complete Task ",-1)])),_:1,__:[20]})):C("",!0),n.value.status==="Done"?(p(),X(ke,{key:6,onClick:Pa,class:"bg-yellow-600 hover:bg-yellow-700"},{default:N(()=>E[21]||(E[21]=[O(" Revise Task ",-1)])),_:1,__:[21]})):C("",!0)]),n.value.status==="Done"?(p(),v("div",Gf,' Revising will change the task status back to "To Do" ')):C("",!0)]),n.value.status==="Blocked"&&js.value?(p(),v("div",Kf,[l("div",Jf,[E[23]||(E[23]=l("div",{class:"flex-shrink-0"},[l("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11.75 13a.75.75 0 01-1.5 0v-2.25a.75.75 0 011.5 0V13zm-1.5-7.5a.75.75 0 011.5 0v1.5a.75.75 0 01-1.5 0V5.5z","clip-rule":"evenodd"})])],-1)),l("div",Yf,[E[22]||(E[22]=l("h3",{class:"text-sm font-medium text-yellow-800"},"Task Blocked",-1)),l("div",Qf,[l("p",null,"This task was blocked by **"+F(js.value.causer)+"** with the following reason:",1),l("p",null,F(js.value.reason),1)])])])])):C("",!0),n.value.needs_approval?(p(),v("div",Zf,[l("div",ep,[E[28]||(E[28]=l("svg",{class:"h-5 w-5 text-amber-500 mt-0.5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[l("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0V9a1 1 0 112 0v4zm-1 4a1.25 1.25 0 100-2.5A1.25 1.25 0 0010 17z","clip-rule":"evenodd"})],-1)),l("div",tp,[E[27]||(E[27]=l("h3",{class:"text-sm font-semibold text-amber-800"},"Approval required",-1)),l("p",sp,[E[25]||(E[25]=O(" Once completed, this task needs approval",-1)),n.value.creator_name?(p(),v("span",np,[E[24]||(E[24]=O(" from ",-1)),l("span",op,F(n.value.creator_name),1)])):C("",!0),E[26]||(E[26]=O(". ",-1))])])])])):C("",!0),l("div",ap,[l("div",ip,[E[29]||(E[29]=l("h5",{class:"text-lg font-semibold text-gray-800"},"Task Checklist",-1)),l("button",{onClick:Da,class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center"},[q.value?(p(),v("span",lp,"Cancel")):(p(),v("span",rp,F(($t=n.value.details)!=null&&$t.checklist&&n.value.details.checklist.length>0?"Edit Checklist":"Add Checklist"),1))])]),q.value?(p(),v("div",up,[_(Lf,{modelValue:H.value,"onUpdate:modelValue":E[0]||(E[0]=W=>H.value=W),placeholder:"e.g., Review design, Update documentation",label:"Checklist Items",density:"notes"},null,8,["modelValue"]),l("div",dp,[_(ke,{onClick:Ra,disabled:se.value,class:"flex items-center space-x-1"},{default:N(()=>[_(B(bc),{class:"h-4 w-4"}),E[30]||(E[30]=l("span",null,"Save Checklist",-1))]),_:1,__:[30]},8,["disabled"])])])):C("",!0),(Mt=n.value.details)!=null&&Mt.checklist&&n.value.details.checklist.length>0&&!q.value?(p(),X(di,{key:1,items:n.value.details.checklist,"api-endpoint":`/api/tasks/${n.value.id}`,title:"Items to complete:","payload-transformer":W=>({details:{...n.value.details,checklist:W}})},null,8,["items","api-endpoint","payload-transformer"])):C("",!0),(!((Pt=n.value.details)!=null&&Pt.checklist)||n.value.details.checklist.length===0)&&!q.value?(p(),v("div",cp,' No checklist items for this task yet. Click "Add Checklist" to create one. ')):C("",!0)]),l("div",fp,[E[37]||(E[37]=l("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),l("div",pp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:N(()=>E[31]||(E[31]=[O("Assigned To:",-1)])),_:1,__:[31]}),l("div",mp,[d.value?(p(),v("div",vp,[_(Pe,{id:"edit-assigned-to",modelValue:f.value,"onUpdate:modelValue":E[2]||(E[2]=W=>f.value=W),options:It.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),l("button",{onClick:xa,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),l("button",{onClick:E[3]||(E[3]=W=>d.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(p(),v("div",{key:0,onClick:E[1]||(E[1]=W=>n.value.status!=="Done"?d.value=!0:Oe("Cannot change assignment for a completed task. Use the Revise button to change the task status first.")),class:K(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[O(F(((Pn=n.value.assigned_to)==null?void 0:Pn.name)||"Unassigned")+" ",1),n.value.status!=="Done"?(p(),v("span",hp,"(Click to edit)")):C("",!0)],2))])]),l("div",gp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:N(()=>E[32]||(E[32]=[O("Due Date:",-1)])),_:1,__:[32]}),l("div",yp,[u.value?(p(),v("div",_p,[_(Fe,{id:"edit-due-date",modelValue:c.value,"onUpdate:modelValue":E[5]||(E[5]=W=>c.value=W),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),l("button",{onClick:Sa,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),l("button",{onClick:E[6]||(E[6]=W=>u.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(p(),v("div",{key:0,onClick:E[4]||(E[4]=W=>u.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[O(F(n.value.due_date?B(ui)(n.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),E[33]||(E[33]=l("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),l("div",bp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:N(()=>E[34]||(E[34]=[O("Priority:",-1)])),_:1,__:[34]}),l("div",kp,[r.value?(p(),v("div",Ep,[_(Pe,{id:"edit-priority",modelValue:m.value,"onUpdate:modelValue":E[8]||(E[8]=W=>m.value=W),options:P,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1 flex-1"},null,8,["modelValue"]),l("button",{onClick:Ta,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),l("button",{onClick:E[9]||(E[9]=W=>r.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(p(),v("div",{key:0,onClick:E[7]||(E[7]=W=>n.value.status!=="Done"?r.value=!0:Oe("Cannot change priority for a completed task. Use the Revise button to change the task status first.")),class:K(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[l("span",{class:K({"text-red-600 font-medium":n.value.priority==="high","text-yellow-600 font-medium":n.value.priority==="medium","text-green-600 font-medium":n.value.priority==="low"})},F(n.value.priority?n.value.priority.charAt(0).toUpperCase()+n.value.priority.slice(1):"Medium"),3),n.value.status!=="Done"?(p(),v("span",wp,"(Click to edit)")):C("",!0)],2))])]),l("div",xp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:N(()=>E[35]||(E[35]=[O("Created:",-1)])),_:1,__:[35]}),l("span",Sp,F(n.value.created_at?new Date(n.value.created_at).toLocaleDateString():"N/A"),1)]),l("div",Tp,[_(Q,{class:"min-w-[100px] text-gray-600 mt-1"},{default:N(()=>E[36]||(E[36]=[O("Tags:",-1)])),_:1,__:[36]}),l("div",Cp,[(p(!0),v(ae,null,ue(n.value.tags,W=>(p(),v("span",{key:W.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},F(W.name),1))),128)),!n.value.tags||n.value.tags.length===0?(p(),v("span",Np,"No tags")):C("",!0)])])]),l("div",Ip,[l("div",Ap,[l("div",Op,[E[39]||(E[39]=l("h5",{class:"text-lg font-semibold text-gray-800"},"Files",-1)),l("div",$p,[l("button",{type:"button",class:"inline-flex items-center px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:I.value||b.value.length===0,onClick:V},[I.value?(p(),v("svg",Pp,E[38]||(E[38]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):C("",!0),l("span",null,F(I.value?"Uploading...":"Upload"),1)],8,Mp)])]),l("div",Dp,[l("label",Rp,[E[40]||(E[40]=l("svg",{class:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M4 12l1.5-1.5M20 12l-1.5-1.5M12 4v12"})],-1)),E[41]||(E[41]=l("span",{class:"font-medium"},"Choose Files",-1)),l("input",{class:"absolute inset-0 opacity-0 cursor-pointer",type:"file",multiple:"",onChange:D,disabled:I.value},null,40,Lp)]),E[42]||(E[42]=l("p",{class:"text-xs text-gray-500"},"You can select multiple files. Images, PDFs, Docs are supported.",-1))]),b.value.length?(p(),v("div",Vp,[(p(!0),v(ae,null,ue(b.value,(W,vt)=>(p(),v("span",{key:vt,class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-100 text-gray-800 text-xs"},[E[43]||(E[43]=l("svg",{class:"h-4 w-4 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),l("span",{class:"max-w-[160px] truncate",title:W.name},F(W.name),9,jp),l("button",{type:"button",class:"text-gray-500 hover:text-red-600",onClick:Nm=>b.value=b.value.filter((Im,Ba)=>Ba!==vt)},"",8,Fp)]))),128))])):C("",!0)]),l("div",null,[j.value?(p(),v("div",Bp,[(p(),v(ae,null,ue(6,W=>l("div",{key:W,class:"h-28 bg-gray-100 rounded animate-pulse"})),64))])):h.value.length>0?(p(),v("div",Up,[(p(!0),v(ae,null,ue(h.value,W=>(p(),v("div",{key:W.id,class:"group relative rounded-lg border border-gray-200 overflow-hidden bg-white shadow-sm hover:shadow-md transition"},[l("div",Xp,[A(W)?(p(),v("img",{key:0,src:A(W),alt:W.filename,class:"object-cover w-full h-full",onClick:vt=>S(W)},null,8,Hp)):(p(),v("div",{key:1,class:"text-gray-400",onClick:vt=>S(W)},E[44]||(E[44]=[l("svg",{class:"h-10 w-10",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)]),8,qp))]),l("div",zp,[l("button",{class:"text-xs text-blue-600 hover:underline truncate max-w-[70%] text-left",title:W.filename,onClick:vt=>S(W)},F(W.filename),9,Wp),l("button",{class:"text-red-600 hover:text-red-800 text-xs",onClick:vt=>U(W)},"Delete",8,Gp)])]))),128))])):(p(),v("div",Kp,"No files attached."))])]),l("div",Jp,[l("div",Yp,[E[46]||(E[46]=l("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),_(ke,{onClick:Ca,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:N(()=>E[45]||(E[45]=[O(" Add Note ",-1)])),_:1,__:[45]})]),n.value.notes&&n.value.notes.length>0?(p(),v("div",Qp,[(p(!0),v(ae,null,ue(n.value.notes,W=>(p(),v("div",{key:W.id,class:"p-3 bg-gray-50 rounded-md"},[l("p",Zp,F(W.content),1),l("p",em," By "+F(W.creator_name||"Unknown")+" on "+F(new Date(W.created_at).toLocaleDateString()),1)]))),128))])):(p(),v("div",tm,"No notes for this task yet."))]),l("div",sm,[E[47]||(E[47]=l("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"History",-1)),_(Tf,{activities:g.value,loading:k.value},null,8,["activities","loading"])])])):(p(),v("div",nm," Select a task to view details. ")),n.value&&n.value.status!=="Done"?(p(),v("div",om,[_(nn,{onClick:Ia,disabled:n.value.status!=="To Do"},{default:N(()=>E[48]||(E[48]=[O(" Delete Task ",-1)])),_:1,__:[48]},8,["disabled"]),n.value.status!=="To Do"?(p(),v("p",am,"Task can only be deleted in 'To Do' status.")):C("",!0)])):C("",!0),_(vf,{show:$.value,"task-for-note":n.value,onClose:E[10]||(E[10]=W=>$.value=!1),onNoteAdded:Na},null,8,["show","task-for-note"]),_(cs,{show:At.value,onClose:E[13]||(E[13]=W=>At.value=!1)},{default:N(()=>[l("div",im,[E[52]||(E[52]=l("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Block Task ",-1)),l("div",rm,[E[49]||(E[49]=l("p",{class:"text-sm text-gray-600 mb-2"}," Please provide a reason for blocking this task: ",-1)),ce(l("textarea",{"onUpdate:modelValue":E[11]||(E[11]=W=>ht.value=W),class:"w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3",placeholder:"Enter reason for blocking..."},null,512),[[Ve,ht.value]])]),l("div",lm,[_(jt,{onClick:E[12]||(E[12]=W=>At.value=!1)},{default:N(()=>E[50]||(E[50]=[O(" Cancel ",-1)])),_:1,__:[50]}),_(ke,{onClick:Va,disabled:!ht.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:N(()=>E[51]||(E[51]=[O(" Block Task ",-1)])),_:1,__:[51]},8,["disabled"])])])]),_:1},8,["show"]),_(cs,{show:J.value,onClose:L},{default:N(()=>[l("div",um,[l("div",dm,[l("h3",{class:"text-lg font-semibold text-gray-800 truncate",title:T.value&&T.value.filename?T.value.filename:""},F(T.value&&T.value.filename?T.value.filename:"Preview"),9,cm),l("button",{class:"text-gray-500 hover:text-gray-700",onClick:L},"")]),l("div",fm,[O(F(x.value.type)+" ",1),x.value.type==="iframe"?(p(),v("iframe",{key:0,src:x.value.src,class:"w-full h-[70vh]",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,pm)):x.value.type==="image"?(p(),v("img",{key:1,src:x.value.src,alt:"Preview",class:"w-full h-auto"},null,8,mm)):x.value.type==="external_link"?(p(),v("div",hm,[E[53]||(E[53]=l("p",null,"This file can't be embedded. You can open it using the link below:",-1)),l("a",{href:x.value.url,target:"_blank",class:"text-indigo-600 hover:underline break-all"},F(x.value.url),9,vm)])):(p(),v("div",gm,"No preview available."))])])]),_:1},8,["show"])])}}},_m={key:1,class:"p-4 text-gray-500"},bm={key:0,class:"flex justify-end space-x-3"},km={__name:"TaskSidebar",emits:["taskUpdated","taskDeleted"],setup(e){const t=M(null);return(s,o)=>(p(),X(wa,{show:B(Ye).show,"onUpdate:show":B(Fs),title:B(Ye).taskId?"Task Details":"Details",initialWidth:50},{content:N(()=>[B(Ye).taskId?(p(),X(ym,{key:0,"task-id":B(Ye).taskId,"project-id":B(Ye).projectId,"project-users":B(Ye).projectUsers,ref_key:"taskDetailSidebarRef",ref:t,onClose:B(Fs),onTaskUpdated:o[0]||(o[0]=n=>{s.$emit("taskUpdated",n)}),onTaskDeleted:o[1]||(o[1]=n=>{s.$emit("taskDeleted",n),B(Fs)()})},null,8,["task-id","project-id","project-users","onClose"])):B(Ye).show?(p(),v("div",_m," No task selected or task ID is missing. ")):C("",!0)]),footer:N(()=>[B(Ye).taskId?(p(),v("div",bm,[t.value&&t.value.task&&t.value.task.status!=="In Progress"&&t.value.task.status!=="Done"?(p(),X(jt,{key:0,onClick:t.value.startTask,class:"bg-blue-50 text-blue-700 hover:bg-blue-100"},{default:N(()=>o[2]||(o[2]=[O(" Start Task ",-1)])),_:1,__:[2]},8,["onClick"])):C("",!0),t.value&&t.value.task&&t.value.task.status==="In Progress"?(p(),X(jt,{key:1,onClick:t.value.completeTask,class:"bg-green-50 text-green-700 hover:bg-green-100"},{default:N(()=>o[3]||(o[3]=[O(" Complete Task ",-1)])),_:1,__:[3]},8,["onClick"])):C("",!0),t.value&&t.value.task?(p(),X(nn,{key:2,onClick:t.value.deleteTask,class:"bg-red-50 text-red-700 hover:bg-red-100"},{default:N(()=>o[4]||(o[4]=[O(" Delete Task ",-1)])),_:1,__:[4]},8,["onClick"])):C("",!0)])):C("",!0)]),_:1},8,["show","onUpdate:show","title"]))}},Hs=M(!1),Rt=M([]),qs=M(!1);function wm(){const e=async()=>{var o;try{const n=await re.get("/api/notices/unread");Rt.value=((o=n.data)==null?void 0:o.data)||[],Hs.value=Rt.value.length>0}catch(n){console.error("Failed to fetch unread notices",n)}},t=async()=>{if(qs.value)try{const o=Rt.value.map(n=>n.id);if(o.length===0)return;await re.post("/api/notices/acknowledge",{notice_ids:o}),s()}catch(o){console.error("Failed to acknowledge notices",o)}},s=()=>{Hs.value=!1,Rt.value=[],qs.value=!1};return Je(()=>{e()}),_o(()=>{}),{showNoticeModal:Hs,unreadNotices:Rt,acknowledgeChecked:qs,fetchUnreadNotices:e,acknowledgeNotices:t,closeModal:s}}const Em={class:"flex h-screen overflow-hidden"},xm={class:"flex-1 flex flex-col overflow-hidden"},Sm={key:0,class:"bg-white shadow"},Tm={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},Cm={class:"flex-1 overflow-y-auto"},Km={__name:"AuthenticatedLayout",setup(e){const t=M(!1),s=M(!1),o=M(!1),n=M(!1),i=M([]),a=M(!0),d=G(()=>zt().props.id||null),{showNoticeModal:u,unreadNotices:r,fetchUnreadNotices:f,closeModal:c}=wm(),m=M(null),g=async()=>{const V=localStorage.getItem("authToken");if(V){window.axios.defaults.headers.common.Authorization=`Bearer ${V}`;try{await window.axios.get("/api/user")}catch(U){U.response&&U.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},k=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization},h=V=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},j=async()=>{a.value=!0;try{const V=await window.axios.get("/api/projects-simplified");i.value=V.data}catch(V){console.error("Error fetching all projects for sidebar:",V),i.value=[]}finally{a.value=!1}},I=V=>{yo.visit(route("projects.show",V))},b=G(()=>Vt.value.notifications.filter(V=>!V.isRead).length),w=V=>{console.log("Task updated globally.",V)},D=V=>{console.log("Task deleted globally.",V)};return Je(()=>{g(),m.value&&ai(m.value),j(),ii(),Ln(f),f()}),_o(()=>{Ln(null)}),(V,U)=>(p(),v("div",Em,[_(Pi,{ref_key:"standardNotificationContainerRef",ref:m},null,512),_(Ci,{"sidebar-is-open":B(Vt).show},null,8,["sidebar-is-open"]),_(yu),_(fc,{"all-projects":i.value,"active-project-id":d.value,onProjectSelected:I},null,8,["all-projects","active-project-id"]),l("div",xm,[_(Yc,{"unread-notification-count":b.value,onOpenCreateTaskModal:U[0]||(U[0]=J=>s.value=!0),onOpenAddResource:U[1]||(U[1]=J=>o.value=!0),onOpenNotificationsSidebar:B(Vn),onOpenKudoModal:U[2]||(U[2]=J=>n.value=!0)},null,8,["unread-notification-count","onOpenNotificationsSidebar"]),_(rf,{"showing-navigation-dropdown":t.value,"unread-notification-count":b.value,onOpenCreateTaskModal:U[3]||(U[3]=J=>s.value=!0),onOpenAddResource:U[4]||(U[4]=J=>o.value=!0),onOpenNotificationsSidebar:B(Vn),onLogoutSuccess:k,onLogoutError:h},null,8,["showing-navigation-dropdown","unread-notification-count","onOpenNotificationsSidebar"]),V.$slots.header?(p(),v("header",Sm,[l("div",Tm,[Be(V.$slots,"header")])])):C("",!0),l("main",Cm,[Be(V.$slots,"default")]),_(sd,{show:s.value,onClose:U[5]||(U[5]=J=>s.value=!1),onSaved:U[6]||(U[6]=J=>s.value=!1)},null,8,["show"]),_(id,{"api-endpoint":"/api/shareable-resources",show:o.value,onClose:U[7]||(U[7]=J=>o.value=!1)},null,8,["show"]),_(Rd,{show:n.value,onClose:U[8]||(U[8]=J=>n.value=!1),onSubmitted:U[9]||(U[9]=J=>n.value=!1)},null,8,["show"])]),_(km,{onTaskUpdated:w,onTaskDeleted:D}),_(Od),_(ci,{show:B(u),unreadNotices:B(r),onClose:B(c)},null,8,["show","unreadNotices","onClose"])]))}};export{Qt as B,id as C,wa as R,ka as T,Km as _,Bu as a,mu as b,Gm as c,Wm as d,Af as e,Hm as f,Df as g,Pf as h,Mf as i,Of as j,Lf as k,Tu as l,lo as m,vf as n,qm as o,Nf as p,sd as q,If as r,Cf as s,zm as t,$f as u};
