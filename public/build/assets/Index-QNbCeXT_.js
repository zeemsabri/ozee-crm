import{_ as k}from"./AuthenticatedLayout-BHs-_Akd.js";import{c as n,o as a,e as c,u as l,h as C,w as p,a as e,k as h,F as u,i as y,t as i,n as x,B as m,g as o,q as S,J as f,P as B}from"./app-B7zt4a3c.js";import"./PrimaryButton-CLAx9hgG.js";import"./Modal-C-eVHoKX.js";import"./InputLabel-Dv81o_rC.js";import"./InputError-Mt9U77nq.js";import"./SecondaryButton-D-pNohvm.js";import"./index-CRx4duYF.js";import"./BaseFormModal-CyEESeqj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-DQXuiN1m.js";import"./SelectDropdown-DYsx7BC1.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./RightSidebar-CciAqVoN.js";import"./ApplicationLogo-I-WEemHp.js";import"./MultiSelectDropdown-CmHEl0rc.js";import"./createLucideIcon-DU4WP9ew.js";import"./plus-gdCtVgZw.js";import"./DangerButton-g9_bNAYR.js";import"./moment-BLMuvzoS.js";import"./taskState-Ca6C4ycI.js";import"./NoticeboardModal-Dc2LiXKP.js";import"./x-r7k7kXKt.js";const N={class:"flex items-center justify-between w-full"},T={class:"py-6"},L={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},A={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},D={class:"p-6 text-gray-900"},V={class:"overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200"},I={class:"bg-white divide-y divide-gray-200"},R={class:"px-3 py-2 whitespace-nowrap"},$={class:"text-sm font-medium text-gray-900"},q={key:0,class:"text-xs text-gray-500"},E={class:"px-3 py-2 whitespace-nowrap"},F={class:"text-sm text-gray-900"},H={class:"text-xs text-gray-500"},M={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},P={class:"text-xs text-gray-500"},z={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},J={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},O={class:"px-3 py-2 whitespace-nowrap"},G={class:"px-3 py-2 whitespace-nowrap text-sm"},K={class:"flex items-center gap-2"},Q=["onClick"],U=["onClick"],W={key:0,class:"mt-4 flex items-center justify-between"},X={class:"text-sm text-gray-500"},Y={class:"font-medium"},Z={class:"font-medium"},ee={class:"font-medium"},te={class:"flex space-x-2"},Be={__name:"Index",props:{schedules:{type:Object,required:!0}},setup(d){function _(r){return r?"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20":"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10"}function v(r){f.patch(route("schedules.toggle",r))}async function b(r){await B("Are you sure you want to delete this schedule? This action cannot be undone.",{confirmText:"Delete",cancelText:"Cancel",type:"warning"})&&f.delete(route("schedules.destroy",r))}return(r,s)=>(a(),n(u,null,[c(l(C),{title:"Schedules"}),c(k,null,{header:p(()=>[e("div",N,[s[1]||(s[1]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Schedules",-1)),c(l(m),{href:r.route("schedules.create"),class:"inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500"},{default:p(()=>s[0]||(s[0]=[o(" Create Schedule ",-1)])),_:1,__:[0]},8,["href"])])]),default:p(()=>[e("div",T,[e("div",L,[e("div",A,[e("div",D,[e("div",V,[e("table",j,[s[3]||(s[3]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Linked Item"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Recurrence"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Next Run"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Last Run"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",I,[(a(!0),n(u,null,y(d.schedules.data,t=>{var g;return a(),n("tr",{key:t.id},[e("td",R,[e("div",$,i(t.name),1),t.description?(a(),n("div",q,i(t.description),1)):h("",!0)]),e("td",E,[e("div",F,i(((g=t.scheduled_item)==null?void 0:g.name)||"-"),1),e("div",H,i(t.scheduled_item?t.scheduled_item.type+" #"+t.scheduled_item.id:""),1)]),e("td",M,[e("div",null,i(t.recurrence_summary),1),e("div",P,i(t.recurrence_pattern),1)]),e("td",z,i(t.next_run_at||"-"),1),e("td",J,i(t.last_run_at||"-"),1),e("td",O,[e("span",{class:x(_(t.is_active))},i(t.is_active?"Active":"Inactive"),3)]),e("td",G,[e("div",K,[c(l(m),{href:r.route("schedules.edit",t.id),class:"px-2 py-1 border rounded hover:bg-gray-50"},{default:p(()=>s[2]||(s[2]=[o("Edit",-1)])),_:2,__:[2]},1032,["href"]),e("button",{onClick:w=>v(t.id),class:x(["px-2 py-1 border rounded",t.is_active?"text-amber-700 border-amber-300 hover:bg-amber-50":"text-green-700 border-green-300 hover:bg-green-50"])},i(t.is_active?"Deactivate":"Activate"),11,Q),e("button",{onClick:w=>b(t.id),class:"px-2 py-1 border rounded text-red-700 border-red-300 hover:bg-red-50"},"Delete",8,U)])])])}),128))])])]),d.schedules.links?(a(),n("div",W,[e("div",X,[s[4]||(s[4]=o(" Showing ",-1)),e("span",Y,i(d.schedules.from),1),s[5]||(s[5]=o(" to ",-1)),e("span",Z,i(d.schedules.to),1),s[6]||(s[6]=o(" of ",-1)),e("span",ee,i(d.schedules.total),1),s[7]||(s[7]=o(" results ",-1))]),e("div",te,[(a(!0),n(u,null,y(d.schedules.links,t=>(a(),S(l(m),{key:t.url+t.label,href:t.url||"#",innerHTML:t.label,class:x(["px-3 py-1 rounded border text-sm",{"bg-indigo-600 text-white border-indigo-600":t.active,"text-gray-700 bg-white border-gray-300 hover:bg-gray-50":!t.active,"opacity-50 pointer-events-none":!t.url}])},null,8,["href","innerHTML","class"]))),128))])])):h("",!0)])])])])]),_:1})],64))}};export{Be as default};
