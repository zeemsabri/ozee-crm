import{B as le}from"./BaseFormModal-pcrUNZXB.js";import{_ as H}from"./InputLabel-xP1ePHj0.js";import{_ as E}from"./TextInput-BpHbgyBH.js";import{_ as R}from"./InputError-C5PNSPQA.js";import{s as re,e as U,c as j,g as f,o as l,w as p,b as o,d as x,r as $,f as ye,a as n,i as a,j as w,V as L,F as B,l as N,t as d,m as g,x as m}from"./app-BXwNPRau.js";import{_ as h}from"./PrimaryButton-DDR27hXv.js";import{_ as me}from"./SecondaryButton-DxVzHrUO.js";import{_ as he}from"./Modal-CyQll2yY.js";import{g as F,c as Y,d as se,s as ve,p as we,r as fe,u as be,e as ke,h as _e,i as Ce,j as De}from"./AuthenticatedLayout-BMEcVAiY.js";const Me={class:"mb-4"},ro={__name:"NotesModal",props:{show:Boolean,projectId:Number},emits:["close","noteAdded"],setup(k,{emit:P}){const _=k,C=P,r=re({project_id:null,notes:[{content:""}]});U(()=>_.projectId,i=>{i&&(r.project_id=i)},{immediate:!0}),U(()=>_.show,i=>{i&&(r.project_id=_.projectId,r.notes[0].content="")});const v=j(()=>`/api/projects/${r.project_id}/notes`),S=i=>{C("noteAdded")},T=i=>{console.error("Error in NotesModal submission:",i)};return(i,y)=>(l(),f(le,{show:k.show,title:"Add Note","api-endpoint":v.value,"http-method":"post","form-data":r,"submit-button-text":"Add Note","success-message":"Note added successfully!",onClose:y[1]||(y[1]=b=>i.$emit("close")),onSubmitted:S,onError:T},{default:p(({errors:b})=>[o("div",Me,[x(H,{for:"note_content",value:"Note Content"}),x(E,{id:"note_content",type:"text",class:"mt-1 block w-full",modelValue:r.notes[0].content,"onUpdate:modelValue":y[0]||(y[0]=D=>r.notes[0].content=D),required:""},null,8,["modelValue"]),x(R,{message:b["notes.0.content"]?b["notes.0.content"][0]:"",class:"mt-2"},null,8,["message"])])]),_:1},8,["show","api-endpoint","form-data"]))}},Te={class:"mb-4"},je={class:"mb-4"},$e={class:"mb-4"},no={__name:"StandupModal",props:{show:Boolean,projectId:Number},emits:["close","standupAdded"],setup(k,{emit:P}){const _=k,C=P,r=re({project_id:null,yesterday:"",today:"",blockers:""});U(()=>_.projectId,i=>{i&&(r.project_id=i)},{immediate:!0}),U(()=>_.show,i=>{i&&(r.project_id=_.projectId,r.yesterday="",r.today="",r.blockers="")});const v=i=>{C("standupAdded")},S=i=>{console.error("Error in StandupModal submission:",i)},T=$("");return U(()=>_.projectId,i=>{i&&(T.value=`/api/projects/${i}/standup`)},{immediate:!0}),(i,y)=>(l(),f(le,{show:k.show,title:"Daily Standup","api-endpoint":T.value,"http-method":"post","form-data":r,"submit-button-text":"Submit Standup","success-message":"Daily standup submitted successfully!",onClose:y[3]||(y[3]=b=>i.$emit("close")),onSubmitted:v,onError:S},{default:p(({errors:b})=>[o("div",Te,[x(H,{for:"yesterday",value:"What did you work on yesterday?"}),x(E,{id:"yesterday",type:"text",class:"mt-1 block w-full",modelValue:r.yesterday,"onUpdate:modelValue":y[0]||(y[0]=D=>r.yesterday=D),required:""},null,8,["modelValue"]),x(R,{message:b.yesterday?b.yesterday[0]:"",class:"mt-2"},null,8,["message"])]),o("div",je,[x(H,{for:"today",value:"What will you work on today?"}),x(E,{id:"today",type:"text",class:"mt-1 block w-full",modelValue:r.today,"onUpdate:modelValue":y[1]||(y[1]=D=>r.today=D),required:""},null,8,["modelValue"]),x(R,{message:b.today?b.today[0]:"",class:"mt-2"},null,8,["message"])]),o("div",$e,[x(H,{for:"blockers",value:"Any blockers?"}),x(E,{id:"blockers",type:"text",class:"mt-1 block w-full",modelValue:r.blockers,"onUpdate:modelValue":y[2]||(y[2]=D=>r.blockers=D),placeholder:"None"},null,8,["modelValue"]),x(R,{message:b.blockers?b.blockers[0]:"",class:"mt-2"},null,8,["message"])])]),_:1},8,["show","api-endpoint","form-data"]))}},Se={class:"space-y-6 font-sans"},Ve={class:"flex flex-col md:flex-row items-center justify-between mb-6 space-y-4 md:space-y-0"},Be={class:"w-full md:w-1/2"},Ne={class:"flex items-center space-x-2"},Le={key:0,class:"space-y-4"},Ee={key:0,class:"text-center py-8 text-gray-500 bg-white rounded-xl shadow-sm"},Pe={key:1,class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},Ae=["onClick"],Ie={class:"flex justify-between items-start mb-2"},Fe={class:"text-lg font-semibold text-gray-900 pr-10"},Ue={class:"absolute top-6 right-6"},qe={class:"flex flex-wrap items-center gap-2 text-sm text-gray-600 mb-4"},Ye={class:"inline-flex items-center gap-1"},He={class:"inline-flex items-center gap-1"},Re={key:0,class:"inline-flex items-center gap-1"},We={class:"flex justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 absolute bottom-6 right-6"},ze={key:2,class:"bg-white overflow-x-auto rounded-lg border border-gray-200 shadow-sm"},Oe={class:"min-w-full divide-y divide-gray-200"},Qe={class:"bg-gray-50"},Ge={key:0,scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Je={class:"bg-white divide-y divide-gray-200"},Ke=["onClick"],Xe={class:"px-4 py-3 text-sm text-gray-900"},Ze={class:"px-4 py-3 text-sm text-gray-700"},et={class:"px-4 py-3 text-sm text-gray-700"},tt={class:"px-4 py-3 text-sm text-gray-700"},ot={key:0,class:"px-4 py-3 text-sm text-gray-700"},st={class:"px-4 py-3 text-sm text-gray-700"},lt={class:"px-4 py-3"},rt={class:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},nt={key:0},at=["colspan"],it={key:1,class:"bg-white rounded-xl shadow-lg p-6"},dt={class:"flex items-center justify-between mb-4"},ut={class:"text-xl font-bold text-gray-800"},ct={class:"grid grid-cols-7 text-center text-sm font-semibold text-gray-500 border-b border-gray-200"},pt={class:"grid grid-cols-7"},gt={key:1,class:"mt-1 space-y-1"},xt=["onClick","title"],yt={class:"border-t border-gray-200 pt-6 mt-6"},mt={class:"flex items-center justify-between mb-4"},ht={class:"text-xl font-bold text-gray-800"},vt={key:0},wt={key:0,class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},ft=["onClick"],bt={class:"flex justify-between items-start mb-2"},kt={class:"text-lg font-semibold text-gray-400 line-through pr-10"},_t={class:"absolute top-6 right-6"},Ct={class:"flex flex-wrap items-center gap-2 text-sm text-gray-500 mb-4"},Dt={class:"inline-flex items-center gap-1"},Mt={class:"font-medium"},Tt={class:"inline-flex items-center gap-1"},jt={key:0,class:"inline-flex items-center gap-1"},$t={class:"flex justify-end space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 absolute bottom-6 right-6"},St={key:1,class:"bg-white overflow-x-auto rounded-lg border border-gray-200 shadow-sm"},Vt={class:"min-w-full divide-y divide-gray-200"},Bt={class:"bg-gray-50"},Nt={key:0,scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},Lt={class:"bg-white divide-y divide-gray-200"},Et=["onClick"],Pt={class:"px-4 py-3 text-sm text-gray-900 line-through"},At={class:"px-4 py-3 text-sm text-gray-700"},It={class:"px-4 py-3 text-sm text-gray-700"},Ft={class:"px-4 py-3 text-sm text-gray-700"},Ut={key:0,class:"px-4 py-3 text-sm text-gray-700"},qt={class:"px-4 py-3 text-sm text-gray-700"},Yt={class:"px-4 py-3"},Ht={class:"flex space-x-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},Rt={key:0},Wt=["colspan"],zt={key:1,class:"text-center py-8 text-gray-500 bg-white rounded-xl shadow-sm"},Ot={class:"p-6"},Qt={class:"mb-4"},Gt={class:"flex justify-end space-x-3"},ao={__name:"TaskList",props:{tasks:{type:Array,required:!0},projectId:{type:Number,default:null},showProjectColumn:{type:Boolean,default:!1}},emits:["task-updated","open-task-detail"],setup(k,{emit:P}){const _=k,C=P,r=$("card"),v=$(new Date);ye(()=>{const s=localStorage.getItem("taskListViewMode");s&&(r.value=s)});const S=s=>{r.value=s,localStorage.setItem("taskListViewMode",s)},T=$(!1),i=$(""),y=$(!1),b=$(null),D=$(""),z=j(()=>_.tasks.filter(s=>s.status!=="Done")),W=j(()=>_.tasks.filter(s=>s.status==="Done")),A=j(()=>{if(!i.value)return z.value;const s=i.value.toLowerCase();return z.value.filter(e=>{var t,u;return e.name.toLowerCase().includes(s)||((t=e.milestone)==null?void 0:t.name)&&e.milestone.name.toLowerCase().includes(s)||((u=e.project)==null?void 0:u.name)&&e.project.name.toLowerCase().includes(s)})}),I=j(()=>{if(!i.value)return W.value;const s=i.value.toLowerCase();return W.value.filter(e=>{var t,u;return e.name.toLowerCase().includes(s)||((t=e.milestone)==null?void 0:t.name)&&e.milestone.name.toLowerCase().includes(s)||((u=e.project)==null?void 0:u.name)&&e.project.name.toLowerCase().includes(s)})}),V=s=>{console.log("TaskList: Task object:",s),console.log("TaskList: Emitting open-task-detail with taskId:",s.id,"projectId:",_.projectId),C("open-task-detail",s.id,_.projectId)},O=async s=>{try{const e=await ve(s);C("task-updated",e)}catch(e){console.error("Error starting task:",e)}},Q=async s=>{try{const e=await we(s);C("task-updated",e)}catch(e){console.error("Error pausing task:",e)}},G=async s=>{try{const e=await fe(s);C("task-updated",e)}catch(e){console.error("Error resuming task:",e)}},J=async s=>{try{const e=await ke(s);C("task-updated",e)}catch(e){console.error("Error completing task:",e)}},K=s=>{b.value=s,D.value="",y.value=!0},ne=async()=>{if(b.value)try{const s=await De(b.value,D.value);C("task-updated",s),y.value=!1}catch(s){console.error("Error blocking task:",s)}},X=async s=>{try{const e=await be(s);C("task-updated",e)}catch(e){console.error("Error unblocking task:",e)}},Z=async s=>{try{await _e(s),C("task-updated",null)}catch(e){console.error("Error deleting task:",e)}},ee=async s=>{try{const e=await Ce(s);C("task-updated",e)}catch(e){console.error("Error revising task:",e)}},q=s=>s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No due date",ae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],te=new Date;te.setHours(0,0,0,0);const ie=j(()=>new Date(v.value.getFullYear(),v.value.getMonth(),1)),de=j(()=>new Date(v.value.getFullYear(),v.value.getMonth()+1,0)),ue=j(()=>v.value.toLocaleString("en-US",{month:"long",year:"numeric"})),ce=j(()=>{const s=[],e=ie.value.getDay(),t=de.value.getDate();for(let u=0;u<e;u++)s.push(null);for(let u=1;u<=t;u++)s.push(new Date(v.value.getFullYear(),v.value.getMonth(),u));return s}),pe=()=>{v.value=new Date(v.value.getFullYear(),v.value.getMonth()-1,1)},ge=()=>{v.value=new Date(v.value.getFullYear(),v.value.getMonth()+1,1)},xe=j(()=>{const s={};return[...A.value,...I.value].forEach(t=>{if(t.due_date){const c=new Date(t.due_date).toLocaleDateString();s[c]||(s[c]=[]),s[c].push(t)}}),s}),oe=s=>s&&s.toDateString()===te.toDateString();return(s,e)=>(l(),n("div",Se,[o("div",Ve,[o("div",Be,[x(E,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),placeholder:"Search tasks by name, milestone, or project...",class:"w-full text-sm py-2 px-4 rounded-xl border border-gray-300 focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 transition-all duration-200"},null,8,["modelValue"])]),o("div",Ne,[o("button",{onClick:e[1]||(e[1]=t=>S("card")),class:w(["p-2 rounded-lg transition-colors duration-200",{"bg-gray-200 text-indigo-600 shadow-inner":r.value==="card","text-gray-400 hover:text-gray-600":r.value!=="card"}]),"aria-label":"Switch to Card View"},e[8]||(e[8]=[L('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-grid"><rect width="7" height="7" x="3" y="3" rx="1"></rect><rect width="7" height="7" x="14" y="3" rx="1"></rect><rect width="7" height="7" x="14" y="14" rx="1"></rect><rect width="7" height="7" x="3" y="14" rx="1"></rect></svg>',1)]),2),o("button",{onClick:e[2]||(e[2]=t=>S("list")),class:w(["p-2 rounded-lg transition-colors duration-200",{"bg-gray-200 text-indigo-600 shadow-inner":r.value==="list","text-gray-400 hover:text-gray-600":r.value!=="list"}]),"aria-label":"Switch to List View"},e[9]||(e[9]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-list-todo"},[o("rect",{width:"20",height:"5",x:"2",y:"3",rx:"1"}),o("path",{d:"M12 12H7"}),o("path",{d:"M7 18h10"})],-1)]),2),o("button",{onClick:e[3]||(e[3]=t=>S("calendar")),class:w(["p-2 rounded-lg transition-colors duration-200",{"bg-gray-200 text-indigo-600 shadow-inner":r.value==="calendar","text-gray-400 hover:text-gray-600":r.value!=="calendar"}]),"aria-label":"Switch to Calendar View"},e[10]||(e[10]=[L('<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-days"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line><path d="M12 16h2"></path><path d="M8 16h.01"></path><path d="M16 20h.01"></path><path d="M12 20h.01"></path><path d="M8 20h.01"></path></svg>',1)]),2)])]),r.value!=="calendar"?(l(),n("div",Le,[e[35]||(e[35]=o("h3",{class:"text-xl font-bold text-gray-800"},"Active Tasks",-1)),A.value.length===0?(l(),n("div",Ee," No active tasks found. ")):a("",!0),r.value==="card"?(l(),n("div",Pe,[(l(!0),n(B,null,N(A.value,t=>{var u;return l(),n("div",{key:t.id,class:w(["relative bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer group",{"border-l-4 border-red-500":t.due_date&&new Date(t.due_date)<new Date,"border-l-4 border-yellow-500":t.due_date&&new Date(t.due_date).toDateString()===new Date().toDateString()&&new Date(t.due_date)>=new Date,"border-l-4 border-gray-200":!(t.due_date&&new Date(t.due_date)<new Date)&&!(t.due_date&&new Date(t.due_date).toDateString()===new Date().toDateString())}]),onClick:c=>V(t)},[o("div",Ie,[o("h4",Fe,d(t.name),1),o("div",Ue,[o("span",{class:w(["px-2 py-1 rounded-full text-xs font-medium",F(t.status)])},d(t.status),3)])]),o("div",qe,[o("span",Ye,[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:w(["lucide lucide-flag",{"text-red-500":t.priority==="high","text-yellow-500":t.priority==="medium","text-green-500":t.priority==="low"}])},e[11]||(e[11]=[o("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},null,-1),o("line",{x1:"4",x2:"4",y1:"22",y2:"15"},null,-1)]),2)),o("span",{class:w(["font-medium",{"text-red-500":t.priority==="high","text-yellow-500":t.priority==="medium","text-green-500":t.priority==="low"}])},d(Y(t.priority)),3)]),o("span",He,[e[12]||(e[12]=L('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar text-gray-400"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg>',1)),o("span",null,d(q(t.due_date)),1)]),(u=t.milestone)!=null&&u.name?(l(),n("span",Re,[e[13]||(e[13]=L('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-landmark text-gray-400"><line x1="2" x2="22" y1="22" y2="22"></line><path d="M6 18v3"></path><path d="M10 18v3"></path><path d="M14 18v3"></path><path d="M18 18v3"></path><path d="M8 22v-4-1.5a.5.5 0 011-1.5h6a.5.5 0 011 1.5V18v4"></path><path d="M12 12V4"></path><path d="M8 4h8"></path><path d="M12 4L8 8"></path><path d="M12 4l4 4"></path><path d="M8 8H6a2 2 0 00-2 2v10"></path><path d="M16 8h2a2 2 0 012 2v10"></path></svg>',1)),o("span",null,d(t.milestone.name),1)])):a("",!0)]),o("div",We,[t.status==="To Do"?(l(),f(h,{key:0,onClick:m(c=>O(t),["stop"]),class:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 transition-colors rounded-lg shadow-md"},{default:p(()=>e[14]||(e[14]=[g(" Start ",-1)])),_:2,__:[14]},1032,["onClick"])):a("",!0),t.status==="In Progress"?(l(),f(h,{key:1,onClick:m(c=>Q(t),["stop"]),class:"px-3 py-1 text-xs bg-orange-500 hover:bg-orange-600 transition-colors rounded-lg shadow-md"},{default:p(()=>e[15]||(e[15]=[g(" Pause ",-1)])),_:2,__:[15]},1032,["onClick"])):a("",!0),t.status==="Paused"?(l(),f(h,{key:2,onClick:m(c=>G(t),["stop"]),class:"px-3 py-1 text-xs bg-blue-500 hover:bg-blue-600 transition-colors rounded-lg shadow-md"},{default:p(()=>e[16]||(e[16]=[g(" Resume ",-1)])),_:2,__:[16]},1032,["onClick"])):a("",!0),t.status==="Blocked"?(l(),f(h,{key:3,onClick:m(c=>X(t),["stop"]),class:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 transition-colors rounded-lg shadow-md"},{default:p(()=>e[17]||(e[17]=[g(" Unblock ",-1)])),_:2,__:[17]},1032,["onClick"])):a("",!0),t.status!=="Blocked"&&t.status!=="Done"?(l(),f(h,{key:4,onClick:m(c=>K(t),["stop"]),class:"px-3 py-1 text-xs bg-red-500 hover:bg-red-600 transition-colors rounded-lg shadow-md"},{default:p(()=>e[18]||(e[18]=[g(" Block ",-1)])),_:2,__:[18]},1032,["onClick"])):a("",!0),t.status==="In Progress"?(l(),f(h,{key:5,onClick:m(c=>J(t),["stop"]),class:"px-3 py-1 text-xs bg-green-500 hover:bg-green-600 transition-colors rounded-lg shadow-md"},{default:p(()=>e[19]||(e[19]=[g(" Complete ",-1)])),_:2,__:[19]},1032,["onClick"])):a("",!0),t.status==="To Do"?(l(),f(h,{key:6,onClick:m(c=>Z(t),["stop"]),class:"px-3 py-1 text-xs bg-gray-400 hover:bg-gray-500 transition-colors rounded-lg shadow-md",disabled:t.status!=="To Do"},{default:p(()=>e[20]||(e[20]=[g(" Delete ",-1)])),_:2,__:[20]},1032,["onClick","disabled"])):a("",!0)])],10,Ae)}),128))])):r.value==="list"?(l(),n("div",ze,[o("table",Oe,[o("thead",Qe,[o("tr",null,[e[21]||(e[21]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Task Name",-1)),e[22]||(e[22]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status",-1)),e[23]||(e[23]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Priority",-1)),e[24]||(e[24]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Milestone",-1)),k.showProjectColumn?(l(),n("th",Ge,"Project")):a("",!0),e[25]||(e[25]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Due Date",-1)),e[26]||(e[26]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),o("tbody",Je,[(l(!0),n(B,null,N(A.value,t=>{var u,c;return l(),n("tr",{key:t.id,class:w(["hover:bg-gray-50 transition-colors group",{"bg-red-50":t.due_date&&new Date(t.due_date)<new Date,"bg-yellow-50":t.due_date&&new Date(t.due_date).toDateString()===new Date().toDateString()}]),onClick:M=>V(t)},[o("td",Xe,d(t.name),1),o("td",Ze,[o("span",{class:w(["px-2 py-1 rounded-full text-xs font-medium",F(t.status)])},d(t.status),3)]),o("td",et,[o("span",{class:w(["px-2 py-1 rounded-full text-xs font-medium",se(t.priority)])},d(Y(t.priority)),3)]),o("td",tt,d(((u=t.milestone)==null?void 0:u.name)||"N/A"),1),k.showProjectColumn?(l(),n("td",ot,d(((c=t.project)==null?void 0:c.name)||"N/A"),1)):a("",!0),o("td",st,d(q(t.due_date)),1),o("td",lt,[o("div",rt,[x(h,{onClick:m(M=>V(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-purple-500 hover:bg-purple-600"},{default:p(()=>e[27]||(e[27]=[g(" View ",-1)])),_:2,__:[27]},1032,["onClick"]),t.status==="To Do"?(l(),f(h,{key:0,onClick:m(M=>O(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-blue-500 hover:bg-blue-600"},{default:p(()=>e[28]||(e[28]=[g(" Start ",-1)])),_:2,__:[28]},1032,["onClick"])):a("",!0),t.status==="In Progress"?(l(),f(h,{key:1,onClick:m(M=>Q(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-orange-500 hover:bg-orange-600"},{default:p(()=>e[29]||(e[29]=[g(" Pause ",-1)])),_:2,__:[29]},1032,["onClick"])):a("",!0),t.status==="Paused"?(l(),f(h,{key:2,onClick:m(M=>G(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-blue-500 hover:bg-blue-600"},{default:p(()=>e[30]||(e[30]=[g(" Resume ",-1)])),_:2,__:[30]},1032,["onClick"])):a("",!0),t.status!=="Blocked"&&t.status!=="Done"?(l(),f(h,{key:3,onClick:m(M=>K(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-red-500 hover:bg-red-600"},{default:p(()=>e[31]||(e[31]=[g(" Block ",-1)])),_:2,__:[31]},1032,["onClick"])):a("",!0),t.status==="Blocked"?(l(),f(h,{key:4,onClick:m(M=>X(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-green-500 hover:bg-green-600"},{default:p(()=>e[32]||(e[32]=[g(" Unblock ",-1)])),_:2,__:[32]},1032,["onClick"])):a("",!0),t.status==="In Progress"?(l(),f(h,{key:5,onClick:m(M=>J(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-green-500 hover:bg-green-600"},{default:p(()=>e[33]||(e[33]=[g(" Complete ",-1)])),_:2,__:[33]},1032,["onClick"])):a("",!0),t.status==="To Do"?(l(),f(h,{key:6,onClick:m(M=>Z(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-gray-400 hover:bg-gray-500",disabled:t.status!=="To Do"},{default:p(()=>e[34]||(e[34]=[g(" Delete ",-1)])),_:2,__:[34]},1032,["onClick","disabled"])):a("",!0)])])],10,Ke)}),128)),A.value.length===0?(l(),n("tr",nt,[o("td",{colspan:k.showProjectColumn?7:6,class:"px-4 py-8 text-center text-gray-500"}," No active tasks found. ",8,at)])):a("",!0)])])])):a("",!0)])):r.value==="calendar"?(l(),n("div",it,[o("div",dt,[o("button",{onClick:pe,class:"p-2 rounded-full hover:bg-gray-200 transition-colors"},e[36]||(e[36]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-left"},[o("path",{d:"m15 18-6-6 6-6"})],-1)])),o("h3",ut,d(ue.value),1),o("button",{onClick:ge,class:"p-2 rounded-full hover:bg-gray-200 transition-colors"},e[37]||(e[37]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-right"},[o("path",{d:"m9 18 6-6-6-6"})],-1)]))]),o("div",ct,[(l(),n(B,null,N(ae,t=>o("div",{key:t,class:"p-2"},d(t),1)),64))]),o("div",pt,[(l(!0),n(B,null,N(ce.value,(t,u)=>(l(),n("div",{key:u,class:w(["p-2 border border-gray-200 h-28 relative overflow-y-auto",{"text-gray-400 bg-gray-50":!t,"bg-white":t,"border-2 border-indigo-500 rounded-md shadow-md":oe(t)}])},[t?(l(),n("span",{key:0,class:w(["font-bold",{"text-indigo-600":oe(t)}])},d(t.getDate()),3)):a("",!0),t?(l(),n("div",gt,[(l(!0),n(B,null,N(xe.value[t.toLocaleDateString()],c=>(l(),n("div",{key:c.id,class:w(["px-2 py-0.5 rounded-full text-xs font-medium truncate cursor-pointer",F(c.status)]),onClick:m(M=>V(c),["stop"]),title:c.name},d(c.name),11,xt))),128))])):a("",!0)],2))),128))])])):a("",!0),o("div",yt,[o("div",mt,[o("h3",ht,"Completed Tasks ("+d(W.value.length)+")",1),o("button",{onClick:e[4]||(e[4]=t=>T.value=!T.value),class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center transition-colors duration-200"},[g(d(T.value?"Hide":"Show")+" ",1),(l(),n("svg",{class:w(["w-4 h-4 ml-1 transform transition-transform duration-200",{"rotate-180":T.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e[38]||(e[38]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))])]),T.value&&r.value!=="calendar"?(l(),n("div",vt,[r.value==="card"?(l(),n("div",wt,[(l(!0),n(B,null,N(I.value,t=>{var u;return l(),n("div",{key:t.id,class:"relative bg-white rounded-xl shadow-lg p-6 transition-all duration-200 cursor-pointer group opacity-75",onClick:c=>V(t)},[o("div",bt,[o("h4",kt,d(t.name),1),o("div",_t,[o("span",{class:w(["px-2 py-1 rounded-full text-xs font-medium",F(t.status)])},d(t.status),3)])]),o("div",Ct,[o("span",Dt,[e[39]||(e[39]=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-flag text-gray-400"},[o("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),o("line",{x1:"4",x2:"4",y1:"22",y2:"15"})],-1)),o("span",Mt,d(Y(t.priority)),1)]),o("span",Tt,[e[40]||(e[40]=L('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar text-gray-400"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg>',1)),o("span",null,d(q(t.due_date)),1)]),(u=t.milestone)!=null&&u.name?(l(),n("span",jt,[e[41]||(e[41]=L('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-landmark text-gray-400"><line x1="2" x2="22" y1="22" y2="22"></line><path d="M6 18v3"></path><path d="M10 18v3"></path><path d="M14 18v3"></path><path d="M18 18v3"></path><path d="M8 22v-4-1.5a.5.5 0 011-1.5h6a.5.5 0 011 1.5V18v4"></path><path d="M12 12V4"></path><path d="M8 4h8"></path><path d="M12 4L8 8"></path><path d="M12 4l4 4"></path><path d="M8 8H6a2 2 0 00-2 2v10"></path><path d="M16 8h2a2 2 0 012 2v10"></path></svg>',1)),o("span",null,d(t.milestone.name),1)])):a("",!0)]),o("div",$t,[x(h,{onClick:m(c=>ee(t),["stop"]),class:"px-3 py-1 text-xs bg-yellow-500 hover:bg-yellow-600 transition-colors rounded-lg shadow-md"},{default:p(()=>e[42]||(e[42]=[g(" Revise ",-1)])),_:2,__:[42]},1032,["onClick"])])],8,ft)}),128))])):r.value==="list"?(l(),n("div",St,[o("table",Vt,[o("thead",Bt,[o("tr",null,[e[43]||(e[43]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Task Name",-1)),e[44]||(e[44]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status",-1)),e[45]||(e[45]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Priority",-1)),e[46]||(e[46]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Milestone",-1)),k.showProjectColumn?(l(),n("th",Nt,"Project")):a("",!0),e[47]||(e[47]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Due Date",-1)),e[48]||(e[48]=o("th",{scope:"col",class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions",-1))])]),o("tbody",Lt,[(l(!0),n(B,null,N(I.value,t=>{var u,c;return l(),n("tr",{key:t.id,class:"hover:bg-gray-50 transition-colors group",onClick:M=>V(t)},[o("td",Pt,d(t.name),1),o("td",At,[o("span",{class:w(["px-2 py-1 rounded-full text-xs font-medium",F(t.status)])},d(t.status),3)]),o("td",It,[o("span",{class:w(["px-2 py-1 rounded-full text-xs font-medium",se(t.priority)])},d(Y(t.priority)),3)]),o("td",Ft,d(((u=t.milestone)==null?void 0:u.name)||"N/A"),1),k.showProjectColumn?(l(),n("td",Ut,d(((c=t.project)==null?void 0:c.name)||"N/A"),1)):a("",!0),o("td",qt,d(q(t.due_date)),1),o("td",Yt,[o("div",Ht,[x(h,{onClick:m(M=>V(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-purple-500 hover:bg-purple-600"},{default:p(()=>e[49]||(e[49]=[g(" View ",-1)])),_:2,__:[49]},1032,["onClick"]),x(h,{onClick:m(M=>ee(t),["stop"]),class:"px-2 py-0.5 text-xs leading-4 bg-yellow-500 hover:bg-yellow-600"},{default:p(()=>e[50]||(e[50]=[g(" Revise ",-1)])),_:2,__:[50]},1032,["onClick"])])])],8,Et)}),128)),I.value.length===0?(l(),n("tr",Rt,[o("td",{colspan:k.showProjectColumn?7:6,class:"px-4 py-8 text-center text-gray-500"}," No completed tasks found. ",8,Wt)])):a("",!0)])])])):a("",!0)])):a("",!0),I.value.length===0&&T.value&&r.value!=="calendar"?(l(),n("div",zt," No completed tasks found. ")):a("",!0)]),x(he,{show:y.value,onClose:e[7]||(e[7]=t=>y.value=!1)},{default:p(()=>[o("div",Ot,[e[53]||(e[53]=o("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Block Task",-1)),e[54]||(e[54]=o("p",{class:"text-sm text-gray-600 mb-4"}," Please provide a reason for blocking this task. This will be recorded in the task history. ",-1)),o("div",Qt,[x(E,{modelValue:D.value,"onUpdate:modelValue":e[5]||(e[5]=t=>D.value=t),placeholder:"Enter reason for blocking the task",class:"w-full"},null,8,["modelValue"])]),o("div",Gt,[x(me,{onClick:e[6]||(e[6]=t=>y.value=!1)},{default:p(()=>e[51]||(e[51]=[g(" Cancel ",-1)])),_:1,__:[51]}),x(h,{onClick:ne,disabled:!D.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:p(()=>e[52]||(e[52]=[g(" Block Task ",-1)])),_:1,__:[52]},8,["disabled"])])])]),_:1},8,["show"])]))}};export{ao as _,ro as a,no as b};
