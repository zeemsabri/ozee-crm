import{r as p,s as de,w as Ve,B as be,c as oe,o,a as v,b as t,i as r,g as w,t as f,e as a,f as O,F as U,j as z,v as ae,n as ee,m as _,k as De,q as Re,x as A,H as Ge,z as ue,J as Ie,P as Ne,h as Q,y as Te,Q as te,d as ge}from"./app-CVSI70GZ.js";import{_ as Ue,e as se,s as K}from"./AuthenticatedLayout-CHOBc6xc.js";import{_ as ye}from"./ProjectForm-Bgd0CDBG.js";import{P as T}from"./PrimaryButton-Cq1hqp6A.js";import{D as _e}from"./DangerButton-ClgkVkHn.js";import{a as X,_ as Y}from"./SecondaryButton-Cuv6qBmk.js";import{_ as P,a as q}from"./InputError-LWvqpu0E.js";import{_ as ne}from"./TextInput-Dxp6M4We.js";import{_ as Se}from"./NotesModal-B_EH3lMV.js";import"./ApplicationLogo-C05LXUH6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Checkbox-wvqraqut.js";const Be={class:"p-6"},Ee={key:0,class:"mb-4 p-3 bg-red-100 text-red-700 rounded-md"},Fe={key:1,class:"mb-4 p-3 bg-green-100 text-green-700 rounded-md"},We={key:2},qe={key:0,class:"text-center py-4"},Ye={key:1},ze={key:0,class:"text-center py-4"},Le={key:1},He={class:"mb-4"},Je=["value"],Qe={key:0,class:"mb-4 p-4 border border-gray-200 rounded-md bg-gray-50"},Ke={class:"font-medium text-gray-900"},Xe={key:0,class:"text-sm text-gray-600 mt-1"},Ze={class:"mt-3"},et={class:"mt-1 pl-5 list-disc text-sm"},tt={key:0,class:"text-gray-500"},st={class:"flex justify-between"},ot={class:"flex space-x-3"},at={key:3},nt={class:"space-y-4"},lt={class:"mt-1 border border-gray-300 rounded-md p-2 max-h-40 overflow-y-auto"},rt={key:0,class:"text-gray-500 text-sm py-2 text-center"},it=["id","value"],ut=["for"],dt={class:"mt-6 flex justify-between"},ct={class:"flex space-x-3"},pt={__name:"BonusConfigurationGroupModal",props:{show:Boolean,projectId:{type:[Number,String],required:!0}},emits:["close","group-attached"],setup(le,{emit:V}){const b=le,S=V,B=p([]),k=p(null),x=p(!1),c=p(""),i=p(""),h=p(!1),g=p({name:"",description:"",configurations:[]}),$=p([]),j=de(()=>B.value.find(d=>d.id===k.value)),M=()=>{const d=localStorage.getItem("authToken");d&&!A.defaults.headers.common.Authorization&&(A.defaults.headers.common.Authorization=`Bearer ${d}`)},D=async()=>{x.value=!0,c.value="";try{M();const d=await A.get("/api/bonus-configuration-groups");B.value=d.data}catch(d){console.error("Error fetching bonus configuration groups:",d),c.value="Failed to load bonus configuration groups"}finally{x.value=!1}},Z=async()=>{try{M();const d=await A.get("/api/bonus-configurations");$.value=d.data}catch(d){console.error("Error fetching bonus configurations:",d),c.value="Failed to load bonus configurations"}},R=async()=>{var d,l;if(!k.value){c.value="Please select a bonus configuration group";return}x.value=!0,c.value="",i.value="";try{M(),await A.post(`/api/projects/${b.projectId}/attach-bonus-configuration-group`,{group_id:k.value}),i.value="Bonus configuration group attached successfully",S("group-attached"),setTimeout(()=>{i.value="",k.value=null,S("close")},1500)}catch(n){console.error("Error attaching bonus configuration group:",n),c.value=((l=(d=n.response)==null?void 0:d.data)==null?void 0:l.message)||"Failed to attach bonus configuration group"}finally{x.value=!1}},y=async()=>{var d,l;if(!g.value.name){c.value="Group name is required";return}x.value=!0,c.value="",i.value="";try{M();const L=(await A.post("/api/bonus-configuration-groups",g.value)).data.id;await A.post(`/api/projects/${b.projectId}/attach-bonus-configuration-group`,{group_id:L}),i.value="New bonus configuration group created and attached successfully",S("group-attached"),setTimeout(()=>{i.value="",h.value=!1,g.value={name:"",description:"",configurations:[]},S("close")},1500)}catch(n){console.error("Error creating and attaching bonus configuration group:",n),c.value=((l=(d=n.response)==null?void 0:d.data)==null?void 0:l.message)||"Failed to create and attach bonus configuration group"}finally{x.value=!1}},G=()=>{h.value=!h.value,h.value&&$.value.length===0&&Z()},I=()=>{k.value=null,c.value="",i.value="",h.value=!1,g.value={name:"",description:"",configurations:[]}};return Ve(()=>b.show,d=>{d&&(D(),I())}),be(()=>{b.show&&D()}),(d,l)=>(o(),oe(Y,{show:le.show,onClose:l[6]||(l[6]=n=>d.$emit("close"))},{default:v(()=>[t("div",Be,[l[15]||(l[15]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Attach Bonus Configuration Group ",-1)),c.value?(o(),r("div",Ee,f(c.value),1)):w("",!0),i.value?(o(),r("div",Fe,f(i.value),1)):w("",!0),h.value?(o(),r("div",at,[t("div",nt,[t("div",null,[a(P,{for:"name",value:"Group Name"}),a(ne,{id:"name",modelValue:g.value.name,"onUpdate:modelValue":l[2]||(l[2]=n=>g.value.name=n),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"])]),t("div",null,[a(P,{for:"description",value:"Description (Optional)"}),O(t("textarea",{id:"description","onUpdate:modelValue":l[3]||(l[3]=n=>g.value.description=n),class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"2"},null,512),[[De,g.value.description]])]),t("div",null,[a(P,{value:"Configurations"}),t("div",lt,[$.value.length===0?(o(),r("div",rt," Loading configurations... ")):(o(!0),r(U,{key:1},z($.value,n=>(o(),r("div",{key:n.id,class:"flex items-center py-1"},[O(t("input",{id:`config-${n.id}`,type:"checkbox",value:n.id,"onUpdate:modelValue":l[4]||(l[4]=L=>g.value.configurations=L),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,it),[[Re,g.value.configurations]]),t("label",{for:`config-${n.id}`,class:"ml-2 block text-sm text-gray-900"},[_(f(n.name)+" ",1),t("span",{class:ee(n.type==="bonus"?"text-green-600":"text-red-600")}," ("+f(n.type==="bonus"?"Bonus":"Penalty")+") ",3)],8,ut)]))),128))])])]),t("div",dt,[t("button",{onClick:G,class:"text-blue-600 hover:text-blue-800 underline"}," Back to existing groups "),t("div",ct,[a(X,{onClick:l[5]||(l[5]=n=>d.$emit("close"))},{default:v(()=>l[13]||(l[13]=[_(" Cancel ",-1)])),_:1,__:[13]}),a(T,{onClick:y,disabled:!g.value.name||x.value,class:ee({"opacity-50 cursor-not-allowed":!g.value.name||x.value})},{default:v(()=>l[14]||(l[14]=[_(" Create & Attach ",-1)])),_:1,__:[14]},8,["disabled","class"])])])])):(o(),r("div",We,[x.value?(o(),r("div",qe,l[7]||(l[7]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"},null,-1),t("p",{class:"mt-2 text-gray-600"},"Loading bonus configuration groups...",-1)]))):(o(),r("div",Ye,[B.value.length===0?(o(),r("div",ze,[l[8]||(l[8]=t("p",{class:"text-gray-600"},"No bonus configuration groups available.",-1)),t("p",{class:"mt-2"},[t("button",{onClick:G,class:"text-blue-600 hover:text-blue-800 underline"}," Create a new group ")])])):(o(),r("div",Le,[t("div",He,[a(P,{for:"group",value:"Select a Bonus Configuration Group"}),O(t("select",{id:"group","onUpdate:modelValue":l[0]||(l[0]=n=>k.value=n),class:"w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"},[l[9]||(l[9]=t("option",{value:""},"-- Select a Group --",-1)),(o(!0),r(U,null,z(B.value,n=>(o(),r("option",{key:n.id,value:n.id},f(n.name),9,Je))),128))],512),[[ae,k.value]])]),j.value?(o(),r("div",Qe,[t("h3",Ke,f(j.value.name),1),j.value.description?(o(),r("p",Xe,f(j.value.description),1)):w("",!0),t("div",Ze,[l[10]||(l[10]=t("h4",{class:"text-sm font-medium text-gray-700"},"Configurations:",-1)),t("ul",et,[(o(!0),r(U,null,z(j.value.configurations,n=>(o(),r("li",{key:n.id,class:ee(n.type==="bonus"?"text-green-600":"text-red-600")},f(n.name),3))),128)),j.value.configurations.length===0?(o(),r("li",tt," No configurations in this group ")):w("",!0)])])])):w("",!0),t("div",st,[t("button",{onClick:G,class:"text-blue-600 hover:text-blue-800 underline"}," Create a new group "),t("div",ot,[a(X,{onClick:l[1]||(l[1]=n=>d.$emit("close"))},{default:v(()=>l[11]||(l[11]=[_(" Cancel ",-1)])),_:1,__:[11]}),a(T,{onClick:R,disabled:!k.value||x.value,class:ee({"opacity-50 cursor-not-allowed":!k.value||x.value})},{default:v(()=>l[12]||(l[12]=[_(" Attach Group ",-1)])),_:1,__:[12]},8,["disabled","class"])])])]))]))]))])]),_:1},8,["show"]))}},vt={class:"py-12"},mt={class:"max-w-12xl mx-auto sm:px-6 lg:px-12"},ft={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},gt={class:"p-6 text-gray-900"},yt={class:"mb-6"},_t={key:0,class:"text-gray-600"},bt={key:1,class:"text-red-600"},xt={key:2,class:"text-gray-600"},ht={key:3},wt={class:"min-w-full divide-y divide-gray-200"},kt={class:"bg-white divide-y divide-gray-200"},jt={class:"px-6 py-4 whitespace-nowrap"},$t={class:"px-6 py-4"},Ct={key:0},Ot={key:1,class:"text-gray-400"},Pt={class:"px-6 py-4 whitespace-nowrap capitalize"},At={class:"px-6 py-4"},Mt={key:0},Vt={key:1,class:"text-gray-400"},Dt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Rt={class:"flex items-center space-x-2"},Gt={class:"p-6"},It={key:0,class:"mt-4 text-gray-800"},Nt={key:0},Tt={key:1,class:"text-red-600 text-sm mb-4"},Ut={class:"mt-6 flex justify-end"},St={class:"p-6"},Bt={key:0,class:"text-red-600 text-sm mb-4"},Et={class:"mb-4"},Ft={class:"mb-4"},Wt={class:"mb-4"},qt={key:0,class:"mb-4"},Yt=["value"],zt={key:1,class:"mb-4"},Lt={class:"mt-6 flex justify-end"},Ht={class:"p-6"},Jt={key:0,class:"text-red-600 text-sm mb-4"},Qt={class:"mb-4"},Kt=["value"],Xt={class:"mt-6 flex justify-end"},cs={__name:"Index",setup(le){const V=Ge(),b=p([]),S=p([]),B=p([]),k=p([]),x=p(!0),c=p({}),i=p(""),h=p(!1),g=p(!1),$=p(!1),j=p(!1),M=p(!1),D=p(!1),Z=p(!1),R=p({}),y=ue({project_id:null,description:"",amount:"",user_id:null,hours_spent:"",type:"expense"}),G=ue({project_id:null,content:""}),I=ue({project_id:null,payment_type:"one_off"}),d=p(null),l=p(null),{canDo:n,canView:L}=Ie();de(()=>V.value?V.value.role_data&&V.value.role_data.slug==="super-admin"||V.value.role==="super_admin"||V.value.role==="super-admin":!1),n("create_projects");const xe=de(()=>L("projects").value),he=n("manage_projects"),ce=[{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"on_hold",label:"On Hold"},{value:"archived",label:"Archived"}],pe=[{value:"Website Designing",label:"Website Designing"},{value:"SEO",label:"SEO"},{value:"Social Media",label:"Social Media"},{value:"Content Writing",label:"Content Writing"},{value:"Graphic Design",label:"Graphic Design"}],ve=[{value:"UpWork",label:"UpWork"},{value:"Direct",label:"Direct Client"},{value:"Wix Marketplace",label:"Wix Marketplace"},{value:"Referral",label:"Referral"}],E=p([]),H=p([]),we=async()=>{try{const u=await A.get("/api/roles?type=client");E.value=u.data.map(m=>({value:m.id,label:m.name}));const e=await A.get("/api/roles?type=project");H.value=e.data.map(m=>({value:m.id,label:m.name}))}catch(u){console.error("Error fetching roles:",u),E.value=[{value:1,label:"Client Admin"},{value:2,label:"Client User"},{value:3,label:"Client Viewer"}],H.value=[{value:1,label:"Project Manager"},{value:2,label:"Project Member"},{value:3,label:"Project Viewer"}]}},re=[{value:"one_off",label:"One-Off"},{value:"monthly",label:"Monthly"}],me=[{value:"website_design",label:"Website Design"},{value:"seo",label:"SEO"},{value:"social_media",label:"Social Media"},{value:"content_writing",label:"Content Writing"},{value:"graphic_design",label:"Graphic Design"}],F=async()=>{x.value=!0,i.value="";try{const u=await window.axios.get("/api/projects");if(b.value=u.data,he.value){const e=await window.axios.get("/api/clients");S.value=e.data.data;const m=await window.axios.get("/api/users");B.value=m.data}}catch(u){i.value="Failed to load data.",console.error("Error fetching initial data:",u),u.response&&(u.response.status===401||u.response.status===403)&&(i.value="You are not authorized to view this content or your session expired. Please log in.")}finally{x.value=!1}},ke=()=>{if(!n("create_projects").value){se("You do not have permission to create projects.");return}R.value={},h.value=!0},je=u=>{if(!n("manage_projects").value){se("You do not have permission to edit this project.");return}R.value=u,g.value=!0},fe=u=>{const e=b.value.findIndex(m=>m.id===u.id);e!==-1?b.value[e]=u:b.value.push(u),h.value=!1,g.value=!1,K(u.id?"Project updated successfully!":"Project created successfully!"),F()},$e=u=>{if(!n("delete_projects").value){se("You do not have permission to delete this project.");return}d.value=u,$.value=!0},Ce=async()=>{var e;i.value="";const u=(e=d.value)==null?void 0:e.id;if(!u){i.value="Invalid project.";return}if(!n("delete_projects").value){i.value="You do not have permission to delete this project.";return}try{await window.axios.delete(`/api/projects/${u}`),b.value=b.value.filter(m=>m.id!==u),$.value=!1,d.value=null,K("Project deleted successfully!")}catch(m){i.value="Failed to delete project.",m.response&&m.response.data.message&&(i.value=m.response.data.message),console.error("Error deleting project:",m)}},Oe=async()=>{c.value={},i.value="";const u=y.project_id;if(!u){i.value="Invalid project.";return}if(!n("manage_project_transactions").value){i.value="You do not have permission to add transactions to this project.";return}try{await window.axios.post(`/api/projects/${u}/expenses`,{expenses:[y]}),j.value=!1,K("Transaction added successfully!"),F()}catch(e){e.response&&e.response.status===422?c.value=e.response.data.errors:e.response&&e.response.data.message?i.value=e.response.data.message:(i.value="Failed to add transaction.",console.error("Error adding transaction:",e))}},Pe=u=>{if(!n("add_project_notes").value){se("You do not have permission to add notes to this project.");return}const e=u.id;if(!e){console.error("No project ID found in project object:",u);return}G.project_id=e,G.content="",c.value={},i.value="",M.value=!0},Ae=async()=>{i.value="";const u=I.project_id;if(!u){i.value="Invalid project.";return}if(!n("manage_project_services_and_payments").value){i.value="You do not have permission to convert payment type for this project.";return}try{await window.axios.post(`/api/projects/${u}/convert-payment-type`,{payment_type:I.payment_type});const e=b.value.findIndex(m=>m.id===u);e!==-1&&(b.value[e].payment_type=I.payment_type),D.value=!1,l.value=null,K("Payment type converted successfully!"),F()}catch(e){i.value="Failed to convert payment type.",e.response&&e.response.data.message&&(i.value=e.response.data.message),console.error("Error converting payment type:",e)}},Me=()=>{F(),K("Bonus configuration group attached successfully!")};return be(()=>{if(!xe.value){window.location.href=route("dashboard");return}F(),we();const u=document.querySelector("#app").__vue_app__;u&&Ne(u)}),(u,e)=>(o(),r(U,null,[a(Q(Te),{title:"Projects"}),a(Ue,null,{header:v(()=>e[18]||(e[18]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Projects",-1)])),default:v(()=>{var m;return[t("div",vt,[t("div",mt,[t("div",ft,[t("div",gt,[e[24]||(e[24]=t("h3",{class:"text-2xl font-bold mb-4"},"Project List",-1)),O((o(),r("div",yt,[a(T,{onClick:ke},{default:v(()=>e[19]||(e[19]=[_(" Create New Project ",-1)])),_:1,__:[19]})])),[[Q(te),"create_projects"]]),x.value?(o(),r("div",_t,"Loading projects...")):i.value?(o(),r("div",bt,f(i.value),1)):b.value.length===0?(o(),r("div",xt,"No projects found.")):(o(),r("div",ht,[t("table",wt,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Clients"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Assigned Users"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",kt,[(o(!0),r(U,null,z(b.value,s=>(o(),r("tr",{key:s.id},[t("td",jt,f(s.name),1),t("td",$t,[s.clients&&s.clients.length?(o(),r("span",Ct,f(s.clients.map(C=>{const W=C.pivot.role_id,N=E.value.find(ie=>ie.value===W),J=N?N.label:"Unknown Role";return`${C.name} (${J})`}).join(", ")),1)):(o(),r("span",Ot,"None"))]),t("td",Pt,f(s.status.replace("_"," ")),1),t("td",At,[s.users&&s.users.length?(o(),r("span",Mt,f(s.users.map(C=>{const W=C.pivot.role_id,N=H.value.find(ie=>ie.value===W),J=N?N.label:"Unknown Role";return`${C.name} (${J})`}).join(", ")),1)):(o(),r("span",Vt,"None"))]),t("td",Dt,[t("div",Rt,[O((o(),oe(T,{onClick:C=>je(s)},{default:v(()=>e[20]||(e[20]=[_("Edit",-1)])),_:2,__:[20]},1032,["onClick"])),[[Q(te),"manage_projects"]]),O((o(),oe(T,{onClick:C=>Pe(s)},{default:v(()=>e[21]||(e[21]=[_("Add Note",-1)])),_:2,__:[21]},1032,["onClick"])),[[Q(te),"add_project_notes"]]),O((o(),oe(_e,{onClick:C=>$e(s)},{default:v(()=>e[22]||(e[22]=[_("Delete",-1)])),_:2,__:[22]},1032,["onClick"])),[[Q(te),"delete_projects"]])])])]))),128))])])]))])])])]),a(Y,{show:h.value,onClose:e[1]||(e[1]=s=>h.value=!1)},{default:v(()=>[a(ye,{show:h.value,project:R.value,statusOptions:ce,serviceOptions:me,departmentOptions:pe,sourceOptions:ve,clientRoleOptions:E.value,userRoleOptions:H.value,paymentTypeOptions:re,onClose:e[0]||(e[0]=s=>h.value=!1),onSubmit:fe},null,8,["show","project","clientRoleOptions","userRoleOptions"])]),_:1},8,["show"]),a(Y,{show:g.value,onClose:e[3]||(e[3]=s=>g.value=!1)},{default:v(()=>[a(ye,{show:g.value,project:R.value,statusOptions:ce,serviceOptions:me,departmentOptions:pe,sourceOptions:ve,clientRoleOptions:E.value,userRoleOptions:H.value,paymentTypeOptions:re,onClose:e[2]||(e[2]=s=>g.value=!1),onSubmit:fe},null,8,["show","project","clientRoleOptions","userRoleOptions"])]),_:1},8,["show"]),a(Y,{show:$.value,onClose:e[5]||(e[5]=s=>$.value=!1)},{default:v(()=>[t("div",Gt,[e[28]||(e[28]=t("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this project? ",-1)),e[29]||(e[29]=t("p",{class:"mt-1 text-sm text-gray-600"}," This action cannot be undone. All associated conversations and emails will also be deleted. ",-1)),d.value?(o(),r("div",It,[e[25]||(e[25]=t("strong",null,"Project:",-1)),_(" "+f(d.value.name)+" ",1),d.value.clients&&d.value.clients.length?(o(),r("span",Nt," (Clients: "+f(d.value.clients.map(s=>{const C=s.pivot.role_id,W=E.value.find(J=>J.value===C),N=W?W.label:"Unknown Role";return`${s.name} (${N})`}).join(", "))+") ",1)):w("",!0)])):w("",!0),i.value?(o(),r("div",Tt,f(i.value),1)):w("",!0),t("div",Ut,[a(X,{onClick:e[4]||(e[4]=s=>$.value=!1)},{default:v(()=>e[26]||(e[26]=[_("Cancel",-1)])),_:1,__:[26]}),a(_e,{class:"ms-3",onClick:Ce},{default:v(()=>e[27]||(e[27]=[_("Delete Project",-1)])),_:1,__:[27]})])])]),_:1},8,["show"]),a(Y,{show:j.value,onClose:e[12]||(e[12]=s=>j.value=!1)},{default:v(()=>[t("div",St,[e[34]||(e[34]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Add Transactions",-1)),i.value?(o(),r("div",Bt,f(i.value),1)):w("",!0),t("form",{onSubmit:ge(Oe,["prevent"])},[t("div",Et,[a(P,{for:"transaction_type",value:"Type"}),O(t("select",{id:"transaction_type",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full","onUpdate:modelValue":e[6]||(e[6]=s=>y.type=s)},e[30]||(e[30]=[t("option",{value:"income"},"Income",-1),t("option",{value:"expense"},"Expense",-1)]),512),[[ae,y.type]]),a(q,{message:c.value["expenses.0.type"]?c.value["expenses.0.type"][0]:"",class:"mt-2"},null,8,["message"])]),t("div",Ft,[a(P,{for:"transaction_description",value:"Description"}),a(ne,{id:"transaction_description",type:"text",class:"mt-1 block w-full",modelValue:y.description,"onUpdate:modelValue":e[7]||(e[7]=s=>y.description=s),required:""},null,8,["modelValue"]),a(q,{message:c.value["expenses.0.description"]?c.value["expenses.0.description"][0]:"",class:"mt-2"},null,8,["message"])]),t("div",Wt,[a(P,{for:"transaction_amount",value:"Amount"}),a(ne,{id:"transaction_amount",type:"number",step:"0.01",class:"mt-1 block w-full",modelValue:y.amount,"onUpdate:modelValue":e[8]||(e[8]=s=>y.amount=s),required:""},null,8,["modelValue"]),a(q,{message:c.value["expenses.0.amount"]?c.value["expenses.0.amount"][0]:"",class:"mt-2"},null,8,["message"])]),y.type==="expense"?(o(),r("div",qt,[a(P,{for:"transaction_user_id",value:"User (Optional)"}),O(t("select",{id:"transaction_user_id",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full","onUpdate:modelValue":e[9]||(e[9]=s=>y.user_id=s)},[e[31]||(e[31]=t("option",{value:"",disabled:""},"Select User",-1)),(o(!0),r(U,null,z(k.value,s=>(o(),r("option",{key:s.id,value:s.id},f(s.name),9,Yt))),128))],512),[[ae,y.user_id]]),a(q,{message:c.value["expenses.0.user_id"]?c.value["expenses.0.user_id"][0]:"",class:"mt-2"},null,8,["message"])])):w("",!0),y.type==="expense"?(o(),r("div",zt,[a(P,{for:"transaction_hours_spent",value:"Hours Spent (Optional)"}),a(ne,{id:"transaction_hours_spent",type:"number",step:"0.01",class:"mt-1 block w-full",modelValue:y.hours_spent,"onUpdate:modelValue":e[10]||(e[10]=s=>y.hours_spent=s)},null,8,["modelValue"]),a(q,{message:c.value["expenses.0.hours_spent"]?c.value["expenses.0.hours_spent"][0]:"",class:"mt-2"},null,8,["message"])])):w("",!0),t("div",Lt,[a(X,{onClick:e[11]||(e[11]=s=>j.value=!1)},{default:v(()=>e[32]||(e[32]=[_("Cancel",-1)])),_:1,__:[32]}),a(T,{class:"ms-3",type:"submit"},{default:v(()=>e[33]||(e[33]=[_("Add Transaction",-1)])),_:1,__:[33]})])],32)])]),_:1},8,["show"]),a(Se,{show:M.value,"project-id":G.project_id,onClose:e[13]||(e[13]=s=>M.value=!1),onNoteAdded:F},null,8,["show","project-id"]),a(Y,{show:D.value,onClose:e[16]||(e[16]=s=>D.value=!1)},{default:v(()=>[t("div",Ht,[e[37]||(e[37]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Convert Payment Type",-1)),i.value?(o(),r("div",Jt,f(i.value),1)):w("",!0),t("form",{onSubmit:ge(Ae,["prevent"])},[t("div",Qt,[a(P,{for:"convert_payment_type",value:"Payment Type"}),O(t("select",{id:"convert_payment_type",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full","onUpdate:modelValue":e[14]||(e[14]=s=>I.payment_type=s),required:""},[(o(),r(U,null,z(re,s=>t("option",{key:s.value,value:s.value},f(s.label),9,Kt)),64))],512),[[ae,I.payment_type]]),a(q,{message:c.value.payment_type?c.value.payment_type[0]:"",class:"mt-2"},null,8,["message"])]),t("div",Xt,[a(X,{onClick:e[15]||(e[15]=s=>D.value=!1)},{default:v(()=>e[35]||(e[35]=[_("Cancel",-1)])),_:1,__:[35]}),a(T,{class:"ms-3",type:"submit"},{default:v(()=>e[36]||(e[36]=[_("Convert",-1)])),_:1,__:[36]})])],32)])]),_:1},8,["show"]),a(pt,{show:Z.value,"project-id":(m=R.value)==null?void 0:m.id,onClose:e[17]||(e[17]=s=>Z.value=!1),onGroupAttached:Me},null,8,["show","project-id"])]}),_:1})],64))}};export{cs as default};
