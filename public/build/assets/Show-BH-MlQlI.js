import{_ as w}from"./AuthenticatedLayout-lFJehexW.js";import{c as k,r as U,g as j,o as i,w as l,b as t,a as r,d as x,u,A as y,m as f,t as n,F as p,l as g,i as h,I as N}from"./app-CUg9I8P6.js";import"./PrimaryButton-BZ5o-fk1.js";import"./Modal-8Q-5IFUP.js";import"./InputLabel-Dtwwghzc.js";import"./InputError-D_7GLNjE.js";import"./SecondaryButton-B85uA06t.js";import"./index-G-hl-7cY.js";import"./BaseFormModal-ERjkxWC2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-BHjA3CXs.js";import"./SelectDropdown-Bz0BzMtx.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./ApplicationLogo-DXZHPrVp.js";import"./createLucideIcon-C5zouDOz.js";import"./plus-C_LD7hIx.js";import"./DangerButton-DjN4fB3J.js";import"./moment-BLMuvzoS.js";import"./NoticeboardModal-BQVpK-Vd.js";const R={class:"font-semibold text-xl text-gray-800 leading-tight"},A={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"p-6 bg-white border-b border-gray-200"},P={class:"mb-6"},S={class:"flex justify-between items-center mb-4"},$={class:"flex space-x-2"},V={class:"bg-gray-50 p-4 rounded-lg mb-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F={class:"mt-1 text-sm text-gray-900"},T={class:"mt-1 text-sm text-gray-900"},z={class:"md:col-span-2"},I={class:"mt-1 text-sm text-gray-900"},L={key:0,class:"text-sm text-gray-500 p-4 bg-gray-50 rounded-lg"},M={key:1},O={class:"font-medium text-gray-700 mb-2"},q={class:"bg-gray-50 p-4 rounded-lg"},G={class:"flex flex-wrap gap-2"},H={class:"mt-6"},J={key:0,class:"mb-6"},K={class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},W={class:"bg-white divide-y divide-gray-200"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"text-sm font-medium text-gray-900"},Z={class:"px-6 py-4 whitespace-nowrap"},tt={class:"text-sm text-gray-500"},et={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},st=["onClick"],ot={key:1,class:"mb-6"},it={class:"overflow-x-auto"},rt={class:"min-w-full divide-y divide-gray-200"},nt={class:"bg-white divide-y divide-gray-200"},at={class:"px-6 py-4 whitespace-nowrap"},dt={class:"text-sm font-medium text-gray-900"},lt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"text-sm text-gray-500"},mt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"text-sm text-gray-500"},gt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},xt=["onClick"],ut={key:2,class:"text-sm text-gray-500 p-4 bg-gray-50 rounded-lg"},yt={class:"flex items-center justify-end mt-6"},Ft={__name:"Show",props:{role:Object,applicationUsers:Array,projectUsers:Array},setup(o){const c=o,_=k(()=>!c.role.permissions||c.role.permissions.length===0?{}:c.role.permissions.reduce((a,e)=>{const s=e.category||"Uncategorized";return a[s]||(a[s]=[]),a[s].push(e),a},{})),m=U(!1),v=(a,e,s=null)=>{if(m.value)return;m.value=!0;const d={user_id:a,role_id:c.role.id,role_type:e};s&&(d.project_id=s),N.post(route("admin.roles.revoke-user"),d,{preserveScroll:!0,onSuccess:()=>{m.value=!1},onError:()=>{m.value=!1}})};return(a,e)=>(i(),j(w,null,{header:l(()=>[t("h2",R," Role Details: "+n(o.role.name),1)]),default:l(()=>[t("div",A,[t("div",C,[t("div",B,[t("div",E,[t("div",P,[t("div",S,[e[2]||(e[2]=t("h3",{class:"text-lg font-medium text-gray-900"},"Role Information",-1)),t("div",$,[x(u(y),{href:a.route("admin.roles.edit",o.role.id),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-indigo-900 focus:ring focus:ring-indigo-300 disabled:opacity-25 transition"},{default:l(()=>e[0]||(e[0]=[f(" Edit Role ",-1)])),_:1,__:[0]},8,["href"]),x(u(y),{href:a.route("admin.roles.permissions",o.role.id),class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:ring focus:ring-green-300 disabled:opacity-25 transition"},{default:l(()=>e[1]||(e[1]=[f(" Manage Permissions ",-1)])),_:1,__:[1]},8,["href"])])]),t("div",V,[t("div",D,[t("div",null,[e[3]||(e[3]=t("h4",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("p",F,n(o.role.name),1)]),t("div",null,[e[4]||(e[4]=t("h4",{class:"text-sm font-medium text-gray-500"},"Slug",-1)),t("p",T,n(o.role.slug),1)]),t("div",z,[e[5]||(e[5]=t("h4",{class:"text-sm font-medium text-gray-500"},"Description",-1)),t("p",I,n(o.role.description||"No description provided"),1)])])]),e[6]||(e[6]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Permissions",-1)),o.role.permissions.length===0?(i(),r("div",L," This role has no permissions assigned. ")):(i(),r("div",M,[(i(!0),r(p,null,g(_.value,(s,d)=>(i(),r("div",{key:d,class:"mb-6"},[t("h4",O,n(d),1),t("div",q,[t("div",G,[(i(!0),r(p,null,g(s,b=>(i(),r("span",{key:b.id,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},n(b.name),1))),128))])])]))),128))]))]),t("div",H,[e[11]||(e[11]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Users with this Role",-1)),o.applicationUsers&&o.applicationUsers.length>0?(i(),r("div",J,[e[8]||(e[8]=t("h4",{class:"font-medium text-gray-700 mb-2"},"Application Users",-1)),t("div",K,[t("table",Q,[e[7]||(e[7]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",W,[(i(!0),r(p,null,g(o.applicationUsers,s=>(i(),r("tr",{key:s.id},[t("td",X,[t("div",Y,n(s.name),1)]),t("td",Z,[t("div",tt,n(s.email),1)]),t("td",et,[t("button",{onClick:d=>v(s.id,"application"),class:"text-red-600 hover:text-red-900"}," Revoke ",8,st)])]))),128))])])])])):h("",!0),o.projectUsers&&o.projectUsers.length>0?(i(),r("div",ot,[e[10]||(e[10]=t("h4",{class:"font-medium text-gray-700 mb-2"},"Project Users",-1)),t("div",it,[t("table",rt,[e[9]||(e[9]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Email "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Project "),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",nt,[(i(!0),r(p,null,g(o.projectUsers,s=>(i(),r("tr",{key:`${s.id}-${s.project_id}`},[t("td",at,[t("div",dt,n(s.name),1)]),t("td",lt,[t("div",ct,n(s.email),1)]),t("td",mt,[t("div",pt,n(s.project_name),1)]),t("td",gt,[t("button",{onClick:d=>v(s.id,"project",s.project_id),class:"text-red-600 hover:text-red-900"}," Revoke ",8,xt)])]))),128))])])])])):h("",!0),(!o.applicationUsers||o.applicationUsers.length===0)&&(!o.projectUsers||o.projectUsers.length===0)?(i(),r("div",ut," No users have been assigned this role. ")):h("",!0)]),t("div",yt,[x(u(y),{href:a.route("admin.roles.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},{default:l(()=>e[12]||(e[12]=[f(" Back to Roles ",-1)])),_:1,__:[12]},8,["href"])])])])])])]),_:1}))}};export{Ft as default};
