import k from"./LeadCard-B1ktvURG.js";import{a as r,o as s,F as l,l as c,b as n,i as x,t as y,g as h}from"./app-DLjAqOLz.js";const D={class:"flex gap-4 overflow-x-auto"},b=["onDrop"],B={class:"flex items-center justify-between mb-2"},w={class:"text-sm font-semibold text-gray-700"},S={class:"text-xs text-gray-500"},$={key:0,class:"text-xs text-gray-500 p-2"},E={class:"space-y-2"},C={__name:"LeadKanban",props:{leadsByStatus:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["edit","delete","move"],setup(i,{emit:p}){const d=i,m=p,u=[{key:"new",title:"New"},{key:"contacted",title:"Contacted"},{key:"qualified",title:"Qualified"},{key:"converted",title:"Converted"},{key:"lost",title:"Lost"}],f=t=>{t.preventDefault(),t.dataTransfer.dropEffect="move"},g=(t,a)=>{try{const e=JSON.parse(t.dataTransfer.getData("text/plain"));e&&e.id&&m("move",{id:e.id,status:a})}catch(e){console.warn("Invalid drop payload",e)}},_=t=>{var a,e;return((e=(a=d.leadsByStatus)==null?void 0:a[t])==null?void 0:e.length)??0};return(t,a)=>(s(),r("div",D,[(s(),r(l,null,c(u,e=>n("div",{key:e.key,class:"flex-1 min-w-[260px] bg-gray-50 rounded-lg border border-gray-200 p-3",onDragover:f,onDrop:o=>g(o,e.key)},[n("div",B,[n("h3",w,y(e.title),1),n("span",S,y(_(e.key)),1)]),i.loading?(s(),r("div",$,"Loading...")):x("",!0),n("div",E,[(s(!0),r(l,null,c(d.leadsByStatus[e.key]||[],o=>(s(),h(k,{key:o.id,lead:o,onEdit:v=>t.$emit("edit",o),onDelete:v=>t.$emit("delete",o)},null,8,["lead","onEdit","onDelete"]))),128))])],40,b)),64))]))}};export{C as default};
