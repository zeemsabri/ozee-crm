import{r as V,x as C,m as N,q as x,o as l,w as c,a as s,y as S,e as a,u as r,f,v as $,k as b,c as i,F as _,i as w,t as g,H as U,A,g as y,B,n as q}from"./app-nAqQJsbR.js";import{_ as M}from"./AuthenticatedLayout-xY_DmKWf.js";import{_ as n}from"./InputError-Dtq2oRc3.js";import{_ as m}from"./InputLabel-D-9b_EvI.js";import{_ as D}from"./PrimaryButton-yJM6lm_0.js";import{_ as v}from"./TextInput-CQd22ZsB.js";import"./Modal-DhbO6a4Q.js";import"./SecondaryButton-CWcCkJJP.js";import"./index-CEM64rK8.js";import"./BaseFormModal-D6fLUGFx.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SelectDropdown-C_0VCa5k.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./RightSidebar-CP9mncM7.js";import"./ApplicationLogo-tQZvHTWH.js";import"./MultiSelectDropdown-BvFQZe28.js";import"./createLucideIcon-5puRqNY3.js";import"./plus-Djkg5stV.js";import"./DangerButton-BoUJgTYa.js";import"./moment-BLMuvzoS.js";import"./taskState-DGvI4lqK.js";import"./NoticeboardModal-BqMQX20H.js";import"./x-P1eR8_mO.js";const F={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 bg-white border-b border-gray-200"},j={class:"mb-6"},z={class:"mb-6"},H={class:"mb-6"},L={class:"mb-6"},O={class:"flex space-x-2"},R=["value"],W={class:"mb-6"},G={class:"mt-2 max-h-60 overflow-y-auto p-2 border border-gray-300 rounded-md"},I={key:0,class:"text-gray-500 text-sm"},J={key:1,class:"space-y-2"},K={class:"flex items-center h-5"},Q=["id","value"],X={class:"ml-3 text-sm"},Y=["for"],Z={class:"text-xs text-gray-500"},ee={key:0,class:"text-gray-500"},se={class:"flex items-center justify-end mt-4"},Ne={__name:"Create",props:{categories:Array,roles:Array},setup(u){const d=V(""),t=C({name:"",slug:"",description:"",category:"",roles:[]});N(()=>t.category,p=>{p!=="new"&&(d.value="")});const h=()=>{t.category==="new"&&d.value&&(t.category=d.value),t.post(route("admin.permissions.store"),{onSuccess:()=>{t.reset(),d.value=""}})};return(p,e)=>(l(),x(M,null,{header:c(()=>e[6]||(e[6]=[s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create New Permission ",-1)])),default:c(()=>[s("div",F,[s("div",E,[s("div",P,[s("div",T,[s("form",{onSubmit:S(h,["prevent"])},[s("div",j,[a(m,{for:"name",value:"Name"}),a(v,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:r(t).name,"onUpdate:modelValue":e[0]||(e[0]=o=>r(t).name=o),required:"",autofocus:""},null,8,["modelValue"]),a(n,{class:"mt-2",message:r(t).errors.name},null,8,["message"])]),s("div",z,[a(m,{for:"slug",value:"Slug (optional)"}),a(v,{id:"slug",type:"text",class:"mt-1 block w-full",modelValue:r(t).slug,"onUpdate:modelValue":e[1]||(e[1]=o=>r(t).slug=o),placeholder:"Will be auto-generated if left empty"},null,8,["modelValue"]),a(n,{class:"mt-2",message:r(t).errors.slug},null,8,["message"])]),s("div",H,[a(m,{for:"description",value:"Description (optional)"}),f(s("textarea",{id:"description",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":e[2]||(e[2]=o=>r(t).description=o),rows:"3"},null,512),[[$,r(t).description]]),a(n,{class:"mt-2",message:r(t).errors.description},null,8,["message"])]),s("div",L,[a(m,{for:"category",value:"Category"}),s("div",O,[f(s("select",{id:"category",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":e[3]||(e[3]=o=>r(t).category=o),required:""},[e[7]||(e[7]=s("option",{value:"",disabled:""},"Select a category",-1)),(l(!0),i(_,null,w(u.categories,o=>(l(),i("option",{key:o,value:o},g(o),9,R))),128)),e[8]||(e[8]=s("option",{value:"new"},"+ Add New Category",-1))],512),[[U,r(t).category]]),r(t).category==="new"?(l(),x(v,{key:0,type:"text",class:"mt-1 block w-full",modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=o=>d.value=o),placeholder:"Enter new category name",required:""},null,8,["modelValue"])):b("",!0)]),a(n,{class:"mt-2",message:r(t).errors.category},null,8,["message"])]),s("div",W,[a(m,{for:"roles",value:"Assign to Roles (Optional)"}),s("div",G,[!u.roles||u.roles.length===0?(l(),i("div",I," No roles available. ")):(l(),i("div",J,[(l(!0),i(_,null,w(u.roles,o=>(l(),i("div",{key:o.id,class:"flex items-start"},[s("div",K,[f(s("input",{id:`role-${o.id}`,type:"checkbox",value:o.id,"onUpdate:modelValue":e[5]||(e[5]=k=>r(t).roles=k),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,8,Q),[[A,r(t).roles]])]),s("div",X,[s("label",{for:`role-${o.id}`,class:"font-medium text-gray-700"},[y(g(o.name)+" ",1),s("span",Z,"("+g(o.type)+")",1)],8,Y),o.description?(l(),i("p",ee,g(o.description),1)):b("",!0)])]))),128))]))]),e[9]||(e[9]=s("p",{class:"mt-1 text-sm text-gray-500"}," Select roles to automatically assign this permission to them. ",-1)),a(n,{class:"mt-2",message:r(t).errors.roles},null,8,["message"])]),s("div",se,[a(r(B),{href:p.route("admin.permissions.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-300 disabled:opacity-25 transition mr-2"},{default:c(()=>e[10]||(e[10]=[y(" Cancel ",-1)])),_:1,__:[10]},8,["href"]),a(D,{class:q(["ml-4",{"opacity-25":r(t).processing}]),disabled:r(t).processing},{default:c(()=>e[11]||(e[11]=[y(" Create Permission ",-1)])),_:1,__:[11]},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{Ne as default};
