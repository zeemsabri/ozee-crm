import{_ as x,E as y,s as v,i,o as a,b as e,F as b,j as w,t as n,n as h,m as d}from"./app-B1BnwTrQ.js";const f={class:"p-6 bg-white rounded-lg shadow-md min-h-[calc(100vh-6rem)]"},k={key:0,class:"text-center text-gray-500 py-8"},j={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},q={class:"p-5 flex-grow"},S={class:"flex justify-between items-start mb-3"},N={class:"text-lg font-bold text-gray-800"},A={class:"text-sm text-gray-600 mb-2 line-clamp-3"},D={class:"text-xs text-gray-500 mb-1"},R={class:"font-medium text-gray-700 capitalize"},C={class:"text-xs text-gray-500 mb-3"},B={class:"font-medium text-gray-700"},I={class:"p-5 border-t border-gray-200 bg-gray-50 flex justify-end"},T=["onClick"],V={__name:"ApprovalsSection",props:{deliverables:{type:Array,default:()=>[]},initialAuthToken:{type:String,required:!0},projectId:{type:[String,Number],required:!0}},emits:["open-deliverable-viewer"],setup(p,{emit:u}){const g=p,_=u,{showModal:z}=y("modalService"),l=v(()=>g.deliverables.filter(r=>{const s=r.status==="pending_review",t=r.status==="revisions_requested",o=r.client_interaction;return s?!o||!o.approved_at&&!o.rejected_at&&!o.revisions_requested_at:t?!o||!o.approved_at&&!o.rejected_at:!1})),m=r=>{_("open-deliverable-viewer",r)};return(r,s)=>(a(),i("div",f,[s[3]||(s[3]=e("h2",{class:"text-2xl font-semibold text-gray-800 mb-6"},"Approvals Needed",-1)),l.value.length===0?(a(),i("div",k,s[0]||(s[0]=[e("p",null,"No approvals currently require your attention.",-1),e("p",{class:"mt-2 text-sm"},"Great job keeping up with your project deliverables!",-1)]))):(a(),i("div",j,[(a(!0),i(b,null,w(l.value,t=>{var o;return a(),i("div",{key:t.id,class:"bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-shadow duration-200 flex flex-col"},[e("div",q,[e("div",S,[e("h3",N,n(t.title),1),e("span",{class:h({"px-3 py-1 rounded-full text-xs font-semibold":!0,"bg-yellow-200 text-yellow-800":t.status==="pending_review"||t.status==="revisions_requested","bg-green-200 text-green-800":t.status==="approved"})},n(t.status.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())),3)]),e("p",A,n(t.description||"No description provided."),1),e("div",D,[s[1]||(s[1]=d(" Type: ",-1)),e("span",R,n(t.type.replace(/_/g," ")),1)]),e("div",C,[s[2]||(s[2]=d(" Submitted by: ",-1)),e("span",B,n(((o=t.team_member)==null?void 0:o.name)||"Unknown"),1),d(" on "+n(new Date(t.submitted_at).toLocaleDateString()),1)])]),e("div",I,[e("button",{onClick:c=>m(t),class:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors shadow-md text-sm font-semibold"}," Review Now ",8,T)])])}),128))]))]))}},F=x(V,[["__scopeId","data-v-6ba0820e"]]);export{F as default};
