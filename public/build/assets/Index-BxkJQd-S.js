import{r,e as f,f as h,g as b,o as s,w as k,b as e,a as o,v as w,x as T,t as i,F as y,l as g,i as N,J as B}from"./app-DhS7b-58.js";import{_ as C}from"./AuthenticatedLayout-DJWr8w3m.js";import"./PrimaryButton-BYcqXGYm.js";import"./Modal-BxXgkWXq.js";import"./InputLabel-DUZhrcWT.js";import"./InputError-Dx3yOgQ_.js";import"./SecondaryButton-6uVAggoj.js";import"./index--qcujXsV.js";import"./BaseFormModal-euIA0cb9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-DDr4kSks.js";import"./SelectDropdown-Bip96DmK.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./ApplicationLogo-BsZmseuE.js";import"./createLucideIcon-BSgNtZxr.js";import"./plus-DXElmJw_.js";import"./DangerButton-BB3jPzW5.js";import"./moment-BLMuvzoS.js";import"./NoticeboardModal-CQ4402Ks.js";const F={class:"max-w-7xl mx-auto p-6"},L={class:"flex items-center justify-between mb-6"},M={class:"flex items-center space-x-2"},R={key:0,class:"text-gray-500"},V={key:1,class:"text-red-600"},$={key:2},j={key:0,class:"text-gray-500"},D={key:1,class:"overflow-x-auto rounded border"},E={class:"min-w-full divide-y divide-gray-200"},P={class:"bg-white divide-y divide-gray-200"},S={class:"px-6 py-4"},U={class:"px-6 py-4"},q={class:"px-6 py-4 text-indigo-600"},I=["href"],J={class:"px-6 py-4"},z={class:"flex flex-wrap gap-1"},A={key:0,class:"text-gray-400 text-sm"},G={class:"flex items-center justify-between mt-4"},H={class:"text-sm text-gray-600"},K={class:"space-x-2"},O=["disabled"],Q=["disabled"],ye={__name:"Index",setup(W){const c=r([]),p=r(!1),d=r(null),u=r(""),l=r(1),x=r(10),m=r(0);async function _(){p.value=!0,d.value=null;try{const{data:n}=await window.axios.get("/api/shareable-resources",{params:{visible_to_team:!0,q:u.value||void 0,per_page:x.value,page:l.value}});c.value=n.data||[],m.value=n.total||0}catch(n){console.error("Failed to load team resources",n),d.value="Failed to load team resources",B(d.value)}finally{p.value=!1}}return f([u,l,x],_),h(_),(n,a)=>(s(),b(C,null,{default:k(()=>[e("div",F,[e("div",L,[a[3]||(a[3]=e("h1",{class:"text-2xl font-bold"},"Team Resources",-1)),e("div",M,[w(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),placeholder:"Search resources...",class:"border rounded-md p-2"},null,512),[[T,u.value]])])]),p.value?(s(),o("div",R,"Loading...")):d.value?(s(),o("div",V,i(d.value),1)):(s(),o("div",$,[c.value.length?(s(),o("div",D,[e("table",E,[a[4]||(a[4]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"URL"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tags")])],-1)),e("tbody",P,[(s(!0),o(y,null,g(c.value,t=>(s(),o("tr",{key:t.id},[e("td",S,i(t.title),1),e("td",U,i(t.type),1),e("td",q,[e("a",{href:t.url,target:"_blank",rel:"noopener"},i(t.url),9,I)]),e("td",J,[e("div",z,[(s(!0),o(y,null,g(t.tags||[],v=>(s(),o("span",{key:v.id,class:"px-2 py-0.5 text-xs rounded-full bg-indigo-100 text-indigo-800"},i(v.name),1))),128)),!t.tags||!t.tags.length?(s(),o("span",A,"No tags")):N("",!0)])])]))),128))])])])):(s(),o("div",j,"No resources found.")),e("div",G,[e("div",H,"Total: "+i(m.value),1),e("div",K,[e("button",{class:"px-3 py-1 border rounded",disabled:l.value<=1,onClick:a[1]||(a[1]=t=>l.value=Math.max(1,l.value-1))},"Prev",8,O),e("button",{class:"px-3 py-1 border rounded",disabled:c.value.length<x.value,onClick:a[2]||(a[2]=t=>l.value=l.value+1)},"Next",8,Q)])])]))])]),_:1}))}};export{ye as default};
