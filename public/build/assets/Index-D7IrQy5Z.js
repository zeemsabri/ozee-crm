import{_ as C}from"./AuthenticatedLayout-BbKvd0_u.js";import{r as b,c as D,o,a as r,b as e,e as n,i,h as x,n as f,m as d,F as g,j as _,t as l,g as N,q as P}from"./app-Cd5Qoxxp.js";import{_ as B}from"./Modal-fbNhFPvo.js";import{_ as j}from"./SecondaryButton-CnzC7B_7.js";import{D as V}from"./DangerButton-DAjPn4fB.js";import"./PrimaryButton-DrKVBq5f.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputLabel-qTMswgyh.js";import"./InputError-C0P6kqZk.js";import"./TextInput-DBQnPoYE.js";import"./SelectDropdown-DvvCJ78t.js";import"./Checkbox-DAmwCrLv.js";import"./ApplicationLogo-DisZ7CC9.js";const $={class:"py-12"},O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 bg-white border-b border-gray-200"},A={class:"flex justify-between items-center mb-6"},E={class:"flex space-x-2"},F={key:0,class:"text-center py-4"},M={key:1},q={class:"text-lg font-medium text-gray-700 mb-4"},I={class:"overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},R={class:"bg-white divide-y divide-gray-200"},z={class:"px-6 py-4 whitespace-nowrap"},G={class:"text-sm font-medium text-gray-900"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-gray-500"},K={class:"px-6 py-4"},Q={class:"text-sm text-gray-500"},U={class:"px-6 py-4"},W={class:"text-sm text-gray-500"},X={key:0},Y={key:1,class:"flex flex-wrap gap-1"},Z={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},ee={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},te={class:"flex space-x-2"},se=["onClick"],oe={class:"p-6"},ie={class:"mt-6 flex justify-end"},ye={__name:"Index",props:{permissions:Object},setup(y){const m=b(!1),c=b(null),v=a=>{c.value=a,m.value=!0},u=()=>{m.value=!1,setTimeout(()=>{c.value=null},300)},w=()=>{c.value&&P.delete(route("admin.permissions.destroy",c.value.id),{onSuccess:()=>{u()}})};return(a,t)=>(o(),D(C,null,{header:r(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Permissions Management ",-1)])),default:r(()=>[e("div",$,[e("div",O,[e("div",S,[e("div",T,[e("div",A,[t[3]||(t[3]=e("h3",{class:"text-lg font-medium text-gray-900"},"Permissions",-1)),e("div",E,[n(x(f),{href:a.route("admin.permissions.create"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},{default:r(()=>t[1]||(t[1]=[d(" Create New Permission ",-1)])),_:1,__:[1]},8,["href"]),n(x(f),{href:a.route("admin.permissions.bulk-create"),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:border-indigo-900 focus:ring focus:ring-indigo-300 disabled:opacity-25 transition"},{default:r(()=>t[2]||(t[2]=[d(" Bulk Create Permissions ",-1)])),_:1,__:[2]},8,["href"])])]),Object.keys(y.permissions).length===0?(o(),i("div",F,t[4]||(t[4]=[e("p",null,"No permissions found. Create your first permission to get started.",-1)]))):(o(),i("div",M,[(o(!0),i(g,null,_(y.permissions,(k,h)=>(o(),i("div",{key:h,class:"mb-8"},[e("h4",q,l(h),1),e("div",I,[e("table",L,[t[6]||(t[6]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Slug "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Roles "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",R,[(o(!0),i(g,null,_(k,s=>(o(),i("tr",{key:s.id},[e("td",z,[e("div",G,l(s.name),1)]),e("td",H,[e("div",J,l(s.slug),1)]),e("td",K,[e("div",Q,l(s.description||"No description"),1)]),e("td",U,[e("div",W,[!s.roles||s.roles.length===0?(o(),i("span",X,"No roles")):(o(),i("div",Y,[(o(!0),i(g,null,_(s.roles.slice(0,3),p=>(o(),i("span",{key:p.id,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},l(p.name),1))),128)),s.roles&&s.roles.length>3?(o(),i("span",Z," +"+l(s.roles.length-3)+" more ",1)):N("",!0)]))])]),e("td",ee,[e("div",te,[n(x(f),{href:a.route("admin.permissions.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:r(()=>t[5]||(t[5]=[d("Edit",-1)])),_:2,__:[5]},1032,["href"]),e("button",{onClick:p=>v(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,se)])])]))),128))])])])]))),128))]))])])])]),n(B,{show:m.value,onClose:u},{default:r(()=>[e("div",oe,[t[9]||(t[9]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this permission? ",-1)),t[10]||(t[10]=e("p",{class:"mt-1 text-sm text-gray-600"}," Once this permission is deleted, it will be removed from all roles that have it assigned. ",-1)),e("div",ie,[n(j,{onClick:u},{default:r(()=>t[7]||(t[7]=[d(" Cancel ",-1)])),_:1,__:[7]}),n(V,{class:"ml-3",onClick:w},{default:r(()=>t[8]||(t[8]=[d(" Delete Permission ",-1)])),_:1,__:[8]})])])]),_:1},8,["show"])]),_:1}))}};export{ye as default};
