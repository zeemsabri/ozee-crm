import{a as o,o as a,b as t,r as x,c as K,f as G,v as W,e as q,x as h,d as y,i as g,t as c,F as $,l as L,m as _,y as E,u as f,j as V,z as J,A as D,k as Q,g as Z,n as X,B as Y,h as ee,w as O,C as P,D as z,p as R}from"./app-DGbbOQNk.js";import{_ as te}from"./AuthenticatedLayout-BSBkF9MN.js";import{P as le}from"./PrimaryButton-B46FS7cR.js";import{_ as se}from"./SecondaryButton-CTpC0xqt.js";import{r as ae}from"./ChevronDownIcon-bMVtgq1i.js";import{r as oe,a as ie}from"./PlusCircleIcon-DvNdfunV.js";import{r as re}from"./UsersIcon-PXRXuvVy.js";import"./Modal-D1dUEvNi.js";import"./InputLabel-BXBA29W0.js";import"./InputError-WIWKbS4Y.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-CsLjLubu.js";import"./SelectDropdown-CktvzQgL.js";import"./Checkbox-CPXZQYbh.js";import"./ApplicationLogo-0hVJQbAY.js";import"./DangerButton-DfoWDIai.js";import"./moment-BLMuvzoS.js";function ne(d,m){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}function de(d,m){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}function ue(d,m){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}const ce=["disabled"],ve={key:0,class:"flex flex-wrap gap-1 items-center"},me={key:0,class:"text-gray-500"},pe={class:"absolute z-50 mt-1 w-full rounded-xl shadow-lg bg-white ring-1 ring-black ring-opacity-5"},ge={class:"p-2 border-b border-gray-200"},xe=["onClick"],fe={key:0,class:"block px-4 py-2 text-sm text-gray-500"},ye={__name:"MultiSelectDropdown",props:{modelValue:{type:[String,Number,Object,Array,null],default:null},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select an option"},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},isMulti:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"250px"},width:{type:String,default:"full"},labelClass:{type:String,default:"text-xs"}},emits:["update:modelValue","change"],setup(d,{emit:m}){const s=d,b=m,p=x(!1),r=x(""),w=x(null),C=x(null),j=K(()=>{if(!r.value)return s.options;const i=r.value.toLowerCase();return s.options.filter(n=>n[s.labelKey].toLowerCase().includes(i))}),k=i=>!s.isMulti||!s.modelValue?!1:Array.isArray(s.modelValue)&&s.modelValue.includes(i[s.valueKey]),A=i=>{if(s.isMulti){let n=s.modelValue?[...s.modelValue]:[];const v=i[s.valueKey],B=n.indexOf(v);B>-1?n.splice(B,1):n.push(v),b("update:modelValue",n),b("change",n)}else b("update:modelValue",i[s.valueKey]),b("change",i[s.valueKey]),p.value=!1,r.value=""},N=i=>{if(!s.isMulti||!s.modelValue)return;const n=s.modelValue.filter(v=>v!==i);b("update:modelValue",n),b("change",n)},S=K(()=>s.isMulti?s.options.filter(n=>Array.isArray(s.modelValue)&&s.modelValue.includes(n[s.valueKey])).map(n=>n[s.labelKey]):s.placeholder),T=i=>{w.value&&!w.value.contains(i.target)&&(p.value=!1,r.value="")},H=i=>{i.key==="Escape"&&p.value&&(p.value=!1,r.value="")};G(()=>{document.addEventListener("click",T),document.addEventListener("keydown",H)}),W(()=>{document.removeEventListener("click",T),document.removeEventListener("keydown",H)});const F=()=>{s.disabled||(p.value=!p.value,p.value&&X(()=>{C.value&&C.value.focus()}))};return q(()=>s.modelValue,i=>{(i==null||s.isMulti&&Array.isArray(i)&&i.length===0)&&(r.value="")},{deep:!0}),(i,n)=>(a(),o("div",{ref_key:"dropdownRef",ref:w,class:V(["relative",{"w-full":d.width==="full"}])},[t("button",{type:"button",onClick:F,disabled:d.disabled,class:V(["border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-xl shadow-sm mt-1 block w-full text-left px-3 py-2 text-gray-700 bg-white relative flex items-center justify-between",{"opacity-50 cursor-not-allowed":d.disabled}])},[d.isMulti?(a(),o("div",ve,[S.value.length===0?(a(),o("span",me,c(d.placeholder),1)):g("",!0),(a(!0),o($,null,L(S.value,v=>(a(),o("span",{key:v,class:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1"},[_(c(v)+" ",1),y(f(de),{class:"w-3 h-3 cursor-pointer hover:text-indigo-600",onClick:E(B=>N(d.options.find(u=>u[d.labelKey]===v)[d.valueKey]),["stop"])},null,8,["onClick"])]))),128))])):(a(),o("span",{key:1,class:V({"text-gray-500":!d.modelValue})},c(S.value),3)),y(f(ae),{class:"h-5 w-5 text-gray-500"})],10,ce),h(t("div",pe,[t("div",ge,[h(t("input",{ref_key:"searchInputRef",ref:C,type:"text","onUpdate:modelValue":n[0]||(n[0]=v=>r.value=v),onInput:n[1]||(n[1]=v=>p.value=!0),class:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Search...",onClick:n[2]||(n[2]=E(()=>{},["stop"]))},null,544),[[D,r.value]])]),t("div",{class:"py-1 overflow-y-auto",style:Q({maxHeight:d.maxHeight})},[(a(!0),o($,null,L(j.value,v=>(a(),o("div",{key:v[d.valueKey],onClick:B=>A(v),class:V(["block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer flex items-center justify-between",{"bg-gray-100":k(v)}])},[_(c(v[d.labelKey])+" ",1),k(v)?(a(),Z(f(ne),{key:0,class:"w-4 h-4 text-indigo-600"})):g("",!0)],10,xe))),128)),j.value.length===0?(a(),o("div",fe," No options available ")):g("",!0)],4)],512),[[J,p.value]])],2))}};function he(d,m){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M15.75 2.25H21a.75.75 0 0 1 .75.75v5.25a.75.75 0 0 1-1.5 0V4.81L8.03 17.03a.75.75 0 0 1-1.06-1.06L19.19 3.75h-3.44a.75.75 0 0 1 0-1.5Zm-10.5 4.5a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V10.5a.75.75 0 0 1 1.5 0v8.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h8.25a.75.75 0 0 1 0 1.5H5.25Z","clip-rule":"evenodd"})])}function we(d,m){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M5.85 3.5a.75.75 0 0 0-1.117-1 9.719 9.719 0 0 0-2.348 4.876.75.75 0 0 0 1.479.248A8.219 8.219 0 0 1 5.85 3.5ZM19.267 2.5a.75.75 0 1 0-1.118 1 8.22 8.22 0 0 1 1.987 4.124.75.75 0 0 0 1.48-.248A9.72 9.72 0 0 0 19.266 2.5Z"}),t("path",{"fill-rule":"evenodd",d:"M12 2.25A6.75 6.75 0 0 0 5.25 9v.75a8.217 8.217 0 0 1-2.119 5.52.75.75 0 0 0 .298 1.206c1.544.57 3.16.99 4.831 1.243a3.75 3.75 0 1 0 7.48 0 24.583 24.583 0 0 0 4.83-1.244.75.75 0 0 0 .298-1.205 8.217 8.217 0 0 1-2.118-5.52V9A6.75 6.75 0 0 0 12 2.25ZM9.75 18c0-.034 0-.067.002-.1a25.05 25.05 0 0 0 4.496 0l.002.1a2.25 2.25 0 1 1-4.5 0Z","clip-rule":"evenodd"})])}function be(d,m){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function I(d,m){return a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M16.881 4.345A23.112 23.112 0 0 1 8.25 6H7.5a5.25 5.25 0 0 0-.88 10.427 21.593 21.593 0 0 0 1.378 3.94c.464 1.004 1.674 1.32 2.582.796l.657-.379c.88-.508 1.165-1.593.772-2.468a17.116 17.116 0 0 1-.628-1.607c1.918.258 3.76.75 5.5 1.446A21.727 21.727 0 0 0 18 11.25c0-2.414-.393-4.735-1.119-6.905ZM18.26 3.74a23.22 23.22 0 0 1 1.24 7.51 23.22 23.22 0 0 1-1.41 7.992.75.75 0 1 0 1.409.516 24.555 24.555 0 0 0 1.415-6.43 2.992 2.992 0 0 0 .836-2.078c0-.807-.319-1.54-.836-2.078a24.65 24.65 0 0 0-1.415-6.43.75.75 0 1 0-1.409.516c.059.16.116.321.17.483Z"})])}const ke={class:"py-12"},_e={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ve={class:"bg-white shadow-xl sm:rounded-2xl p-6"},Ce={class:"flex items-center justify-between border-b pb-4 mb-8"},Ae={class:"flex space-x-2"},Me={key:1,class:"space-y-6"},$e={key:0,class:"text-red-600 text-sm mt-1"},je={key:0,class:"text-red-600 text-sm mt-1"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Be=["value"],Le={key:0,class:"text-red-600 text-sm mt-1"},Ne={key:0,class:"text-red-600 text-sm mt-1"},Ue={class:"flex items-center"},Ze={class:"flex flex-wrap gap-4"},Ke={class:"inline-flex items-center gap-2 cursor-pointer transition-transform duration-100 hover:scale-105"},Te={class:"inline-flex items-center gap-2 cursor-pointer transition-transform duration-100 hover:scale-105"},He={key:0,class:"text-red-600 text-sm mt-1"},Re={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},De={key:0,class:"text-red-600 text-sm"},Fe=["value"],Oe={key:0,class:"text-red-600 text-sm"},Pe={class:"mt-6"},ze={key:0,class:"flex items-center"},Ee={key:1},Ie={key:2},Ge={class:"flex items-center justify-between gap-2 mb-4"},We={class:"flex items-center space-x-2"},qe=["value"],Je={key:0,class:"text-center p-8"},Qe={key:1,class:"space-y-4"},Xe={class:"flex items-start justify-between"},Ye={class:"flex-1 min-w-0"},et={class:"flex items-center gap-2 mb-1"},tt={class:"text-lg font-bold text-gray-900 truncate"},lt={class:"text-xs text-gray-500 mb-2"},st={class:"mr-2"},at={class:"text-sm text-gray-700 mt-2 whitespace-pre-line leading-relaxed"},ot={key:0,class:"mt-4 flex items-center gap-2"},it={class:"text-xs font-medium text-gray-500"},rt={key:0,class:"flex-shrink-0 ml-4 text-right"},nt=["href"],dt={key:0,class:"text-center text-gray-500 p-8"},Mt={__name:"Index",setup(d){const m=x("create"),s=x({title:"",description:"",url:"",type:"General",visible_to_client:!1,channels:["push"],user_ids:[],project_id:null}),b=["General","Warning","Updates","Final Notice"],p=x(!1),r=x({}),w=x(""),C=x([]),j=x([]),k=x(""),A=x([]),N=x(!1),S=K(()=>Y().props.auth.user),T=async()=>{var u;try{const[e,l]=await Promise.all([R.get("/api/users",{params:{per_page:200}}),R.get("/api/projects-simplified")]),M=((u=e.data)==null?void 0:u.data)??e.data;C.value=Array.isArray(M)?M:[],j.value=Array.isArray(l.data)?l.data:[]}catch(e){console.error("Failed to load users or projects",e),C.value=[],j.value=[]}},H=async()=>{var u;r.value={},w.value="";try{p.value=!0;const e={...s.value};e.project_id||delete e.project_id,(!e.user_ids||e.user_ids.length===0)&&delete e.user_ids,await R.post("/api/notices",e),w.value="Notice created and notifications sent.",s.value={title:"",description:"",url:"",type:"General",visible_to_client:!1,channels:["push","email"],user_ids:[],project_id:null},m.value==="list"&&await i()}catch(e){((u=e.response)==null?void 0:u.status)===422?r.value=e.response.data.errors||{}:w.value="Failed to create notice."}finally{p.value=!1}},F=K(()=>["All",...b]),i=async()=>{var u;N.value=!0;try{const e={};k.value&&k.value!=="All"&&(e.type=k.value);const l=await R.get("/api/notices",{params:e}),M=((u=l.data)==null?void 0:u.data)??l.data;A.value=Array.isArray(M)?M:Array.isArray(l.data)?l.data:[]}catch(e){console.error("Failed to load notices",e),A.value=[]}finally{N.value=!1}},n=u=>{switch(u){case"Warning":return"bg-red-100 text-red-800";case"Updates":return"bg-blue-100 text-blue-800";case"Final Notice":return"bg-yellow-100 text-yellow-800";case"General":default:return"bg-indigo-100 text-indigo-800"}},v=u=>{if(!u.users_with_interactions||!S.value)return{isRead:!1,readers:[]};const e=u.users_with_interactions.find(U=>U.user.id===S.value.id),l=!!e&&e.interactions.some(U=>U.type==="read"),M=u.users_with_interactions.map(U=>U.user.name);return{isRead:l,readers:M}},B=K(()=>C.value.map(u=>({value:u.id,label:`${u.name} (${u.email})`})));return G(async()=>{await T(),m.value==="list"&&await i()}),(u,e)=>(a(),o($,null,[y(f(ee),{title:"Notice Board"}),y(te,null,{default:O(()=>[t("div",ke,[t("div",_e,[t("div",Ve,[t("div",Ce,[e[14]||(e[14]=t("h2",{class:"text-3xl font-extrabold text-gray-900"},"Notice Board",-1)),t("div",Ae,[t("button",{class:V(["flex items-center px-4 py-2 rounded-xl transition-colors duration-200",m.value==="create"?"bg-indigo-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"]),onClick:e[0]||(e[0]=l=>m.value="create")},[y(f(oe),{class:"h-5 w-5 mr-2"}),e[12]||(e[12]=_(" Create Notice ",-1))],2),t("button",{class:V(["flex items-center px-4 py-2 rounded-xl transition-colors duration-200",m.value==="list"?"bg-indigo-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"]),onClick:e[1]||(e[1]=l=>(m.value="list",i()))},[y(f(ue),{class:"h-5 w-5 mr-2"}),e[13]||(e[13]=_(" Existing Notices ",-1))],2)])]),w.value?(a(),o("div",{key:0,class:V(["mb-6 px-4 py-3 rounded-xl",w.value.includes("Failed")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"])},c(w.value),3)):g("",!0),m.value==="create"?(a(),o("div",Me,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700"},"Title",-1)),h(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.title=l),type:"text",class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[D,s.value.title]]),r.value.title?(a(),o("div",$e,c(r.value.title[0]),1)):g("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),h(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.description=l),rows:"4",class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[D,s.value.description]]),r.value.description?(a(),o("div",je,c(r.value.description[0]),1)):g("",!0)]),t("div",Se,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700"},"Type",-1)),h(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.type=l),class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},[(a(),o($,null,L(b,l=>t("option",{key:l,value:l},c(l),9,Be)),64))],512),[[P,s.value.type]]),r.value.type?(a(),o("div",Le,c(r.value.type[0]),1)):g("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},"URL (optional)",-1)),h(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.url=l),type:"url",class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[D,s.value.url]]),r.value.url?(a(),o("div",Ne,c(r.value.url[0]),1)):g("",!0)])]),t("div",Ue,[h(t("input",{id:"visible_to_client",type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=l=>s.value.visible_to_client=l),class:"h-5 w-5 text-indigo-600 rounded-lg border-gray-300 focus:ring-indigo-500"},null,512),[[z,s.value.visible_to_client]]),e[19]||(e[19]=t("label",{for:"visible_to_client",class:"ml-2 block text-sm text-gray-700"},"Visible to Client",-1))]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notification Channels",-1)),t("div",Ze,[t("label",Ke,[h(t("input",{type:"checkbox",value:"push","onUpdate:modelValue":e[7]||(e[7]=l=>s.value.channels=l),class:"h-5 w-5 rounded-lg border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[z,s.value.channels]]),e[20]||(e[20]=t("span",{class:"text-gray-700"},"Push",-1))]),t("label",Te,[h(t("input",{type:"checkbox",value:"email","onUpdate:modelValue":e[8]||(e[8]=l=>s.value.channels=l),class:"h-5 w-5 rounded-lg border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[z,s.value.channels]]),e[21]||(e[21]=t("span",{class:"text-gray-700"},"Email",-1))])]),r.value.channels?(a(),o("div",He,c(r.value.channels[0]),1)):g("",!0)]),t("div",Re,[t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700"},"Select Users (optional)",-1)),y(ye,{options:B.value,"is-multi":!0,modelValue:s.value.user_ids,"onUpdate:modelValue":e[9]||(e[9]=l=>s.value.user_ids=l),placeholder:"Select users to notify..."},null,8,["options","modelValue"]),e[24]||(e[24]=t("p",{class:"text-xs text-gray-500 mt-1"},"If users are selected, notification will be sent only to them.",-1)),r.value["user_ids.*"]?(a(),o("div",De,c(r.value["user_ids.*"][0]),1)):g("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700"},"Select Project (optional)",-1)),h(t("select",{"onUpdate:modelValue":e[10]||(e[10]=l=>s.value.project_id=l),class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},[e[25]||(e[25]=t("option",{value:null},"-- None --",-1)),(a(!0),o($,null,L(j.value,l=>(a(),o("option",{key:l.id,value:l.id},c(l.name),9,Fe))),128))],512),[[P,s.value.project_id]]),e[27]||(e[27]=t("p",{class:"text-xs text-gray-500 mt-1"},"If no users are selected and a project is selected, all users on that project will be notified.",-1)),r.value.project_id?(a(),o("div",Oe,c(r.value.project_id[0]),1)):g("",!0)])]),t("div",Pe,[y(le,{onClick:H,disabled:p.value},{default:O(()=>[p.value?(a(),o("span",ze,e[28]||(e[28]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),_(" Saving... ",-1)]))):(a(),o("span",Ee,"Create Notice"))]),_:1},8,["disabled"])])])):(a(),o("div",Ie,[t("div",Ge,[t("div",We,[e[29]||(e[29]=t("label",{class:"text-sm font-medium text-gray-700"},"Filter by Type:",-1)),h(t("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>k.value=l),onChange:i,class:"border-gray-300 rounded-xl shadow-sm"},[(a(!0),o($,null,L(F.value,l=>(a(),o("option",{key:l,value:l},c(l),9,qe))),128))],544),[[P,k.value]])]),y(se,{onClick:i,class:"flex items-center gap-1"},{default:O(()=>[y(f(ie),{class:"w-4 h-4"}),e[30]||(e[30]=_(" Refresh ",-1))]),_:1,__:[30]})]),N.value?(a(),o("div",Je,e[31]||(e[31]=[t("svg",{class:"animate-spin h-8 w-8 text-indigo-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),t("p",{class:"text-gray-500 text-sm mt-2"},"Loading notices...",-1)]))):(a(),o("div",Qe,[(a(!0),o($,null,L(A.value,l=>(a(),o("div",{key:l.id,class:"bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow"},[t("div",Xe,[t("div",Ye,[t("div",et,[t("span",{class:V(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium",n(l.type)])},[l.type==="Warning"?(a(),Z(f(we),{key:0,class:"w-3 h-3 mr-1"})):l.type==="Updates"?(a(),Z(f(I),{key:1,class:"w-3 h-3 mr-1"})):l.type==="Final Notice"?(a(),Z(f(be),{key:2,class:"w-3 h-3 mr-1"})):(a(),Z(f(I),{key:3,class:"w-3 h-3 mr-1"})),_(" "+c(l.type),1)],2),t("h4",tt,c(l.title),1)]),t("div",lt,[t("span",st,"Posted on: "+c(new Date(l.created_at).toLocaleDateString())+" at "+c(new Date(l.created_at).toLocaleTimeString()),1)]),t("div",at,c(l.description||"No description provided."),1),v(l).readers.length>0?(a(),o("div",ot,[y(f(re),{class:"w-5 h-5 text-gray-500"}),t("span",it," Read by: "+c(v(l).readers.join(", ")),1)])):g("",!0)]),l.url?(a(),o("div",rt,[t("a",{href:`/notices/${l.id}/redirect`,target:"_blank",class:"flex items-center text-indigo-600 hover:text-indigo-800 text-sm font-medium"},[e[32]||(e[32]=_(" Open Link ",-1)),y(f(he),{class:"h-4 w-4 ml-1"})],8,nt)])):g("",!0)])]))),128)),!A.value||A.value.length===0?(a(),o("div",dt,"No notices found.")):g("",!0)]))]))])])])]),_:1})],64))}};export{Mt as default};
