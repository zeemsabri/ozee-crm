import{x as w,q as N,o as l,g as m,a as e,y as V,f as o,u as i,i as u,v as C,H as S,c as d,F as _,k as b,t as f,A as P,m as $,B as j,j as v,n as D}from"./app-D7QPKPE4.js";import{_ as T}from"./AuthenticatedLayout-DLOIOO-1.js";import{_ as p}from"./InputError-DbYTA_wQ.js";import{_ as g}from"./InputLabel-CWCGwrcM.js";import{_ as B}from"./PrimaryButton-Df8eYq8U.js";import{_ as M}from"./TextInput-DyWNBG4w.js";import"./Modal-HDlQE6cu.js";import"./SecondaryButton--nZ9ZcNb.js";import"./index-Cwl7QULI.js";import"./BaseFormModal-BHwhVhPM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./SelectDropdown-Tj0LL-lv.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./RightSidebar-CDH0lA8j.js";import"./ApplicationLogo-WMpBwhKM.js";import"./MultiSelectDropdown-CyRBOWTE.js";import"./createLucideIcon-Bev7MvDm.js";import"./plus-DU_dcSEX.js";import"./DangerButton-DfR7ENZL.js";import"./moment-BLMuvzoS.js";import"./taskState-KUgl5y92.js";import"./NoticeboardModal-B2iDMcWY.js";import"./check-DtaHoLJM.js";import"./x-2hL9HgOV.js";const U={class:"py-12"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},F={class:"p-6 bg-white border-b border-gray-200"},R={class:"mb-6"},O={class:"mb-6"},z={class:"mb-6"},E={class:"mb-6"},H={key:0,class:"text-sm text-gray-500"},L={key:1},G={class:"font-medium text-gray-700 mb-2"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2"},J={class:"flex items-center h-5"},K=["id","value"],Q={class:"ml-3 text-sm"},W=["for"],X={key:0,class:"text-gray-500"},Y={class:"flex items-center justify-end mt-4"},Ne={__name:"Create",props:{permissions:Object,prefillName:{type:String,default:""},prefillDescription:{type:String,default:""},prefillType:{type:String,default:""},preselectedPermissions:{type:Array,default:()=>[]}},setup(c){const r=c,s=w({name:"",description:"",type:"",permissions:[]});r.prefillName&&(s.name=r.prefillName),r.prefillDescription&&(s.description=r.prefillDescription),r.prefillType&&(s.type=r.prefillType),r.preselectedPermissions&&r.preselectedPermissions.length&&(s.permissions=[...r.preselectedPermissions]);const x=()=>{s.post(route("admin.roles.store"),{onSuccess:()=>{s.reset()}})};return(h,t)=>(l(),N(T,null,{header:m(()=>t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create New Role ",-1)])),default:m(()=>[e("div",U,[e("div",q,[e("div",A,[e("div",F,[e("form",{onSubmit:V(x,["prevent"])},[e("div",R,[o(g,{for:"name",value:"Name"}),o(M,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:i(s).name,"onUpdate:modelValue":t[0]||(t[0]=a=>i(s).name=a),required:"",autofocus:""},null,8,["modelValue"]),o(p,{class:"mt-2",message:i(s).errors.name},null,8,["message"])]),e("div",O,[o(g,{for:"description",value:"Description"}),u(e("textarea",{id:"description",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":t[1]||(t[1]=a=>i(s).description=a),rows:"3"},null,512),[[C,i(s).description]]),o(p,{class:"mt-2",message:i(s).errors.description},null,8,["message"])]),e("div",z,[o(g,{for:"type",value:"Role Type"}),u(e("select",{id:"type",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":t[2]||(t[2]=a=>i(s).type=a),required:""},t[5]||(t[5]=[e("option",{value:""},"Select a type",-1),e("option",{value:"application"},"Application",-1),e("option",{value:"client"},"Client",-1),e("option",{value:"project"},"Project",-1)]),512),[[S,i(s).type]]),o(p,{class:"mt-2",message:i(s).errors.type},null,8,["message"])]),e("div",E,[t[6]||(t[6]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Permissions",-1)),Object.keys(c.permissions).length===0?(l(),d("div",H," No permissions available. Please create some permissions first. ")):(l(),d("div",L,[(l(!0),d(_,null,b(c.permissions,(a,y)=>(l(),d("div",{key:y,class:"mb-4"},[e("h4",G,f(y),1),e("div",I,[(l(!0),d(_,null,b(a,n=>(l(),d("div",{key:n.id,class:"flex items-start"},[e("div",J,[u(e("input",{id:`permission-${n.id}`,type:"checkbox",value:n.id,"onUpdate:modelValue":t[3]||(t[3]=k=>i(s).permissions=k),class:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"},null,8,K),[[P,i(s).permissions]])]),e("div",Q,[e("label",{for:`permission-${n.id}`,class:"font-medium text-gray-700"},f(n.name),9,W),n.description?(l(),d("p",X,f(n.description),1)):$("",!0)])]))),128))])]))),128))])),o(p,{class:"mt-2",message:i(s).errors.permissions},null,8,["message"])]),e("div",Y,[o(i(j),{href:h.route("admin.roles.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-300 disabled:opacity-25 transition mr-2"},{default:m(()=>t[7]||(t[7]=[v(" Cancel ",-1)])),_:1,__:[7]},8,["href"]),o(B,{class:D(["ml-4",{"opacity-25":i(s).processing}]),disabled:i(s).processing},{default:m(()=>t[8]||(t[8]=[v(" Create Role ",-1)])),_:1,__:[8]},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{Ne as default};
