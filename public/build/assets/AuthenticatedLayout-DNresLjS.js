import{r as O,c as K,T as Vt,f as Ke,v as _s,a as h,i as S,o as c,F as ae,l as re,b as r,t as V,u as j,U as co,V as Xa,W as fo,X as po,j as z,Y as Lt,Z as ze,_ as he,$ as Zt,a0 as Zs,a1 as Ha,a2 as mo,a3 as tt,a4 as qa,a5 as ho,a6 as za,a7 as He,a8 as vo,a9 as Dn,aa as Wa,ab as Ga,ac as Ka,ad as Ja,ae as Ya,af as bs,ag as Qa,ah as en,ai as Za,aj as ei,p as oe,e as me,g as X,w as N,m as $,d as _,x as ce,A as Ve,B as zt,R as ti,n as ut,y as tn,O as Be,N as Se,I as fe,J as ns,K as _t,k as si,ak as go,al as ni,am as Rn,z as Qe,G as je,an as yo,ao as zs,q as sn,H as _o,ap as ot,aq as Ae,M as oi,ar as Je,as as Fs,S as ai,D as ii,E as bo,at as ri,au as li,av as Ln,aw as Vn}from"./app-BiOytpE3.js";import{P as ke}from"./PrimaryButton-dYCZ56-l.js";import{_ as cs}from"./Modal-D1Igk1ma.js";import{_ as Q}from"./InputLabel-qmyj_yOj.js";import{_ as ee}from"./InputError-BmEkisOc.js";import{_ as jt}from"./SecondaryButton-D5M_Erpa.js";import{_ as Tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Fe}from"./TextInput-IXbIsRwW.js";import{S as Pe}from"./SelectDropdown-CyyaWJSZ.js";import{_ as ui}from"./Checkbox-DJCaPpRb.js";import{A as di}from"./ApplicationLogo-BAphCQ3T.js";import{D as nn}from"./DangerButton-BCGhqPOm.js";import{h as ci}from"./moment-BLMuvzoS.js";const fi={key:0,class:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2"},pi={key:0,class:"notification-list w-full max-w-xs space-y-2"},mi={class:"flex-1 min-w-0"},hi={class:"flex items-start justify-between gap-2 mb-1"},vi={class:"flex-1 min-w-0"},gi={key:0,class:"text-base font-semibold text-gray-800 truncate"},yi={key:1,class:"text-xs text-gray-500"},_i={key:0,class:"text-xs text-gray-600 mb-2"},bi={class:"flex items-center justify-between mt-2"},ki={key:0,class:"text-xs text-gray-500 font-medium"},wi=["onClick"],xi={key:1,class:"flex justify-end w-full max-w-xs"},Ei={key:0},Si={key:1},it="notification_minimized_state",Ti=3,Ci={__name:"PushNotificationContainer",props:{sidebarIsOpen:{type:Boolean,default:!1}},setup(e){const t=O(!1),s=O(null),o=O(0),n=O(null),i=K(()=>Vt.value.notifications.filter(f=>f.isNewPush).slice(0,Ti)),a=K(()=>{const f=Math.floor(o.value/60),m=o.value%60;return`${String(f).padStart(2,"0")}:${String(m).padStart(2,"0")}`}),d=f=>{if(!f)return null;const m=f.match(/\/task\/(\d+)/);return m?parseInt(m[1]):null},l=f=>{if(!f)return null;const m=f.match(/\/project\/(\d+)\//);return m?parseInt(m[1]):null},u=()=>{if(t.value=!t.value,clearTimeout(s.value),clearInterval(n.value),t.value){const f=Date.now()+3e5;localStorage.setItem(it,JSON.stringify({isMinimized:!0,expiryTime:f})),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(it)},3e5),o.value=300,n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)}else localStorage.removeItem(it)},p=async f=>{Xa(f.id),await fo(f.view_id);const m=f.task_id||d(f.url),v=f.project_id||l(f.url);m&&v?po(m,v):(console.warn("Could not open task sidebar. Falling back to redirecting."),f.url&&(window.location.href=f.url))};return Ke(()=>{const f=localStorage.getItem(it);if(f)try{const{isMinimized:m,expiryTime:v}=JSON.parse(f),k=Date.now(),g=v-k;g>0?(t.value=m,o.value=Math.floor(g/1e3),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(it)},g),n.value=setInterval(()=>{o.value>0?o.value--:clearInterval(n.value)},1e3)):localStorage.removeItem(it)}catch(m){console.error("Error restoring notification minimized state:",m),localStorage.removeItem(it)}}),_s(()=>{clearTimeout(s.value),clearInterval(n.value)}),(f,m)=>e.sidebarIsOpen?S("",!0):(c(),h("div",fi,[!t.value&&i.value.length>0?(c(),h("div",pi,[(c(!0),h(ae,null,re(i.value,v=>(c(),h("div",{key:v.id,class:"bg-white rounded-lg shadow-lg p-3 flex items-start space-x-3 border border-gray-200 transition-opacity duration-300 opacity-60 hover:opacity-100"},[r("div",mi,[r("div",hi,[r("div",vi,[v.title?(c(),h("h3",gi,V(v.title),1)):S("",!0),v.project_name?(c(),h("p",yi,V(v.project_name),1)):S("",!0)])]),v.message?(c(),h("p",_i,V(v.message),1)):S("",!0),r("div",bi,[v.due_date?(c(),h("div",ki," Due: "+V(j(co)(v.due_date)),1)):S("",!0),r("button",{onClick:k=>p(v),class:"px-2.5 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 shadow"},V(v.button_label||"View"),9,wi)])])]))),128))])):S("",!0),i.value.length>0?(c(),h("div",xi,[r("button",{onClick:u,class:"bg-white/80 backdrop-blur-sm text-gray-600 hover:text-gray-900 text-xs font-bold py-1 px-3 rounded-full shadow-md transition-all duration-300"},[t.value?(c(),h("span",Ei,"Show ("+V(a.value)+")",1)):(c(),h("span",Si,"Minimize"))])])):S("",!0)]))}},Ni={class:"fixed top-4 right-4 z-[9999] flex flex-col items-end space-y-3"},Ii={class:"p-4"},Ai={class:"text-sm font-medium text-white"},Oi={key:0,class:"mt-3 flex gap-2"},$i=["onClick"],Mi=["onClick"],Pi={__name:"StandardNotificationContainer",setup(e,{expose:t}){const s=O([]),o=(l,u="info",p=5e3)=>{let f;typeof l=="object"&&l!==null?f={...l}:f={message:l,type:u,duration:p};const m=f.id||crypto.randomUUID(),v={id:m,message:f.message||"",type:f.type||"info",duration:typeof f.duration=="number"?f.duration:5e3,sticky:!!f.sticky,confirm:f.confirm||null};return s.value.unshift(v),!v.sticky&&!v.confirm&&setTimeout(()=>{n(m)},v.duration),m},n=l=>{const u=s.value.findIndex(p=>p.id===l);u>-1&&s.value.splice(u,1)},i=l=>{const u=s.value.find(p=>p.id===l);if(u&&u.confirm&&typeof u.confirm.onConfirm=="function")try{u.confirm.onConfirm()}catch{}n(l)},a=l=>{const u=s.value.find(p=>p.id===l);if(u&&u.confirm&&typeof u.confirm.onCancel=="function")try{u.confirm.onCancel()}catch{}n(l)},d=l=>{switch(l){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":default:return"bg-blue-500"}};return t({addNotification:o}),(l,u)=>(c(),h("div",Ni,[(c(!0),h(ae,null,re(s.value,p=>(c(),h("div",{key:p.id,class:z(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto overflow-hidden",d(p.type)])},[r("div",Ii,[r("p",Ai,V(p.message),1),p.confirm?(c(),h("div",Oi,[r("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-white/90 text-slate-800 hover:bg-white",onClick:f=>i(p.id)},V(p.confirm.confirmText||"Confirm"),9,$i),r("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-transparent border border-white/70 text-white hover:bg-white/10",onClick:f=>a(p.id)},V(p.confirm.cancelText||"Cancel"),9,Mi)])):S("",!0)])],2))),128))]))}};var os={exports:{}},Bs={exports:{}},Us={};/**
* @vue/compiler-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bt=Symbol(""),yt=Symbol(""),ks=Symbol(""),Ft=Symbol(""),on=Symbol(""),nt=Symbol(""),an=Symbol(""),rn=Symbol(""),ws=Symbol(""),xs=Symbol(""),Ct=Symbol(""),Es=Symbol(""),ln=Symbol(""),Ss=Symbol(""),Ts=Symbol(""),Cs=Symbol(""),Ns=Symbol(""),Is=Symbol(""),As=Symbol(""),un=Symbol(""),dn=Symbol(""),Wt=Symbol(""),Bt=Symbol(""),Os=Symbol(""),$s=Symbol(""),kt=Symbol(""),Nt=Symbol(""),Ms=Symbol(""),fs=Symbol(""),ko=Symbol(""),ps=Symbol(""),Ut=Symbol(""),wo=Symbol(""),xo=Symbol(""),Ps=Symbol(""),Eo=Symbol(""),So=Symbol(""),Ds=Symbol(""),cn=Symbol(""),ct={[bt]:"Fragment",[yt]:"Teleport",[ks]:"Suspense",[Ft]:"KeepAlive",[on]:"BaseTransition",[nt]:"openBlock",[an]:"createBlock",[rn]:"createElementBlock",[ws]:"createVNode",[xs]:"createElementVNode",[Ct]:"createCommentVNode",[Es]:"createTextVNode",[ln]:"createStaticVNode",[Ss]:"resolveComponent",[Ts]:"resolveDynamicComponent",[Cs]:"resolveDirective",[Ns]:"resolveFilter",[Is]:"withDirectives",[As]:"renderList",[un]:"renderSlot",[dn]:"createSlots",[Wt]:"toDisplayString",[Bt]:"mergeProps",[Os]:"normalizeClass",[$s]:"normalizeStyle",[kt]:"normalizeProps",[Nt]:"guardReactiveProps",[Ms]:"toHandlers",[fs]:"camelize",[ko]:"capitalize",[ps]:"toHandlerKey",[Ut]:"setBlockTracking",[wo]:"pushScopeId",[xo]:"popScopeId",[Ps]:"withCtx",[Eo]:"unref",[So]:"isRef",[Ds]:"withMemo",[cn]:"isMemoSame"};function To(e){Object.getOwnPropertySymbols(e).forEach(t=>{ct[t]=e[t]})}const Di={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},Ri={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},Li={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},Vi={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},ve={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Co(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:ve}}function wt(e,t,s,o,n,i,a,d=!1,l=!1,u=!1,p=ve){return e&&(d?(e.helper(nt),e.helper(mt(e.inSSR,u))):e.helper(pt(e.inSSR,u)),a&&e.helper(Is)),{type:13,tag:t,props:s,children:o,patchFlag:n,dynamicProps:i,directives:a,isBlock:d,disableTracking:l,isComponent:u,loc:p}}function st(e,t=ve){return{type:17,loc:t,elements:e}}function $e(e,t=ve){return{type:15,loc:t,properties:e}}function ie(e,t){return{type:16,loc:ve,key:he(e)?W(e,!0):e,value:t}}function W(e,t=!1,s=ve,o=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:o}}function ji(e,t){return{type:5,loc:t,content:he(e)?W(e,!1,t):e}}function De(e,t=ve){return{type:8,loc:t,children:e}}function pe(e,t=[],s=ve){return{type:14,loc:s,callee:e,arguments:t}}function ft(e,t=void 0,s=!1,o=!1,n=ve){return{type:18,params:e,returns:t,newline:s,isSlot:o,loc:n}}function ms(e,t,s,o=!0){return{type:19,test:e,consequent:t,alternate:s,newline:o,loc:ve}}function No(e,t,s=!1,o=!1){return{type:20,index:e,value:t,needPauseTracking:s,inVOnce:o,needArraySpread:!1,loc:ve}}function Io(e){return{type:21,body:e,loc:ve}}function Fi(e){return{type:22,elements:e,loc:ve}}function Bi(e,t,s){return{type:23,test:e,consequent:t,alternate:s,loc:ve}}function Ui(e,t){return{type:24,left:e,right:t,loc:ve}}function Xi(e){return{type:25,expressions:e,loc:ve}}function Hi(e){return{type:26,returns:e,loc:ve}}function pt(e,t){return e||t?ws:xs}function mt(e,t){return e||t?an:rn}function Rs(e,{helper:t,removeHelper:s,inSSR:o}){e.isBlock||(e.isBlock=!0,s(pt(o,e.isComponent)),t(nt),t(mt(o,e.isComponent)))}const jn=new Uint8Array([123,123]),Fn=new Uint8Array([125,125]);function Bn(e){return e>=97&&e<=122||e>=65&&e<=90}function Oe(e){return e===32||e===10||e===9||e===12||e===13}function Ye(e){return e===47||e===62||Oe(e)}function hs(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}const _e={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class qi{constructor(t,s){this.stack=t,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=jn,this.delimiterClose=Fn,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=jn,this.delimiterClose=Fn}getPos(t){let s=1,o=t+1;for(let n=this.newlines.length-1;n>=0;n--){const i=this.newlines[n];if(t>i){s=n+2,o=t-i;break}}return{column:o,line:s,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?Ye(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Oe(t)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const o=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=o}this.sectionStart=s+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===_e.TitleEnd||this.currentSequence===_e.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===_e.Cdata[this.sequenceIndex]?++this.sequenceIndex===_e.Cdata.length&&(this.state=28,this.currentSequence=_e.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===_e.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,s){this.enterRCDATA(t,s),this.state=31}enterRCDATA(t,s){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=s}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Bn(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Ye(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Ye(t)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(hs("</"+s),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Oe(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Bn(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Oe(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Oe(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Oe(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Ye(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Ye(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Ye(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Ye(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Ye(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Oe(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Oe(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,s){(t===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Oe(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=_e.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===_e.ScriptEnd[3]?this.startSpecial(_e.ScriptEnd,4):t===_e.StyleEnd[3]?this.startSpecial(_e.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===_e.TitleEnd[3]?this.startSpecial(_e.TitleEnd,4):t===_e.TextareaEnd[3]?this.startSpecial(_e.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===_e.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,s){}}const zi={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},Wi={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Ws(e,{compatConfig:t}){const s=t&&t[e];return e==="MODE"?s||3:s}function dt(e,t){const s=Ws("MODE",t),o=Ws(e,t);return s===3?o===!0:o!==!1}function xt(e,t,s,...o){return dt(e,t)}function Gi(e,t,s,...o){if(Ws(e,t)==="suppress-warning")return;const{message:i,link:a}=Wi[e],d=`(deprecation ${e}) ${typeof i=="function"?i(...o):i}${a?`
  Details: ${a}`:""}`,l=new SyntaxError(d);l.code=e,s&&(l.loc=s),t.onWarn(l)}function fn(e){throw e}function Ao(e){}function te(e,t,s,o){const n=`https://vuejs.org/error-reference/#compiler-${e}`,i=new SyntaxError(String(n));return i.code=e,i.loc=t,i}const Ki={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},Ji={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function Yi(e,t,s=!1,o=[],n=Object.create(null)){}function Qi(e,t,s){return!1}function Zi(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let s=t.length;for(;s--;){const o=t[s];if(o.type==="AssignmentExpression")return!0;if(o.type!=="ObjectProperty"&&!o.type.endsWith("Pattern"))break}}return!1}function er(e){let t=e.length;for(;t--;){const s=e[t];if(s.type==="NewExpression")return!0;if(s.type!=="MemberExpression")break}return!1}function tr(e,t){for(const s of e.params)for(const o of qe(s))t(o)}function sr(e,t){for(const s of e.body)if(s.type==="VariableDeclaration"){if(s.declare)continue;for(const o of s.declarations)for(const n of qe(o.id))t(n)}else if(s.type==="FunctionDeclaration"||s.type==="ClassDeclaration"){if(s.declare||!s.id)continue;t(s.id)}else nr(s)&&or(s,!0,t)}function nr(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function or(e,t,s){const o=e.type==="ForStatement"?e.init:e.left;if(o&&o.type==="VariableDeclaration"&&(o.kind==="var"?t:!t))for(const n of o.declarations)for(const i of qe(n.id))s(i)}function qe(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let s=e;for(;s.type==="MemberExpression";)s=s.object;t.push(s);break;case"ObjectPattern":for(const o of e.properties)o.type==="RestElement"?qe(o.argument,t):qe(o.value,t);break;case"ArrayPattern":e.elements.forEach(o=>{o&&qe(o,t)});break;case"RestElement":qe(e.argument,t);break;case"AssignmentPattern":qe(e.left,t);break}return t}const ar=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),Oo=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,ir=(e,t)=>Oo(t)&&t.key===e,$o=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function Mo(e){return $o.includes(e.type)?Mo(e.expression):e}const Te=e=>e.type===4&&e.isStatic;function pn(e){switch(e){case"Teleport":case"teleport":return yt;case"Suspense":case"suspense":return ks;case"KeepAlive":case"keep-alive":return Ft;case"BaseTransition":case"base-transition":return on}}const rr=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Gt=e=>!rr.test(e),lr=/[A-Za-z_$\xA0-\uFFFF]/,ur=/[\.\?\w$\xA0-\uFFFF]/,dr=/\s+[.[]\s*|\s*[.[]\s+/g,Po=e=>e.type===4?e.content:e.loc.source,Do=e=>{const t=Po(e).trim().replace(dr,d=>d.trim());let s=0,o=[],n=0,i=0,a=null;for(let d=0;d<t.length;d++){const l=t.charAt(d);switch(s){case 0:if(l==="[")o.push(s),s=1,n++;else if(l==="(")o.push(s),s=2,i++;else if(!(d===0?lr:ur).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(o.push(s),s=3,a=l):l==="["?n++:l==="]"&&(--n||(s=o.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")o.push(s),s=3,a=l;else if(l==="(")i++;else if(l===")"){if(d===t.length-1)return!1;--i||(s=o.pop())}break;case 3:l===a&&(s=o.pop(),a=null);break}}return!n&&!i},cr=Lt,mn=Do,fr=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Ro=e=>fr.test(Po(e)),pr=Lt,Lo=Ro;function mr(e,t,s=t.length){return Vo({offset:e.offset,line:e.line,column:e.column},t,s)}function Vo(e,t,s=t.length){let o=0,n=-1;for(let i=0;i<s;i++)t.charCodeAt(i)===10&&(o++,n=i);return e.offset+=s,e.line+=o,e.column=n===-1?e.column+s:s-n,e}function hr(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function Ee(e,t,s=!1){for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&(s||n.exp)&&(he(t)?n.name===t:t.test(n.name)))return n}}function Kt(e,t,s=!1,o=!1){for(let n=0;n<e.props.length;n++){const i=e.props[n];if(i.type===6){if(s)continue;if(i.name===t&&(i.value||o))return i}else if(i.name==="bind"&&(i.exp||o)&&et(i.arg,t))return i}}function et(e,t){return!!(e&&Te(e)&&e.content===t)}function jo(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function as(e){return e.type===5||e.type===2}function Gs(e){return e.type===7&&e.name==="pre"}function hn(e){return e.type===7&&e.name==="slot"}function Et(e){return e.type===1&&e.tagType===3}function Xt(e){return e.type===1&&e.tagType===2}const vr=new Set([kt,Nt]);function Fo(e,t=[]){if(e&&!he(e)&&e.type===14){const s=e.callee;if(!he(s)&&vr.has(s))return Fo(e.arguments[0],t.concat(e))}return[e,t]}function Ht(e,t,s){let o,n=e.type===13?e.props:e.arguments[2],i=[],a;if(n&&!he(n)&&n.type===14){const d=Fo(n);n=d[0],i=d[1],a=i[i.length-1]}if(n==null||he(n))o=$e([t]);else if(n.type===14){const d=n.arguments[0];!he(d)&&d.type===15?Un(t,d)||d.properties.unshift(t):n.callee===Ms?o=pe(s.helper(Bt),[$e([t]),n]):n.arguments.unshift($e([t])),!o&&(o=n)}else n.type===15?(Un(t,n)||n.properties.unshift(t),o=n):(o=pe(s.helper(Bt),[$e([t]),n]),a&&a.callee===Nt&&(a=i[i.length-2]));e.type===13?a?a.arguments[0]=o:e.props=o:a?a.arguments[0]=o:e.arguments[2]=o}function Un(e,t){let s=!1;if(e.key.type===4){const o=e.key.content;s=t.properties.some(n=>n.key.type===4&&n.key.content===o)}return s}function St(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,o)=>s==="-"?"_":e.charCodeAt(o).toString())}`}function Le(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===7&&(Le(o.arg,t)||Le(o.exp,t)))return!0}return e.children.some(s=>Le(s,t));case 11:return Le(e.source,t)?!0:e.children.some(s=>Le(s,t));case 9:return e.branches.some(s=>Le(s,t));case 10:return Le(e.condition,t)?!0:e.children.some(s=>Le(s,t));case 4:return!e.isStatic&&Gt(e.content)&&!!t[e.content];case 8:return e.children.some(s=>ho(s)&&Le(s,t));case 5:case 12:return Le(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function Bo(e){return e.type===14&&e.callee===Ds?e.arguments[1].returns:e}const Uo=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Xo={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Zt,isPreTag:Zt,isIgnoreNewlineTag:Zt,isCustomElement:Zt,onError:fn,onWarn:Ao,comments:!1,prefixIdentifiers:!1};let Z=Xo,qt=null,We="",we=null,Y=null,Ne="",Xe=-1,rt=-1,vn=0,Ze=!1,Ks=null;const ne=[],le=new qi(ne,{onerr:Ue,ontext(e,t){es(ge(e,t),e,t)},ontextentity(e,t,s){es(e,t,s)},oninterpolation(e,t){if(Ze)return es(ge(e,t),e,t);let s=e+le.delimiterOpen.length,o=t-le.delimiterClose.length;for(;Oe(We.charCodeAt(s));)s++;for(;Oe(We.charCodeAt(o-1));)o--;let n=ge(s,o);n.includes("&")&&(n=Z.decodeEntities(n,!1)),Js({type:5,content:rs(n,!1,ue(s,o)),loc:ue(e,t)})},onopentagname(e,t){const s=ge(e,t);we={type:1,tag:s,ns:Z.getNamespace(s,ne[0],Z.ns),tagType:0,props:[],children:[],loc:ue(e-1,t),codegenNode:void 0}},onopentagend(e){Hn(e)},onclosetag(e,t){const s=ge(e,t);if(!Z.isVoidTag(s)){let o=!1;for(let n=0;n<ne.length;n++)if(ne[n].tag.toLowerCase()===s.toLowerCase()){o=!0,n>0&&Ue(24,ne[0].loc.start.offset);for(let a=0;a<=n;a++){const d=ne.shift();is(d,t,a<n)}break}o||Ue(23,Ho(e,60))}},onselfclosingtag(e){const t=we.tag;we.isSelfClosing=!0,Hn(e),ne[0]&&ne[0].tag===t&&is(ne.shift(),e)},onattribname(e,t){Y={type:6,name:ge(e,t),nameLoc:ue(e,t),value:void 0,loc:ue(e)}},ondirname(e,t){const s=ge(e,t),o=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!Ze&&o===""&&Ue(26,e),Ze||o==="")Y={type:6,name:s,nameLoc:ue(e,t),value:void 0,loc:ue(e)};else if(Y={type:7,name:o,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[W("prop")]:[],loc:ue(e)},o==="pre"){Ze=le.inVPre=!0,Ks=we;const n=we.props;for(let i=0;i<n.length;i++)n[i].type===7&&(n[i]=Cr(n[i]))}},ondirarg(e,t){if(e===t)return;const s=ge(e,t);if(Ze&&!Gs(Y))Y.name+=s,lt(Y.nameLoc,t);else{const o=s[0]!=="[";Y.arg=rs(o?s:s.slice(1,-1),o,ue(e,t),o?3:0)}},ondirmodifier(e,t){const s=ge(e,t);if(Ze&&!Gs(Y))Y.name+="."+s,lt(Y.nameLoc,t);else if(Y.name==="slot"){const o=Y.arg;o&&(o.content+="."+s,lt(o.loc,t))}else{const o=W(s,!0,ue(e,t));Y.modifiers.push(o)}},onattribdata(e,t){Ne+=ge(e,t),Xe<0&&(Xe=e),rt=t},onattribentity(e,t,s){Ne+=e,Xe<0&&(Xe=t),rt=s},onattribnameend(e){const t=Y.loc.start.offset,s=ge(t,e);Y.type===7&&(Y.rawName=s),we.props.some(o=>(o.type===7?o.rawName:o.name)===s)&&Ue(2,t)},onattribend(e,t){if(we&&Y){if(lt(Y.loc,t),e!==0)if(Ne.includes("&")&&(Ne=Z.decodeEntities(Ne,!0)),Y.type===6)Y.name==="class"&&(Ne=zo(Ne).trim()),e===1&&!Ne&&Ue(13,t),Y.value={type:2,content:Ne,loc:e===1?ue(Xe,rt):ue(Xe-1,rt+1)},le.inSFCRoot&&we.tag==="template"&&Y.name==="lang"&&Ne&&Ne!=="html"&&le.enterRCDATA(hs("</template"),0);else{let s=0;Y.exp=rs(Ne,!1,ue(Xe,rt),0,s),Y.name==="for"&&(Y.forParseResult=yr(Y.exp));let o=-1;Y.name==="bind"&&(o=Y.modifiers.findIndex(n=>n.content==="sync"))>-1&&xt("COMPILER_V_BIND_SYNC",Z,Y.loc,Y.arg.loc.source)&&(Y.name="model",Y.modifiers.splice(o,1))}(Y.type!==7||Y.name!=="pre")&&we.props.push(Y)}Ne="",Xe=rt=-1},oncomment(e,t){Z.comments&&Js({type:3,content:ge(e,t),loc:ue(e-4,t+3)})},onend(){const e=We.length;for(let t=0;t<ne.length;t++)is(ne[t],e-1),Ue(24,ne[t].loc.start.offset)},oncdata(e,t){ne[0].ns!==0?es(ge(e,t),e,t):Ue(1,e-9)},onprocessinginstruction(e){(ne[0]?ne[0].ns:Z.ns)===0&&Ue(21,e-1)}}),Xn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,gr=/^\(|\)$/g;function yr(e){const t=e.loc,s=e.content,o=s.match(Uo);if(!o)return;const[,n,i]=o,a=(f,m,v=!1)=>{const k=t.start.offset+m,g=k+f.length;return rs(f,!1,ue(k,g),0,v?1:0)},d={source:a(i.trim(),s.indexOf(i,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=n.trim().replace(gr,"").trim();const u=n.indexOf(l),p=l.match(Xn);if(p){l=l.replace(Xn,"").trim();const f=p[1].trim();let m;if(f&&(m=s.indexOf(f,u+l.length),d.key=a(f,m,!0)),p[2]){const v=p[2].trim();v&&(d.index=a(v,s.indexOf(v,d.key?m+f.length:u+l.length),!0))}}return l&&(d.value=a(l,u,!0)),d}function ge(e,t){return We.slice(e,t)}function Hn(e){le.inSFCRoot&&(we.innerLoc=ue(e+1,e+1)),Js(we);const{tag:t,ns:s}=we;s===0&&Z.isPreTag(t)&&vn++,Z.isVoidTag(t)?is(we,e):(ne.unshift(we),(s===1||s===2)&&(le.inXML=!0)),we=null}function es(e,t,s){{const i=ne[0]&&ne[0].tag;i!=="script"&&i!=="style"&&e.includes("&")&&(e=Z.decodeEntities(e,!1))}const o=ne[0]||qt,n=o.children[o.children.length-1];n&&n.type===2?(n.content+=e,lt(n.loc,s)):o.children.push({type:2,content:e,loc:ue(t,s)})}function is(e,t,s=!1){s?lt(e.loc,Ho(t,60)):lt(e.loc,_r(t,62)+1),le.inSFCRoot&&(e.children.length?e.innerLoc.end=ze({},e.children[e.children.length-1].loc.end):e.innerLoc.end=ze({},e.innerLoc.start),e.innerLoc.source=ge(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:o,ns:n,children:i}=e;if(Ze||(o==="slot"?e.tagType=2:qn(e)?e.tagType=3:kr(e)&&(e.tagType=1)),le.inRCDATA||(e.children=qo(i)),n===0&&Z.isIgnoreNewlineTag(o)){const a=i[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}n===0&&Z.isPreTag(o)&&vn--,Ks===e&&(Ze=le.inVPre=!1,Ks=null),le.inXML&&(ne[0]?ne[0].ns:Z.ns)===0&&(le.inXML=!1);{const a=e.props;if(!le.inSFCRoot&&dt("COMPILER_NATIVE_TEMPLATE",Z)&&e.tag==="template"&&!qn(e)){const l=ne[0]||qt,u=l.children.indexOf(e);l.children.splice(u,1,...e.children)}const d=a.find(l=>l.type===6&&l.name==="inline-template");d&&xt("COMPILER_INLINE_TEMPLATE",Z,d.loc)&&e.children.length&&(d.value={type:2,content:ge(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:d.loc})}}function _r(e,t){let s=e;for(;We.charCodeAt(s)!==t&&s<We.length-1;)s++;return s}function Ho(e,t){let s=e;for(;We.charCodeAt(s)!==t&&s>=0;)s--;return s}const br=new Set(["if","else","else-if","for","slot"]);function qn({tag:e,props:t}){if(e==="template"){for(let s=0;s<t.length;s++)if(t[s].type===7&&br.has(t[s].name))return!0}return!1}function kr({tag:e,props:t}){if(Z.isCustomElement(e))return!1;if(e==="component"||wr(e.charCodeAt(0))||pn(e)||Z.isBuiltInComponent&&Z.isBuiltInComponent(e)||Z.isNativeTag&&!Z.isNativeTag(e))return!0;for(let s=0;s<t.length;s++){const o=t[s];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(xt("COMPILER_IS_ON_ELEMENT",Z,o.loc))return!0}}else if(o.name==="bind"&&et(o.arg,"is")&&xt("COMPILER_IS_ON_ELEMENT",Z,o.loc))return!0}return!1}function wr(e){return e>64&&e<91}const xr=/\r\n/g;function qo(e){const t=Z.whitespace!=="preserve";let s=!1;for(let o=0;o<e.length;o++){const n=e[o];if(n.type===2)if(vn)n.content=n.content.replace(xr,`
`);else if(Er(n.content)){const i=e[o-1]&&e[o-1].type,a=e[o+1]&&e[o+1].type;!i||!a||t&&(i===3&&(a===3||a===1)||i===1&&(a===3||a===1&&Sr(n.content)))?(s=!0,e[o]=null):n.content=" "}else t&&(n.content=zo(n.content))}return s?e.filter(Boolean):e}function Er(e){for(let t=0;t<e.length;t++)if(!Oe(e.charCodeAt(t)))return!1;return!0}function Sr(e){for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(s===10||s===13)return!0}return!1}function zo(e){let t="",s=!1;for(let o=0;o<e.length;o++)Oe(e.charCodeAt(o))?s||(t+=" ",s=!0):(t+=e[o],s=!1);return t}function Js(e){(ne[0]||qt).children.push(e)}function ue(e,t){return{start:le.getPos(e),end:t==null?t:le.getPos(t),source:t==null?t:ge(e,t)}}function Tr(e){return ue(e.start.offset,e.end.offset)}function lt(e,t){e.end=le.getPos(t),e.source=ge(e.start.offset,t)}function Cr(e){const t={type:6,name:e.rawName,nameLoc:ue(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const s=e.exp.loc;s.end.offset<e.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),t.value={type:2,content:e.exp.content,loc:s}}return t}function rs(e,t=!1,s,o=0,n=0){return W(e,t,s,o)}function Ue(e,t,s){Z.onError(te(e,ue(t,t)))}function Nr(){le.reset(),we=null,Y=null,Ne="",Xe=-1,rt=-1,ne.length=0}function gn(e,t){if(Nr(),We=e,Z=ze({},Xo),t){let n;for(n in t)t[n]!=null&&(Z[n]=t[n])}le.mode=Z.parseMode==="html"?1:Z.parseMode==="sfc"?2:0,le.inXML=Z.ns===1||Z.ns===2;const s=t&&t.delimiters;s&&(le.delimiterOpen=hs(s[0]),le.delimiterClose=hs(s[1]));const o=qt=Co([],e);return le.parse(We),o.loc=ue(0,e.length),o.children=qo(o.children),qt=null,o}function Ir(e,t){ls(e,void 0,t,!!Wo(e))}function Wo(e){const t=e.children.filter(s=>s.type!==3);return t.length===1&&t[0].type===1&&!Xt(t[0])?t[0]:null}function ls(e,t,s,o=!1,n=!1){const{children:i}=e,a=[];for(let f=0;f<i.length;f++){const m=i[f];if(m.type===1&&m.tagType===0){const v=o?0:Ie(m,s);if(v>0){if(v>=2){m.codegenNode.patchFlag=-1,a.push(m);continue}}else{const k=m.codegenNode;if(k.type===13){const g=k.patchFlag;if((g===void 0||g===512||g===1)&&Ko(m,s)>=2){const B=Jo(m);B&&(k.props=s.hoist(B))}k.dynamicProps&&(k.dynamicProps=s.hoist(k.dynamicProps))}}}else if(m.type===12&&(o?0:Ie(m,s))>=2){m.codegenNode.type===14&&m.codegenNode.arguments.length>0&&m.codegenNode.arguments.push("-1"),a.push(m);continue}if(m.type===1){const v=m.tagType===1;v&&s.scopes.vSlot++,ls(m,e,s,!1,n),v&&s.scopes.vSlot--}else if(m.type===11)ls(m,e,s,m.children.length===1,!0);else if(m.type===9)for(let v=0;v<m.branches.length;v++)ls(m.branches[v],e,s,m.branches[v].children.length===1,n)}let d=!1;const l=[];if(a.length===i.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&He(e.codegenNode.children))e.codegenNode.children=u(st(e.codegenNode.children)),d=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!He(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=p(e.codegenNode,"default");f&&(l.push(s.cached.length),f.returns=u(st(f.returns)),d=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!He(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=Ee(e,"slot",!0),m=f&&f.arg&&p(t.codegenNode,f.arg);m&&(l.push(s.cached.length),m.returns=u(st(m.returns)),d=!0)}}if(!d)for(const f of a)l.push(s.cached.length),f.codegenNode=s.cache(f.codegenNode);l.length&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!He(e.codegenNode.children)&&e.codegenNode.children.type===15&&e.codegenNode.children.properties.push(ie("__",W(JSON.stringify(l),!1)));function u(f){const m=s.cache(f);return n&&s.hmr&&(m.needArraySpread=!0),m}function p(f,m){if(f.children&&!He(f.children)&&f.children.type===15){const v=f.children.properties.find(k=>k.key===m||k.key.content===m);return v&&v.value}}a.length&&s.transformHoist&&s.transformHoist(i,s,e)}function Ie(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const o=s.get(e);if(o!==void 0)return o;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let a=3;const d=Ko(e,t);if(d===0)return s.set(e,0),0;d<a&&(a=d);for(let l=0;l<e.children.length;l++){const u=Ie(e.children[l],t);if(u===0)return s.set(e,0),0;u<a&&(a=u)}if(a>1)for(let l=0;l<e.props.length;l++){const u=e.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const p=Ie(u.exp,t);if(p===0)return s.set(e,0),0;p<a&&(a=p)}}if(n.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return s.set(e,0),0;t.removeHelper(nt),t.removeHelper(mt(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(pt(t.inSSR,n.isComponent))}return s.set(e,a),a}else return s.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ie(e.content,t);case 4:return e.constType;case 8:let i=3;for(let a=0;a<e.children.length;a++){const d=e.children[a];if(he(d)||Zs(d))continue;const l=Ie(d,t);if(l===0)return 0;l<i&&(i=l)}return i;case 20:return 2;default:return 0}}const Ar=new Set([Os,$s,kt,Nt]);function Go(e,t){if(e.type===14&&!he(e.callee)&&Ar.has(e.callee)){const s=e.arguments[0];if(s.type===4)return Ie(s,t);if(s.type===14)return Go(s,t)}return 0}function Ko(e,t){let s=3;const o=Jo(e);if(o&&o.type===15){const{properties:n}=o;for(let i=0;i<n.length;i++){const{key:a,value:d}=n[i],l=Ie(a,t);if(l===0)return l;l<s&&(s=l);let u;if(d.type===4?u=Ie(d,t):d.type===14?u=Go(d,t):u=0,u===0)return u;u<s&&(s=u)}}return s}function Jo(e){const t=e.codegenNode;if(t.type===13)return t.props}function Yo(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:o=!1,hmr:n=!1,cacheHandlers:i=!1,nodeTransforms:a=[],directiveTransforms:d={},transformHoist:l=null,isBuiltInComponent:u=Lt,isCustomElement:p=Lt,expressionPlugins:f=[],scopeId:m=null,slotted:v=!0,ssr:k=!1,inSSR:g=!1,ssrCssVars:B="",bindingMetadata:I=qa,inline:b=!1,isTS:w=!1,onError:D=fn,onWarn:F=Ao,compatConfig:U}){const J=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={filename:t,selfName:J&&mo(tt(J[1])),prefixIdentifiers:s,hoistStatic:o,hmr:n,cacheHandlers:i,nodeTransforms:a,directiveTransforms:d,transformHoist:l,isBuiltInComponent:u,isCustomElement:p,expressionPlugins:f,scopeId:m,slotted:v,ssr:k,inSSR:g,ssrCssVars:B,bindingMetadata:I,inline:b,isTS:w,onError:D,onWarn:F,compatConfig:U,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(T){const L=C.helpers.get(T)||0;return C.helpers.set(T,L+1),T},removeHelper(T){const L=C.helpers.get(T);if(L){const A=L-1;A?C.helpers.set(T,A):C.helpers.delete(T)}},helperString(T){return`_${ct[C.helper(T)]}`},replaceNode(T){C.parent.children[C.childIndex]=C.currentNode=T},removeNode(T){const L=C.parent.children,A=T?L.indexOf(T):C.currentNode?C.childIndex:-1;!T||T===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>A&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(A,1)},onNodeRemoved:Lt,addIdentifiers(T){},removeIdentifiers(T){},hoist(T){he(T)&&(T=W(T)),C.hoists.push(T);const L=W(`_hoisted_${C.hoists.length}`,!1,T.loc,2);return L.hoisted=T,L},cache(T,L=!1,A=!1){const y=No(C.cached.length,T,L,A);return C.cached.push(y),y}};return C.filters=new Set,C}function Qo(e,t){const s=Yo(e,t);Jt(e,s),t.hoistStatic&&Ir(e,s),t.ssr||Or(e,s),e.helpers=new Set([...s.helpers.keys()]),e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.transformed=!0,e.filters=[...s.filters]}function Or(e,t){const{helper:s}=t,{children:o}=e;if(o.length===1){const n=Wo(e);if(n&&n.codegenNode){const i=n.codegenNode;i.type===13&&Rs(i,t),e.codegenNode=i}else e.codegenNode=o[0]}else if(o.length>1){let n=64;e.codegenNode=wt(t,s(bt),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function $r(e,t){let s=0;const o=()=>{s--};for(;s<e.children.length;s++){const n=e.children[s];he(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=s,t.onNodeRemoved=o,Jt(n,t))}}function Jt(e,t){t.currentNode=e;const{nodeTransforms:s}=t,o=[];for(let i=0;i<s.length;i++){const a=s[i](e,t);if(a&&(He(a)?o.push(...a):o.push(a)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Ct);break;case 5:t.ssr||t.helper(Wt);break;case 9:for(let i=0;i<e.branches.length;i++)Jt(e.branches[i],t);break;case 10:case 11:case 1:case 0:$r(e,t);break}t.currentNode=e;let n=o.length;for(;n--;)o[n]()}function yn(e,t){const s=he(e)?o=>o===e:o=>e.test(o);return(o,n)=>{if(o.type===1){const{props:i}=o;if(o.tagType===3&&i.some(hn))return;const a=[];for(let d=0;d<i.length;d++){const l=i[d];if(l.type===7&&s(l.name)){i.splice(d,1),d--;const u=t(o,l,n);u&&a.push(u)}}return a}}}const Ls="/*@__PURE__*/",Zo=e=>`${ct[e]}: _${ct[e]}`;function Mr(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:o=!1,filename:n="template.vue.html",scopeId:i=null,optimizeImports:a=!1,runtimeGlobalName:d="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:p=!1,isTS:f=!1,inSSR:m=!1}){const v={mode:t,prefixIdentifiers:s,sourceMap:o,filename:n,scopeId:i,optimizeImports:a,runtimeGlobalName:d,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:p,isTS:f,inSSR:m,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${ct[g]}`},push(g,B=-2,I){v.code+=g},indent(){k(++v.indentLevel)},deindent(g=!1){g?--v.indentLevel:k(--v.indentLevel)},newline(){k(v.indentLevel)}};function k(g){v.push(`
`+"  ".repeat(g),0)}return v}function ea(e,t={}){const s=Mr(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:o,push:n,prefixIdentifiers:i,indent:a,deindent:d,newline:l,scopeId:u,ssr:p}=s,f=Array.from(e.helpers),m=f.length>0,v=!i&&o!=="module";Pr(e,s);const g=p?"ssrRender":"render",I=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${g}(${I}) {`),a(),v&&(n("with (_ctx) {"),a(),m&&(n(`const { ${f.map(Zo).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(Xs(e.components,"component",s),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(Xs(e.directives,"directive",s),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),Xs(e.filters,"filter",s),l()),e.temps>0){n("let ");for(let b=0;b<e.temps;b++)n(`${b>0?", ":""}_temp${b}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),l()),p||n("return "),e.codegenNode?xe(e.codegenNode,s):n("null"),v&&(d(),n("}")),d(),n("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function Pr(e,t){const{ssr:s,prefixIdentifiers:o,push:n,newline:i,runtimeModuleName:a,runtimeGlobalName:d,ssrRuntimeModuleName:l}=t,u=d,p=Array.from(e.helpers);if(p.length>0&&(n(`const _Vue = ${u}
`,-1),e.hoists.length)){const f=[ws,xs,Ct,Es,ln].filter(m=>p.includes(m)).map(Zo).join(", ");n(`const { ${f} } = _Vue
`,-1)}Dr(e.hoists,t),i(),n("return ")}function Xs(e,t,{helper:s,push:o,newline:n,isTS:i}){const a=s(t==="filter"?Ns:t==="component"?Ss:Cs);for(let d=0;d<e.length;d++){let l=e[d];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),o(`const ${St(l,t)} = ${a}(${JSON.stringify(l)}${u?", true":""})${i?"!":""}`),d<e.length-1&&n()}}function Dr(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:o}=t;o();for(let n=0;n<e.length;n++){const i=e[n];i&&(s(`const _hoisted_${n+1} = `),xe(i,t),o())}t.pure=!1}function _n(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),Yt(e,t,s),s&&t.deindent(),t.push("]")}function Yt(e,t,s=!1,o=!0){const{push:n,newline:i}=t;for(let a=0;a<e.length;a++){const d=e[a];he(d)?n(d,-3):He(d)?_n(d,t):xe(d,t),a<e.length-1&&(s?(o&&n(","),i()):o&&n(", "))}}function xe(e,t){if(he(e)){t.push(e,-3);return}if(Zs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:xe(e.codegenNode,t);break;case 2:Rr(e,t);break;case 4:ta(e,t);break;case 5:Lr(e,t);break;case 12:xe(e.codegenNode,t);break;case 8:sa(e,t);break;case 3:jr(e,t);break;case 13:Fr(e,t);break;case 14:Ur(e,t);break;case 15:Xr(e,t);break;case 17:Hr(e,t);break;case 18:qr(e,t);break;case 19:zr(e,t);break;case 20:Wr(e,t);break;case 21:Yt(e.body,t,!0,!1);break}}function Rr(e,t){t.push(JSON.stringify(e.content),-3,e)}function ta(e,t){const{content:s,isStatic:o}=e;t.push(o?JSON.stringify(s):s,-3,e)}function Lr(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ls),s(`${o(Wt)}(`),xe(e.content,t),s(")")}function sa(e,t){for(let s=0;s<e.children.length;s++){const o=e.children[s];he(o)?t.push(o,-3):xe(o,t)}}function Vr(e,t){const{push:s}=t;if(e.type===8)s("["),sa(e,t),s("]");else if(e.isStatic){const o=Gt(e.content)?e.content:JSON.stringify(e.content);s(o,-2,e)}else s(`[${e.content}]`,-3,e)}function jr(e,t){const{push:s,helper:o,pure:n}=t;n&&s(Ls),s(`${o(Ct)}(${JSON.stringify(e.content)})`,-3,e)}function Fr(e,t){const{push:s,helper:o,pure:n}=t,{tag:i,props:a,children:d,patchFlag:l,dynamicProps:u,directives:p,isBlock:f,disableTracking:m,isComponent:v}=e;let k;l&&(k=String(l)),p&&s(o(Is)+"("),f&&s(`(${o(nt)}(${m?"true":""}), `),n&&s(Ls);const g=f?mt(t.inSSR,v):pt(t.inSSR,v);s(o(g)+"(",-2,e),Yt(Br([i,a,d,k,u]),t),s(")"),f&&s(")"),p&&(s(", "),xe(p,t),s(")"))}function Br(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function Ur(e,t){const{push:s,helper:o,pure:n}=t,i=he(e.callee)?e.callee:o(e.callee);n&&s(Ls),s(i+"(",-2,e),Yt(e.arguments,t),s(")")}function Xr(e,t){const{push:s,indent:o,deindent:n,newline:i}=t,{properties:a}=e;if(!a.length){s("{}",-2,e);return}const d=a.length>1||!1;s(d?"{":"{ "),d&&o();for(let l=0;l<a.length;l++){const{key:u,value:p}=a[l];Vr(u,t),s(": "),xe(p,t),l<a.length-1&&(s(","),i())}d&&n(),s(d?"}":" }")}function Hr(e,t){_n(e.elements,t)}function qr(e,t){const{push:s,indent:o,deindent:n}=t,{params:i,returns:a,body:d,newline:l,isSlot:u}=e;u&&s(`_${ct[Ps]}(`),s("(",-2,e),He(i)?Yt(i,t):i&&xe(i,t),s(") => "),(l||d)&&(s("{"),o()),a?(l&&s("return "),He(a)?_n(a,t):xe(a,t)):d&&xe(d,t),(l||d)&&(n(),s("}")),u&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function zr(e,t){const{test:s,consequent:o,alternate:n,newline:i}=e,{push:a,indent:d,deindent:l,newline:u}=t;if(s.type===4){const f=!Gt(s.content);f&&a("("),ta(s,t),f&&a(")")}else a("("),xe(s,t),a(")");i&&d(),t.indentLevel++,i||a(" "),a("? "),xe(o,t),t.indentLevel--,i&&u(),i||a(" "),a(": ");const p=n.type===19;p||t.indentLevel++,xe(n,t),p||t.indentLevel--,i&&l(!0)}function Wr(e,t){const{push:s,helper:o,indent:n,deindent:i,newline:a}=t,{needPauseTracking:d,needArraySpread:l}=e;l&&s("[...("),s(`_cache[${e.index}] || (`),d&&(n(),s(`${o(Ut)}(-1`),e.inVOnce&&s(", true"),s("),"),a(),s("(")),s(`_cache[${e.index}] = `),xe(e.value,t),d&&(s(`).cacheIndex = ${e.index},`),a(),s(`${o(Ut)}(1),`),a(),s(`_cache[${e.index}]`),i()),s(")"),l&&s(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Gr=(e,t)=>{if(e.type===5)e.content=us(e.content,t);else if(e.type===1){const s=Ee(e,"memo");for(let o=0;o<e.props.length;o++){const n=e.props[o];if(n.type===7&&n.name!=="for"){const i=n.exp,a=n.arg;i&&i.type===4&&!(n.name==="on"&&a)&&!(s&&a&&a.type===4&&a.content==="key")&&(n.exp=us(i,t,n.name==="slot")),a&&a.type===4&&!a.isStatic&&(n.arg=us(a,t))}}}};function us(e,t,s=!1,o=!1,n=Object.create(t.identifiers)){return e}function na(e){return he(e)?e:e.type===4?e.content:e.children.map(na).join("")}const Kr=yn(/^(if|else|else-if)$/,(e,t,s)=>oa(e,t,s,(o,n,i)=>{const a=s.parent.children;let d=a.indexOf(o),l=0;for(;d-->=0;){const u=a[d];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(i)o.codegenNode=Wn(n,l,s);else{const u=Jr(o.codegenNode);u.alternate=Wn(n,l+o.branches.length-1,s)}}}));function oa(e,t,s,o){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;s.onError(te(28,t.loc)),t.exp=W("true",!1,n)}if(t.name==="if"){const n=zn(e,t),i={type:9,loc:Tr(e.loc),branches:[n]};if(s.replaceNode(i),o)return o(i,n,!0)}else{const n=s.parent.children;let i=n.indexOf(e);for(;i-->=-1;){const a=n[i];if(a&&a.type===3){s.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){s.removeNode(a);continue}if(a&&a.type===9){t.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&s.onError(te(30,e.loc)),s.removeNode();const d=zn(e,t);a.branches.push(d);const l=o&&o(a,d,!1);Jt(d,s),l&&l(),s.currentNode=null}else s.onError(te(30,e.loc));break}}}function zn(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!Ee(e,"for")?e.children:[e],userKey:Kt(e,"key"),isTemplateIf:s}}function Wn(e,t,s){return e.condition?ms(e.condition,Gn(e,t,s),pe(s.helper(Ct),['""',"true"])):Gn(e,t,s)}function Gn(e,t,s){const{helper:o}=s,n=ie("key",W(`${t}`,!1,ve,2)),{children:i}=e,a=i[0];if(i.length!==1||a.type!==1)if(i.length===1&&a.type===11){const l=a.codegenNode;return Ht(l,n,s),l}else return wt(s,o(bt),$e([n]),i,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=a.codegenNode,u=Bo(l);return u.type===13&&Rs(u,s),Ht(u,n,s),l}}function Jr(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const aa=(e,t,s)=>{const{modifiers:o,loc:n}=e,i=e.arg;let{exp:a}=e;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(i.type!==4||!i.isStatic)return s.onError(te(52,i.loc)),{props:[ie(i,W("",!0,n))]};ia(e),a=e.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=i.content?`${i.content} || ""`:'""'),o.some(d=>d.content==="camel")&&(i.type===4?i.isStatic?i.content=tt(i.content):i.content=`${s.helperString(fs)}(${i.content})`:(i.children.unshift(`${s.helperString(fs)}(`),i.children.push(")"))),s.inSSR||(o.some(d=>d.content==="prop")&&Kn(i,"."),o.some(d=>d.content==="attr")&&Kn(i,"^")),{props:[ie(i,a)]}},ia=(e,t)=>{const s=e.arg,o=tt(s.content);e.exp=W(o,!1,s.loc)},Kn=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Yr=yn("for",(e,t,s)=>{const{helper:o,removeHelper:n}=s;return ra(e,t,s,i=>{const a=pe(o(As),[i.source]),d=Et(e),l=Ee(e,"memo"),u=Kt(e,"key",!1,!0);u&&u.type===7&&!u.exp&&ia(u);let f=u&&(u.type===6?u.value?W(u.value.content,!0):void 0:u.exp);const m=u&&f?ie("key",f):null,v=i.source.type===4&&i.source.constType>0,k=v?64:u?128:256;return i.codegenNode=wt(s,o(bt),void 0,a,k,void 0,void 0,!0,!v,!1,e.loc),()=>{let g;const{children:B}=i,I=B.length!==1||B[0].type!==1,b=Xt(e)?e:d&&e.children.length===1&&Xt(e.children[0])?e.children[0]:null;if(b?(g=b.codegenNode,d&&m&&Ht(g,m,s)):I?g=wt(s,o(bt),m?$e([m]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=B[0].codegenNode,d&&m&&Ht(g,m,s),g.isBlock!==!v&&(g.isBlock?(n(nt),n(mt(s.inSSR,g.isComponent))):n(pt(s.inSSR,g.isComponent))),g.isBlock=!v,g.isBlock?(o(nt),o(mt(s.inSSR,g.isComponent))):o(pt(s.inSSR,g.isComponent))),l){const w=ft(vs(i.parseResult,[W("_cached")]));w.body=Io([De(["const _memo = (",l.exp,")"]),De(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${s.helperString(cn)}(_cached, _memo)) return _cached`]),De(["const _item = ",g]),W("_item.memo = _memo"),W("return _item")]),a.arguments.push(w,W("_cache"),W(String(s.cached.length))),s.cached.push(null)}else a.arguments.push(ft(vs(i.parseResult),g,!0))}})});function ra(e,t,s,o){if(!t.exp){s.onError(te(31,t.loc));return}const n=t.forParseResult;if(!n){s.onError(te(32,t.loc));return}bn(n);const{addIdentifiers:i,removeIdentifiers:a,scopes:d}=s,{source:l,value:u,key:p,index:f}=n,m={type:11,loc:t.loc,source:l,valueAlias:u,keyAlias:p,objectIndexAlias:f,parseResult:n,children:Et(e)?e.children:[e]};s.replaceNode(m),d.vFor++;const v=o&&o(m);return()=>{d.vFor--,v&&v()}}function bn(e,t){e.finalized||(e.finalized=!0)}function vs({value:e,key:t,index:s},o=[]){return Qr([e,t,s,...o])}function Qr(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,o)=>s||W("_".repeat(o+1),!1))}const Jn=W("undefined",!1),la=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=Ee(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Zr=(e,t)=>{let s;if(Et(e)&&e.props.some(hn)&&(s=Ee(e,"for"))){const o=s.forParseResult;if(o){bn(o);const{value:n,key:i,index:a}=o,{addIdentifiers:d,removeIdentifiers:l}=t;return n&&d(n),i&&d(i),a&&d(a),()=>{n&&l(n),i&&l(i),a&&l(a)}}}},el=(e,t,s,o)=>ft(e,s,!1,!0,s.length?s[0].loc:o);function ua(e,t,s=el){t.helper(Ps);const{children:o,loc:n}=e,i=[],a=[];let d=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Ee(e,"slot",!0);if(l){const{arg:B,exp:I}=l;B&&!Te(B)&&(d=!0),i.push(ie(B||W("default",!0),s(I,void 0,o,n)))}let u=!1,p=!1;const f=[],m=new Set;let v=0;for(let B=0;B<o.length;B++){const I=o[B];let b;if(!Et(I)||!(b=Ee(I,"slot",!0))){I.type!==3&&f.push(I);continue}if(l){t.onError(te(37,b.loc));break}u=!0;const{children:w,loc:D}=I,{arg:F=W("default",!0),exp:U,loc:J}=b;let C;Te(F)?C=F?F.content:"default":d=!0;const T=Ee(I,"for"),L=s(U,T,w,D);let A,y;if(A=Ee(I,"if"))d=!0,a.push(ms(A.exp,ts(F,L,v++),Jn));else if(y=Ee(I,/^else(-if)?$/,!0)){let x=B,P;for(;x--&&(P=o[x],!(P.type!==3&&Ys(P))););if(P&&Et(P)&&Ee(P,/^(else-)?if$/)){let M=a[a.length-1];for(;M.alternate.type===19;)M=M.alternate;M.alternate=y.exp?ms(y.exp,ts(F,L,v++),Jn):ts(F,L,v++)}else t.onError(te(30,y.loc))}else if(T){d=!0;const x=T.forParseResult;x?(bn(x),a.push(pe(t.helper(As),[x.source,ft(vs(x),ts(F,L),!0)]))):t.onError(te(32,T.loc))}else{if(C){if(m.has(C)){t.onError(te(38,J));continue}m.add(C),C==="default"&&(p=!0)}i.push(ie(F,L))}}if(!l){const B=(I,b)=>{const w=s(I,void 0,b,n);return t.compatConfig&&(w.isNonScopedSlot=!0),ie("default",w)};u?f.length&&f.some(I=>Ys(I))&&(p?t.onError(te(39,f[0].loc)):i.push(B(void 0,f))):i.push(B(void 0,o))}const k=d?2:ds(e.children)?3:1;let g=$e(i.concat(ie("_",W(k+"",!1))),n);return a.length&&(g=pe(t.helper(dn),[g,st(a)])),{slots:g,hasDynamicSlots:d}}function ts(e,t,s){const o=[ie("name",e),ie("fn",t)];return s!=null&&o.push(ie("key",W(String(s),!0))),$e(o)}function ds(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||ds(s.children))return!0;break;case 9:if(ds(s.branches))return!0;break;case 10:case 11:if(ds(s.children))return!0;break}}return!1}function Ys(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():Ys(e.content)}const da=new WeakMap,ca=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:o,props:n}=e,i=e.tagType===1;let a=i?fa(e,t):`"${o}"`;const d=ho(a)&&a.callee===Ts;let l,u,p=0,f,m,v,k=d||a===yt||a===ks||!i&&(o==="svg"||o==="foreignObject"||o==="math");if(n.length>0){const g=kn(e,t,void 0,i,d);l=g.props,p=g.patchFlag,m=g.dynamicPropNames;const B=g.directives;v=B&&B.length?st(B.map(I=>pa(I,t))):void 0,g.shouldUseBlock&&(k=!0)}if(e.children.length>0)if(a===Ft&&(k=!0,p|=1024),i&&a!==yt&&a!==Ft){const{slots:B,hasDynamicSlots:I}=ua(e,t);u=B,I&&(p|=1024)}else if(e.children.length===1&&a!==yt){const B=e.children[0],I=B.type,b=I===5||I===8;b&&Ie(B,t)===0&&(p|=1),b||I===2?u=B:u=e.children}else u=e.children;m&&m.length&&(f=sl(m)),e.codegenNode=wt(t,a,l,u,p===0?void 0:p,f,v,!!k,!1,i,e.loc)};function fa(e,t,s=!1){let{tag:o}=e;const n=Qs(o),i=Kt(e,"is",!1,!0);if(i)if(n||dt("COMPILER_IS_ON_ELEMENT",t)){let d;if(i.type===6?d=i.value&&W(i.value.content,!0):(d=i.exp,d||(d=W("is",!1,i.arg.loc))),d)return pe(t.helper(Ts),[d])}else i.type===6&&i.value.content.startsWith("vue:")&&(o=i.value.content.slice(4));const a=pn(o)||t.isBuiltInComponent(o);return a?(s||t.helper(a),a):(t.helper(Ss),t.components.add(o),St(o,"component"))}function kn(e,t,s=e.props,o,n,i=!1){const{tag:a,loc:d,children:l}=e;let u=[];const p=[],f=[],m=l.length>0;let v=!1,k=0,g=!1,B=!1,I=!1,b=!1,w=!1,D=!1;const F=[],U=L=>{u.length&&(p.push($e(Yn(u),d)),u=[]),L&&p.push(L)},J=()=>{t.scopes.vFor>0&&u.push(ie(W("ref_for",!0),W("true")))},C=({key:L,value:A})=>{if(Te(L)){const y=L.content,x=vo(y);if(x&&(!o||n)&&y.toLowerCase()!=="onclick"&&y!=="onUpdate:modelValue"&&!Dn(y)&&(b=!0),x&&Dn(y)&&(D=!0),x&&A.type===14&&(A=A.arguments[0]),A.type===20||(A.type===4||A.type===8)&&Ie(A,t)>0)return;y==="ref"?g=!0:y==="class"?B=!0:y==="style"?I=!0:y!=="key"&&!F.includes(y)&&F.push(y),o&&(y==="class"||y==="style")&&!F.includes(y)&&F.push(y)}else w=!0};for(let L=0;L<s.length;L++){const A=s[L];if(A.type===6){const{loc:y,name:x,nameLoc:P,value:M}=A;let q=!0;if(x==="ref"&&(g=!0,J()),x==="is"&&(Qs(a)||M&&M.content.startsWith("vue:")||dt("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(ie(W(x,!0,P),W(M?M.content:"",q,M?M.loc:y)))}else{const{name:y,arg:x,exp:P,loc:M,modifiers:q}=A,H=y==="bind",se=y==="on";if(y==="slot"){o||t.onError(te(40,M));continue}if(y==="once"||y==="memo"||y==="is"||H&&et(x,"is")&&(Qs(a)||dt("COMPILER_IS_ON_ELEMENT",t))||se&&i)continue;if((H&&et(x,"key")||se&&m&&et(x,"vue:before-update"))&&(v=!0),H&&et(x,"ref")&&J(),!x&&(H||se)){if(w=!0,P)if(H){if(U(),dt("COMPILER_V_BIND_OBJECT_ORDER",t)){p.unshift(P);continue}J(),U(),p.push(P)}else U({type:14,loc:M,callee:t.helper(Ms),arguments:o?[P]:[P,"true"]});else t.onError(te(H?34:35,M));continue}H&&q.some(Ce=>Ce.content==="prop")&&(k|=32);const Re=t.directiveTransforms[y];if(Re){const{props:Ce,needRuntime:It}=Re(A,e,t);!i&&Ce.forEach(C),se&&x&&!Te(x)?U($e(Ce,d)):u.push(...Ce),It&&(f.push(A),Zs(It)&&da.set(A,It))}else Ha(y)||(f.push(A),m&&(v=!0))}}let T;if(p.length?(U(),p.length>1?T=pe(t.helper(Bt),p,d):T=p[0]):u.length&&(T=$e(Yn(u),d)),w?k|=16:(B&&!o&&(k|=2),I&&!o&&(k|=4),F.length&&(k|=8),b&&(k|=32)),!v&&(k===0||k===32)&&(g||D||f.length>0)&&(k|=512),!t.inSSR&&T)switch(T.type){case 15:let L=-1,A=-1,y=!1;for(let M=0;M<T.properties.length;M++){const q=T.properties[M].key;Te(q)?q.content==="class"?L=M:q.content==="style"&&(A=M):q.isHandlerKey||(y=!0)}const x=T.properties[L],P=T.properties[A];y?T=pe(t.helper(kt),[T]):(x&&!Te(x.value)&&(x.value=pe(t.helper(Os),[x.value])),P&&(I||P.value.type===4&&P.value.content.trim()[0]==="["||P.value.type===17)&&(P.value=pe(t.helper($s),[P.value])));break;case 14:break;default:T=pe(t.helper(kt),[pe(t.helper(Nt),[T])]);break}return{props:T,directives:f,patchFlag:k,dynamicPropNames:F,shouldUseBlock:v}}function Yn(e){const t=new Map,s=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.key.type===8||!n.key.isStatic){s.push(n);continue}const i=n.key.content,a=t.get(i);a?(i==="style"||i==="class"||vo(i))&&tl(a,n):(t.set(i,n),s.push(n))}return s}function tl(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=st([e.value,t.value],e.loc)}function pa(e,t){const s=[],o=da.get(e);o?s.push(t.helperString(o)):(t.helper(Cs),t.directives.add(e.name),s.push(St(e.name,"directive")));const{loc:n}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const i=W("true",!1,n);s.push($e(e.modifiers.map(a=>ie(a,i)),n))}return st(s,e.loc)}function sl(e){let t="[";for(let s=0,o=e.length;s<o;s++)t+=JSON.stringify(e[s]),s<o-1&&(t+=", ");return t+"]"}function Qs(e){return e==="component"||e==="Component"}const nl=(e,t)=>{if(Xt(e)){const{children:s,loc:o}=e,{slotName:n,slotProps:i}=ma(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let d=2;i&&(a[2]=i,d=3),s.length&&(a[3]=ft([],s,!1,!1,o),d=4),t.scopeId&&!t.slotted&&(d=5),a.splice(d),e.codegenNode=pe(t.helper(un),a,o)}};function ma(e,t){let s='"default"',o;const n=[];for(let i=0;i<e.props.length;i++){const a=e.props[i];if(a.type===6)a.value&&(a.name==="name"?s=JSON.stringify(a.value.content):(a.name=tt(a.name),n.push(a)));else if(a.name==="bind"&&et(a.arg,"name")){if(a.exp)s=a.exp;else if(a.arg&&a.arg.type===4){const d=tt(a.arg.content);s=a.exp=W(d,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Te(a.arg)&&(a.arg.content=tt(a.arg.content)),n.push(a)}if(n.length>0){const{props:i,directives:a}=kn(e,t,n,!1,!1);o=i,a.length&&t.onError(te(36,a[0].loc))}return{slotName:s,slotProps:o}}const wn=(e,t,s,o)=>{const{loc:n,modifiers:i,arg:a}=e;!e.exp&&!i.length&&s.onError(te(35,n));let d;if(a.type===4)if(a.isStatic){let f=a.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const m=t.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?za(tt(f)):`on:${f}`;d=W(m,!0,a.loc)}else d=De([`${s.helperString(ps)}(`,a,")"]);else d=a,d.children.unshift(`${s.helperString(ps)}(`),d.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let u=s.cacheHandlers&&!l&&!s.inVOnce;if(l){const f=mn(l),m=!(f||Lo(l)),v=l.content.includes(";");(m||u&&f)&&(l=De([`${m?"$event":"(...args)"} => ${v?"{":"("}`,l,v?"}":")"]))}let p={props:[ie(d,l||W("() => {}",!1,n))]};return o&&(p=o(p)),u&&(p.props[0].value=s.cache(p.props[0].value)),p.props.forEach(f=>f.key.isHandlerKey=!0),p},ol=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let o,n=!1;for(let i=0;i<s.length;i++){const a=s[i];if(as(a)){n=!0;for(let d=i+1;d<s.length;d++){const l=s[d];if(as(l))o||(o=s[i]=De([a],a.loc)),o.children.push(" + ",l),s.splice(d,1),d--;else{o=void 0;break}}}}if(!(!n||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&e.tag!=="template")))for(let i=0;i<s.length;i++){const a=s[i];if(as(a)||a.type===8){const d=[];(a.type!==2||a.content!==" ")&&d.push(a),!t.ssr&&Ie(a,t)===0&&d.push("1"),s[i]={type:12,content:a,loc:a.loc,codegenNode:pe(t.helper(Es),d)}}}}},Qn=new WeakSet,al=(e,t)=>{if(e.type===1&&Ee(e,"once",!0))return Qn.has(e)||t.inVOnce||t.inSSR?void 0:(Qn.add(e),t.inVOnce=!0,t.helper(Ut),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0,!0))})},xn=(e,t,s)=>{const{exp:o,arg:n}=e;if(!o)return s.onError(te(41,e.loc)),ss();const i=o.loc.source.trim(),a=o.type===4?o.content:i,d=s.bindingMetadata[i];if(d==="props"||d==="props-aliased")return s.onError(te(44,o.loc)),ss();if(!a.trim()||!mn(o))return s.onError(te(42,o.loc)),ss();const l=n||W("modelValue",!0),u=n?Te(n)?`onUpdate:${tt(n.content)}`:De(['"onUpdate:" + ',n]):"onUpdate:modelValue";let p;const f=s.isTS?"($event: any)":"$event";p=De([`${f} => ((`,o,") = $event)"]);const m=[ie(l,e.exp),ie(u,p)];if(e.modifiers.length&&t.tagType===1){const v=e.modifiers.map(g=>g.content).map(g=>(Gt(g)?g:JSON.stringify(g))+": true").join(", "),k=n?Te(n)?`${n.content}Modifiers`:De([n,' + "Modifiers"']):"modelModifiers";m.push(ie(k,W(`{ ${v} }`,!1,e.loc,2)))}return ss(m)};function ss(e=[]){return{props:e}}const il=/[\w).+\-_$\]]/,rl=(e,t)=>{dt("COMPILER_FILTERS",t)&&(e.type===5?gs(e.content,t):e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&gs(s.exp,t)}))};function gs(e,t){if(e.type===4)Zn(e,t);else for(let s=0;s<e.children.length;s++){const o=e.children[s];typeof o=="object"&&(o.type===4?Zn(o,t):o.type===8?gs(e,t):o.type===5&&gs(o.content,t))}}function Zn(e,t){const s=e.content;let o=!1,n=!1,i=!1,a=!1,d=0,l=0,u=0,p=0,f,m,v,k,g=[];for(v=0;v<s.length;v++)if(m=f,f=s.charCodeAt(v),o)f===39&&m!==92&&(o=!1);else if(n)f===34&&m!==92&&(n=!1);else if(i)f===96&&m!==92&&(i=!1);else if(a)f===47&&m!==92&&(a=!1);else if(f===124&&s.charCodeAt(v+1)!==124&&s.charCodeAt(v-1)!==124&&!d&&!l&&!u)k===void 0?(p=v+1,k=s.slice(0,v).trim()):B();else{switch(f){case 34:n=!0;break;case 39:o=!0;break;case 96:i=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:d++;break;case 125:d--;break}if(f===47){let I=v-1,b;for(;I>=0&&(b=s.charAt(I),b===" ");I--);(!b||!il.test(b))&&(a=!0)}}k===void 0?k=s.slice(0,v).trim():p!==0&&B();function B(){g.push(s.slice(p,v).trim()),p=v+1}if(g.length){for(v=0;v<g.length;v++)k=ll(k,g[v],t);e.content=k,e.ast=void 0}}function ll(e,t,s){s.helper(Ns);const o=t.indexOf("(");if(o<0)return s.filters.add(t),`${St(t,"filter")}(${e})`;{const n=t.slice(0,o),i=t.slice(o+1);return s.filters.add(n),`${St(n,"filter")}(${e}${i!==")"?","+i:i}`}}const eo=new WeakSet,ul=(e,t)=>{if(e.type===1){const s=Ee(e,"memo");return!s||eo.has(e)?void 0:(eo.add(e),()=>{const o=e.codegenNode||t.currentNode.codegenNode;o&&o.type===13&&(e.tagType!==1&&Rs(o,t),e.codegenNode=pe(t.helper(Ds),[s.exp,ft(void 0,o),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function ha(e){return[[al,Kr,ul,Yr,rl,nl,ca,la,ol],{on:wn,bind:aa,model:xn}]}function va(e,t={}){const s=t.onError||fn,o=t.mode==="module";t.prefixIdentifiers===!0?s(te(47)):o&&s(te(48));const n=!1;t.cacheHandlers&&s(te(49)),t.scopeId&&!o&&s(te(50));const i=ze({},t,{prefixIdentifiers:n}),a=he(e)?gn(e,i):e,[d,l]=ha();return Qo(a,ze({},i,{nodeTransforms:[...d,...t.nodeTransforms||[]],directiveTransforms:ze({},l,t.directiveTransforms||{})})),ea(a,i)}const dl={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},ga=()=>({props:[]});/**
* @vue/compiler-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const En=Symbol(""),Sn=Symbol(""),Tn=Symbol(""),Cn=Symbol(""),ys=Symbol(""),Nn=Symbol(""),In=Symbol(""),An=Symbol(""),On=Symbol(""),$n=Symbol("");To({[En]:"vModelRadio",[Sn]:"vModelCheckbox",[Tn]:"vModelText",[Cn]:"vModelSelect",[ys]:"vModelDynamic",[Nn]:"withModifiers",[In]:"withKeys",[An]:"vShow",[On]:"Transition",[$n]:"TransitionGroup"});let gt;function cl(e,t=!1){return gt||(gt=document.createElement("div")),t?(gt.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,gt.children[0].getAttribute("foo")):(gt.innerHTML=e,gt.textContent)}const Mn={parseMode:"html",isVoidTag:Ja,isNativeTag:e=>Wa(e)||Ga(e)||Ka(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:cl,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return On;if(e==="TransitionGroup"||e==="transition-group")return $n},getNamespace(e,t,s){let o=t?t.ns:s;if(t&&o===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(o=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(o=0);else t&&o===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(o=0);if(o===0){if(e==="svg")return 1;if(e==="math")return 2}return o}},ya=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:W("style",!0,t.loc),exp:fl(t.value.content,t.loc),modifiers:[],loc:t.loc})})},fl=(e,t)=>{const s=Ya(e);return W(JSON.stringify(s),!1,t,3)};function Ge(e,t){return te(e,t)}const pl={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},ml={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},hl=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(Ge(53,n)),t.children.length&&(s.onError(Ge(54,n)),t.children.length=0),{props:[ie(W("innerHTML",!0,n),o||W("",!0))]}},vl=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(Ge(55,n)),t.children.length&&(s.onError(Ge(56,n)),t.children.length=0),{props:[ie(W("textContent",!0),o?Ie(o,s)>0?o:pe(s.helperString(Wt),[o],n):W("",!0))]}},gl=(e,t,s)=>{const o=xn(e,t,s);if(!o.props.length||t.tagType===1)return o;e.arg&&s.onError(Ge(58,e.arg.loc));const{tag:n}=t,i=s.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||i){let a=Tn,d=!1;if(n==="input"||i){const l=Kt(t,"type");if(l){if(l.type===7)a=ys;else if(l.value)switch(l.value.content){case"radio":a=En;break;case"checkbox":a=Sn;break;case"file":d=!0,s.onError(Ge(59,e.loc));break}}else jo(t)&&(a=ys)}else n==="select"&&(a=Cn);d||(o.needRuntime=s.helper(a))}else s.onError(Ge(57,e.loc));return o.props=o.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),o},yl=bs("passive,once,capture"),_l=bs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),bl=bs("left,right"),_a=bs("onkeyup,onkeydown,onkeypress"),kl=(e,t,s,o)=>{const n=[],i=[],a=[];for(let d=0;d<t.length;d++){const l=t[d].content;l==="native"&&xt("COMPILER_V_ON_NATIVE",s)||yl(l)?a.push(l):bl(l)?Te(e)?_a(e.content.toLowerCase())?n.push(l):i.push(l):(n.push(l),i.push(l)):_l(l)?i.push(l):n.push(l)}return{keyModifiers:n,nonKeyModifiers:i,eventOptionModifiers:a}},to=(e,t)=>Te(e)&&e.content.toLowerCase()==="onclick"?W(t,!0):e.type!==4?De(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,wl=(e,t,s)=>wn(e,t,s,o=>{const{modifiers:n}=e;if(!n.length)return o;let{key:i,value:a}=o.props[0];const{keyModifiers:d,nonKeyModifiers:l,eventOptionModifiers:u}=kl(i,n,s,e.loc);if(l.includes("right")&&(i=to(i,"onContextmenu")),l.includes("middle")&&(i=to(i,"onMouseup")),l.length&&(a=pe(s.helper(Nn),[a,JSON.stringify(l)])),d.length&&(!Te(i)||_a(i.content.toLowerCase()))&&(a=pe(s.helper(In),[a,JSON.stringify(d)])),u.length){const p=u.map(mo).join("");i=Te(i)?W(`${i.content}${p}`,!0):De(["(",i,`) + "${p}"`])}return{props:[ie(i,a)]}}),xl=(e,t,s)=>{const{exp:o,loc:n}=e;return o||s.onError(Ge(61,n)),{props:[],needRuntime:s.helper(An)}},El=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},ba=[ya],ka={cloak:ga,html:hl,text:vl,model:gl,on:wl,show:xl};function Sl(e,t={}){return va(e,ze({},Mn,t,{nodeTransforms:[El,...ba,...t.nodeTransforms||[]],directiveTransforms:ze({},ka,t.directiveTransforms||{}),transformHoist:null}))}function Tl(e,t={}){return gn(e,ze({},Mn,t))}const Cl=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:on,BindingTypes:dl,CAMELIZE:fs,CAPITALIZE:ko,CREATE_BLOCK:an,CREATE_COMMENT:Ct,CREATE_ELEMENT_BLOCK:rn,CREATE_ELEMENT_VNODE:xs,CREATE_SLOTS:dn,CREATE_STATIC:ln,CREATE_TEXT:Es,CREATE_VNODE:ws,CompilerDeprecationTypes:zi,ConstantTypes:Vi,DOMDirectiveTransforms:ka,DOMErrorCodes:pl,DOMErrorMessages:ml,DOMNodeTransforms:ba,ElementTypes:Li,ErrorCodes:Ki,FRAGMENT:bt,GUARD_REACTIVE_PROPS:Nt,IS_MEMO_SAME:cn,IS_REF:So,KEEP_ALIVE:Ft,MERGE_PROPS:Bt,NORMALIZE_CLASS:Os,NORMALIZE_PROPS:kt,NORMALIZE_STYLE:$s,Namespaces:Di,NodeTypes:Ri,OPEN_BLOCK:nt,POP_SCOPE_ID:xo,PUSH_SCOPE_ID:wo,RENDER_LIST:As,RENDER_SLOT:un,RESOLVE_COMPONENT:Ss,RESOLVE_DIRECTIVE:Cs,RESOLVE_DYNAMIC_COMPONENT:Ts,RESOLVE_FILTER:Ns,SET_BLOCK_TRACKING:Ut,SUSPENSE:ks,TELEPORT:yt,TO_DISPLAY_STRING:Wt,TO_HANDLERS:Ms,TO_HANDLER_KEY:ps,TRANSITION:On,TRANSITION_GROUP:$n,TS_NODE_TYPES:$o,UNREF:Eo,V_MODEL_CHECKBOX:Sn,V_MODEL_DYNAMIC:ys,V_MODEL_RADIO:En,V_MODEL_SELECT:Cn,V_MODEL_TEXT:Tn,V_ON_WITH_KEYS:In,V_ON_WITH_MODIFIERS:Nn,V_SHOW:An,WITH_CTX:Ps,WITH_DIRECTIVES:Is,WITH_MEMO:Ds,advancePositionWithClone:mr,advancePositionWithMutation:Vo,assert:hr,baseCompile:va,baseParse:gn,buildDirectiveArgs:pa,buildProps:kn,buildSlots:ua,checkCompatEnabled:xt,compile:Sl,convertToBlock:Rs,createArrayExpression:st,createAssignmentExpression:Ui,createBlockStatement:Io,createCacheExpression:No,createCallExpression:pe,createCompilerError:te,createCompoundExpression:De,createConditionalExpression:ms,createDOMCompilerError:Ge,createForLoopParams:vs,createFunctionExpression:ft,createIfStatement:Bi,createInterpolation:ji,createObjectExpression:$e,createObjectProperty:ie,createReturnStatement:Hi,createRoot:Co,createSequenceExpression:Xi,createSimpleExpression:W,createStructuralDirectiveTransform:yn,createTemplateLiteral:Fi,createTransformContext:Yo,createVNodeCall:wt,errorMessages:Ji,extractIdentifiers:qe,findDir:Ee,findProp:Kt,forAliasRE:Uo,generate:ea,generateCodeFrame:Qa,getBaseTransformPreset:ha,getConstantType:Ie,getMemoedVNodeCall:Bo,getVNodeBlockHelper:mt,getVNodeHelper:pt,hasDynamicKeyVBind:jo,hasScopeRef:Le,helperNameMap:ct,injectProp:Ht,isCoreComponent:pn,isFnExpression:Lo,isFnExpressionBrowser:Ro,isFnExpressionNode:pr,isFunctionType:ar,isInDestructureAssignment:Zi,isInNewExpression:er,isMemberExpression:mn,isMemberExpressionBrowser:Do,isMemberExpressionNode:cr,isReferencedIdentifier:Qi,isSimpleIdentifier:Gt,isSlotOutlet:Xt,isStaticArgOf:et,isStaticExp:Te,isStaticProperty:Oo,isStaticPropertyKey:ir,isTemplateNode:Et,isText:as,isVPre:Gs,isVSlot:hn,locStub:ve,noopDirectiveTransform:ga,parse:Tl,parserOptions:Mn,processExpression:us,processFor:ra,processIf:oa,processSlotOutlet:ma,registerRuntimeHelpers:To,resolveComponentType:fa,stringifyExpression:na,toValidAssetId:St,trackSlotScopes:la,trackVForSlotScopes:Zr,transform:Qo,transformBind:aa,transformElement:ca,transformExpression:Gr,transformModel:xn,transformOn:wn,transformStyle:ya,traverseNode:Jt,unwrapTSNode:Mo,walkBlockDeclarations:sr,walkFunctionParams:tr,walkIdentifiers:Yi,warnDeprecation:Gi},Symbol.toStringTag,{value:"Module"})),Nl=en(Cl),Il=en(Za),Al=en(ei);/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var so;function Ol(){return so||(so=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Nl,s=Il,o=Al;function n(l){var u=Object.create(null);if(l)for(var p in l)u[p]=l[p];return u.default=l,Object.freeze(u)}var i=n(s);const a=Object.create(null);function d(l,u){if(!o.isString(l))if(l.nodeType)l=l.innerHTML;else return o.NOOP;const p=o.genCacheKey(l,u),f=a[p];if(f)return f;if(l[0]==="#"){const g=document.querySelector(l);l=g?g.innerHTML:""}const m=o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},u);!m.isCustomElement&&typeof customElements<"u"&&(m.isCustomElement=g=>!!customElements.get(g));const{code:v}=t.compile(l,m),k=new Function("Vue",v)(i);return k._rc=!0,a[p]=k}s.registerRuntimeCompiler(d),e.compile=d,Object.keys(s).forEach(function(l){l!=="default"&&!Object.prototype.hasOwnProperty.call(e,l)&&(e[l]=s[l])})}(Us)),Us}var no;function $l(){return no||(no=1,Bs.exports=Ol()),Bs.exports}var Ml=os.exports,oo;function Pl(){return oo||(oo=1,function(e,t){(function(o,n){e.exports=n($l())})(Ml,s=>(()=>{var o={113:(C,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.default=(L,A)=>{const y=L.__vccOpts||L;for(const[x,P]of A)y[x]=P;return y}},594:C=>{C.exports=s}},n={};function i(C){var T=n[C];if(T!==void 0)return T.exports;var L=n[C]={exports:{}};return o[C](L,L.exports,i),L.exports}i.d=(C,T)=>{for(var L in T)i.o(T,L)&&!i.o(C,L)&&Object.defineProperty(C,L,{enumerable:!0,get:T[L]})},i.o=(C,T)=>Object.prototype.hasOwnProperty.call(C,T),i.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})};var a={};i.r(a),i.d(a,{ToastComponent:()=>D,ToastPlugin:()=>U,ToastPositions:()=>v,default:()=>J,useToast:()=>F});var d=i(594);const l=["innerHTML"];function u(C,T,L,A,y,x){return(0,d.openBlock)(),(0,d.createBlock)(d.Transition,{"enter-active-class":C.transition.enter,"leave-active-class":C.transition.leave},{default:(0,d.withCtx)(()=>[(0,d.withDirectives)((0,d.createElementVNode)("div",{ref:"root",role:"alert",class:(0,d.normalizeClass)(["v-toast__item",[`v-toast__item--${C.type}`,`v-toast__item--${C.position}`]]),onMouseover:T[0]||(T[0]=P=>C.toggleTimer(!0)),onMouseleave:T[1]||(T[1]=P=>C.toggleTimer(!1)),onClick:T[2]||(T[2]=function(){return C.whenClicked&&C.whenClicked(...arguments)})},[T[3]||(T[3]=(0,d.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,d.createElementVNode)("p",{class:"v-toast__text",innerHTML:C.message},null,8,l)],34),[[d.vShow,C.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function p(C){var T;typeof C.remove<"u"?C.remove():(T=C.parentNode)==null||T.removeChild(C)}function f(C,T,L){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const y=(0,d.h)(C,T,A),x=document.createElement("div");return x.classList.add("v-toast--pending"),L.appendChild(x),(0,d.render)(y,x),y.component}class m{constructor(T,L){this.startedAt=Date.now(),this.callback=T,this.delay=L,this.timer=setTimeout(T,L)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const v=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function k(C){return{all:C=C||new Map,on:function(T,L){var A=C.get(T);A?A.push(L):C.set(T,[L])},off:function(T,L){var A=C.get(T);A&&(L?A.splice(A.indexOf(L)>>>0,1):C.set(T,[]))},emit:function(T,L){var A=C.get(T);A&&A.slice().map(function(y){y(L)}),(A=C.get("*"))&&A.slice().map(function(y){y(T,L)})}}}const B=k(),I=(0,d.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:v.BOTTOM_RIGHT,validator(C){return Object.values(v).includes(C)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),B.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const C=document.body;C.appendChild(this.parentTop),C.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const C=this.$refs.root;(0,d.render)(null,C),p(C)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const C=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),p(C),this.isActive=!0,this.duration&&(this.timer=new m(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(C){!this.pauseOnHover||!this.timer||(C?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case v.TOP:case v.TOP_RIGHT:case v.TOP_LEFT:return this.parentTop;case v.BOTTOM:case v.BOTTOM_RIGHT:case v.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case v.TOP:case v.TOP_RIGHT:case v.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case v.BOTTOM:case v.BOTTOM_RIGHT:case v.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){B.off("toast-clear",this.dismiss)}});var b=i(113);const D=(0,b.default)(I,[["render",u]]),F=function(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(T){let L=null;typeof T=="string"&&(L=T);const y=Object.assign({},{message:L},C,T);return{dismiss:f(D,y,document.body).ctx.dismiss}},clear(){B.emit("toast-clear")},success(T){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:T,type:"success"},L))},error(T){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:T,type:"error"},L))},info(T){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:T,type:"info"},L))},warning(T){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:T,type:"warning"},L))},default(T){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:T,type:"default"},L))}}},U={install:function(C){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=F(T);C.config.globalProperties.$toast=L,C.provide("$toast",L)}},J=U;return a})())}(os)),os.exports}var Dl=Pl();const Rl={class:"p-8"},Ll={class:"mt-2 text-sm text-gray-600"},Vl={key:0,class:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-lg"},jl={class:"mt-4"},Fl={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},Bl={class:"lg:col-span-1 space-y-3"},Ul=["onClick"],Xl={class:"flex items-center justify-between"},Hl={class:"flex items-center"},ql={class:"ml-2 text-sm text-gray-500"},zl={key:0},Wl={key:1},Gl={key:1,class:"text-xs text-gray-400"},Kl={key:0,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner"},Jl={key:0},Yl={class:"text-xl font-semibold text-gray-800 mb-4"},Ql={class:"mb-4 text-sm text-right"},Zl=["disabled"],eu={class:"flex items-center justify-between mb-6 p-4 rounded-lg bg-white shadow-sm border border-gray-200"},tu={class:"relative inline-flex items-center cursor-pointer"},su=["checked"],nu={key:0},ou={class:"flex-1"},au=["onUpdate:modelValue"],iu={class:"flex-1"},ru=["onUpdate:modelValue"],lu=["onClick"],uu={key:1},du={key:1,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner flex items-center justify-center"},cu={class:"mt-8 flex justify-end space-x-3"},fu={key:0,class:"flex items-center"},pu={key:1},mu={__name:"AvailabilityModal",props:{show:Boolean,userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(e,{emit:t}){const s=()=>{const A=localStorage.getItem("authToken");A&&!oe.defaults.headers.common.Authorization&&(oe.defaults.headers.common.Authorization=`Bearer ${A}`)},o=e,n=t,i=Dl.useToast(),a=O({}),d=O({}),l=O(!1),u=O(null),p=O(""),f=O(!1),m=O([]),v=()=>{const A=[],y=new Date,x=y.getDay(),P=x===0?1:8-x,M=new Date(y);M.setDate(y.getDate()+P);for(let q=0;q<7;q++){const H=new Date(M);H.setDate(M.getDate()+q);const se=H.toISOString().split("T")[0];A.push({value:se,label:H.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:H.toLocaleDateString("en-US",{weekday:"short"})})}return A},k=()=>{const A=[],y=new Date,x=y.getDay(),P=new Date(y);P.setDate(y.getDate()-(x===0?6:x-1));for(let M=0;M<7;M++){const q=new Date(P);q.setDate(P.getDate()+M);const H=q.toISOString().split("T")[0];A.push({value:H,label:q.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:q.toLocaleDateString("en-US",{weekday:"short"})})}return A},g=()=>{f.value=!0,p.value="",m.value=k(),u.value=null,I()},B=()=>{f.value=!1,p.value="",m.value=v(),u.value=null,I()};Ke(()=>{s(),m.value=v(),I()});const I=async()=>{try{if(s(),m.value.length===0)return;const A=m.value[0].value,y=m.value[m.value.length-1].value,x=await oe.get("/api/availabilities",{params:{start_date:A,end_date:y,user_id:o.userId}});if(x.data&&x.data.availabilities){const P={};m.value.forEach(M=>{P[M.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),a.value=P,x.data.availabilities.forEach(M=>{const q=M.date.split("T")[0];a.value[q]&&(a.value[q].isSelected=!0,a.value[q].isAvailable=M.is_available,M.is_available?a.value[q].timeSlots=M.time_slots&&M.time_slots.length>0?[...M.time_slots]:[{start_time:"",end_time:""}]:a.value[q].reason=M.reason||"")})}}catch(A){console.error("Error fetching existing availabilities:",A)}};me(()=>o.show,async A=>{A&&(d.value={},p.value="",f.value=!1,m.value=v(),await I()),u.value=null},{immediate:!0});const b=K(()=>a.value[u.value]||{isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}),w=K(()=>Object.values(a.value).some(A=>A.isSelected)),D=K(()=>{const A=a.value[u.value];return A?A.isAvailable?A.timeSlots.some(y=>y.start_time&&y.end_time):A.reason.trim().split(/\s+/).filter(Boolean).length>=2:!1}),F=A=>{u.value=A,a.value[A]&&(a.value[A].isSelected=!0)},U=()=>{var y;const A=(y=a.value[u.value])==null?void 0:y.timeSlots;A&&(A.push({start_time:"",end_time:""}),a.value[u.value].isSelected=!0)},J=A=>{var x;const y=(x=a.value[u.value])==null?void 0:x.timeSlots;y&&y.length>1&&(y.splice(A,1),a.value[u.value].isSelected=!0)},C=A=>{a.value[u.value]&&(a.value[u.value].isAvailable=A,a.value[u.value].isSelected=!0,A?a.value[u.value].reason="":a.value[u.value].timeSlots=[{start_time:"",end_time:""}])},T=()=>{const A=a.value[u.value];if(A){if(!D.value){A.isAvailable?d.value[u.value]={timeSlots:"Please fill in at least one time slot before applying to all days."}:d.value[u.value]={reason:"Reason must be at least 2 words to apply to all days."};return}delete d.value[u.value];for(const y of m.value){const x=y.value;a.value[x]=JSON.parse(JSON.stringify(A)),a.value[x].isSelected=!0}i.success("Availability applied to all days!")}},L=async()=>{if(l.value=!0,d.value={},f.value&&!p.value.trim()){d.value.lateReason="Please provide a reason for this late submission.",l.value=!1;return}const A=[];for(const y of m.value){const x=y.value,P=a.value[x];let M={};if(P.isSelected){if(P.isAvailable)if(P.timeSlots.some(q=>!q.start_time||!q.end_time))M.timeSlots="Please fill in all time slots.";else for(const q of P.timeSlots){const H=q.start_time.split(":").map(Number),se=q.end_time.split(":").map(Number);if(H[0]*60+H[1]>=se[0]*60+se[1]){M.timeSlots="End time must be after start time.";break}}else P.reason.trim()||(M.reason="Please provide a reason for unavailability.");Object.keys(M).length>0&&(d.value[x]=M),Object.keys(M).length===0&&A.push({date:x,is_available:P.isAvailable,reason:P.isAvailable?null:P.reason,time_slots:P.isAvailable?P.timeSlots:null})}}if(A.length===0){d.value.general="Please select and set availability for at least one day.",l.value=!1;return}try{s();const y={availabilities:A,reason_for_late_submission:f.value?p.value:null};await oe.post("/api/availabilities/batch",y),i.success("Availability saved successfully!"),n("availability-saved"),n("close")}catch(y){console.error("Error saving availability:",y),i.error("An error occurred while saving your availability.")}finally{l.value=!1}};return(A,y)=>(c(),X(cs,{show:e.show,onClose:y[4]||(y[4]=x=>A.$emit("close")),"max-width":"4xl"},{default:N(()=>{var x,P,M,q;return[r("div",Rl,[y[17]||(y[17]=r("h2",{class:"text-2xl font-bold text-gray-900"}," Set Your Weekly Availability ",-1)),r("p",Ll,[y[5]||(y[5]=$(" Select a day to quickly set your schedule for the upcoming week. ",-1)),f.value?(c(),h("span",{key:1,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:B}," Go back to next week. ")):(c(),h("span",{key:0,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:g}," Missed the deadline? Submit for this week. "))]),f.value?(c(),h("div",Vl,[y[6]||(y[6]=r("div",{class:"flex items-center"},[r("svg",{class:"h-5 w-5 text-yellow-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[r("path",{"fill-rule":"evenodd",d:"M8.257 3.344a1.5 1.5 0 012.486 0l5.446 9.176A1.5 1.5 0 0114.246 15H5.754a1.5 1.5 0 01-1.238-2.48zM9 11a1 1 0 102 0V7a1 1 0 10-2 0v4zm1-3a1 1 0 100 2h.01a1 1 0 100-2H10z","clip-rule":"evenodd"})]),r("p",{class:"font-semibold"},"Late Submission for Current Week")],-1)),y[7]||(y[7]=r("p",{class:"mt-2 text-sm"}," Please provide a reason for submitting late. We acknowledge that availability submissions are due by Thursday evening. ",-1)),r("div",jl,[_(Q,{value:"Reason for late submission"}),ce(r("textarea",{"onUpdate:modelValue":y[0]||(y[0]=H=>p.value=H),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., I was out sick, I forgot, I had no access to the system"},null,512),[[Ve,p.value]]),_(ee,{message:d.value.lateReason,class:"mt-2"},null,8,["message"])])])):S("",!0),r("div",Fl,[r("div",Bl,[(c(!0),h(ae,null,re(m.value,H=>{var se;return c(),h("div",{key:H.value,class:z(["p-4 rounded-xl border cursor-pointer transition-all duration-200 ease-in-out",{"bg-indigo-50 border-indigo-500 shadow-lg":u.value===H.value,"bg-white border-gray-200 hover:border-indigo-400 hover:shadow-md":u.value!==H.value,"border-red-400 bg-red-50":d.value[H.value],"opacity-70":H.isPast}]),onClick:Re=>F(H.value)},[r("div",Xl,[r("div",Hl,[r("div",{class:z(["text-lg font-bold",{"text-indigo-600":u.value===H.value,"text-gray-800":u.value!==H.value}])},V(H.day),3),r("div",ql,V(H.label.split(", ")[1]),1)]),(se=a.value[H.value])!=null&&se.isSelected?(c(),h("span",{key:0,class:z(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",{"bg-emerald-100 text-emerald-800":a.value[H.value].isAvailable,"bg-amber-100 text-amber-800":!a.value[H.value].isAvailable}])},[a.value[H.value].isAvailable?(c(),h("span",zl,"Available")):(c(),h("span",Wl,"Unavailable"))],2)):(c(),h("span",Gl," Not Set "))])],10,Ul)}),128))]),u.value?(c(),h("div",Kl,[u.value?(c(),h("div",Jl,[r("h3",Yl," Availability for "+V((x=m.value.find(H=>H.value===u.value))==null?void 0:x.label),1),r("div",Ql,[r("button",{type:"button",onClick:T,disabled:!D.value,class:z([{"opacity-50 cursor-not-allowed":!D.value},"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out"])},y[8]||(y[8]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),r("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"})],-1),$(" Apply to all days ",-1)]),10,Zl)]),r("div",eu,[y[10]||(y[10]=r("span",{class:"text-sm font-medium text-gray-700"},"I am available on this day",-1)),r("label",tu,[r("input",{type:"checkbox",checked:b.value.isAvailable,onChange:y[1]||(y[1]=H=>C(H.target.checked)),class:"sr-only peer"},null,40,su),y[9]||(y[9]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1))])]),_(ee,{message:(P=d.value[u.value])==null?void 0:P.general,class:"mt-2"},null,8,["message"]),b.value.isAvailable?(c(),h("div",nu,[_(Q,{value:"Available Time Slots",class:"text-gray-800 mb-2"}),_(ee,{message:(M=d.value[u.value])==null?void 0:M.timeSlots,class:"mt-2 mb-4"},null,8,["message"]),(c(!0),h(ae,null,re(b.value.timeSlots,(H,se)=>(c(),h("div",{key:se,class:"flex items-center space-x-2 mb-4"},[r("div",ou,[ce(r("input",{type:"time","onUpdate:modelValue":Re=>a.value[u.value].timeSlots[se].start_time=Re,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,au),[[Ve,a.value[u.value].timeSlots[se].start_time]])]),y[12]||(y[12]=r("span",{class:"text-gray-500"},"-",-1)),r("div",iu,[ce(r("input",{type:"time","onUpdate:modelValue":Re=>a.value[u.value].timeSlots[se].end_time=Re,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,ru),[[Ve,a.value[u.value].timeSlots[se].end_time]])]),a.value[u.value].timeSlots.length>1?(c(),h("button",{key:0,type:"button",onClick:Re=>J(se),class:"p-2 text-red-600 hover:text-red-800 transition duration-150 ease-in-out"},y[11]||(y[11]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,lu)):S("",!0)]))),128))])):S("",!0),r("button",{type:"button",onClick:U,class:"mt-2 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},y[13]||(y[13]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),$(" Add Another Time Slot ",-1)]))])):(c(),h("div",uu,[_(Q,{value:"Reason for Not Available",class:"text-gray-800 mb-2"}),ce(r("textarea",{"onUpdate:modelValue":y[2]||(y[2]=H=>a.value[u.value].reason=H),rows:"3",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,512),[[Ve,a.value[u.value].reason]]),_(ee,{message:(q=d.value[u.value])==null?void 0:q.reason,class:"mt-2"},null,8,["message"])]))])):(c(),h("div",du,y[14]||(y[14]=[r("p",{class:"text-gray-500 text-lg font-medium"}," Please select a day from the left to set your availability. ",-1)])))]),r("div",cu,[_(jt,{onClick:y[3]||(y[3]=H=>A.$emit("close"))},{default:N(()=>y[15]||(y[15]=[$(" Cancel ",-1)])),_:1,__:[15]}),_(ke,{onClick:L,disabled:l.value||!w.value,class:z({"opacity-50 cursor-not-allowed":l.value||!w.value})},{default:N(()=>[l.value?(c(),h("span",fu,y[16]||(y[16]=[r("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),$(" Saving... ",-1)]))):(c(),h("span",pu,"Save Availability"))]),_:1},8,["disabled","class"])])])]}),_:1},8,["show"]))}},hu={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},vu={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},gu={class:"flex justify-center"},yu={__name:"AvailabilityBlocker",setup(e){const t=O(!1),s=O(!0),o=O(!1),n=O([]),i=K(()=>{var g;return((g=zt().props.auth.user)==null?void 0:g.id)||null}),a=()=>{const g=localStorage.getItem("authToken");g&&!oe.defaults.headers.common.Authorization&&(oe.defaults.headers.common.Authorization=`Bearer ${g}`)},d=async()=>{s.value=!0;const g=localStorage.getItem("shouldBlockUser"),B=localStorage.getItem("allWeekdaysCovered");if(g==="true"&&B==="false")t.value=!0,await l();else try{a();const I=await oe.get("/api/availability-prompt");t.value=I.data.should_block_user&&!I.data.all_weekdays_covered,t.value&&await l()}catch(I){console.error("Error checking if user should be blocked:",I),t.value=!1}s.value=!1},l=async()=>{try{a();const g=await oe.get("/api/availability-prompt");u(g.data.next_week_start,g.data.next_week_end)}catch(g){console.error("Error fetching next week dates:",g)}},u=(g,B)=>{const I=[],b=new Date(g),w=new Date(B),D=new Date(b);for(;D<=w;)I.push({value:D.toISOString().split("T")[0],label:D.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),D.setDate(D.getDate()+1);n.value=I},p=()=>{o.value=!0},f=()=>{d()},m=g=>{t.value=g.detail.shouldBlockUser&&!g.detail.allWeekdaysCovered},v=()=>{document.visibilityState==="visible"&&ut(()=>{d()})},k=g=>{(g.key==="shouldBlockUser"||g.key==="allWeekdaysCovered")&&ut(()=>{d()})};return Ke(()=>{d(),window.addEventListener("availability-status-updated",m),document.addEventListener("visibilitychange",v),window.addEventListener("storage",k)}),_s(()=>{window.removeEventListener("availability-status-updated",m),document.removeEventListener("visibilitychange",v),window.removeEventListener("storage",k)}),(g,B)=>t.value&&!s.value?(c(),h("div",hu,[r("div",vu,[B[2]||(B[2]=ti('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div><p class="mb-6 text-gray-700"> You must submit your availability for all weekdays of next week before you can continue using the application. This is required for planning meetings and work schedules. </p>',2)),r("div",gu,[_(ke,{onClick:p,class:"bg-red-600 hover:bg-red-700"},{default:N(()=>B[1]||(B[1]=[$(" Submit Availability Now ",-1)])),_:1,__:[1]})]),_(mu,{show:o.value,"next-week-dates":n.value,date:n.value.length>0?n.value[0].value:"",userId:i.value,onClose:B[0]||(B[0]=I=>o.value=!1),onAvailabilitySaved:f},null,8,["show","next-week-dates","date","userId"])])])):S("",!0)}},_u={class:"p-6"},bu={class:"flex justify-between items-center mb-4"},ku={class:"text-lg font-medium text-gray-900"},wu={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},xu={class:"block sm:inline"},Eu={key:0,class:"mt-6 flex justify-end space-x-3"},Su={__name:"BaseFormModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Modal Title"},apiEndpoint:{type:String,required:!1},httpMethod:{type:String,default:"post",validator:e=>["post","put","patch","delete"].includes(e.toLowerCase())},formData:{type:Object,required:!0},submitButtonText:{type:String,default:"Save"},successMessage:{type:String,default:"Operation successful!"},formatDataForApi:{type:Function,default:e=>e},beforeSubmit:{type:Function,default:()=>!0},showFooter:{type:Boolean,default:!0}},emits:["close","submitted","error"],setup(e,{emit:t}){const s=e,o=t,n=O(!1),i=O({}),a=O("");me(()=>s.show,u=>{u&&(i.value={},a.value="",n.value=!1)});const d=async()=>{var u;n.value=!0,i.value={},a.value="";try{if(await s.beforeSubmit()===!1){n.value=!1;return}const f=s.formatDataForApi(s.formData);let m;const v=s.httpMethod.toLowerCase();if(v==="post")m=await window.axios.post(s.apiEndpoint,f);else if(v==="put")m=await window.axios.put(s.apiEndpoint,f);else if(v==="patch")m=await window.axios.patch(s.apiEndpoint,f);else if(v==="delete")m=await window.axios.delete(s.apiEndpoint,{data:f});else throw new Error(`Unsupported HTTP method: ${s.httpMethod}`);Se(s.successMessage),o("submitted",m.data),o("close")}catch(p){console.error("API submission error:",p);let f="An unexpected error occurred.";p.response?p.response.status===422?(i.value=p.response.data.errors||{},f=p.response.data.message||"Please correct the errors in the form."):(f=p.response.data.message||"An unexpected error occurred.",a.value=f):(f="A network error occurred or the server is unreachable.",a.value=f),Object.keys(i.value).length>0?a.value="Please correct the errors in the form.":((u=p.response)==null?void 0:u.status)!==422&&(a.value=f),fe(f),o("error",p)}finally{n.value=!1}},l=()=>{o("close")};return(u,p)=>(c(),X(cs,{show:e.show,onClose:l},{default:N(()=>[r("div",_u,[r("div",bu,[r("h2",ku,V(e.title),1),r("button",{onClick:l,class:"text-gray-400 hover:text-gray-500"},p[0]||(p[0]=[r("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a.value?(c(),h("div",wu,[r("span",xu,V(a.value),1)])):S("",!0),r("form",{onSubmit:tn(d,["prevent"])},[Be(u.$slots,"default",{errors:i.value},void 0,!0),e.showFooter?(c(),h("div",Eu,[_(jt,{onClick:l,type:"button",disabled:n.value},{default:N(()=>p[1]||(p[1]=[$(" Cancel ",-1)])),_:1,__:[1]},8,["disabled"]),_(ke,{type:"submit",disabled:n.value,class:z({"opacity-75 cursor-not-allowed":n.value})},{default:N(()=>[$(V(n.value?"Submitting...":e.submitButtonText),1)]),_:1},8,["disabled","class"])])):S("",!0)],32)])]),_:3},8,["show"]))}},Qt=Tt(Su,[["__scopeId","data-v-5ed3c88d"]]),Tu=(e,t)=>{let s;return(...o)=>{clearTimeout(s),s=setTimeout(()=>e(...o),t)}},Cu={class:"relative"},Nu={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},Iu=["onClick"],Au={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},Ou=["onClick"],$u={key:1,class:"px-4 py-2 text-sm text-gray-500"},Mu={key:2,class:"px-4 py-2 text-sm text-gray-500"},Pu={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=O(""),i=O([]),a=O([]),d=O(!1),l=O(null);function u(){o("update:modelValue",a.value.map(I=>I.id))}me(()=>s.initialTags,I=>{if(a.value=[],I&&I.length>0){const F=[],U=new Set;I.forEach(J=>{U.has(J.id)||(F.push(J),U.add(J.id))}),a.value.push(...F)}const b=I.map(F=>F.id),w=Array.isArray(s.modelValue)?s.modelValue:[];(b.length!==w.length||b.some(F=>!w.includes(F))||w.some(F=>!b.includes(F)))&&u()},{immediate:!0});const p=Tu(async I=>{if(I.length<2){i.value=[],d.value=!1;return}try{const b=await oe.get(`/api/tags/search?query=${I}`);i.value=b.data,d.value=!0}catch(b){console.error("Error fetching tags:",b),i.value=[],d.value=!1}},300);me(n,I=>{s.disabled||p(I)});const f=I=>{a.value.some(b=>b.id===I.id)||(a.value.push(I),n.value="",i.value=[],d.value=!1,u()),ut(()=>l.value.focus())},m=()=>{if(s.disabled)return;const I=n.value.trim();if(!I)return;const b=i.value.find(D=>D.name.toLowerCase()===I.toLowerCase()),w=a.value.some(D=>D.name.toLowerCase()===I.toLowerCase());if(b)f(b);else if(w)n.value="",i.value=[],d.value=!1;else{const D={id:`new_${I.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:I};a.value.push(D),n.value="",i.value=[],d.value=!1,u()}ut(()=>l.value.focus())},v=I=>{s.disabled||(a.value=a.value.filter(b=>b.id!==I.id),u(),ut(()=>l.value.focus()))},k=()=>{s.disabled||n.value===""&&a.value.length>0&&v(a.value[a.value.length-1])},g=K(()=>i.value.filter(I=>!a.value.some(b=>b.id===I.id))),B=I=>{l.value&&!l.value.$el.contains(I.target)&&(d.value=!1,n.value="")};return Ke(()=>{document.addEventListener("click",B)}),_s(()=>{document.removeEventListener("click",B)}),(I,b)=>(c(),h("div",Cu,[_(Q,{value:e.label,class:"mb-1"},null,8,["value"]),r("div",Nu,[(c(!0),h(ae,null,re(a.value,w=>(c(),h("span",{key:w.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[$(V(w.name)+" ",1),e.disabled?S("",!0):(c(),h("button",{key:0,type:"button",onClick:D=>v(w),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},b[3]||(b[3]=[r("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Iu))]))),128)),_(Fe,{ref_key:"inputRef",ref:l,type:"text",placeholder:a.value.length===0?e.placeholder:"",modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=w=>n.value=w),onFocus:b[1]||(b[1]=w=>d.value=!0),onKeydown:[ns(tn(m,["prevent"]),["enter"]),b[2]||(b[2]=ns(w=>d.value=!1,["tab"])),ns(k,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:e.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),d.value&&(g.value.length>0||n.value.length>=2||g.value.length===0&&n.value.length<2)&&!e.disabled?(c(),h("div",Au,[(c(!0),h(ae,null,re(g.value,w=>(c(),h("div",{key:w.id,onClick:D=>f(w),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},V(w.name),9,Ou))),128)),!i.value.some(w=>w.name.toLowerCase()===n.value.toLowerCase())&&n.value.length>=2?(c(),h("div",{key:0,onClick:m,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+V(n.value)+'" ',1)):S("",!0),g.value.length===0&&n.value.length<2?(c(),h("div",$u," Type at least 2 characters to search for tags. ")):S("",!0),g.value.length===0&&n.value.length>=2&&!i.value.some(w=>w.name.toLowerCase()===n.value.toLowerCase())?(c(),h("div",Mu,[b[4]||(b[4]=$(" No matching tags found. Press ",-1)),b[5]||(b[5]=r("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),$(' to add "'+V(n.value)+'" as a new tag. ',1)])):S("",!0)])):S("",!0),_(ee,{message:e.error,class:"mt-2"},null,8,["message"])]))}},wa=Tt(Pu,[["__scopeId","data-v-4d528a4c"]]),Du={class:"space-y-4"},Ru="Add New Milestone",Lu="/api/milestones",Vu="post",ju="Create Milestone",Fu="Milestone created successfully!",Bu={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=_t({name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i=_t({completion_date:null}),a=["Not Started","In Progress","Completed","Overdue"];me(()=>s.show,p=>{p&&(Object.assign(n,{name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i.completion_date=null)},{immediate:!0});const d=()=>(i.completion_date=null,n.completion_date?!0:(i.completion_date=["Completion date is required."],!1)),l=p=>{o("saved",p),o("close")},u=()=>{o("close")};return(p,f)=>(c(),X(Qt,{show:e.show,title:Ru,"api-endpoint":Lu,"http-method":Vu,"form-data":n,"submit-button-text":ju,"success-message":Fu,"before-submit":d,onClose:u,onSubmitted:l},{default:N(({errors:m})=>[r("div",Du,[r("div",null,[_(Q,{for:"milestone-name",value:"Milestone Name"}),_(Fe,{id:"milestone-name",modelValue:n.name,"onUpdate:modelValue":f[0]||(f[0]=v=>n.name=v),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),_(ee,{message:m.name?m.name[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"milestone-description",value:"Description"}),ce(r("textarea",{id:"milestone-description","onUpdate:modelValue":f[1]||(f[1]=v=>n.description=v),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[Ve,n.description]]),_(ee,{message:m.description?m.description[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"milestone-completion-date",value:"Completion Date"}),_(Fe,{id:"milestone-completion-date",modelValue:n.completion_date,"onUpdate:modelValue":f[2]||(f[2]=v=>n.completion_date=v),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),_(ee,{message:m.completion_date?m.completion_date[0]:i.completion_date?i.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"milestone-status",value:"Status"}),_(Pe,{id:"milestone-status",modelValue:n.status,"onUpdate:modelValue":f[3]||(f[3]=v=>n.status=v),options:a.map(v=>({value:v,label:v})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),_(ee,{message:m.status?m.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},Uu={class:"space-y-4"},Xu={key:0},Hu={key:0,class:"text-sm text-gray-500"},qu={key:0,class:"text-sm text-gray-500"},zu={key:0,class:"text-sm text-gray-500"},Wu={class:"flex items-center gap-2 mt-1"},Gu={key:0,class:"text-sm text-gray-500"},Ku=["disabled"],Ju="Create New Task",Yu="/api/tasks",Qu="post",Zu="Create Task",ed="Task created successfully!",td={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,o=t,n=_t({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),i=["To Do","In Progress","Done","Blocked","Archived"],a=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],d=O([]),l=O([]),u=O([]),p=O([]),f=O(!0),m=O(!1),v=O(!1),k=O(!1),g=O(!1);me(()=>s.show,async y=>{y&&(Object.assign(n,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),s.projectId?await I(s.projectId):await B())},{immediate:!0}),me(()=>n.project_id,async y=>{y?await I(y):(l.value=[],u.value=[],p.value=[])});const B=async()=>{f.value=!0;try{const y=await window.axios.get("/api/projects-simplified");d.value=y.data.map(x=>({value:x.id,label:x.name}))}catch(y){console.error("Error fetching projects:",y),d.value=[]}finally{f.value=!1}},I=async y=>{if(y){m.value=!0,v.value=!0,k.value=!0;try{const[x,P,M]=await Promise.all([window.axios.get(`/api/projects/${y}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${y}/milestones`)]);l.value=x.data.map(q=>({value:q.id,label:q.name})),u.value=P.data.map(q=>({value:q.id,label:q.name})),p.value=M.data.map(q=>({value:q.id,label:q.name}))}catch(x){console.error("Error fetching associated task data:",x),l.value=[],u.value=[],p.value=[]}finally{m.value=!1,v.value=!1,k.value=!1}}},b=O([]),w=y=>{b.value=Array.from(y.target.files||[])},D=async y=>{if(!b.value.length)return;const x=new FormData;b.value.forEach((P,M)=>x.append(`files[${M}]`,P)),x.append("model_type","Task"),x.append("model_id",y);try{await window.axios.post("/api/files",x,{headers:{"Content-Type":"multipart/form-data"}}),Se("Files uploaded to Google Drive.")}catch(P){console.error("Failed to upload task files",P),fe("Failed to upload files.")}},F=async y=>{var x,P;try{const M=(y==null?void 0:y.id)||((x=y==null?void 0:y.task)==null?void 0:x.id)||((P=y==null?void 0:y.data)==null?void 0:P.id);M&&await D(M)}finally{o("saved",y),o("close"),b.value=[]}},U=()=>{o("close")},J=()=>{n.project_id?g.value=!0:alert("Please select a project before adding a milestone.")},C=y=>{if(g.value=!1,y&&y.id&&y.name){const x={value:y.id,label:y.name};p.value.some(P=>P.value===x.value)||p.value.push(x),n.milestone_id=x.value}},T=K(()=>l.value),L=K(()=>u.value),A=K(()=>p.value);return(y,x)=>(c(),h(ae,null,[_(Qt,{show:e.show,title:Ju,"api-endpoint":Yu,"http-method":Qu,"form-data":n,"submit-button-text":Zu,"success-message":ed,onClose:U,onSubmitted:F},{default:N(({errors:P})=>[r("div",Uu,[e.projectId?S("",!0):(c(),h("div",Xu,[_(Q,{for:"task-project",value:"Project"}),f.value?(c(),h("div",Hu,"Loading projects...")):(c(),X(Pe,{key:1,id:"task-project",modelValue:n.project_id,"onUpdate:modelValue":x[0]||(x[0]=M=>n.project_id=M),options:d.value,"value-key":"value","label-key":"label",placeholder:"Select a project",class:"mt-1",required:!0},null,8,["modelValue","options"])),_(ee,{message:P.project_id?P.project_id[0]:"",class:"mt-2"},null,8,["message"])])),r("div",null,[_(Q,{for:"task-name",value:"Task Name"}),_(Fe,{id:"task-name",modelValue:n.name,"onUpdate:modelValue":x[1]||(x[1]=M=>n.name=M),type:"text",class:"mt-1 block w-full",placeholder:"Enter task name",required:""},null,8,["modelValue"]),_(ee,{message:P.name?P.name[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"task-description",value:"Description"}),ce(r("textarea",{id:"task-description","onUpdate:modelValue":x[2]||(x[2]=M=>n.description=M),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[Ve,n.description]]),_(ee,{message:P.description?P.description[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"task-status",value:"Status"}),_(Pe,{id:"task-status",modelValue:n.status,"onUpdate:modelValue":x[3]||(x[3]=M=>n.status=M),options:i.map(M=>({value:M,label:M})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),_(ee,{message:P.status?P.status[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"task-priority",value:"Priority"}),_(Pe,{id:"task-priority",modelValue:n.priority,"onUpdate:modelValue":x[4]||(x[4]=M=>n.priority=M),options:a,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1"},null,8,["modelValue"]),_(ee,{message:P.priority?P.priority[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"task-due-date",value:"Due Date"}),_(Fe,{id:"task-due-date",modelValue:n.due_date,"onUpdate:modelValue":x[5]||(x[5]=M=>n.due_date=M),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),_(ee,{message:P.due_date?P.due_date[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"task-assigned-to",value:"Assigned To"}),m.value?(c(),h("div",qu,"Loading users...")):(c(),X(Pe,{key:1,id:"task-assigned-to",modelValue:n.assigned_to_user_id,"onUpdate:modelValue":x[6]||(x[6]=M=>n.assigned_to_user_id=M),options:T.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),_(ee,{message:P.assigned_to_user_id?P.assigned_to_user_id[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"task-type",value:"Task Type"}),v.value?(c(),h("div",zu,"Loading task types...")):(c(),X(Pe,{key:1,id:"task-type",modelValue:n.task_type_id,"onUpdate:modelValue":x[7]||(x[7]=M=>n.task_type_id=M),options:L.value,"value-key":"value","label-key":"label",placeholder:"Select a task type",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),_(ee,{message:P.task_type_id?P.task_type_id[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"task-milestone",value:"Milestone"}),r("div",Wu,[k.value?(c(),h("div",Gu,"Loading milestones...")):(c(),X(Pe,{key:1,id:"task-milestone",modelValue:n.milestone_id,"onUpdate:modelValue":x[8]||(x[8]=M=>n.milestone_id=M),options:A.value,"value-key":"value","label-key":"label",placeholder:"No milestone",class:"flex-grow","allow-empty":!0,disabled:!n.project_id},null,8,["modelValue","options","disabled"])),r("button",{type:"button",onClick:J,disabled:!n.project_id||k.value,class:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add New Milestone"},x[11]||(x[11]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,Ku)]),_(ee,{message:P.milestone_id?P.milestone_id[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(wa,{modelValue:n.tags,"onUpdate:modelValue":x[9]||(x[9]=M=>n.tags=M),initialTags:n.tags_data,label:"Tags",placeholder:"Search or add tags",error:P.tags?P.tags[0]:"",disabled:!n.project_id},null,8,["modelValue","initialTags","error","disabled"])]),r("div",null,[_(Q,{for:"task-files",value:"Attach Files (optional)"}),r("input",{id:"task-files",type:"file",class:"mt-1 block w-full",multiple:"",onChange:w},null,32),x[12]||(x[12]=r("p",{class:"text-xs text-gray-500 mt-1"},"Files will be uploaded to Google Drive under the Task folder after the task is created.",-1))])])]),_:1},8,["show","form-data"]),_(Bu,{show:g.value,"project-id":n.project_id,onClose:x[10]||(x[10]=P=>g.value=!1),onSaved:C},null,8,["show","project-id"])],64))}},sd={class:"space-y-4"},nd={class:"flex items-center mt-4"},od={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(e,{emit:t}){const s=e,o=t,n=_t({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,tags:[]}),i=K(()=>[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}]),a=u=>u,d=u=>{o("resourceCreated",u),l()},l=()=>{n.title="",n.description="",n.url="",n.type="website",n.thumbnail_url="",n.visible_to_client=!0,n.tags=[],o("close")};return(u,p)=>(c(),X(Qt,{show:s.show,title:"Add New Shareable Resource",apiEndpoint:s.apiEndpoint,httpMethod:"post",formData:n,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",formatDataForApi:a,onSubmitted:d,onClose:l},{default:N(({errors:f})=>[r("div",sd,[r("div",null,[_(Q,{for:"title",value:"Title",class:"mb-1"}),_(Fe,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.title,"onUpdate:modelValue":p[0]||(p[0]=m=>n.title=m),required:""},null,8,["modelValue"]),_(ee,{message:f.title?f.title[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"url",value:"Resource URL",class:"mb-1"}),_(Fe,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.url,"onUpdate:modelValue":p[1]||(p[1]=m=>n.url=m),required:""},null,8,["modelValue"]),_(ee,{message:f.url?f.url[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"type",value:"Resource Type",class:"mb-1"}),_(Pe,{id:"type",modelValue:n.type,"onUpdate:modelValue":p[2]||(p[2]=m=>n.type=m),options:i.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),_(ee,{message:f.type?f.type[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),_(Fe,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.thumbnail_url,"onUpdate:modelValue":p[3]||(p[3]=m=>n.thumbnail_url=m)},null,8,["modelValue"]),_(ee,{message:f.thumbnail_url?f.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(Q,{for:"description",value:"Description (Optional)",class:"mb-1"}),ce(r("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":p[4]||(p[4]=m=>n.description=m),rows:"3"},null,512),[[Ve,n.description]]),_(ee,{message:f.description?f.description[0]:"",class:"mt-2"},null,8,["message"])]),r("div",null,[_(wa,{modelValue:n.tags,"onUpdate:modelValue":p[5]||(p[5]=m=>n.tags=m),label:"Associated Tags",placeholder:"Search or add tags",error:f.tags?f.tags[0]:""},null,8,["modelValue","error"])]),r("div",nd,[_(ui,{id:"visible_to_client",checked:n.visible_to_client,"onUpdate:checked":p[6]||(p[6]=m=>n.visible_to_client=m)},null,8,["checked"]),_(Q,{for:"visible_to_client",value:"Visible to Client",class:"ml-2"}),_(ee,{message:f.visible_to_client?f.visible_to_client[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},ad=Tt(od,[["__scopeId","data-v-3e3a6a9f"]]),id={key:0,class:"sidebar-wrapper"},rd={class:"fixed inset-0 z-[100] flex pointer-events-none"},ld={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},ud={class:"text-xl font-semibold text-gray-900"},dd={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},cd={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},fd={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(e,{emit:t}){const s=e,o=t,n=O(s.initialWidth),i=O(!1),a=f=>{i.value=!0,document.addEventListener("pointermove",d),document.addEventListener("pointerup",l)},d=f=>{if(!i.value)return;const m=window.innerWidth,k=(m-f.clientX)/m*100,g=Math.max(s.minWidth,Math.min(s.maxWidth,k));n.value=g},l=()=>{i.value=!1,document.removeEventListener("pointermove",d),document.removeEventListener("pointerup",l)};me(()=>s.show,f=>{f?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const u=()=>{o("update:show",!1),o("close")},p=K(()=>window.innerWidth<768);return me(p,f=>{f&&s.show?n.value=100:!f&&s.show&&(n.value=s.initialWidth)},{immediate:!0}),me(()=>s.show,f=>{f&&(p.value?n.value=100:n.value=s.initialWidth)}),(f,m)=>(c(),X(ni,{to:"body"},[_(go,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:N(()=>[e.show?(c(),h("div",id,[r("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity z-[99]",onClick:u}),r("div",rd,[r("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl pointer-events-auto",style:si({width:p.value?"100%":`${n.value}vw`})},[p.value?S("",!0):(c(),h("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:a,title:"Drag to resize"},null,32)),r("div",ld,[r("h3",ud,V(e.title),1),r("button",{onClick:u,class:"text-gray-400 hover:text-gray-600 transition-colors"},m[0]||(m[0]=[r("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),r("div",dd,[Be(f.$slots,"content",{},void 0,!0)]),f.$slots.footer?(c(),h("div",cd,[Be(f.$slots,"footer",{},void 0,!0)])):S("",!0)],4)])])):S("",!0)]),_:3})]))}},xa=Tt(fd,[["__scopeId","data-v-2d864577"]]),pd={class:"flex border-b border-gray-200"},md={key:0,class:"ml-2 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full"},hd={class:"p-4 space-y-2 overflow-y-auto"},vd={key:0,class:"p-6 text-center text-gray-500"},gd={key:0},yd={key:1},_d=["onClick"],bd={class:"flex-1 min-w-0"},kd={class:"flex items-start justify-between gap-2 mb-1"},wd={class:"flex-1 min-w-0"},xd={key:0,class:"text-base font-semibold text-gray-900 truncate"},Ed={key:1,class:"text-xs text-gray-500"},Sd={key:0,class:"text-sm text-gray-600 mt-1 mb-2"},Td={class:"flex items-center text-xs text-gray-500 font-medium"},Cd={key:0},Nd={key:1,class:"mx-2"},Id={key:2},Ad={__name:"NotificationsSidebar",setup(e){const t=K(()=>Vt.value.notifications),s=O("New"),o=K(()=>s.value==="New"?t.value.filter(d=>!d.isRead):t.value),n=async d=>{await fo(d.view_id);const l=d.task_id||i(d.url),u=d.project_id||a(d.url);l&&u?(po(l,u),Rn()):(console.warn("Could not open task sidebar. Falling back to opening URL in new tab."),d.url&&window.open(d.url,"_blank"))},i=d=>{const l=d.match(/\/task\/(\d+)/);return l?parseInt(l[1]):null},a=d=>{const l=d.match(/\/project\/(\d+)\//);return l?parseInt(l[1]):null};return(d,l)=>(c(),X(xa,{show:j(Vt).show,"onUpdate:show":j(Rn),title:"Notifications","initial-width":35,class:"z-[100]"},{content:N(()=>[r("div",pd,[r("button",{onClick:l[0]||(l[0]=u=>s.value="New"),class:z([{"border-blue-600 text-blue-600 font-semibold":s.value==="New","border-transparent text-gray-500 hover:text-gray-700":s.value!=="New"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])},[l[2]||(l[2]=$(" New ",-1)),t.value.filter(u=>!u.isRead).length>0?(c(),h("span",md,V(t.value.filter(u=>!u.isRead).length),1)):S("",!0)],2),r("button",{onClick:l[1]||(l[1]=u=>s.value="All"),class:z([{"border-blue-600 text-blue-600 font-semibold":s.value==="All","border-transparent text-gray-500 hover:text-gray-700":s.value!=="All"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])}," All ",2)]),r("div",hd,[o.value.length===0?(c(),h("div",vd,[s.value==="New"?(c(),h("span",gd,"You have no new notifications.")):(c(),h("span",yd,"You have no notifications."))])):S("",!0),(c(!0),h(ae,null,re(o.value,u=>(c(),h("div",{key:u.id,class:z(["bg-white rounded-xl shadow-sm p-4 flex items-start space-x-4 border border-gray-200 transition-all duration-200 hover:shadow-md cursor-pointer",{"bg-gray-50":u.isRead}]),onClick:p=>n(u)},[r("div",bd,[r("div",kd,[r("div",wd,[u.title?(c(),h("h3",xd,V(u.title),1)):S("",!0),u.project_name?(c(),h("p",Ed,V(u.project_name),1)):S("",!0)])]),u.message?(c(),h("p",Sd,V(u.message),1)):S("",!0),r("div",Td,[u.due_date?(c(),h("span",Cd,"Due: "+V(j(co)(u.due_date)),1)):S("",!0),u.due_date&&u.priority?(c(),h("span",Nd,"")):S("",!0),u.priority?(c(),h("span",Id,"Priority: "+V(u.priority),1)):S("",!0)])])],10,_d))),128))])]),_:1},8,["show","onUpdate:show"]))}},Od={class:"space-y-4"},$d={key:0,class:"text-red-600 text-xs mt-1"},Md={key:0,class:"text-red-600 text-xs mt-1"},Pd={key:0,class:"text-red-600 text-xs mt-1"},Dd={__name:"KudoModal",props:{show:{type:Boolean,default:!1}},emits:["close","submitted"],setup(e,{emit:t}){const s=t,o=O([]),n=O([]),i=_t({recipient_id:"",project_id:"",comment:""}),a=O({}),d=async()=>{try{const{data:f}=await window.axios.get("/api/projects-simplified");o.value=(f||[]).map(m=>({value:m.id,label:m.name}))}catch{o.value=[]}},l=async f=>{if(n.value=[],!!f)try{const{data:m}=await window.axios.get(`/api/projects/${f}/users`);n.value=(m||[]).map(v=>({value:v.id,label:`${v.name} (${v.email})`}))}catch{n.value=[]}};me(()=>i.project_id,f=>{f&&l(f)}),Ke(()=>{d()});const u=()=>{i.recipient_id="",i.project_id="",i.comment="",a.value={}},p=f=>{u(),s("submitted",f)};return(f,m)=>(c(),X(Qt,{show:e.show,title:"Give a Kudo ","api-endpoint":"/api/kudos","http-method":"post","form-data":i,"submit-button-text":"Submit Kudo","success-message":"Kudo submitted! Pending approval.",onClose:m[3]||(m[3]=v=>f.$emit("close")),onSubmitted:p},{default:N(({errors:v})=>[r("div",Od,[r("div",null,[m[4]||(m[4]=r("label",{class:"block text-sm font-medium text-gray-700"},"Project",-1)),_(Pe,{options:o.value,modelValue:i.project_id,"onUpdate:modelValue":m[0]||(m[0]=k=>i.project_id=k),placeholder:"Select a project..."},null,8,["options","modelValue"]),v.project_id?(c(),h("p",$d,V(v.project_id[0]),1)):S("",!0)]),r("div",null,[m[5]||(m[5]=r("label",{class:"block text-sm font-medium text-gray-700"},"Recipient",-1)),_(Pe,{options:n.value,modelValue:i.recipient_id,"onUpdate:modelValue":m[1]||(m[1]=k=>i.recipient_id=k),placeholder:"Select a teammate..."},null,8,["options","modelValue"]),v.recipient_id?(c(),h("p",Md,V(v.recipient_id[0]),1)):S("",!0)]),r("div",null,[m[6]||(m[6]=r("label",{class:"block text-sm font-medium text-gray-700"},"Comment",-1)),ce(r("textarea",{"onUpdate:modelValue":m[2]||(m[2]=k=>i.comment=k),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"e.g., Thank you for helping with the last-minute changes!"},null,512),[[Ve,i.comment]]),v.comment?(c(),h("p",Pd,V(v.comment[0]),1)):S("",!0)])])]),_:1},8,["show","form-data"]))}},Rd={class:"flex items-center p-4 h-16 border-b border-gray-700"},Ld={key:0,class:"text-xl font-semibold flex-1 truncate"},Vd=["title"],jd={key:0,class:"p-4 border-b border-gray-700"},Fd={class:"relative"},Bd={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},Ud={key:0,class:"mb-4"},Xd={class:"ml-2 mt-2 space-y-1"},Hd=["onClick"],qd={class:"text-sm font-medium text-gray-300 truncate"},zd={class:"ml-4 mt-1 space-y-1"},Wd={class:"truncate"},Gd={key:1,class:"mb-4"},Kd={class:"ml-2 mt-2 space-y-1"},Jd=["onClick"],Yd={class:"text-sm font-medium text-gray-300 truncate"},Qd={class:"ml-4 mt-1 space-y-1"},Zd={class:"truncate"},ec={key:2,class:"mb-4"},tc={class:"ml-2 mt-2 space-y-1"},sc={class:"truncate"},nc={key:3,class:"mb-4"},oc={class:"ml-2 mt-2 space-y-1"},ac={class:"truncate"},ic={key:4,class:"text-gray-400 text-sm text-center py-4"},rc={key:5,class:"text-gray-400 text-sm text-center py-4"},lc={key:2,class:"flex flex-col items-center pt-4 space-y-4"},uc={key:0,class:"text-gray-400 text-xs text-center px-2"},dc={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(e,{emit:t}){const s=e,o=t,n=O(localStorage.getItem("leftSidebarCollapsed")!=="false"),i=O(""),a=O({}),d=K(()=>{const b=new Set;return s.allProjects.forEach(w=>{w.project_type&&b.add(w.project_type)}),Array.from(b).sort()}),l=K(()=>{const b=new Set;return s.allProjects.forEach(w=>{Array.isArray(w.tags)&&w.tags.forEach(D=>b.add(D))}),Array.from(b).sort()}),u=K(()=>{if(!i.value)return s.allProjects;const b=i.value.toLowerCase();return s.allProjects.filter(w=>{var D,F,U;return w.name.toLowerCase().includes(b)||((D=w.description)==null?void 0:D.toLowerCase().includes(b))||((F=w.project_type)==null?void 0:F.toLowerCase().includes(b))||Array.isArray(w.tags)&&w.tags.some(J=>J.toLowerCase().includes(b))||((U=w.status)==null?void 0:U.toLowerCase().includes(b))})}),p=K(()=>{const b={};u.value.forEach(w=>{w.project_type&&w.status==="active"&&(b[w.project_type]||(b[w.project_type]=[]),b[w.project_type].push(w))});for(const w in b)b[w].sort((D,F)=>D.name.localeCompare(F.name));return b}),f=K(()=>{const b={};u.value.forEach(w=>{Array.isArray(w.tags)&&w.tags.length>0&&w.tags.forEach(D=>{b[D]||(b[D]=[]),b[D].push(w)})});for(const w in b)b[w]=[...new Set(b[w])].sort((D,F)=>D.name.localeCompare(F.name));return b}),m=K(()=>u.value.filter(b=>b.status!=="active").sort((b,w)=>b.name.localeCompare(w.name))),v=K(()=>u.value.filter(b=>!b.project_type&&(!Array.isArray(b.tags)||b.tags.length===0)).sort((b,w)=>b.name.localeCompare(w.name)));me(()=>s.allProjects,()=>{d.value.forEach(b=>{const w=`type-${b}`;a.value[w]===void 0&&(a.value[w]=!0)}),l.value.forEach(b=>{const w=`tag-${b}`;a.value[w]===void 0&&(a.value[w]=!0)}),a.value["main-types"]===void 0&&(a.value["main-types"]=!1),a.value["main-tags"]===void 0&&(a.value["main-tags"]=!1),a.value["inactive-projects"]===void 0&&(a.value["inactive-projects"]=!1),a.value.uncategorized===void 0&&(a.value.uncategorized=!1)},{immediate:!0}),me(n,b=>{localStorage.setItem("leftSidebarCollapsed",b)});const k=()=>{n.value=!n.value},g=b=>{a.value[b]=!a.value[b]},B=b=>{o("project-selected",b)},I=()=>{i.value=""};return(b,w)=>(c(),h("div",{class:z({"w-64":!n.value,"w-16":n.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[r("div",Rd,[n.value?S("",!0):(c(),h("h2",Ld,"Projects")),r("button",{onClick:k,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:n.value?"Expand Sidebar":"Collapse Sidebar"},[(c(),h("svg",{class:z(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":n.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},w[5]||(w[5]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,Vd)]),n.value?S("",!0):(c(),h("div",jd,[r("div",Fd,[ce(r("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=D=>i.value=D),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[Ve,i.value]]),i.value?(c(),h("button",{key:0,onClick:I,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},w[6]||(w[6]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):S("",!0)])])),n.value?(c(),h("div",lc,[(c(!0),h(ae,null,re(s.allProjects,D=>(c(),X(j(je),{key:D.id,href:b.route("projects.show",D.id),onClick:F=>B(D.id),class:z({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":D.id!==e.activeProjectId}),title:D.name},{default:N(()=>[$(V(D.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),e.allProjects.length===0?(c(),h("div",uc," No Projects ")):S("",!0)])):(c(),h("div",Bd,[Object.keys(p.value).length>0?(c(),h("div",Ud,[r("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[1]||(w[1]=D=>g("main-types"))},[w[8]||(w[8]=r("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(c(),h("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[7]||(w[7]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(r("div",Xd,[(c(!0),h(ae,null,re(p.value,(D,F)=>(c(),h("div",{key:F},[r("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:U=>g(`type-${F}`)},[r("h4",qd,V(F),1),(c(),h("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`type-${F}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[9]||(w[9]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Hd),ce(r("ul",zd,[(c(!0),h(ae,null,re(D,U=>(c(),h("li",{key:U.id},[_(j(je),{href:b.route("projects.show",U.id),onClick:J=>B(U.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":U.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":U.id!==e.activeProjectId,"font-bold":U.id===e.activeProjectId})},{default:N(()=>[r("span",Wd,V(U.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Qe,!a.value[`type-${F}`]]])]))),128))],512),[[Qe,!a.value["main-types"]]])])):S("",!0),Object.keys(f.value).length>0?(c(),h("div",Gd,[r("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[2]||(w[2]=D=>g("main-tags"))},[w[11]||(w[11]=r("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(c(),h("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[10]||(w[10]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(r("div",Kd,[(c(!0),h(ae,null,re(f.value,(D,F)=>(c(),h("div",{key:F},[r("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:U=>g(`tag-${F}`)},[r("h4",Yd,V(F),1),(c(),h("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value[`tag-${F}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[12]||(w[12]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Jd),ce(r("ul",Qd,[(c(!0),h(ae,null,re(D,U=>(c(),h("li",{key:U.id},[_(j(je),{href:b.route("projects.show",U.id),onClick:J=>B(U.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":U.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":U.id!==e.activeProjectId,"font-bold":U.id===e.activeProjectId})},{default:N(()=>[r("span",Zd,V(U.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Qe,!a.value[`tag-${F}`]]])]))),128))],512),[[Qe,!a.value["main-tags"]]])])):S("",!0),m.value.length>0?(c(),h("div",ec,[r("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[3]||(w[3]=D=>g("inactive-projects"))},[w[14]||(w[14]=r("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(c(),h("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[13]||(w[13]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(r("ul",tc,[(c(!0),h(ae,null,re(m.value,D=>(c(),h("li",{key:D.id},[_(j(je),{href:b.route("projects.show",D.id),onClick:F=>B(D.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":D.id!==e.activeProjectId,"font-bold":D.id===e.activeProjectId})},{default:N(()=>[r("span",sc,V(D.name)+" ("+V(D.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Qe,!a.value["inactive-projects"]]])])):S("",!0),v.value.length>0?(c(),h("div",nc,[r("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[4]||(w[4]=D=>g("uncategorized"))},[w[16]||(w[16]=r("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(c(),h("svg",{class:z(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!a.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[15]||(w[15]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ce(r("ul",oc,[(c(!0),h(ae,null,re(v.value,D=>(c(),h("li",{key:D.id},[_(j(je),{href:b.route("projects.show",D.id),onClick:F=>B(D.id),class:z({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":D.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":D.id!==e.activeProjectId,"font-bold":D.id===e.activeProjectId})},{default:N(()=>[r("span",ac,V(D.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Qe,!a.value.uncategorized]])])):S("",!0),u.value.length===0?(c(),h("div",ic," No projects found matching your search. ")):e.allProjects.length===0&&!i.value?(c(),h("div",rc," No projects available. ")):S("",!0)]))],2))}},cc=Tt(dc,[["__scopeId","data-v-417d431f"]]),fc={class:"relative"},Ea={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(e){const t=e,s=d=>{a.value&&d.key==="Escape"&&(a.value=!1)};Ke(()=>document.addEventListener("keydown",s)),_s(()=>document.removeEventListener("keydown",s));const o=K(()=>{const d={48:"w-48",64:"w-64",72:"w-72",80:"w-80",96:"w-96",full:"w-full",screen:"w-screen",auto:""},l=t.width.toString();return d[l]??d[48]}),n=K(()=>t.width.toString()==="screen"),i=K(()=>t.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":t.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),a=O(!1);return(d,l)=>(c(),h("div",fc,[r("div",{onClick:l[0]||(l[0]=u=>a.value=!a.value)},[Be(d.$slots,"trigger")]),ce(r("div",{class:"fixed inset-0 z-40",onClick:l[1]||(l[1]=u=>a.value=!1)},null,512),[[Qe,a.value]]),_(go,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:N(()=>[ce(r("div",{class:z(["z-50 mt-2 rounded-md shadow-lg",n.value?"fixed left-0 right-0":"absolute",i.value,o.value]),style:{display:"none"},onClick:l[2]||(l[2]=u=>a.value=!1)},[r("div",{class:z(["rounded-md ring-1 ring-black ring-opacity-5",e.contentClasses])},[Be(d.$slots,"content")],2)],2),[[Qe,a.value]])]),_:3})]))}},be={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){return(t,s)=>(c(),X(j(je),yo({href:e.href,method:e.method,as:e.as},t.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:N(()=>[Be(t.$slots,"default")]),_:3},16,["href","method","as"]))}},Me={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(e){const t=e,s=K(()=>t.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(c(),X(j(je),{href:e.href,class:z(s.value)},{default:N(()=>[Be(o.$slots,"default")]),_:3},8,["href","class"]))}};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pc=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),mc=e=>{const t=pc(e);return t.charAt(0).toUpperCase()+t.slice(1)},hc=(...e)=>e.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim(),io=e=>e==="";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=({name:e,iconNode:t,absoluteStrokeWidth:s,"absolute-stroke-width":o,strokeWidth:n,"stroke-width":i,size:a=Dt.width,color:d=Dt.stroke,...l},{slots:u})=>zs("svg",{...Dt,...l,width:a,height:a,stroke:d,"stroke-width":io(s)||io(o)||s===!0||o===!0?Number(n||i||Dt["stroke-width"])*24/Number(a):n||i||Dt["stroke-width"],class:hc("lucide",l.class,...e?[`lucide-${ao(mc(e))}-icon`,`lucide-${ao(e)}`]:["lucide-icon"])},[...t.map(p=>zs(...p)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=(e,t)=>(s,{slots:o,attrs:n})=>zs(vc,{...n,...s,iconNode:t,name:e},o);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Vs("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Vs("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Vs("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Vs("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),bc={class:"hidden sm:flex sm:items-center"},kc={class:"mx-auto w-full max-w-6xl"},wc={class:"grid grid-cols-2 md:grid-cols-4 gap-8"},xc={class:"space-y-1"},Ec={class:"space-y-1"},Sc={class:"space-y-1"},Tc={class:"space-y-1"},Cc={__name:"AdminDropdown",setup(e){const{canDo:t}=sn(),s=t("manage_projects"),o=t("create_users"),n=t("manage_roles"),i=t("manage_task_types"),a=t("create_clients"),d=t("manage_project_tiers")||t("view_project_tiers");return(l,u)=>(c(),h("div",bc,[_(Ea,{align:"left",width:"screen","content-classes":"py-6 bg-white p-6 w-full shadow-lg"},{trigger:N(()=>u[0]||(u[0]=[r("span",{class:"inline-flex rounded-md"},[r("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-700 hover:text-gray-900 focus:outline-none"},[$(" Admin "),r("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:N(()=>[r("div",kc,[r("div",wc,[r("div",null,[u[4]||(u[4]=r("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Management",-1)),r("div",xc,[j(s)?(c(),X(be,{key:0,href:l.route("projects.index"),active:l.route().current("projects.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[1]||(u[1]=[$("Projects",-1)])),_:1,__:[1]},8,["href","active"])):S("",!0),j(a)?(c(),X(be,{key:1,href:l.route("clients.page"),active:l.route().current("clients.page"),class:"!px-2 !py-1.5"},{default:N(()=>u[2]||(u[2]=[$("Clients",-1)])),_:1,__:[2]},8,["href","active"])):S("",!0),j(o)?(c(),X(be,{key:2,href:l.route("users.page"),active:l.route().current("users.page"),class:"!px-2 !py-1.5"},{default:N(()=>u[3]||(u[3]=[$("Users",-1)])),_:1,__:[3]},8,["href","active"])):S("",!0)])]),r("div",null,[u[8]||(u[8]=r("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Planning / Sharing",-1)),r("div",Ec,[j(o)?(c(),X(be,{key:0,href:l.route("availability.index"),active:l.route().current("availability.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[5]||(u[5]=[$("Weekly Availability",-1)])),_:1,__:[5]},8,["href","active"])):S("",!0),j(t)("manage_notices")?(c(),X(be,{key:1,href:l.route("admin.notice-board.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[6]||(u[6]=[$("Notice Board",-1)])),_:1,__:[6]},8,["href"])):S("",!0),j(t)("manage_notices")?(c(),X(be,{key:2,href:l.route("shareable-resources.page"),class:"!px-2 !py-1.5"},{default:N(()=>u[7]||(u[7]=[$("Shareable Resources",-1)])),_:1,__:[7]},8,["href"])):S("",!0)])]),r("div",null,[u[13]||(u[13]=r("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Configuration",-1)),r("div",Sc,[j(i)?(c(),X(be,{key:0,href:l.route("task-types.page"),active:l.route().current("task-types.page"),class:"!px-2 !py-1.5"},{default:N(()=>u[9]||(u[9]=[$("Task Types",-1)])),_:1,__:[9]},8,["href","active"])):S("",!0),j(d)||j(t)("create_project_tiers")||j(t)("edit_project_tiers")?(c(),X(be,{key:1,href:"/admin/project-tiers",class:"!px-2 !py-1.5"},{default:N(()=>u[10]||(u[10]=[$("Project Tiers",-1)])),_:1,__:[10]})):S("",!0),j(t)("manage_email_templates")?(c(),X(be,{key:2,href:l.route("email-templates.page"),active:l.route().current("email-templates.page"),class:"!px-2 !py-1.5"},{default:N(()=>u[11]||(u[11]=[$("Email Templates",-1)])),_:1,__:[11]},8,["href","active"])):S("",!0),j(t)("manage_placeholder_definitions")?(c(),X(be,{key:3,href:l.route("placeholder-definitions.page"),active:l.route().current("placeholder-definitions.page"),class:"!px-2 !py-1.5"},{default:N(()=>u[12]||(u[12]=[$("Placeholder Definitions",-1)])),_:1,__:[12]},8,["href","active"])):S("",!0)])]),r("div",null,[u[18]||(u[18]=r("h4",{class:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3"},"Access & Finance",-1)),r("div",Tc,[j(n)?(c(),X(be,{key:0,href:l.route("admin.roles.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[14]||(u[14]=[$("Manage Roles",-1)])),_:1,__:[14]},8,["href"])):S("",!0),j(t)("manage_permissions")?(c(),X(be,{key:1,href:l.route("admin.permissions.index"),class:"!px-2 !py-1.5"},{default:N(()=>u[15]||(u[15]=[$("Manage Permissions",-1)])),_:1,__:[15]},8,["href"])):S("",!0),j(t)("manage_monthly_budgets")?(c(),X(be,{key:2,href:"/admin/monthly-budgets",class:"!px-2 !py-1.5"},{default:N(()=>u[16]||(u[16]=[$("Monthly Budgets",-1)])),_:1,__:[16]})):S("",!0),j(t)("view_monthly_budgets")?(c(),X(be,{key:3,href:"/admin/bonus-calculator",class:"!px-2 !py-1.5"},{default:N(()=>u[17]||(u[17]=[$("Bonus Calculator",-1)])),_:1,__:[17]})):S("",!0)])])])])]),_:1})]))}},Nc={class:"relative ms-3"},Ic={class:"inline-flex rounded-md"},Ac={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},Oc={__name:"UserDropdown",emits:["logoutSuccess","logoutError"],setup(e,{emit:t}){const s=K(()=>zt().props.auth.user),o=t,n=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,o("logoutSuccess")},i=a=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",o("logoutError",a)};return(a,d)=>(c(),h("div",Nc,[_(Ea,{align:"right",width:"48"},{trigger:N(()=>{var l;return[r("span",Ic,[r("button",Ac,[$(V(s.value.name)+" ("+V((l=s.value.role_data)==null?void 0:l.name)+") ",1),d[0]||(d[0]=r("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:N(()=>[_(be,{href:a.route("profile.edit")},{default:N(()=>d[1]||(d[1]=[$(" Profile ",-1)])),_:1,__:[1]},8,["href"]),_(be,{href:a.route("logout"),method:"post",as:"button",onSuccess:n,onError:i},{default:N(()=>d[2]||(d[2]=[$(" Log Out ",-1)])),_:1,__:[2]},8,["href"])]),_:1})]))}},$c={class:"bg-white z-10 relative w-full shadow-sm border-b border-gray-100"},Mc={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Pc={class:"flex h-16 justify-between items-center"},Dc={class:"flex-shrink-0 flex items-center"},Rc={class:"hidden sm:flex items-center space-x-6"},Lc={key:0,class:"group relative inline-flex items-center px-3 py-1 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 text-white text-sm font-semibold shadow-lg ring-2 ring-emerald-300/60 transition-all duration-300 ease-in-out"},Vc={class:"font-bold"},jc={key:1,class:"inline-flex items-center px-3 py-1 rounded-full bg-gray-100 text-gray-500 text-sm font-medium"},Fc={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},Bc={class:"-mr-2 flex items-center sm:hidden"},Uc={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Xc={class:"bg-gray-50 border-t border-gray-100 py-2 hidden sm:block"},Hc={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},qc={class:"flex items-center justify-between"},zc={class:"flex items-center space-x-2 overflow-x-auto no-scrollbar"},Wc={class:"flex items-center space-x-2 flex-shrink-0"},Gc={class:"space-y-1 pt-2 pb-3"},Kc={class:"flex items-center p-3"},Jc={__name:"TopNavigation",props:{unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","open-kudo-modal"],setup(e,{emit:t}){const s=t,o=O(!1);K(()=>zt().props.auth.user);const{canDo:n}=sn(),i=n("manage_roles"),a=O(null),d=O(!0),l=O(null);return Ke(async()=>{try{const{data:u}=await window.axios.get("/api/leaderboard/stats");a.value=(u==null?void 0:u.userMonthlyPoints)??0}catch(u){console.error("Failed to load monthly points",u),l.value="Failed to load points",a.value=0}finally{d.value=!1}}),(u,p)=>(c(),h("nav",$c,[r("div",Mc,[r("div",Pc,[r("div",Dc,[_(j(je),{href:u.route("dashboard")},{default:N(()=>[_(di,{class:"block h-14 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),r("div",Rc,[_(j(je),{href:u.route("leaderboard.index"),class:"mr-3 cursor-pointer"},{default:N(()=>[d.value?(c(),h("div",jc," Loading... ")):(c(),h("div",Lc,[p[6]||(p[6]=r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1)),r("span",Vc,V(a.value??0),1),p[7]||(p[7]=r("span",{class:"ml-1 text-white/80"},"pts",-1))]))]),_:1},8,["href"]),r("button",{onClick:p[0]||(p[0]=f=>s("openNotificationsSidebar")),class:"relative flex-shrink-0 text-gray-400 hover:text-indigo-600 p-2 rounded-full transition-colors duration-200","aria-label":"View all notifications"},[_(j(yc),{class:"h-6 w-6"}),e.unreadNotificationCount>0?(c(),h("span",Fc,V(e.unreadNotificationCount),1)):S("",!0)]),_(Oc)]),r("div",Bc,[r("button",{onClick:p[1]||(p[1]=f=>o.value=!o.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(c(),h("svg",Uc,[r("path",{class:z({hidden:o.value,"inline-flex":!o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),r("path",{class:z({hidden:!o.value,"inline-flex":o.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),r("div",Xc,[r("div",Hc,[r("div",qc,[r("div",zc,[_(Me,{href:u.route("dashboard"),active:u.route().current("dashboard")},{default:N(()=>p[8]||(p[8]=[$(" Dashboard ",-1)])),_:1,__:[8]},8,["href","active"]),_(Me,{href:u.route("inbox"),active:u.route().current("inbox")},{default:N(()=>p[9]||(p[9]=[$(" Inbox ",-1)])),_:1,__:[9]},8,["href","active"]),_(Me,{href:u.route("bonus-system.index"),active:u.route().current("bonus-system.index")},{default:N(()=>p[10]||(p[10]=[$(" Bonus System ",-1)])),_:1,__:[10]},8,["href","active"]),_(Me,{href:u.route("leaderboard.index"),active:u.route().current("leaderboard.index")},{default:N(()=>p[11]||(p[11]=[$(" Leaderboard ",-1)])),_:1,__:[11]},8,["href","active"]),_(Me,{href:u.route("kudos.index"),active:u.route().current("kudos.index")},{default:N(()=>p[12]||(p[12]=[$(" Kudos ",-1)])),_:1,__:[12]},8,["href","active"]),j(n)("add_expendables").value?(c(),X(Me,{key:0,href:u.route("project-expendables.index")},{default:N(()=>p[13]||(p[13]=[$(" Project Expendables ",-1)])),_:1,__:[13]},8,["href"])):S("",!0),j(i)?(c(),X(Cc,{key:1})):S("",!0)]),r("div",Wc,[_(ke,{type:"button",onClick:p[2]||(p[2]=f=>s("openCreateTaskModal")),class:"px-3 py-1.5 text-sm"},{default:N(()=>[_(j(ro),{class:"h-4 w-4 mr-1.5"}),p[14]||(p[14]=r("span",null,"Add Task",-1))]),_:1,__:[14]}),_(ke,{type:"button",onClick:p[3]||(p[3]=f=>s("openAddResource")),class:"px-3 py-1.5 text-sm"},{default:N(()=>[_(j(ro),{class:"h-4 w-4 mr-1.5"}),p[15]||(p[15]=r("span",null,"Add Resource",-1))]),_:1,__:[15]}),j(n)("create_kudos")?(c(),h("button",{key:0,type:"button",onClick:p[4]||(p[4]=f=>u.$emit("open-kudo-modal")),class:"inline-flex items-center justify-center px-3 py-1.5 text-sm font-semibold rounded-lg bg-orange-500 text-white hover:bg-orange-600 transition-colors duration-200"},[_(j(gc),{class:"h-4 w-4 mr-1.5"}),p[16]||(p[16]=r("span",null,"Give Kudo",-1))])):S("",!0)])])])]),r("div",{class:z([{block:o.value,hidden:!o.value},"sm:hidden"])},[r("div",Gc,[_(Me,{href:u.route("dashboard"),active:u.route().current("dashboard")},{default:N(()=>p[17]||(p[17]=[$(" Dashboard ",-1)])),_:1,__:[17]},8,["href","active"]),_(Me,{href:u.route("inbox"),active:u.route().current("inbox")},{default:N(()=>p[18]||(p[18]=[$(" Inbox ",-1)])),_:1,__:[18]},8,["href","active"]),_(Me,{href:u.route("bonus-system.index"),active:u.route().current("bonus-system.index")},{default:N(()=>p[19]||(p[19]=[$(" Bonus System ",-1)])),_:1,__:[19]},8,["href","active"]),_(Me,{href:u.route("leaderboard.index"),active:u.route().current("leaderboard.index")},{default:N(()=>p[20]||(p[20]=[$(" Leaderboard ",-1)])),_:1,__:[20]},8,["href","active"]),_(Me,{href:u.route("kudos.index"),active:u.route().current("kudos.index")},{default:N(()=>p[21]||(p[21]=[$(" Kudos ",-1)])),_:1,__:[21]},8,["href","active"]),j(n)("add_expendables").value?(c(),X(Me,{key:0,href:u.route("project-expendables.index")},{default:N(()=>p[22]||(p[22]=[$(" Project Expendables ",-1)])),_:1,__:[22]},8,["href"])):S("",!0),r("div",Kc,[_(ke,{type:"button",onClick:p[5]||(p[5]=f=>j(_o).visit(u.route("leaderboard.index"))),class:"px-4 py-2 text-sm w-full"},{default:N(()=>p[23]||(p[23]=[$(" Go to Leaderboard ",-1)])),_:1,__:[23]})])])],2)]))}},de={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){const t=e,s=K(()=>t.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(o,n)=>(c(),X(j(je),yo({href:e.href,method:e.method,as:e.as},o.$attrs,{class:s.value}),{default:N(()=>[Be(o.$slots,"default")]),_:3},16,["href","method","as","class"]))}},Yc={class:"space-y-1 pb-3 pt-2"},Qc={key:0,class:"mt-3 space-y-1"},Zc={class:"border-t border-gray-200 pb-1 pt-4"},ef={class:"px-4"},tf={class:"text-base font-medium text-gray-800"},sf={class:"text-sm font-medium text-gray-500"},nf={class:"text-sm font-medium text-gray-500 capitalize"},of={class:"mt-3 space-y-1"},af={__name:"MobileNavigation",props:{showingNavigationDropdown:{type:Boolean,required:!0},unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","logoutSuccess","logoutError"],setup(e,{emit:t}){const s=t,o=K(()=>zt().props.auth.user),{canDo:n}=sn(),i=n("manage_projects"),a=n("compose_emails"),d=n("approve_emails"),l=n("create_users"),u=n("manage_roles"),p=n("manage_task_types"),f=n("create_clients"),m=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,s("logoutSuccess")},v=k=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",s("logoutError",k)};return(k,g)=>{var B;return c(),h("div",{class:z([{block:e.showingNavigationDropdown,hidden:!e.showingNavigationDropdown},"sm:hidden"])},[r("div",Yc,[j(u)?(c(),h("div",Qc,[g[18]||(g[18]=r("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),_(de,{href:k.route("dashboard"),active:k.route().current("dashboard")},{default:N(()=>g[3]||(g[3]=[$(" Dashboard ",-1)])),_:1,__:[3]},8,["href","active"]),j(n)("view_emails")?(c(),X(de,{key:0,href:k.route("inbox"),active:k.route().current("inbox")},{default:N(()=>g[4]||(g[4]=[$(" Inbox ",-1)])),_:1,__:[4]},8,["href","active"])):S("",!0),j(f)?(c(),X(de,{key:1,href:k.route("clients.page"),active:k.route().current("clients.page")},{default:N(()=>g[5]||(g[5]=[$(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):S("",!0),j(i)?(c(),X(de,{key:2,href:k.route("projects.index"),active:k.route().current("projects.index")},{default:N(()=>g[6]||(g[6]=[$(" Projects ",-1)])),_:1,__:[6]},8,["href","active"])):S("",!0),j(l)?(c(),X(de,{key:3,href:k.route("users.page"),active:k.route().current("users.page")},{default:N(()=>g[7]||(g[7]=[$(" Users ",-1)])),_:1,__:[7]},8,["href","active"])):S("",!0),j(a)?(c(),X(de,{key:4,href:k.route("emails.compose"),active:k.route().current("emails.compose")},{default:N(()=>g[8]||(g[8]=[$(" Compose Email ",-1)])),_:1,__:[8]},8,["href","active"])):S("",!0),j(d)?(c(),X(de,{key:5,href:k.route("emails.pending"),active:k.route().current("emails.pending")},{default:N(()=>g[9]||(g[9]=[$(" Approve Emails ",-1)])),_:1,__:[9]},8,["href","active"])):S("",!0),j(a)?(c(),X(de,{key:6,href:k.route("emails.rejected"),active:k.route().current("emails.rejected")},{default:N(()=>g[10]||(g[10]=[$(" Rejected Emails ",-1)])),_:1,__:[10]},8,["href","active"])):S("",!0),j(l)?(c(),X(de,{key:7,href:k.route("availability.index"),active:k.route().current("availability.index")},{default:N(()=>g[11]||(g[11]=[$(" Weekly Availability ",-1)])),_:1,__:[11]},8,["href","active"])):S("",!0),j(n)("manage_roles")?(c(),X(de,{key:8,href:k.route("admin.roles.index"),active:k.route().current("admin.roles.index")},{default:N(()=>g[12]||(g[12]=[$(" Manage Roles ",-1)])),_:1,__:[12]},8,["href","active"])):S("",!0),j(n)("manage_permissions")?(c(),X(de,{key:9,href:k.route("admin.permissions.index"),active:k.route().current("admin.permissions.index")},{default:N(()=>g[13]||(g[13]=[$(" Manage Permissions ",-1)])),_:1,__:[13]},8,["href","active"])):S("",!0),j(p)?(c(),X(de,{key:10,href:k.route("task-types.page"),active:k.route().current("task-types.page")},{default:N(()=>g[14]||(g[14]=[$(" Task Types ",-1)])),_:1,__:[14]},8,["href","active"])):S("",!0),j(n)("manage_email_templates")?(c(),X(de,{key:11,href:k.route("email-templates.page"),active:k.route().current("email-templates.page")},{default:N(()=>g[15]||(g[15]=[$(" Email Templates ",-1)])),_:1,__:[15]},8,["href","active"])):S("",!0),j(n)("manage_placeholder_definitions")?(c(),X(de,{key:12,href:k.route("placeholder-definitions.page"),active:k.route().current("placeholder-definitions.page")},{default:N(()=>g[16]||(g[16]=[$(" Placeholder Definitions ",-1)])),_:1,__:[16]},8,["href","active"])):S("",!0),j(n)("view_shareable_resources")?(c(),X(de,{key:13,href:k.route("shareable-resources.page"),active:k.route().current("shareable-resources.page")},{default:N(()=>g[17]||(g[17]=[$(" Shareable Resources ",-1)])),_:1,__:[17]},8,["href","active"])):S("",!0)])):S("",!0)]),r("div",Zc,[r("div",ef,[r("div",tf,V(o.value.name),1),r("div",sf,V(o.value.email),1),r("div",nf,V((B=o.value.role_data)==null?void 0:B.name),1)]),r("div",of,[_(de,{as:"button",onClick:g[0]||(g[0]=I=>s("openCreateTaskModal"))},{default:N(()=>g[19]||(g[19]=[$(" Add Task ",-1)])),_:1,__:[19]}),_(de,{as:"button",onClick:g[1]||(g[1]=I=>s("openAddResource"))},{default:N(()=>g[20]||(g[20]=[$(" Add Resource ",-1)])),_:1,__:[20]}),_(de,{as:"button",onClick:g[2]||(g[2]=I=>s("openNotificationsSidebar"))},{default:N(()=>[$(" Notifications ("+V(e.unreadNotificationCount)+") ",1)]),_:1}),_(de,{href:k.route("profile.edit")},{default:N(()=>g[21]||(g[21]=[$(" Profile ",-1)])),_:1,__:[21]},8,["href"]),_(de,{href:k.route("logout"),method:"post",as:"button",onSuccess:m,onError:v},{default:N(()=>g[22]||(g[22]=[$(" Log Out ",-1)])),_:1,__:[22]},8,["href"])])])],2)}}},rf={class:"space-y-4"},lf={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},uf={class:"text-sm font-medium text-gray-900"},df={class:"text-xs text-gray-500 mt-1"},cf={class:"mb-4"},ff="post",pf="Add Note",mf="Note added successfully!",hf={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(e,{emit:t}){const s=e,o=t,n=_t({note:""}),i=K(()=>{var u;return`Add Note to Task: "${(u=s.taskForNote)==null?void 0:u.name}"`}),a=K(()=>{var u;return`/api/tasks/${(u=s.taskForNote)==null?void 0:u.id}/notes`});me(()=>s.show,u=>{u&&Object.assign(n,{note:""})},{immediate:!0});const d=u=>{o("note-added",u),o("close")},l=()=>{o("close")};return(u,p)=>(c(),X(Qt,{show:e.show,title:i.value,"api-endpoint":a.value,"http-method":ff,"form-data":n,"submit-button-text":pf,"success-message":mf,onClose:l,onSubmitted:d},{default:N(({errors:f})=>[r("div",rf,[e.taskForNote?(c(),h("div",lf,[r("p",uf,V(e.taskForNote.name),1),r("p",df,"Status: "+V(e.taskForNote.status),1)])):S("",!0),r("div",cf,[_(Q,{for:"task-note-content",value:"Note Content"}),ce(r("textarea",{id:"task-note-content","onUpdate:modelValue":p[0]||(p[0]=m=>n.note=m),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[Ve,n.note]]),_(ee,{message:f.note?f.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},vf={class:"task-history-list"},gf={key:0,class:"text-center py-4"},yf={key:1,class:"text-gray-500 text-sm py-2"},_f={key:2,class:"space-y-3"},bf={class:"flex items-start"},kf={class:"text-xl mr-2"},wf={class:"text-sm text-gray-700"},xf={class:"text-xs text-gray-500 mt-1"},Ef={__name:"TaskHistoryList",props:{activities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(e){const t=o=>o?new Date(o).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",s=o=>(console.log(o),o.includes("created")?"":o.includes("started")?"":o.includes("paused")?"":o.includes("resumed")?"":o.includes("unblocked")?"":o.includes("blocked")?"":o.includes("completed")?"":o.includes("revised")?"":o.includes("deleted")?"":o.includes("assigned")?"":o.includes("updated")?"":o.includes("added note")?"":o.includes("commented")?"":"");return(o,n)=>(c(),h("div",vf,[e.loading?(c(),h("div",gf,n[0]||(n[0]=[r("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"},null,-1),r("p",{class:"mt-2 text-gray-500"},"Loading activity history...",-1)]))):e.activities.length===0?(c(),h("div",yf," No activity history available for this task. ")):(c(),h("div",_f,[(c(!0),h(ae,null,re(e.activities,i=>{var a;return c(),h("div",{key:i.id,class:"p-3 bg-gray-50 rounded-md"},[r("div",bf,[r("span",kf,V(s(i.description)),1),r("div",null,[r("p",wf,V(i.description),1),r("p",xf," By "+V(((a=i.causer)==null?void 0:a.name)||"System")+" on "+V(t(i.created_at)),1)])])])}),128))]))]))}},Sf=Tt(Ef,[["__scopeId","data-v-423d54af"]]),dh=async()=>{try{return(await oe.get("/api/assigned-tasks")).data}catch(e){throw console.error("Error fetching assigned tasks:",e),fe("Failed to load assigned tasks"),e}},ch=async e=>{try{return(await oe.get(`/api/projects/${e}/tasks`)).data}catch(t){throw console.error("Error fetching project tasks:",t),fe("Failed to load project tasks"),t}},fh=async e=>{try{return(await oe.get(`/api/projects/${e}/due-and-overdue-tasks`)).data}catch(t){throw console.error("Error fetching due and overdue tasks:",t),fe("Failed to load due and overdue tasks"),t}},Tf=async e=>{if(!e||e.status==="In Progress")return e;try{ot("Starting task...");const t=await oe.post(`/api/tasks/${e.id}/start`);return Se("Task started successfully"),t.data}catch(t){throw console.error("Error starting task:",t),fe("Failed to start task. Please try again."),t}},Cf=async e=>{if(!e||e.status!=="In Progress")return Ae('Task can only be paused from "In Progress" status.'),e;try{ot("Pausing task...");const t=await oe.post(`/api/tasks/${e.id}/pause`);return Se("Task paused successfully"),t.data}catch(t){throw console.error("Error pausing task:",t),fe("Failed to pause task. Please try again."),t}},Nf=async e=>{if(!e||e.status!=="Paused")return Ae('Task can only be resumed from "Paused" status.'),e;try{ot("Resuming task...");const t=await oe.post(`/api/tasks/${e.id}/resume`);return Se("Task resumed successfully"),t.data}catch(t){throw console.error("Error resuming task:",t),fe("Failed to resume task. Please try again."),t}},If=async e=>{if(!e||e.status==="Done")return e;if(e.status!=="In Progress")throw Ae("Task must be started before it can be completed"),new Error("Task must be started before it can be completed");try{ot("Completing task...");const t=await oe.patch(`/api/tasks/${e.id}/complete`);return Se("Task completed successfully"),t.data}catch(t){throw console.error("Error completing task:",t),t.response&&t.response.status===422?Ae(t.response.data.message||"Task must be started before it can be completed"):fe("Failed to complete task. Please try again."),t}},Af=async(e,t)=>{if(!e||e.status==="Blocked")return Ae("Task is already blocked."),e;if(e.status==="Done")return Ae("Completed tasks cannot be blocked."),e;if(!t)throw Ae("Please provide a reason for blocking the task"),new Error("Blocking reason is required");try{ot("Blocking task...");const s=await oe.post(`/api/tasks/${e.id}/block`,{reason:t});return Se("Task blocked successfully"),s.data}catch(s){throw console.error("Error blocking task:",s),fe("Failed to block task. Please try again."),s}},Of=async e=>{if(!e||e.status!=="Blocked")return Ae("Task is not in a blocked state."),e;try{ot("Unblocking task...");const t=await oe.post(`/api/tasks/${e.id}/unblock`);return Se("Task unblocked successfully"),t.data}catch(t){throw console.error("Error unblocking task:",t),fe("Failed to unblock task. Please try again."),t}},$f=async e=>{if(!e||e.status!=="Done")return Ae("Only completed tasks can be revised."),e;try{ot("Revising task...");const t=await oe.post(`/api/tasks/${e.id}/revise`);return Se("Task revised successfully"),t.data}catch(t){throw console.error("Error revising task:",t),t.response&&t.response.status===422?Ae(t.response.data.message||"Only completed tasks can be revised"):fe("Failed to revise task. Please try again."),t}},Mf=async e=>{if(!e)return!1;if(e.status!=="To Do")throw Ae("Only tasks in To Do status can be deleted"),new Error("Only tasks in To Do status can be deleted");if(!confirm("Are you sure you want to delete this task? This action cannot be undone."))return!1;try{return ot("Deleting task..."),await oe.delete(`/api/tasks/${e.id}`),Se("Task deleted successfully"),!0}catch(t){throw console.error("Error deleting task:",t),fe("Failed to delete task. Please try again."),t}},Pf=e=>{switch(e){case"To Do":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Paused":return"bg-orange-100 text-orange-800";case"Blocked":return"bg-red-100 text-red-800";case"Done":return"bg-green-100 text-green-800";case"Archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ph=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},mh=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Medium",Df=["checked","onChange"],Rf={__name:"ChecklistComponent",props:{items:{type:Array,required:!0},apiEndpoint:{type:String,required:!0},title:{type:String,default:"Checklist"},containerClass:{type:String,default:"mt-4 p-3 bg-gray-100 rounded-lg text-sm text-gray-700 border border-gray-200"},titleClass:{type:String,default:"font-semibold text-gray-900 mb-2"},itemsContainerClass:{type:String,default:"space-y-1"},itemClass:{type:String,default:"flex items-center space-x-2"},checkboxClass:{type:String,default:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},completedItemClass:{type:String,default:"line-through text-gray-500"},successMessage:{type:String,default:"Checklist item updated!"},errorMessage:{type:String,default:"Failed to update checklist item"},payloadTransformer:{type:Function,default:null},checkListStyle:{type:String,default:"checklist"}},emits:["update:items","item-toggled"],setup(e,{emit:t}){const s=e,o=t,n=O(JSON.parse(JSON.stringify(s.items)));me(()=>s.items,a=>{n.value=JSON.parse(JSON.stringify(a))},{deep:!0});async function i(a){const d=n.value[a],l=!d.completed;d.completed=l;try{let u;s.payloadTransformer?u=s.payloadTransformer(n.value,a):u={items:n.value},await oe.put(s.apiEndpoint,u),o("update:items",n.value),o("item-toggled",{index:a,item:d,completed:l}),Se(s.successMessage)}catch(u){console.error("Error updating checklist item:",u),d.completed=!l,fe(s.errorMessage)}}return(a,d)=>n.value&&n.value.length>0?(c(),h("div",{key:0,class:z(e.containerClass)},[r("p",{class:z(e.titleClass)},V(e.title),3),r("ul",{class:z(e.itemsContainerClass)},[(c(!0),h(ae,null,re(n.value,(l,u)=>(c(),h("li",{key:u,class:z(e.itemClass)},[e.checkListStyle==="checklist"?(c(),h("input",{key:0,type:"checkbox",checked:l.completed,onChange:p=>i(u),class:z(e.checkboxClass)},null,42,Df)):S("",!0),r("span",{class:z({[e.completedItemClass]:l.completed})},V(l.name),3)],2))),128))],2)],2)):S("",!0)}};function lo(e,t){return c(),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z","clip-rule":"evenodd"})])}const Lf={class:"mt-4"},Vf={__name:"ChecklistCreator",props:{modelValue:{type:Array,required:!0},placeholder:{type:String,default:"e.g., Task 1, Task 2, Task 3"},label:{type:String,default:"Checklist Items"},density:{type:String,default:"spacious",validator:e=>["spacious","tight","notes"].includes(e)}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,o=t,n=O([]),i=O([]),a=O(!1);me(()=>s.modelValue,f=>{a.value=!0,n.value=JSON.parse(JSON.stringify(f)),(n.value.length===0||n.value[n.value.length-1].name.trim()!=="")&&n.value.push({name:"",completed:!1}),ut(()=>{a.value=!1})},{immediate:!0,deep:!0}),me(()=>n.value,f=>{a.value||o("update:modelValue",f)},{deep:!0});function d(f){n.value.splice(f,1),n.value.length===0&&n.value.push({name:"",completed:!1})}function l(f){f===n.value.length-1&&n.value[f].name.trim()!==""&&n.value.push({name:"",completed:!1})}function u(f){f<n.value.length-1&&ut(()=>{var m;(m=i.value[f+1])==null||m.focus()})}const p=K(()=>s.density==="tight"?{listClass:"space-y-1",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-1 text-sm"}:s.density==="notes"?{listClass:"space-y-0.5",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-0.5 text-sm border-transparent focus:border-transparent focus:ring-0 bg-transparent"}:{listClass:"space-y-2",itemClass:"flex items-center space-x-2",inputClass:""});return(f,m)=>(c(),h("div",Lf,[e.label?(c(),X(Q,{key:0,value:e.label},null,8,["value"])):S("",!0),r("ul",{class:z(p.value.listClass)},[(c(!0),h(ae,null,re(n.value,(v,k)=>(c(),h("li",{key:k,class:z(p.value.itemClass)},[e.density==="notes"?(c(),X(j(lo),{key:0,class:"h4 w-4",onClick:g=>d(k)},null,8,["onClick"])):S("",!0),_(Fe,{modelValue:v.name,"onUpdate:modelValue":g=>v.name=g,type:"text",class:z(["flex-1",p.value.inputClass]),placeholder:k===n.value.length-1?e.placeholder:"",onInput:g=>l(k),onKeyup:ns(tn(g=>u(k),["prevent"]),["enter"]),ref_for:!0,ref:g=>{g&&(i.value[k]=g)}},null,8,["modelValue","onUpdate:modelValue","class","placeholder","onInput","onKeyup"]),n.value.length>1&&e.density!=="notes"?(c(),X(nn,{key:1,type:"button",onClick:g=>d(k)},{default:N(()=>[_(j(lo),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):S("",!0)],2))),128))],2)]))}},jf={key:0,class:"text-center py-8 text-gray-500"},Ff={key:1,class:"text-center py-8 text-red-600"},Bf={key:2,class:"space-y-6"},Uf={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},Xf={class:"text-xl font-bold text-gray-900 mb-2"},Hf={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},qf={key:0,class:"text-indigo-600 font-medium"},zf={key:1,class:"text-purple-600 font-medium"},Wf={class:"text-gray-700 leading-relaxed"},Gf={class:"mt-4 flex flex-wrap gap-2"},Kf={key:0,class:"text-xs text-gray-500 mt-1"},Jf={key:0,class:"bg-yellow-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm"},Yf={class:"flex items-center"},Qf={class:"ml-3"},Zf={class:"mt-2 text-sm text-yellow-700"},ep={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm mb-4"},tp={class:"flex justify-between items-center border-b pb-2 mb-4"},sp={key:0},np={key:1},op={key:0,class:"mb-4"},ap={class:"flex justify-end mt-4"},ip={key:2,class:"text-gray-500 text-sm py-2"},rp={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},lp={class:"flex items-center justify-between py-2 border-b border-gray-100"},up={class:"flex-1 text-right"},dp={key:0,class:"text-xs text-gray-400 ml-1"},cp={key:1,class:"flex items-center space-x-2"},fp={class:"flex items-center justify-between py-2 border-b border-gray-100"},pp={class:"flex-1 text-right"},mp={key:1,class:"flex items-center space-x-2"},hp={class:"flex items-center justify-between py-2 border-b border-gray-100"},vp={class:"flex-1 text-right"},gp={key:0,class:"text-xs text-gray-400 ml-1"},yp={key:1,class:"flex items-center space-x-2"},_p={class:"flex items-center justify-between py-2 border-b border-gray-100"},bp={class:"text-gray-700"},kp={class:"flex items-start py-2 border-b border-gray-100"},wp={class:"flex-1 flex flex-wrap gap-2"},xp={key:0,class:"text-gray-500 text-sm"},Ep={class:"bg-white p-4 rounded-lg shadow-sm"},Sp={class:"mb-4 border-b pb-3 flex flex-col gap-3"},Tp={class:"flex items-center justify-between"},Cp={class:"flex items-center gap-2"},Np=["disabled"],Ip={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ap={class:"flex items-center gap-3"},Op={class:"relative inline-flex items-center px-4 py-2 rounded-md border border-dashed border-indigo-300 text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer transition"},$p=["disabled"],Mp={key:0,class:"flex flex-wrap gap-2"},Pp=["title"],Dp=["onClick"],Rp={key:0,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},Lp={key:1,class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"},Vp={class:"aspect-video bg-gray-50 flex items-center justify-center overflow-hidden"},jp=["src","alt","onClick"],Fp=["onClick"],Bp={class:"p-2 flex items-center justify-between"},Up=["title","onClick"],Xp=["onClick"],Hp={key:2,class:"text-sm text-gray-500"},qp={class:"bg-white p-4 rounded-lg shadow-sm"},zp={class:"flex justify-between items-center mb-4 border-b pb-2"},Wp={key:0,class:"space-y-3"},Gp={class:"text-sm text-gray-700"},Kp={class:"text-xs text-gray-500 mt-1"},Jp={key:1,class:"text-gray-500 text-sm py-2"},Yp={class:"bg-white p-4 rounded-lg shadow-sm"},Qp={key:3,class:"text-center py-8 text-gray-500"},Zp={key:4,class:"mt-4 flex flex-col items-center"},em={key:0,class:"text-xs text-red-500 mt-1"},tm={class:"p-6"},sm={class:"mb-4"},nm={class:"flex justify-end space-x-3"},om={class:"p-4 sm:p-6 w-full max-w-4xl"},am={class:"flex justify-between items-center mb-3"},im=["title"],rm={class:"bg-black/5 rounded-lg overflow-hidden",style:{"min-height":"320px"}},lm=["src"],um=["src"],dm={key:2,class:"p-6 text-center text-gray-700"},cm=["href"],fm={key:3,class:"p-6 text-center text-gray-500"},pm={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(e,{emit:t}){const s=e,o=t,n=O(null),i=O(!0),a=O(""),d=O(!1),l=O(!1),u=O(!1),p=O(null),f=O(null),m=O(null),v=O([]),k=O(!1),g=O([]),B=O(!1),I=O(!1),b=O([]),w=async()=>{if(s.taskId){B.value=!0;try{const R=await window.axios.get("/api/files",{params:{model_type:"Task",model_id:s.taskId}});g.value=R.data||[]}catch(R){console.error("Error fetching task files",R)}finally{B.value=!1}}},D=R=>{b.value=Array.from(R.target.files||[])},F=async()=>{if(!b.value.length)return;I.value=!0;const R=new FormData;b.value.forEach((E,ye)=>R.append(`files[${ye}]`,E)),R.append("model_type","Task"),R.append("model_id",s.taskId);try{await window.axios.post("/api/files",R,{headers:{"Content-Type":"multipart/form-data"}}),Se("Files uploaded"),b.value=[],await w()}catch(E){console.error("Upload failed",E),fe("Failed to upload files")}finally{I.value=!1}},U=async R=>{if(await oi(`Delete file "${R.filename}"?`,{confirmText:"Delete",cancelText:"Cancel",type:"warning"}))try{await window.axios.delete(`/api/files/${R.id}`),Se("File deleted"),await w()}catch(ye){console.error("Delete failed",ye),fe("Failed to delete file")}},J=O(!1),C=O(null),T=R=>{C.value=R,J.value=!0},L=()=>{J.value=!1,C.value=null},A=R=>R?R.thumbnail_url?R.thumbnail_url:R.mime_type&&R.mime_type.includes("image")&&R.path_url?R.path_url:null:null,y=R=>{if(!R)return{type:"none"};const E=R.path_url||null,ye=(R.mime_type||"").toLowerCase();return E?ye.includes("image")?{type:"image",src:E}:ye.includes("pdf")||ye.includes("text")||ye.includes("html")?{type:"iframe",src:E}:{type:"external_link",url:E}:{type:"none"}},x=K(()=>y(C.value)),P=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],M=O(!1),q=O(!1),H=O([{name:"",completed:!1}]),se=O(!1),Re=async()=>{i.value=!0,a.value="";try{const R=await window.axios.get(`/api/tasks/${s.taskId}`);n.value=R.data,p.value=n.value.assigned_to_id||null,f.value=n.value.due_date||null,m.value=n.value.priority||"medium",Ce()}catch(R){a.value="Failed to load task details.",console.error("Error fetching task details:",R)}finally{i.value=!1}},Ce=async()=>{k.value=!0;try{const R=await window.axios.get("/api/activities",{params:{subject_type:"App\\Models\\Task",subject_id:s.taskId}});v.value=R.data}catch(R){console.error("Error fetching task activities:",R)}finally{k.value=!1}};me(()=>s.taskId,R=>{R?(Re(),w()):(n.value=null,g.value=[])},{immediate:!0});const It=K(()=>s.projectUsers.map(R=>({value:R.id,label:R.name}))),Sa=async()=>{if(!n.value||p.value===n.value.assigned_to_id){d.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{assigned_to_user_id:p.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating assigned user:",R),p.value=n.value.assigned_to_id,fe("Failed to update assigned user. Please try again.")}finally{d.value=!1}},Ta=async()=>{if(!n.value||f.value===n.value.due_date){l.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{due_date:f.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating due date:",R),f.value=n.value.due_date,fe("Failed to update due date. Please try again.")}finally{l.value=!1}},Ca=async()=>{if(!n.value||m.value===n.value.priority){u.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${n.value.id}`,{priority:m.value});n.value=R.data,o("task-updated",n.value)}catch(R){console.error("Error updating priority:",R),m.value=n.value.priority,fe("Failed to update priority. Please try again.")}finally{u.value=!1}},Na=()=>{M.value=!0},Ia=()=>{Re(),M.value=!1},Aa=async()=>{try{await Mf(n.value),o("task-deleted",n.value.id),o("close")}catch(R){console.error("Error deleting task:",R)}},Oa=async()=>{try{n.value=await Tf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error starting task:",R)}},$a=async()=>{try{n.value=await Cf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error pausing task:",R)}},Ma=async()=>{try{n.value=await Nf(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error resuming task:",R)}},Pa=async()=>{try{n.value=await If(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error completing task:",R)}},Da=async()=>{try{n.value=await $f(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error revising task:",R)}},Ra=()=>{var R;q.value=!q.value,q.value&&((R=n.value.details)!=null&&R.checklist&&n.value.details.checklist.length>0?(H.value=JSON.parse(JSON.stringify(n.value.details.checklist)),H.value[H.value.length-1].name!==""&&H.value.push({name:"",completed:!1})):H.value=[{name:"",completed:!1}])},La=async()=>{if(!se.value){se.value=!0;try{const R=H.value.filter(at=>at.name.trim()!==""),E={details:{...n.value.details,checklist:R}},ye=await window.axios.patch(`/api/tasks/${n.value.id}`,E);n.value=ye.data,q.value=!1,Se("Checklist saved successfully"),o("task-updated",n.value)}catch(R){console.error("Error saving checklist:",R),fe("Failed to save checklist")}finally{se.value=!1}}},At=O(!1),ht=O(""),Va=()=>{ht.value="",At.value=!0},ja=async()=>{if(!ht.value.trim()){Ae("Please provide a reason for blocking the task");return}try{n.value=await Af(n.value,ht.value),Se("Task blocked successfully"),o("task-updated",n.value),Ce(),At.value=!1}catch(R){console.error("Error blocking task:",R)}},Fa=async()=>{try{n.value=await Of(n.value),o("task-updated",n.value),Ce()}catch(R){console.error("Error unblocking task:",R)}},Ba=K(()=>n.value?Pf(n.value.status):""),js=K(()=>{var E,ye,at,Ot;if(!v.value||((E=n.value)==null?void 0:E.status)!=="Blocked")return null;const R=v.value.find($t=>{var Mt,Pt;return $t.event==="updated"&&((Pt=(Mt=$t.properties)==null?void 0:Mt.attributes)==null?void 0:Pt.status)==="Blocked"});return R?(console.log(R.properties),{causer:((ye=R.causer)==null?void 0:ye.name)||"Unknown",reason:((Ot=(at=R.properties)==null?void 0:at.attributes)==null?void 0:Ot.block_reason)||"No reason provided."}):null});return(R,E)=>{var ye,at,Ot,$t,Mt,Pt,Pn;return c(),h("div",null,[i.value?(c(),h("div",jf," Loading task details... ")):a.value?(c(),h("div",Ff,V(a.value),1)):n.value?(c(),h("div",Bf,[r("div",Uf,[r("h4",Xf,V(n.value.name),1),r("div",Hf,[r("span",{class:z(["px-2 py-1 rounded-full text-xs font-medium",Ba.value])},V(n.value.status),3),n.value.task_type?(c(),h("span",qf," | "+V((ye=n.value.task_type)==null?void 0:ye.name)+" | ",1)):S("",!0),E[14]||(E[14]=r("br",null,null,-1)),(at=n.value.milestone)!=null&&at.name?(c(),h("span",zf,V((Ot=n.value.milestone)==null?void 0:Ot.name),1)):S("",!0)]),r("p",Wf,V(n.value.description||"No description provided."),1),r("div",Gf,[n.value.status==="To Do"?(c(),X(ke,{key:0,onClick:Oa,class:"bg-blue-600 hover:bg-blue-700"},{default:N(()=>E[15]||(E[15]=[$(" Start Task ",-1)])),_:1,__:[15]})):n.value.status==="In Progress"?(c(),X(ke,{key:1,onClick:$a,class:"bg-orange-600 hover:bg-orange-700"},{default:N(()=>E[16]||(E[16]=[$(" Pause Task ",-1)])),_:1,__:[16]})):n.value.status==="Paused"?(c(),X(ke,{key:2,onClick:Ma,class:"bg-blue-600 hover:bg-blue-700"},{default:N(()=>E[17]||(E[17]=[$(" Resume Task ",-1)])),_:1,__:[17]})):n.value.status==="Blocked"?(c(),X(ke,{key:3,onClick:Fa,class:"bg-green-600 hover:bg-green-700"},{default:N(()=>E[18]||(E[18]=[$(" Unblock Task ",-1)])),_:1,__:[18]})):S("",!0),n.value.status==="To Do"||n.value.status==="In Progress"||n.value.status==="Paused"?(c(),X(ke,{key:4,onClick:Va,class:"bg-red-600 hover:bg-red-700"},{default:N(()=>E[19]||(E[19]=[$(" Block Task ",-1)])),_:1,__:[19]})):S("",!0),n.value.status==="In Progress"?(c(),X(ke,{key:5,onClick:Pa,class:"bg-green-600 hover:bg-green-700"},{default:N(()=>E[20]||(E[20]=[$(" Complete Task ",-1)])),_:1,__:[20]})):S("",!0),n.value.status==="Done"?(c(),X(ke,{key:6,onClick:Da,class:"bg-yellow-600 hover:bg-yellow-700"},{default:N(()=>E[21]||(E[21]=[$(" Revise Task ",-1)])),_:1,__:[21]})):S("",!0)]),n.value.status==="Done"?(c(),h("div",Kf,' Revising will change the task status back to "To Do" ')):S("",!0)]),n.value.status==="Blocked"&&js.value?(c(),h("div",Jf,[r("div",Yf,[E[23]||(E[23]=r("div",{class:"flex-shrink-0"},[r("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[r("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11.75 13a.75.75 0 01-1.5 0v-2.25a.75.75 0 011.5 0V13zm-1.5-7.5a.75.75 0 011.5 0v1.5a.75.75 0 01-1.5 0V5.5z","clip-rule":"evenodd"})])],-1)),r("div",Qf,[E[22]||(E[22]=r("h3",{class:"text-sm font-medium text-yellow-800"},"Task Blocked",-1)),r("div",Zf,[r("p",null,"This task was blocked by **"+V(js.value.causer)+"** with the following reason:",1),r("p",null,V(js.value.reason),1)])])])])):S("",!0),r("div",ep,[r("div",tp,[E[24]||(E[24]=r("h5",{class:"text-lg font-semibold text-gray-800"},"Task Checklist",-1)),r("button",{onClick:Ra,class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center"},[q.value?(c(),h("span",np,"Cancel")):(c(),h("span",sp,V(($t=n.value.details)!=null&&$t.checklist&&n.value.details.checklist.length>0?"Edit Checklist":"Add Checklist"),1))])]),q.value?(c(),h("div",op,[_(Vf,{modelValue:H.value,"onUpdate:modelValue":E[0]||(E[0]=G=>H.value=G),placeholder:"e.g., Review design, Update documentation",label:"Checklist Items",density:"notes"},null,8,["modelValue"]),r("div",ap,[_(ke,{onClick:La,disabled:se.value,class:"flex items-center space-x-1"},{default:N(()=>[_(j(_c),{class:"h-4 w-4"}),E[25]||(E[25]=r("span",null,"Save Checklist",-1))]),_:1,__:[25]},8,["disabled"])])])):S("",!0),(Mt=n.value.details)!=null&&Mt.checklist&&n.value.details.checklist.length>0&&!q.value?(c(),X(Rf,{key:1,items:n.value.details.checklist,"api-endpoint":`/api/tasks/${n.value.id}`,title:"Items to complete:","payload-transformer":G=>({details:{...n.value.details,checklist:G}})},null,8,["items","api-endpoint","payload-transformer"])):S("",!0),(!((Pt=n.value.details)!=null&&Pt.checklist)||n.value.details.checklist.length===0)&&!q.value?(c(),h("div",ip,' No checklist items for this task yet. Click "Add Checklist" to create one. ')):S("",!0)]),r("div",rp,[E[32]||(E[32]=r("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),r("div",lp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:N(()=>E[26]||(E[26]=[$("Assigned To:",-1)])),_:1,__:[26]}),r("div",up,[d.value?(c(),h("div",cp,[_(Pe,{id:"edit-assigned-to",modelValue:p.value,"onUpdate:modelValue":E[2]||(E[2]=G=>p.value=G),options:It.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),r("button",{onClick:Sa,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),r("button",{onClick:E[3]||(E[3]=G=>d.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(c(),h("div",{key:0,onClick:E[1]||(E[1]=G=>n.value.status!=="Done"?d.value=!0:Ae("Cannot change assignment for a completed task. Use the Revise button to change the task status first.")),class:z(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[$(V(((Pn=n.value.assigned_to)==null?void 0:Pn.name)||"Unassigned")+" ",1),n.value.status!=="Done"?(c(),h("span",dp,"(Click to edit)")):S("",!0)],2))])]),r("div",fp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:N(()=>E[27]||(E[27]=[$("Due Date:",-1)])),_:1,__:[27]}),r("div",pp,[l.value?(c(),h("div",mp,[_(Fe,{id:"edit-due-date",modelValue:f.value,"onUpdate:modelValue":E[5]||(E[5]=G=>f.value=G),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),r("button",{onClick:Ta,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),r("button",{onClick:E[6]||(E[6]=G=>l.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(c(),h("div",{key:0,onClick:E[4]||(E[4]=G=>l.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[$(V(n.value.due_date?j(ci)(n.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),E[28]||(E[28]=r("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),r("div",hp,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:N(()=>E[29]||(E[29]=[$("Priority:",-1)])),_:1,__:[29]}),r("div",vp,[u.value?(c(),h("div",yp,[_(Pe,{id:"edit-priority",modelValue:m.value,"onUpdate:modelValue":E[8]||(E[8]=G=>m.value=G),options:P,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1 flex-1"},null,8,["modelValue"]),r("button",{onClick:Ca,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),r("button",{onClick:E[9]||(E[9]=G=>u.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(c(),h("div",{key:0,onClick:E[7]||(E[7]=G=>n.value.status!=="Done"?u.value=!0:Ae("Cannot change priority for a completed task. Use the Revise button to change the task status first.")),class:z(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[r("span",{class:z({"text-red-600 font-medium":n.value.priority==="high","text-yellow-600 font-medium":n.value.priority==="medium","text-green-600 font-medium":n.value.priority==="low"})},V(n.value.priority?n.value.priority.charAt(0).toUpperCase()+n.value.priority.slice(1):"Medium"),3),n.value.status!=="Done"?(c(),h("span",gp,"(Click to edit)")):S("",!0)],2))])]),r("div",_p,[_(Q,{class:"min-w-[100px] text-gray-600"},{default:N(()=>E[30]||(E[30]=[$("Created:",-1)])),_:1,__:[30]}),r("span",bp,V(n.value.created_at?new Date(n.value.created_at).toLocaleDateString():"N/A"),1)]),r("div",kp,[_(Q,{class:"min-w-[100px] text-gray-600 mt-1"},{default:N(()=>E[31]||(E[31]=[$("Tags:",-1)])),_:1,__:[31]}),r("div",wp,[(c(!0),h(ae,null,re(n.value.tags,G=>(c(),h("span",{key:G.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},V(G.name),1))),128)),!n.value.tags||n.value.tags.length===0?(c(),h("span",xp,"No tags")):S("",!0)])])]),r("div",Ep,[r("div",Sp,[r("div",Tp,[E[34]||(E[34]=r("h5",{class:"text-lg font-semibold text-gray-800"},"Files",-1)),r("div",Cp,[r("button",{type:"button",class:"inline-flex items-center px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 transition disabled:opacity-60 disabled:cursor-not-allowed",disabled:I.value||b.value.length===0,onClick:F},[I.value?(c(),h("svg",Ip,E[33]||(E[33]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):S("",!0),r("span",null,V(I.value?"Uploading...":"Upload"),1)],8,Np)])]),r("div",Ap,[r("label",Op,[E[35]||(E[35]=r("svg",{class:"h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1M4 12l1.5-1.5M20 12l-1.5-1.5M12 4v12"})],-1)),E[36]||(E[36]=r("span",{class:"font-medium"},"Choose Files",-1)),r("input",{class:"absolute inset-0 opacity-0 cursor-pointer",type:"file",multiple:"",onChange:D,disabled:I.value},null,40,$p)]),E[37]||(E[37]=r("p",{class:"text-xs text-gray-500"},"You can select multiple files. Images, PDFs, Docs are supported.",-1))]),b.value.length?(c(),h("div",Mp,[(c(!0),h(ae,null,re(b.value,(G,vt)=>(c(),h("span",{key:vt,class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-100 text-gray-800 text-xs"},[E[38]||(E[38]=r("svg",{class:"h-4 w-4 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),r("span",{class:"max-w-[160px] truncate",title:G.name},V(G.name),9,Pp),r("button",{type:"button",class:"text-gray-500 hover:text-red-600",onClick:Km=>b.value=b.value.filter((Jm,Ua)=>Ua!==vt)},"",8,Dp)]))),128))])):S("",!0)]),r("div",null,[B.value?(c(),h("div",Rp,[(c(),h(ae,null,re(6,G=>r("div",{key:G,class:"h-28 bg-gray-100 rounded animate-pulse"})),64))])):g.value.length>0?(c(),h("div",Lp,[(c(!0),h(ae,null,re(g.value,G=>(c(),h("div",{key:G.id,class:"group relative rounded-lg border border-gray-200 overflow-hidden bg-white shadow-sm hover:shadow-md transition"},[r("div",Vp,[A(G)?(c(),h("img",{key:0,src:A(G),alt:G.filename,class:"object-cover w-full h-full",onClick:vt=>T(G)},null,8,jp)):(c(),h("div",{key:1,class:"text-gray-400",onClick:vt=>T(G)},E[39]||(E[39]=[r("svg",{class:"h-10 w-10",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)]),8,Fp))]),r("div",Bp,[r("button",{class:"text-xs text-blue-600 hover:underline truncate max-w-[70%] text-left",title:G.filename,onClick:vt=>T(G)},V(G.filename),9,Up),r("button",{class:"text-red-600 hover:text-red-800 text-xs",onClick:vt=>U(G)},"Delete",8,Xp)])]))),128))])):(c(),h("div",Hp,"No files attached."))])]),r("div",qp,[r("div",zp,[E[41]||(E[41]=r("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),_(ke,{onClick:Na,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:N(()=>E[40]||(E[40]=[$(" Add Note ",-1)])),_:1,__:[40]})]),n.value.notes&&n.value.notes.length>0?(c(),h("div",Wp,[(c(!0),h(ae,null,re(n.value.notes,G=>(c(),h("div",{key:G.id,class:"p-3 bg-gray-50 rounded-md"},[r("p",Gp,V(G.content),1),r("p",Kp," By "+V(G.creator_name||"Unknown")+" on "+V(new Date(G.created_at).toLocaleDateString()),1)]))),128))])):(c(),h("div",Jp,"No notes for this task yet."))]),r("div",Yp,[E[42]||(E[42]=r("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"History",-1)),_(Sf,{activities:v.value,loading:k.value},null,8,["activities","loading"])])])):(c(),h("div",Qp," Select a task to view details. ")),n.value&&n.value.status!=="Done"?(c(),h("div",Zp,[_(nn,{onClick:Aa,disabled:n.value.status!=="To Do"},{default:N(()=>E[43]||(E[43]=[$(" Delete Task ",-1)])),_:1,__:[43]},8,["disabled"]),n.value.status!=="To Do"?(c(),h("p",em,"Task can only be deleted in 'To Do' status.")):S("",!0)])):S("",!0),_(hf,{show:M.value,"task-for-note":n.value,onClose:E[10]||(E[10]=G=>M.value=!1),onNoteAdded:Ia},null,8,["show","task-for-note"]),_(cs,{show:At.value,onClose:E[13]||(E[13]=G=>At.value=!1)},{default:N(()=>[r("div",tm,[E[47]||(E[47]=r("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Block Task ",-1)),r("div",sm,[E[44]||(E[44]=r("p",{class:"text-sm text-gray-600 mb-2"}," Please provide a reason for blocking this task: ",-1)),ce(r("textarea",{"onUpdate:modelValue":E[11]||(E[11]=G=>ht.value=G),class:"w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3",placeholder:"Enter reason for blocking..."},null,512),[[Ve,ht.value]])]),r("div",nm,[_(jt,{onClick:E[12]||(E[12]=G=>At.value=!1)},{default:N(()=>E[45]||(E[45]=[$(" Cancel ",-1)])),_:1,__:[45]}),_(ke,{onClick:ja,disabled:!ht.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:N(()=>E[46]||(E[46]=[$(" Block Task ",-1)])),_:1,__:[46]},8,["disabled"])])])]),_:1},8,["show"]),_(cs,{show:J.value,onClose:L},{default:N(()=>[r("div",om,[r("div",am,[r("h3",{class:"text-lg font-semibold text-gray-800 truncate",title:C.value&&C.value.filename?C.value.filename:""},V(C.value&&C.value.filename?C.value.filename:"Preview"),9,im),r("button",{class:"text-gray-500 hover:text-gray-700",onClick:L},"")]),r("div",rm,[$(V(x.value.type)+" ",1),x.value.type==="iframe"?(c(),h("iframe",{key:0,src:x.value.src,class:"w-full h-[70vh]",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,lm)):x.value.type==="image"?(c(),h("img",{key:1,src:x.value.src,alt:"Preview",class:"w-full h-auto"},null,8,um)):x.value.type==="external_link"?(c(),h("div",dm,[E[48]||(E[48]=r("p",null,"This file can't be embedded. You can open it using the link below:",-1)),r("a",{href:x.value.url,target:"_blank",class:"text-indigo-600 hover:underline break-all"},V(x.value.url),9,cm)])):(c(),h("div",fm,"No preview available."))])])]),_:1},8,["show"])])}}},mm={key:1,class:"p-4 text-gray-500"},hm={key:0,class:"flex justify-end space-x-3"},vm={__name:"TaskSidebar",emits:["taskUpdated","taskDeleted"],setup(e){const t=O(null);return(s,o)=>(c(),X(xa,{show:j(Je).show,"onUpdate:show":j(Fs),title:j(Je).taskId?"Task Details":"Details",initialWidth:50},{content:N(()=>[j(Je).taskId?(c(),X(pm,{key:0,"task-id":j(Je).taskId,"project-id":j(Je).projectId,"project-users":j(Je).projectUsers,ref_key:"taskDetailSidebarRef",ref:t,onClose:j(Fs),onTaskUpdated:o[0]||(o[0]=n=>{s.$emit("taskUpdated",n)}),onTaskDeleted:o[1]||(o[1]=n=>{s.$emit("taskDeleted",n),j(Fs)()})},null,8,["task-id","project-id","project-users","onClose"])):j(Je).show?(c(),h("div",mm," No task selected or task ID is missing. ")):S("",!0)]),footer:N(()=>[j(Je).taskId?(c(),h("div",hm,[t.value&&t.value.task&&t.value.task.status!=="In Progress"&&t.value.task.status!=="Done"?(c(),X(jt,{key:0,onClick:t.value.startTask,class:"bg-blue-50 text-blue-700 hover:bg-blue-100"},{default:N(()=>o[2]||(o[2]=[$(" Start Task ",-1)])),_:1,__:[2]},8,["onClick"])):S("",!0),t.value&&t.value.task&&t.value.task.status==="In Progress"?(c(),X(jt,{key:1,onClick:t.value.completeTask,class:"bg-green-50 text-green-700 hover:bg-green-100"},{default:N(()=>o[3]||(o[3]=[$(" Complete Task ",-1)])),_:1,__:[3]},8,["onClick"])):S("",!0),t.value&&t.value.task?(c(),X(nn,{key:2,onClick:t.value.deleteTask,class:"bg-red-50 text-red-700 hover:bg-red-100"},{default:N(()=>o[4]||(o[4]=[$(" Delete Task ",-1)])),_:1,__:[4]},8,["onClick"])):S("",!0)])):S("",!0)]),_:1},8,["show","onUpdate:show","title"]))}};function gm(e,t){return c(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function uo(e,t){return c(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"})])}function ym(e,t){return c(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function _m(e,t){return c(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function bm(e,t){return c(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"})])}function km(e,t){return c(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const wm={key:0,class:"fixed inset-0 z-[60] flex items-center justify-center p-4"},xm={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"},Em={class:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2"},Sm={class:"max-h-[70vh] overflow-y-auto p-6 space-y-4"},Tm={key:0,class:"text-center text-gray-500 py-8"},Cm={key:1,class:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-600"},Nm={class:"flex items-start justify-between gap-4"},Im={class:"flex-1 min-w-0"},Am={class:"flex items-center gap-2 mb-2"},Om={class:"font-bold text-lg text-gray-900 dark:text-white truncate"},$m={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line leading-relaxed"},Mm={key:0,class:"flex-shrink-0"},Pm=["href"],Dm={key:2,class:"text-xs text-gray-500 dark:text-gray-400 text-right pr-1"},Rm={class:"p-6 border-t border-gray-200 dark:border-gray-700 flex flex-col md:flex-row items-center justify-between gap-4"},Lm={class:"flex items-center w-full md:w-auto"},Vm={class:"flex justify-end gap-3 w-full md:w-auto"},jm=["disabled"],Fm={key:0},Bm={key:1},Um={__name:"NoticeboardModal",props:{show:{type:Boolean,default:!1},unreadNotices:{type:Array,default:()=>[]}},emits:["close"],setup(e,{emit:t}){const s=e,o=t,n=O(!1),i=O(!1),a=O(0);me(()=>s.show,m=>{m&&(a.value=0,n.value=!1)}),me(()=>s.unreadNotices,()=>{a.value>=s.unreadNotices.length&&(a.value=0)});const d=K(()=>s.unreadNotices.length),l=K(()=>s.unreadNotices[a.value]||null),u=async()=>{if(!(!n.value||i.value)){if(!l.value){o("close");return}i.value=!0;try{const m=l.value.id;await oe.post("/api/notices/acknowledge",{notice_ids:[m]}),n.value=!1,a.value+1<s.unreadNotices.length?a.value+=1:o("close")}catch(m){console.error("Failed to acknowledge notices",m)}finally{i.value=!1}}},p=m=>{switch(m){case"Warning":return _m;case"Updates":return bm;case"Final Notice":return ym;default:return uo}},f=m=>{switch(m){case"Warning":return"text-red-500 bg-red-100";case"Updates":return"text-blue-500 bg-blue-100";case"Final Notice":return"text-yellow-500 bg-yellow-100";default:return"text-indigo-500 bg-indigo-100"}};return(m,v)=>e.show?(c(),h("div",wm,[r("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:v[0]||(v[0]=k=>o("close"))}),r("div",{class:z(["relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-2xl w-full mx-auto transform transition-all duration-300 scale-100",{"scale-95 opacity-0":!e.show}])},[r("div",xm,[r("h3",Em,[_(j(uo),{class:"h-7 w-7 text-indigo-500"}),v[4]||(v[4]=$(" Important Notices ",-1))]),r("button",{onClick:v[1]||(v[1]=k=>o("close")),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},[_(j(km),{class:"h-6 w-6"})])]),r("div",Sm,[l.value?(c(),h("div",Cm,[r("div",Nm,[r("div",Im,[r("div",Am,[(c(),X(ai(p(l.value.type)),{class:z(["h-5 w-5",f(l.value.type)])},null,8,["class"])),r("div",Om,V(l.value.title),1)]),r("div",$m,V(l.value.description),1)]),l.value.url?(c(),h("div",Mm,[r("a",{href:`/notices/${l.value.id}/redirect`,target:"_blank",class:"flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors font-medium text-sm"},[v[5]||(v[5]=$(" Open Link ",-1)),_(j(gm),{class:"h-4 w-4 ml-1"})],8,Pm)])):S("",!0)])])):(c(),h("div",Tm," All notices have been read. ")),l.value&&d.value>1?(c(),h("div",Dm," Notice "+V(a.value+1)+" of "+V(d.value),1)):S("",!0)]),r("div",Rm,[r("div",Lm,[ce(r("input",{id:"acknowledge",type:"checkbox","onUpdate:modelValue":v[2]||(v[2]=k=>n.value=k),class:"h-5 w-5 text-indigo-600 rounded-lg border-gray-300 dark:border-gray-500 dark:bg-gray-600 focus:ring-indigo-500 focus:ring-offset-0 transition-colors"},null,512),[[ii,n.value]]),v[6]||(v[6]=r("label",{for:"acknowledge",class:"ml-3 text-sm text-gray-700 dark:text-gray-300 select-none"}," I have read and understood this notice. ",-1))]),r("div",Vm,[r("button",{onClick:v[3]||(v[3]=k=>o("close")),class:"px-5 py-2.5 rounded-xl border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm font-medium"}," Close "),r("button",{onClick:u,disabled:!n.value||i.value,class:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-indigo-700 transition-colors text-sm font-medium"},[i.value?(c(),h("span",Fm,"Acknowledging...")):(c(),h("span",Bm,"Acknowledge"))],8,jm)])])],2)])):S("",!0)}},Hs=O(!1),Rt=O([]),qs=O(!1);function Xm(){const e=async()=>{var o;try{const n=await oe.get("/api/notices/unread");Rt.value=((o=n.data)==null?void 0:o.data)||[],Hs.value=Rt.value.length>0}catch(n){console.error("Failed to fetch unread notices",n)}},t=async()=>{if(qs.value)try{const o=Rt.value.map(n=>n.id);if(o.length===0)return;await oe.post("/api/notices/acknowledge",{notice_ids:o}),s()}catch(o){console.error("Failed to acknowledge notices",o)}},s=()=>{Hs.value=!1,Rt.value=[],qs.value=!1};return Ke(()=>{e()}),bo(()=>{}),{showNoticeModal:Hs,unreadNotices:Rt,acknowledgeChecked:qs,fetchUnreadNotices:e,acknowledgeNotices:t,closeModal:s}}const Hm={class:"flex h-screen overflow-hidden"},qm={class:"flex-1 flex flex-col overflow-hidden"},zm={key:0,class:"bg-white shadow"},Wm={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},Gm={class:"flex-1 overflow-y-auto"},hh={__name:"AuthenticatedLayout",setup(e){const t=O(!1),s=O(!1),o=O(!1),n=O(!1),i=O([]),a=O(!0),d=K(()=>zt().props.id||null),{showNoticeModal:l,unreadNotices:u,fetchUnreadNotices:p,closeModal:f}=Xm(),m=O(null),v=async()=>{const F=localStorage.getItem("authToken");if(F){window.axios.defaults.headers.common.Authorization=`Bearer ${F}`;try{await window.axios.get("/api/user")}catch(U){U.response&&U.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},k=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization},g=F=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},B=async()=>{a.value=!0;try{const F=await window.axios.get("/api/projects-simplified");i.value=F.data}catch(F){console.error("Error fetching all projects for sidebar:",F),i.value=[]}finally{a.value=!1}},I=F=>{_o.visit(route("projects.show",F))},b=K(()=>Vt.value.notifications.filter(F=>!F.isRead).length),w=F=>{console.log("Task updated globally.",F)},D=F=>{console.log("Task deleted globally.",F)};return Ke(()=>{v(),m.value&&ri(m.value),B(),li(),Ln(p),p()}),bo(()=>{Ln(null)}),(F,U)=>(c(),h("div",Hm,[_(Pi,{ref_key:"standardNotificationContainerRef",ref:m},null,512),_(Ci,{"sidebar-is-open":j(Vt).show},null,8,["sidebar-is-open"]),_(yu),_(cc,{"all-projects":i.value,"active-project-id":d.value,onProjectSelected:I},null,8,["all-projects","active-project-id"]),r("div",qm,[_(Jc,{"unread-notification-count":b.value,onOpenCreateTaskModal:U[0]||(U[0]=J=>s.value=!0),onOpenAddResource:U[1]||(U[1]=J=>o.value=!0),onOpenNotificationsSidebar:j(Vn),onOpenKudoModal:U[2]||(U[2]=J=>n.value=!0)},null,8,["unread-notification-count","onOpenNotificationsSidebar"]),_(af,{"showing-navigation-dropdown":t.value,"unread-notification-count":b.value,onOpenCreateTaskModal:U[3]||(U[3]=J=>s.value=!0),onOpenAddResource:U[4]||(U[4]=J=>o.value=!0),onOpenNotificationsSidebar:j(Vn),onLogoutSuccess:k,onLogoutError:g},null,8,["showing-navigation-dropdown","unread-notification-count","onOpenNotificationsSidebar"]),F.$slots.header?(c(),h("header",zm,[r("div",Wm,[Be(F.$slots,"header")])])):S("",!0),r("main",Gm,[Be(F.$slots,"default")]),_(td,{show:s.value,onClose:U[5]||(U[5]=J=>s.value=!1),onSaved:U[6]||(U[6]=J=>s.value=!1)},null,8,["show"]),_(ad,{"api-endpoint":"/api/shareable-resources",show:o.value,onClose:U[7]||(U[7]=J=>o.value=!1)},null,8,["show"]),_(Dd,{show:n.value,onClose:U[8]||(U[8]=J=>n.value=!1),onSubmitted:U[9]||(U[9]=J=>n.value=!1)},null,8,["show"])]),_(vm,{onTaskUpdated:w,onTaskDeleted:D}),_(Ad),_(Um,{show:j(l),unreadNotices:j(u),onClose:j(f)},null,8,["show","unreadNotices","onClose"])]))}};export{Qt as B,ad as C,wa as T,hh as _,Bu as a,mu as b,mh as c,ph as d,If as e,dh as f,Pf as g,Mf as h,$f as i,Af as j,Rf as k,Vf as l,Tu as m,lo as n,hf as o,Cf as p,ch as q,Nf as r,Tf as s,td as t,Of as u,fh as v};
