import{a as o,o as s,b as t,r as x,c as K,f as G,v as q,e as J,x as h,d as y,i as g,t as d,F as _,l as C,m as A,y as z,u as f,j as M,z as Q,A as F,k as X,g as Z,n as Y,B as ee,h as te,w as O,C as E,D as P,p as H}from"./app-BHf0N9zz.js";import{_ as le}from"./AuthenticatedLayout-88u_3LuH.js";import{P as se}from"./PrimaryButton-pwvb5d_L.js";import{_ as ae}from"./SecondaryButton-DQPsNT8c.js";import{r as oe}from"./ChevronDownIcon-BYzdmrHv.js";import{r as re,a as ie}from"./PlusCircleIcon-Cg4us7x9.js";import{r as ne}from"./UsersIcon-BzuoBpIa.js";import"./Modal-D3kGOx9y.js";import"./InputLabel-DD9FndyX.js";import"./InputError-BTuy46PJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-DNpKL3DE.js";import"./SelectDropdown-CJaRwMp5.js";import"./Checkbox-Cbx42CvW.js";import"./ApplicationLogo-GD7jeGHr.js";import"./DangerButton-ChVOiEUe.js";import"./moment-BLMuvzoS.js";function de(c,v){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}function ue(c,v){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}function ce(c,v){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}const me=["disabled"],ve={key:0,class:"flex flex-wrap gap-1 items-center"},pe={key:0,class:"text-gray-500"},ge={class:"absolute z-50 mt-1 w-full rounded-xl shadow-lg bg-white ring-1 ring-black ring-opacity-5"},xe={class:"p-2 border-b border-gray-200"},fe=["onClick"],ye={key:0,class:"block px-4 py-2 text-sm text-gray-500"},he={__name:"MultiSelectDropdown",props:{modelValue:{type:[String,Number,Object,Array,null],default:null},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select an option"},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},isMulti:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"250px"},width:{type:String,default:"full"},labelClass:{type:String,default:"text-xs"}},emits:["update:modelValue","change"],setup(c,{emit:v}){const a=c,b=v,p=x(!1),r=x(""),w=x(null),$=x(null),L=K(()=>{if(!r.value)return a.options;const u=r.value.toLowerCase();return a.options.filter(n=>n[a.labelKey].toLowerCase().includes(u))}),V=u=>!a.isMulti||!a.modelValue?!1:Array.isArray(a.modelValue)&&a.modelValue.includes(u[a.valueKey]),j=u=>{if(a.isMulti){let n=a.modelValue?[...a.modelValue]:[];const m=u[a.valueKey],B=n.indexOf(m);B>-1?n.splice(B,1):n.push(m),b("update:modelValue",n),b("change",n)}else b("update:modelValue",u[a.valueKey]),b("change",u[a.valueKey]),p.value=!1,r.value=""},N=u=>{if(!a.isMulti||!a.modelValue)return;const n=a.modelValue.filter(m=>m!==u);b("update:modelValue",n),b("change",n)},U=K(()=>a.isMulti?a.options.filter(n=>Array.isArray(a.modelValue)&&a.modelValue.includes(n[a.valueKey])).map(n=>n[a.labelKey]):a.placeholder),T=u=>{w.value&&!w.value.contains(u.target)&&(p.value=!1,r.value="")},D=u=>{u.key==="Escape"&&p.value&&(p.value=!1,r.value="")};G(()=>{document.addEventListener("click",T),document.addEventListener("keydown",D)}),q(()=>{document.removeEventListener("click",T),document.removeEventListener("keydown",D)});const S=()=>{a.disabled||(p.value=!p.value,p.value&&Y(()=>{$.value&&$.value.focus()}))};return J(()=>a.modelValue,u=>{(u==null||a.isMulti&&Array.isArray(u)&&u.length===0)&&(r.value="")},{deep:!0}),(u,n)=>(s(),o("div",{ref_key:"dropdownRef",ref:w,class:M(["relative",{"w-full":c.width==="full"}])},[t("button",{type:"button",onClick:S,disabled:c.disabled,class:M(["border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-xl shadow-sm mt-1 block w-full text-left px-3 py-2 text-gray-700 bg-white relative flex items-center justify-between",{"opacity-50 cursor-not-allowed":c.disabled}])},[c.isMulti?(s(),o("div",ve,[U.value.length===0?(s(),o("span",pe,d(c.placeholder),1)):g("",!0),(s(!0),o(_,null,C(U.value,m=>(s(),o("span",{key:m,class:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1"},[A(d(m)+" ",1),y(f(ue),{class:"w-3 h-3 cursor-pointer hover:text-indigo-600",onClick:z(B=>N(c.options.find(i=>i[c.labelKey]===m)[c.valueKey]),["stop"])},null,8,["onClick"])]))),128))])):(s(),o("span",{key:1,class:M({"text-gray-500":!c.modelValue})},d(U.value),3)),y(f(oe),{class:"h-5 w-5 text-gray-500"})],10,me),h(t("div",ge,[t("div",xe,[h(t("input",{ref_key:"searchInputRef",ref:$,type:"text","onUpdate:modelValue":n[0]||(n[0]=m=>r.value=m),onInput:n[1]||(n[1]=m=>p.value=!0),class:"block w-full rounded-xl border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Search...",onClick:n[2]||(n[2]=z(()=>{},["stop"]))},null,544),[[F,r.value]])]),t("div",{class:"py-1 overflow-y-auto",style:X({maxHeight:c.maxHeight})},[(s(!0),o(_,null,C(L.value,m=>(s(),o("div",{key:m[c.valueKey],onClick:B=>j(m),class:M(["block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer flex items-center justify-between",{"bg-gray-100":V(m)}])},[A(d(m[c.labelKey])+" ",1),V(m)?(s(),Z(f(de),{key:0,class:"w-4 h-4 text-indigo-600"})):g("",!0)],10,fe))),128)),L.value.length===0?(s(),o("div",ye," No options available ")):g("",!0)],4)],512),[[Q,p.value]])],2))}};function we(c,v){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M15.75 2.25H21a.75.75 0 0 1 .75.75v5.25a.75.75 0 0 1-1.5 0V4.81L8.03 17.03a.75.75 0 0 1-1.06-1.06L19.19 3.75h-3.44a.75.75 0 0 1 0-1.5Zm-10.5 4.5a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V10.5a.75.75 0 0 1 1.5 0v8.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h8.25a.75.75 0 0 1 0 1.5H5.25Z","clip-rule":"evenodd"})])}function be(c,v){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M5.85 3.5a.75.75 0 0 0-1.117-1 9.719 9.719 0 0 0-2.348 4.876.75.75 0 0 0 1.479.248A8.219 8.219 0 0 1 5.85 3.5ZM19.267 2.5a.75.75 0 1 0-1.118 1 8.22 8.22 0 0 1 1.987 4.124.75.75 0 0 0 1.48-.248A9.72 9.72 0 0 0 19.266 2.5Z"}),t("path",{"fill-rule":"evenodd",d:"M12 2.25A6.75 6.75 0 0 0 5.25 9v.75a8.217 8.217 0 0 1-2.119 5.52.75.75 0 0 0 .298 1.206c1.544.57 3.16.99 4.831 1.243a3.75 3.75 0 1 0 7.48 0 24.583 24.583 0 0 0 4.83-1.244.75.75 0 0 0 .298-1.205 8.217 8.217 0 0 1-2.118-5.52V9A6.75 6.75 0 0 0 12 2.25ZM9.75 18c0-.034 0-.067.002-.1a25.05 25.05 0 0 0 4.496 0l.002.1a2.25 2.25 0 1 1-4.5 0Z","clip-rule":"evenodd"})])}function ke(c,v){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function I(c,v){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M16.881 4.345A23.112 23.112 0 0 1 8.25 6H7.5a5.25 5.25 0 0 0-.88 10.427 21.593 21.593 0 0 0 1.378 3.94c.464 1.004 1.674 1.32 2.582.796l.657-.379c.88-.508 1.165-1.593.772-2.468a17.116 17.116 0 0 1-.628-1.607c1.918.258 3.76.75 5.5 1.446A21.727 21.727 0 0 0 18 11.25c0-2.414-.393-4.735-1.119-6.905ZM18.26 3.74a23.22 23.22 0 0 1 1.24 7.51 23.22 23.22 0 0 1-1.41 7.992.75.75 0 1 0 1.409.516 24.555 24.555 0 0 0 1.415-6.43 2.992 2.992 0 0 0 .836-2.078c0-.807-.319-1.54-.836-2.078a24.65 24.65 0 0 0-1.415-6.43.75.75 0 1 0-1.409.516c.059.16.116.321.17.483Z"})])}const _e={class:"py-12"},Ve={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ce={class:"bg-white shadow-xl sm:rounded-2xl p-6"},Ae={class:"flex items-center justify-between border-b pb-4 mb-8"},Me={class:"flex space-x-2"},$e={key:1,class:"space-y-6"},je={key:0,class:"text-red-600 text-sm mt-1"},Se={key:0,class:"text-red-600 text-sm mt-1"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Be=["value"],Ne={key:0,class:"text-red-600 text-sm mt-1"},Ue={key:0,class:"text-red-600 text-sm mt-1"},Ze={class:"flex items-center"},Ke={class:"flex flex-wrap gap-4"},Te={class:"inline-flex items-center gap-2 cursor-pointer transition-transform duration-100 hover:scale-105"},De={class:"inline-flex items-center gap-2 cursor-pointer transition-transform duration-100 hover:scale-105"},He={key:0,class:"text-red-600 text-sm mt-1"},Fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Oe={key:0,class:"text-red-600 text-sm"},Ee=["value"],Pe={key:0,class:"text-red-600 text-sm"},Re={class:"mt-6"},ze={key:0,class:"flex items-center"},Ie={key:1},Ge={key:2},We={class:"flex items-center justify-between gap-2 mb-4"},qe={class:"flex items-center space-x-2"},Je=["value"],Qe={key:0,class:"text-center p-8"},Xe={key:1,class:"space-y-4"},Ye={class:"flex items-start justify-between"},et={class:"flex-1 min-w-0"},tt={class:"flex items-center gap-2 mb-1"},lt={class:"text-lg font-bold text-gray-900 truncate"},st={class:"text-xs text-gray-500 mb-2"},at={class:"mr-2"},ot={class:"text-sm text-gray-700 mt-2 whitespace-pre-line leading-relaxed"},rt={key:0,class:"mt-4 pt-3 border-t border-gray-200"},it={class:"flex items-center gap-2 mb-2 text-xs font-semibold text-gray-600"},nt={class:"space-y-2"},dt={class:"text-sm font-medium text-gray-800"},ut={class:"flex flex-wrap gap-2 mt-1"},ct={key:0,class:"flex-shrink-0 ml-4 text-right"},mt=["href"],vt={key:0,class:"text-center text-gray-500 p-8"},Lt={__name:"Index",setup(c){const v=x("create"),a=x({title:"",description:"",url:"",type:"General",visible_to_client:!1,channels:["push"],user_ids:[],project_id:null}),b=["General","Warning","Updates","Final Notice"],p=x(!1),r=x({}),w=x(""),$=x([]),L=x([]),V=x(""),j=x([]),N=x(!1);K(()=>ee().props.auth.user);const U=async()=>{var i;try{const[e,l]=await Promise.all([H.get("/api/users",{params:{per_page:200}}),H.get("/api/projects-simplified")]),k=((i=e.data)==null?void 0:i.data)??e.data;$.value=Array.isArray(k)?k:[],L.value=Array.isArray(l.data)?l.data:[]}catch(e){console.error("Failed to load users or projects",e),$.value=[],L.value=[]}},T=async()=>{var i;r.value={},w.value="";try{p.value=!0;const e={...a.value};e.project_id||delete e.project_id,(!e.user_ids||e.user_ids.length===0)&&delete e.user_ids,await H.post("/api/notices",e),w.value="Notice created and notifications sent.",a.value={title:"",description:"",url:"",type:"General",visible_to_client:!1,channels:["push","email"],user_ids:[],project_id:null},v.value==="list"&&await S()}catch(e){((i=e.response)==null?void 0:i.status)===422?r.value=e.response.data.errors||{}:w.value="Failed to create notice."}finally{p.value=!1}},D=K(()=>["All",...b]),S=async()=>{var i;N.value=!0;try{const e={};V.value&&V.value!=="All"&&(e.type=V.value);const l=await H.get("/api/notices",{params:e}),k=((i=l.data)==null?void 0:i.data)??l.data;j.value=Array.isArray(k)?k:Array.isArray(l.data)?l.data:[]}catch(e){console.error("Failed to load notices",e),j.value=[]}finally{N.value=!1}},u=i=>{switch(i){case"Warning":return"bg-red-100 text-red-800";case"Updates":return"bg-blue-100 text-blue-800";case"Final Notice":return"bg-yellow-100 text-yellow-800";case"General":default:return"bg-indigo-100 text-indigo-800"}},n=i=>{if(!i)return"";try{return new Date(i).toLocaleString()}catch{return String(i)}},m=i=>{switch(i){case"read":return"Read";case"click":return"Click";case"email_open":return"Email Open";default:return i}},B=K(()=>$.value.map(i=>({value:i.id,label:`${i.name} (${i.email})`})));return G(async()=>{await U(),v.value==="list"&&await S()}),(i,e)=>(s(),o(_,null,[y(f(te),{title:"Notice Board"}),y(le,null,{default:O(()=>[t("div",_e,[t("div",Ve,[t("div",Ce,[t("div",Ae,[e[14]||(e[14]=t("h2",{class:"text-3xl font-extrabold text-gray-900"},"Notice Board",-1)),t("div",Me,[t("button",{class:M(["flex items-center px-4 py-2 rounded-xl transition-colors duration-200",v.value==="create"?"bg-indigo-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"]),onClick:e[0]||(e[0]=l=>v.value="create")},[y(f(re),{class:"h-5 w-5 mr-2"}),e[12]||(e[12]=A(" Create Notice ",-1))],2),t("button",{class:M(["flex items-center px-4 py-2 rounded-xl transition-colors duration-200",v.value==="list"?"bg-indigo-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"]),onClick:e[1]||(e[1]=l=>(v.value="list",S()))},[y(f(ce),{class:"h-5 w-5 mr-2"}),e[13]||(e[13]=A(" Existing Notices ",-1))],2)])]),w.value?(s(),o("div",{key:0,class:M(["mb-6 px-4 py-3 rounded-xl",w.value.includes("Failed")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"])},d(w.value),3)):g("",!0),v.value==="create"?(s(),o("div",$e,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700"},"Title",-1)),h(t("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.title=l),type:"text",class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[F,a.value.title]]),r.value.title?(s(),o("div",je,d(r.value.title[0]),1)):g("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),h(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.description=l),rows:"4",class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[F,a.value.description]]),r.value.description?(s(),o("div",Se,d(r.value.description[0]),1)):g("",!0)]),t("div",Le,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700"},"Type",-1)),h(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.type=l),class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},[(s(),o(_,null,C(b,l=>t("option",{key:l,value:l},d(l),9,Be)),64))],512),[[E,a.value.type]]),r.value.type?(s(),o("div",Ne,d(r.value.type[0]),1)):g("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},"URL (optional)",-1)),h(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.url=l),type:"url",class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[F,a.value.url]]),r.value.url?(s(),o("div",Ue,d(r.value.url[0]),1)):g("",!0)])]),t("div",Ze,[h(t("input",{id:"visible_to_client",type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=l=>a.value.visible_to_client=l),class:"h-5 w-5 text-indigo-600 rounded-lg border-gray-300 focus:ring-indigo-500"},null,512),[[P,a.value.visible_to_client]]),e[19]||(e[19]=t("label",{for:"visible_to_client",class:"ml-2 block text-sm text-gray-700"},"Visible to Client",-1))]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notification Channels",-1)),t("div",Ke,[t("label",Te,[h(t("input",{type:"checkbox",value:"push","onUpdate:modelValue":e[7]||(e[7]=l=>a.value.channels=l),class:"h-5 w-5 rounded-lg border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[P,a.value.channels]]),e[20]||(e[20]=t("span",{class:"text-gray-700"},"Push",-1))]),t("label",De,[h(t("input",{type:"checkbox",value:"email","onUpdate:modelValue":e[8]||(e[8]=l=>a.value.channels=l),class:"h-5 w-5 rounded-lg border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[P,a.value.channels]]),e[21]||(e[21]=t("span",{class:"text-gray-700"},"Email",-1))])]),r.value.channels?(s(),o("div",He,d(r.value.channels[0]),1)):g("",!0)]),t("div",Fe,[t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700"},"Select Users (optional)",-1)),y(he,{options:B.value,"is-multi":!0,modelValue:a.value.user_ids,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.user_ids=l),placeholder:"Select users to notify..."},null,8,["options","modelValue"]),e[24]||(e[24]=t("p",{class:"text-xs text-gray-500 mt-1"},"If users are selected, notification will be sent only to them.",-1)),r.value["user_ids.*"]?(s(),o("div",Oe,d(r.value["user_ids.*"][0]),1)):g("",!0)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700"},"Select Project (optional)",-1)),h(t("select",{"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.project_id=l),class:"mt-1 block w-full rounded-xl shadow-sm border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"},[e[25]||(e[25]=t("option",{value:null},"-- None --",-1)),(s(!0),o(_,null,C(L.value,l=>(s(),o("option",{key:l.id,value:l.id},d(l.name),9,Ee))),128))],512),[[E,a.value.project_id]]),e[27]||(e[27]=t("p",{class:"text-xs text-gray-500 mt-1"},"If no users are selected and a project is selected, all users on that project will be notified.",-1)),r.value.project_id?(s(),o("div",Pe,d(r.value.project_id[0]),1)):g("",!0)])]),t("div",Re,[y(se,{onClick:T,disabled:p.value},{default:O(()=>[p.value?(s(),o("span",ze,e[28]||(e[28]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),A(" Saving... ",-1)]))):(s(),o("span",Ie,"Create Notice"))]),_:1},8,["disabled"])])])):(s(),o("div",Ge,[t("div",We,[t("div",qe,[e[29]||(e[29]=t("label",{class:"text-sm font-medium text-gray-700"},"Filter by Type:",-1)),h(t("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>V.value=l),onChange:S,class:"border-gray-300 rounded-xl shadow-sm"},[(s(!0),o(_,null,C(D.value,l=>(s(),o("option",{key:l,value:l},d(l),9,Je))),128))],544),[[E,V.value]])]),y(ae,{onClick:S,class:"flex items-center gap-1"},{default:O(()=>[y(f(ie),{class:"w-4 h-4"}),e[30]||(e[30]=A(" Refresh ",-1))]),_:1,__:[30]})]),N.value?(s(),o("div",Qe,e[31]||(e[31]=[t("svg",{class:"animate-spin h-8 w-8 text-indigo-500 mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),t("p",{class:"text-gray-500 text-sm mt-2"},"Loading notices...",-1)]))):(s(),o("div",Xe,[(s(!0),o(_,null,C(j.value,l=>(s(),o("div",{key:l.id,class:"bg-gray-50 p-6 rounded-2xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow"},[t("div",Ye,[t("div",et,[t("div",tt,[t("span",{class:M(["inline-flex items-center px-3 py-0.5 rounded-full text-xs font-medium",u(l.type)])},[l.type==="Warning"?(s(),Z(f(be),{key:0,class:"w-3 h-3 mr-1"})):l.type==="Updates"?(s(),Z(f(I),{key:1,class:"w-3 h-3 mr-1"})):l.type==="Final Notice"?(s(),Z(f(ke),{key:2,class:"w-3 h-3 mr-1"})):(s(),Z(f(I),{key:3,class:"w-3 h-3 mr-1"})),A(" "+d(l.type),1)],2),t("h4",lt,d(l.title),1)]),t("div",st,[t("span",at,"Posted on: "+d(new Date(l.created_at).toLocaleDateString())+" at "+d(new Date(l.created_at).toLocaleTimeString()),1)]),t("div",ot,d(l.description||"No description provided."),1),l.users_with_interactions&&l.users_with_interactions.length?(s(),o("div",rt,[t("div",it,[y(f(ne),{class:"w-4 h-4"}),e[32]||(e[32]=t("span",null,"Interactions",-1))]),t("div",nt,[(s(!0),o(_,null,C(l.users_with_interactions,k=>(s(),o("div",{key:k.user.id,class:""},[t("div",dt,d(k.user.name),1),t("div",ut,[(s(!0),o(_,null,C(k.interactions,(R,W)=>(s(),o("span",{key:W,class:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-700"},d(m(R.type))+" • "+d(n(R.created_at)),1))),128))])]))),128))])])):g("",!0)]),l.url?(s(),o("div",ct,[t("a",{href:`/notices/${l.id}/redirect`,target:"_blank",class:"flex items-center text-indigo-600 hover:text-indigo-800 text-sm font-medium"},[e[33]||(e[33]=A(" Open Link ",-1)),y(f(we),{class:"h-4 w-4 ml-1"})],8,mt)])):g("",!0)])]))),128)),!j.value||j.value.length===0?(s(),o("div",vt,"No notices found.")):g("",!0)]))]))])])])]),_:1})],64))}};export{Lt as default};
