import{r as l,l as g,f as n,o as m,d as o,g as w,b as h,p as x,j as y}from"./app-CwLjNXT3.js";import{_ as b}from"./EmailList-Cx3hUpyj.js";import"./SecondaryButton-C1H9a7MO.js";import"./moment-BLMuvzoS.js";const k={key:0,class:"text-center py-8 text-gray-500"},E={__name:"NewEmailsTab",props:{isActive:Boolean},emits:["view-email"],setup(c,{expose:d,emit:u}){const f=c,a=l([]),s=l(!0),r=l(""),v=u,i=async()=>{s.value=!0,r.value="";try{const e=await y.get("/api/inbox/new-emails");a.value=e.data}catch(e){console.error("Error fetching new emails:",e),r.value="Failed to load new emails. Please try again."}finally{s.value=!1}},p=e=>{v("view-email",e),a.value=a.value.filter(t=>t.id!==e.id)};return g(()=>f.isActive,e=>{e&&i()},{immediate:!0}),d({refresh:i}),(e,t)=>(m(),n("div",null,[o("div",{class:"flex justify-end mb-4"},[o("button",{onClick:i,class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},t[0]||(t[0]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),x(" Refresh ",-1)]))]),a.value.length===0&&!s.value?(m(),n("div",k,t[1]||(t[1]=[o("p",null,"No new emails to display.",-1)]))):w("",!0),h(b,{emails:a.value,loading:s.value,error:r.value,onView:p},null,8,["emails","loading","error"])]))}};export{E as default};
