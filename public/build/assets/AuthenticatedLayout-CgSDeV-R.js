import{r as D,s as W,K as Ot,B as ft,J as Bt,i as g,g as x,o as f,F as oe,j as re,b as c,t as R,h as V,L as ea,M as _o,N as ta,O as sa,c as B,p as H,T as na,P as At,Q as Xe,R as ue,S as Wt,U as Hs,V as bo,W as aa,X as Ye,Y as ko,Z as oa,_ as Eo,$ as je,a0 as ia,a1 as Cn,a2 as So,a3 as To,a4 as wo,a5 as xo,a6 as Co,a7 as fs,a8 as No,a9 as qs,aa as Io,ab as Ao,w as me,a as A,m as P,e as S,f as de,k as Pe,x as ie,ac as jt,G as Oo,I as it,d as zs,A as Re,ad as Ne,ae as pe,af as Yt,z as ps,D as Mo,ag as ra,ah as Nn,ai as Ge,n as Ue,aj as la,ak as Ls,al as Ws,am as et,an as Te,ao as ze,ap as $s,aq as $o,ar as Po,as as In,q as Do}from"./app-BcHKRy8Y.js";import{P as _e}from"./PrimaryButton-CLnMvtm0.js";import{_ as Gs}from"./Modal-Bxl1wU_H.js";import{_ as J}from"./InputLabel-FoWjQGRi.js";import{_ as Q}from"./InputError-DWGlKjdM.js";import{_ as Mt}from"./SecondaryButton-BBOwirgA.js";import{_ as Et}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as De}from"./TextInput-3GGxZrCp.js";import{S as $e}from"./SelectDropdown-BOg5I1bh.js";import{_ as Ro}from"./Checkbox-BJVyhDpU.js";import{A as Lo}from"./ApplicationLogo-C9TUAdCe.js";import{D as Js}from"./DangerButton-DaIGxTKv.js";import{h as Vo}from"./moment-BLMuvzoS.js";const Bo={key:0,class:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2"},jo={key:0,class:"notification-list w-full max-w-xs space-y-2"},Uo={class:"flex-1 min-w-0"},Fo={class:"flex items-start justify-between gap-2 mb-1"},Xo={class:"flex-1 min-w-0"},Ho={key:0,class:"text-base font-semibold text-gray-800 truncate"},qo={key:1,class:"text-xs text-gray-500"},zo={key:0,class:"text-xs text-gray-600 mb-2"},Wo={class:"flex items-center justify-between mt-2"},Go={key:0,class:"text-xs text-gray-500 font-medium"},Jo=["onClick"],Ko={key:1,class:"flex justify-end w-full max-w-xs"},Yo={key:0},Qo={key:1},nt="notification_minimized_state",Zo=3,ei={__name:"PushNotificationContainer",props:{sidebarIsOpen:{type:Boolean,default:!1}},setup(e){const t=D(!1),s=D(null),a=D(0),n=D(null),i=W(()=>Ot.value.notifications.filter(d=>d.isNewPush).slice(0,Zo)),o=W(()=>{const d=Math.floor(a.value/60),p=a.value%60;return`${String(d).padStart(2,"0")}:${String(p).padStart(2,"0")}`}),l=d=>{if(!d)return null;const p=d.match(/\/task\/(\d+)/);return p?parseInt(p[1]):null},r=d=>{if(!d)return null;const p=d.match(/\/project\/(\d+)\//);return p?parseInt(p[1]):null},u=()=>{if(t.value=!t.value,clearTimeout(s.value),clearInterval(n.value),t.value){const d=Date.now()+3e5;localStorage.setItem(nt,JSON.stringify({isMinimized:!0,expiryTime:d})),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(nt)},3e5),a.value=300,n.value=setInterval(()=>{a.value>0?a.value--:clearInterval(n.value)},1e3)}else localStorage.removeItem(nt)},v=async d=>{_o(d.id),await ta(d.view_id);const p=d.task_id||l(d.url),h=d.project_id||r(d.url);p&&h?sa(p,h):(console.warn("Could not open task sidebar. Falling back to redirecting."),d.url&&(window.location.href=d.url))};return ft(()=>{const d=localStorage.getItem(nt);if(d)try{const{isMinimized:p,expiryTime:h}=JSON.parse(d),k=Date.now(),m=h-k;m>0?(t.value=p,a.value=Math.floor(m/1e3),s.value=setTimeout(()=>{t.value=!1,clearInterval(n.value),localStorage.removeItem(nt)},m),n.value=setInterval(()=>{a.value>0?a.value--:clearInterval(n.value)},1e3)):localStorage.removeItem(nt)}catch(p){console.error("Error restoring notification minimized state:",p),localStorage.removeItem(nt)}}),Bt(()=>{clearTimeout(s.value),clearInterval(n.value)}),(d,p)=>e.sidebarIsOpen?x("",!0):(f(),g("div",Bo,[!t.value&&i.value.length>0?(f(),g("div",jo,[(f(!0),g(oe,null,re(i.value,h=>(f(),g("div",{key:h.id,class:"bg-white rounded-lg shadow-lg p-3 flex items-start space-x-3 border border-gray-200 transition-opacity duration-300 opacity-60 hover:opacity-100"},[c("div",Uo,[c("div",Fo,[c("div",Xo,[h.title?(f(),g("h3",Ho,R(h.title),1)):x("",!0),h.project_name?(f(),g("p",qo,R(h.project_name),1)):x("",!0)])]),h.message?(f(),g("p",zo,R(h.message),1)):x("",!0),c("div",Wo,[h.due_date?(f(),g("div",Go," Due: "+R(V(ea)(h.due_date)),1)):x("",!0),c("button",{onClick:k=>v(h),class:"px-2.5 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 shadow"},R(h.button_label||"View"),9,Jo)])])]))),128))])):x("",!0),i.value.length>0?(f(),g("div",Ko,[c("button",{onClick:u,class:"bg-white/80 backdrop-blur-sm text-gray-600 hover:text-gray-900 text-xs font-bold py-1 px-3 rounded-full shadow-md transition-all duration-300"},[t.value?(f(),g("span",Yo,"Show ("+R(o.value)+")",1)):(f(),g("span",Qo,"Minimize"))])])):x("",!0)]))}},ti={class:"fixed top-4 right-4 z-[9999] flex flex-col items-end space-y-3"},si={class:"p-4"},ni={class:"text-sm font-medium text-white"},ai={key:0,class:"mt-3 flex gap-2"},oi=["onClick"],ii=["onClick"],ri={key:1,class:"fixed top-4 right-4 z-[9999] flex flex-col items-end space-y-3"},li={class:"p-4"},ui={class:"text-sm font-medium text-white"},ci={key:0,class:"mt-3 flex gap-2"},di=["onClick"],fi=["onClick"],pi={__name:"StandardNotificationContainer",setup(e,{expose:t}){const s=D([]),a=D("");let n=null;const i=()=>{const d=document.getElementById("modal-notification-portal");a.value=d?"#modal-notification-portal":""};ft(()=>{i(),n=new MutationObserver(i),n.observe(document.body,{childList:!0,subtree:!0})}),Bt(()=>{n&&n.disconnect()});const o=(d,p="info",h=5e3)=>{let k;typeof d=="object"&&d!==null?k={...d}:k={message:d,type:p,duration:h};const m=k.id||crypto.randomUUID(),C={id:m,message:k.message||"",type:k.type||"info",duration:typeof k.duration=="number"?k.duration:5e3,sticky:!!k.sticky,confirm:k.confirm||null};return s.value.unshift(C),!C.sticky&&!C.confirm&&setTimeout(()=>{l(m)},C.duration),m},l=d=>{const p=s.value.findIndex(h=>h.id===d);p>-1&&s.value.splice(p,1)},r=d=>{const p=s.value.find(h=>h.id===d);if(p&&p.confirm&&typeof p.confirm.onConfirm=="function")try{p.confirm.onConfirm()}catch{}l(d)},u=d=>{const p=s.value.find(h=>h.id===d);if(p&&p.confirm&&typeof p.confirm.onCancel=="function")try{p.confirm.onCancel()}catch{}l(d)},v=d=>{switch(d){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":default:return"bg-blue-500"}};return t({addNotification:o}),(d,p)=>a.value?(f(),B(na,{key:0,to:a.value},[c("div",ti,[(f(!0),g(oe,null,re(s.value,h=>(f(),g("div",{key:h.id,class:H(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto overflow-hidden",v(h.type)])},[c("div",si,[c("p",ni,R(h.message),1),h.confirm?(f(),g("div",ai,[c("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-white/90 text-slate-800 hover:bg-white",onClick:k=>r(h.id)},R(h.confirm.confirmText||"Confirm"),9,oi),c("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-transparent border border-white/70 text-white hover:bg-white/10",onClick:k=>u(h.id)},R(h.confirm.cancelText||"Cancel"),9,ii)])):x("",!0)])],2))),128))])],8,["to"])):(f(),g("div",ri,[(f(!0),g(oe,null,re(s.value,h=>(f(),g("div",{key:h.id,class:H(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto overflow-hidden",v(h.type)])},[c("div",li,[c("p",ui,R(h.message),1),h.confirm?(f(),g("div",ci,[c("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-white/90 text-slate-800 hover:bg-white",onClick:k=>r(h.id)},R(h.confirm.confirmText||"Confirm"),9,di),c("button",{class:"px-3 py-1 text-sm font-semibold rounded bg-transparent border border-white/70 text-white hover:bg-white/10",onClick:k=>u(h.id)},R(h.confirm.cancelText||"Cancel"),9,fi)])):x("",!0)])],2))),128))]))}};var Qt={exports:{}},Ps={exports:{}},Ds={};/**
* @vue/compiler-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const vt=Symbol(""),ht=Symbol(""),ms=Symbol(""),$t=Symbol(""),Ks=Symbol(""),Ze=Symbol(""),Ys=Symbol(""),Qs=Symbol(""),hs=Symbol(""),vs=Symbol(""),St=Symbol(""),gs=Symbol(""),Zs=Symbol(""),ys=Symbol(""),_s=Symbol(""),bs=Symbol(""),ks=Symbol(""),Es=Symbol(""),Ss=Symbol(""),en=Symbol(""),tn=Symbol(""),Ut=Symbol(""),Pt=Symbol(""),Ts=Symbol(""),ws=Symbol(""),gt=Symbol(""),Tt=Symbol(""),xs=Symbol(""),os=Symbol(""),ua=Symbol(""),is=Symbol(""),Dt=Symbol(""),ca=Symbol(""),da=Symbol(""),Cs=Symbol(""),fa=Symbol(""),pa=Symbol(""),Ns=Symbol(""),sn=Symbol(""),lt={[vt]:"Fragment",[ht]:"Teleport",[ms]:"Suspense",[$t]:"KeepAlive",[Ks]:"BaseTransition",[Ze]:"openBlock",[Ys]:"createBlock",[Qs]:"createElementBlock",[hs]:"createVNode",[vs]:"createElementVNode",[St]:"createCommentVNode",[gs]:"createTextVNode",[Zs]:"createStaticVNode",[ys]:"resolveComponent",[_s]:"resolveDynamicComponent",[bs]:"resolveDirective",[ks]:"resolveFilter",[Es]:"withDirectives",[Ss]:"renderList",[en]:"renderSlot",[tn]:"createSlots",[Ut]:"toDisplayString",[Pt]:"mergeProps",[Ts]:"normalizeClass",[ws]:"normalizeStyle",[gt]:"normalizeProps",[Tt]:"guardReactiveProps",[xs]:"toHandlers",[os]:"camelize",[ua]:"capitalize",[is]:"toHandlerKey",[Dt]:"setBlockTracking",[ca]:"pushScopeId",[da]:"popScopeId",[Cs]:"withCtx",[fa]:"unref",[pa]:"isRef",[Ns]:"withMemo",[sn]:"isMemoSame"};function ma(e){Object.getOwnPropertySymbols(e).forEach(t=>{lt[t]=e[t]})}const mi={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},hi={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},vi={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},gi={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},ce={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function ha(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:ce}}function yt(e,t,s,a,n,i,o,l=!1,r=!1,u=!1,v=ce){return e&&(l?(e.helper(Ze),e.helper(dt(e.inSSR,u))):e.helper(ct(e.inSSR,u)),o&&e.helper(Es)),{type:13,tag:t,props:s,children:a,patchFlag:n,dynamicProps:i,directives:o,isBlock:l,disableTracking:r,isComponent:u,loc:v}}function Qe(e,t=ce){return{type:17,loc:t,elements:e}}function xe(e,t=ce){return{type:15,loc:t,properties:e}}function te(e,t){return{type:16,loc:ce,key:ue(e)?F(e,!0):e,value:t}}function F(e,t=!1,s=ce,a=0){return{type:4,loc:s,content:e,isStatic:t,constType:t?3:a}}function yi(e,t){return{type:5,loc:t,content:ue(e)?F(e,!1,t):e}}function Ce(e,t=ce){return{type:8,loc:t,children:e}}function le(e,t=[],s=ce){return{type:14,loc:s,callee:e,arguments:t}}function ut(e,t=void 0,s=!1,a=!1,n=ce){return{type:18,params:e,returns:t,newline:s,isSlot:a,loc:n}}function rs(e,t,s,a=!0){return{type:19,test:e,consequent:t,alternate:s,newline:a,loc:ce}}function va(e,t,s=!1,a=!1){return{type:20,index:e,value:t,needPauseTracking:s,inVOnce:a,needArraySpread:!1,loc:ce}}function ga(e){return{type:21,body:e,loc:ce}}function _i(e){return{type:22,elements:e,loc:ce}}function bi(e,t,s){return{type:23,test:e,consequent:t,alternate:s,loc:ce}}function ki(e,t){return{type:24,left:e,right:t,loc:ce}}function Ei(e){return{type:25,expressions:e,loc:ce}}function Si(e){return{type:26,returns:e,loc:ce}}function ct(e,t){return e||t?hs:vs}function dt(e,t){return e||t?Ys:Qs}function Is(e,{helper:t,removeHelper:s,inSSR:a}){e.isBlock||(e.isBlock=!0,s(ct(a,e.isComponent)),t(Ze),t(dt(a,e.isComponent)))}const An=new Uint8Array([123,123]),On=new Uint8Array([125,125]);function Mn(e){return e>=97&&e<=122||e>=65&&e<=90}function we(e){return e===32||e===10||e===9||e===12||e===13}function We(e){return e===47||e===62||we(e)}function ls(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}const he={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class Ti{constructor(t,s){this.stack=t,this.cbs=s,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=An,this.delimiterClose=On,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=An,this.delimiterClose=On}getPos(t){let s=1,a=t+1;for(let n=this.newlines.length-1;n>=0;n--){const i=this.newlines[n];if(t>i){s=n+2,a=t-i;break}}return{column:a,line:s,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const s=this.index+1-this.delimiterOpen.length;s>this.sectionStart&&this.cbs.ontext(this.sectionStart,s),this.state=3,this.sectionStart=s}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const s=this.sequenceIndex===this.currentSequence.length;if(!(s?We(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!s){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||we(t)){const s=this.index-this.currentSequence.length;if(this.sectionStart<s){const a=this.index;this.index=s,this.cbs.ontext(this.sectionStart,s),this.index=a}this.sectionStart=s+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===he.TitleEnd||this.currentSequence===he.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===he.Cdata[this.sequenceIndex]?++this.sequenceIndex===he.Cdata.length&&(this.state=28,this.currentSequence=he.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);if(s===10&&this.newlines.push(this.index),s===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===he.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,s){this.enterRCDATA(t,s),this.state=31}enterRCDATA(t,s){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=s}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Mn(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){We(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(We(t)){const s=this.buffer.slice(this.sectionStart,this.index);s!=="template"&&this.enterRCDATA(ls("</"+s),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){we(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Mn(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||we(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):we(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):we(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||We(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||We(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||We(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||We(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||We(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):we(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):we(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,s){(t===s||this.fastForwardTo(s))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){we(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=he.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===he.ScriptEnd[3]?this.startSpecial(he.ScriptEnd,4):t===he.StyleEnd[3]?this.startSpecial(he.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===he.TitleEnd[3]?this.startSpecial(he.TitleEnd,4):t===he.TextareaEnd[3]?this.startSpecial(he.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const s=this.buffer.charCodeAt(this.index);switch(s===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(s);break}case 2:{this.stateInterpolationOpen(s);break}case 3:{this.stateInterpolation(s);break}case 4:{this.stateInterpolationClose(s);break}case 31:{this.stateSpecialStartSequence(s);break}case 32:{this.stateInRCDATA(s);break}case 26:{this.stateCDATASequence(s);break}case 19:{this.stateInAttrValueDoubleQuotes(s);break}case 12:{this.stateInAttrName(s);break}case 13:{this.stateInDirName(s);break}case 14:{this.stateInDirArg(s);break}case 15:{this.stateInDynamicDirArg(s);break}case 16:{this.stateInDirModifier(s);break}case 28:{this.stateInCommentLike(s);break}case 27:{this.stateInSpecialComment(s);break}case 11:{this.stateBeforeAttrName(s);break}case 6:{this.stateInTagName(s);break}case 34:{this.stateInSFCRootTagName(s);break}case 9:{this.stateInClosingTagName(s);break}case 5:{this.stateBeforeTagName(s);break}case 17:{this.stateAfterAttrName(s);break}case 20:{this.stateInAttrValueSingleQuotes(s);break}case 18:{this.stateBeforeAttrValue(s);break}case 8:{this.stateBeforeClosingTagName(s);break}case 10:{this.stateAfterClosingTagName(s);break}case 29:{this.stateBeforeSpecialS(s);break}case 30:{this.stateBeforeSpecialT(s);break}case 21:{this.stateInAttrValueNoQuotes(s);break}case 7:{this.stateInSelfClosingTag(s);break}case 23:{this.stateInDeclaration(s);break}case 22:{this.stateBeforeDeclaration(s);break}case 25:{this.stateBeforeComment(s);break}case 24:{this.stateInProcessingInstruction(s);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===he.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,s){}}const wi={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},xi={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Vs(e,{compatConfig:t}){const s=t&&t[e];return e==="MODE"?s||3:s}function rt(e,t){const s=Vs("MODE",t),a=Vs(e,t);return s===3?a===!0:a!==!1}function _t(e,t,s,...a){return rt(e,t)}function Ci(e,t,s,...a){if(Vs(e,t)==="suppress-warning")return;const{message:i,link:o}=xi[e],l=`(deprecation ${e}) ${typeof i=="function"?i(...a):i}${o?`
  Details: ${o}`:""}`,r=new SyntaxError(l);r.code=e,s&&(r.loc=s),t.onWarn(r)}function nn(e){throw e}function ya(e){}function Z(e,t,s,a){const n=`https://vuejs.org/error-reference/#compiler-${e}`,i=new SyntaxError(String(n));return i.code=e,i.loc=t,i}const Ni={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},Ii={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function Ai(e,t,s=!1,a=[],n=Object.create(null)){}function Oi(e,t,s){return!1}function Mi(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let s=t.length;for(;s--;){const a=t[s];if(a.type==="AssignmentExpression")return!0;if(a.type!=="ObjectProperty"&&!a.type.endsWith("Pattern"))break}}return!1}function $i(e){let t=e.length;for(;t--;){const s=e[t];if(s.type==="NewExpression")return!0;if(s.type!=="MemberExpression")break}return!1}function Pi(e,t){for(const s of e.params)for(const a of Fe(s))t(a)}function Di(e,t){for(const s of e.body)if(s.type==="VariableDeclaration"){if(s.declare)continue;for(const a of s.declarations)for(const n of Fe(a.id))t(n)}else if(s.type==="FunctionDeclaration"||s.type==="ClassDeclaration"){if(s.declare||!s.id)continue;t(s.id)}else Ri(s)&&Li(s,!0,t)}function Ri(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function Li(e,t,s){const a=e.type==="ForStatement"?e.init:e.left;if(a&&a.type==="VariableDeclaration"&&(a.kind==="var"?t:!t))for(const n of a.declarations)for(const i of Fe(n.id))s(i)}function Fe(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let s=e;for(;s.type==="MemberExpression";)s=s.object;t.push(s);break;case"ObjectPattern":for(const a of e.properties)a.type==="RestElement"?Fe(a.argument,t):Fe(a.value,t);break;case"ArrayPattern":e.elements.forEach(a=>{a&&Fe(a,t)});break;case"RestElement":Fe(e.argument,t);break;case"AssignmentPattern":Fe(e.left,t);break}return t}const Vi=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),_a=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,Bi=(e,t)=>_a(t)&&t.key===e,ba=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function ka(e){return ba.includes(e.type)?ka(e.expression):e}const ke=e=>e.type===4&&e.isStatic;function an(e){switch(e){case"Teleport":case"teleport":return ht;case"Suspense":case"suspense":return ms;case"KeepAlive":case"keep-alive":return $t;case"BaseTransition":case"base-transition":return Ks}}const ji=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Ft=e=>!ji.test(e),Ui=/[A-Za-z_$\xA0-\uFFFF]/,Fi=/[\.\?\w$\xA0-\uFFFF]/,Xi=/\s+[.[]\s*|\s*[.[]\s+/g,Ea=e=>e.type===4?e.content:e.loc.source,Sa=e=>{const t=Ea(e).trim().replace(Xi,l=>l.trim());let s=0,a=[],n=0,i=0,o=null;for(let l=0;l<t.length;l++){const r=t.charAt(l);switch(s){case 0:if(r==="[")a.push(s),s=1,n++;else if(r==="(")a.push(s),s=2,i++;else if(!(l===0?Ui:Fi).test(r))return!1;break;case 1:r==="'"||r==='"'||r==="`"?(a.push(s),s=3,o=r):r==="["?n++:r==="]"&&(--n||(s=a.pop()));break;case 2:if(r==="'"||r==='"'||r==="`")a.push(s),s=3,o=r;else if(r==="(")i++;else if(r===")"){if(l===t.length-1)return!1;--i||(s=a.pop())}break;case 3:r===o&&(s=a.pop(),o=null);break}}return!n&&!i},Hi=At,on=Sa,qi=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Ta=e=>qi.test(Ea(e)),zi=At,wa=Ta;function Wi(e,t,s=t.length){return xa({offset:e.offset,line:e.line,column:e.column},t,s)}function xa(e,t,s=t.length){let a=0,n=-1;for(let i=0;i<s;i++)t.charCodeAt(i)===10&&(a++,n=i);return e.offset+=s,e.line+=a,e.column=n===-1?e.column+s:s-n,e}function Gi(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function be(e,t,s=!1){for(let a=0;a<e.props.length;a++){const n=e.props[a];if(n.type===7&&(s||n.exp)&&(ue(t)?n.name===t:t.test(n.name)))return n}}function Xt(e,t,s=!1,a=!1){for(let n=0;n<e.props.length;n++){const i=e.props[n];if(i.type===6){if(s)continue;if(i.name===t&&(i.value||a))return i}else if(i.name==="bind"&&(i.exp||a)&&Ke(i.arg,t))return i}}function Ke(e,t){return!!(e&&ke(e)&&e.content===t)}function Ca(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Zt(e){return e.type===5||e.type===2}function Bs(e){return e.type===7&&e.name==="pre"}function rn(e){return e.type===7&&e.name==="slot"}function bt(e){return e.type===1&&e.tagType===3}function Rt(e){return e.type===1&&e.tagType===2}const Ji=new Set([gt,Tt]);function Na(e,t=[]){if(e&&!ue(e)&&e.type===14){const s=e.callee;if(!ue(s)&&Ji.has(s))return Na(e.arguments[0],t.concat(e))}return[e,t]}function Lt(e,t,s){let a,n=e.type===13?e.props:e.arguments[2],i=[],o;if(n&&!ue(n)&&n.type===14){const l=Na(n);n=l[0],i=l[1],o=i[i.length-1]}if(n==null||ue(n))a=xe([t]);else if(n.type===14){const l=n.arguments[0];!ue(l)&&l.type===15?$n(t,l)||l.properties.unshift(t):n.callee===xs?a=le(s.helper(Pt),[xe([t]),n]):n.arguments.unshift(xe([t])),!a&&(a=n)}else n.type===15?($n(t,n)||n.properties.unshift(t),a=n):(a=le(s.helper(Pt),[xe([t]),n]),o&&o.callee===Tt&&(o=i[i.length-2]));e.type===13?o?o.arguments[0]=a:e.props=a:o?o.arguments[0]=a:e.arguments[2]=a}function $n(e,t){let s=!1;if(e.key.type===4){const a=e.key.content;s=t.properties.some(n=>n.key.type===4&&n.key.content===a)}return s}function kt(e,t){return`_${t}_${e.replace(/[^\w]/g,(s,a)=>s==="-"?"_":e.charCodeAt(a).toString())}`}function Ae(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let s=0;s<e.props.length;s++){const a=e.props[s];if(a.type===7&&(Ae(a.arg,t)||Ae(a.exp,t)))return!0}return e.children.some(s=>Ae(s,t));case 11:return Ae(e.source,t)?!0:e.children.some(s=>Ae(s,t));case 9:return e.branches.some(s=>Ae(s,t));case 10:return Ae(e.condition,t)?!0:e.children.some(s=>Ae(s,t));case 4:return!e.isStatic&&Ft(e.content)&&!!t[e.content];case 8:return e.children.some(s=>oa(s)&&Ae(s,t));case 5:case 12:return Ae(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function Ia(e){return e.type===14&&e.callee===Ns?e.arguments[1].returns:e}const Aa=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Oa={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Wt,isPreTag:Wt,isIgnoreNewlineTag:Wt,isCustomElement:Wt,onError:nn,onWarn:ya,comments:!1,prefixIdentifiers:!1};let G=Oa,Vt=null,He="",ve=null,z=null,Ee="",Be=-1,at=-1,ln=0,Je=!1,js=null;const ee=[],se=new Ti(ee,{onerr:Ve,ontext(e,t){Gt(fe(e,t),e,t)},ontextentity(e,t,s){Gt(e,t,s)},oninterpolation(e,t){if(Je)return Gt(fe(e,t),e,t);let s=e+se.delimiterOpen.length,a=t-se.delimiterClose.length;for(;we(He.charCodeAt(s));)s++;for(;we(He.charCodeAt(a-1));)a--;let n=fe(s,a);n.includes("&")&&(n=G.decodeEntities(n,!1)),Us({type:5,content:ts(n,!1,ae(s,a)),loc:ae(e,t)})},onopentagname(e,t){const s=fe(e,t);ve={type:1,tag:s,ns:G.getNamespace(s,ee[0],G.ns),tagType:0,props:[],children:[],loc:ae(e-1,t),codegenNode:void 0}},onopentagend(e){Dn(e)},onclosetag(e,t){const s=fe(e,t);if(!G.isVoidTag(s)){let a=!1;for(let n=0;n<ee.length;n++)if(ee[n].tag.toLowerCase()===s.toLowerCase()){a=!0,n>0&&Ve(24,ee[0].loc.start.offset);for(let o=0;o<=n;o++){const l=ee.shift();es(l,t,o<n)}break}a||Ve(23,Ma(e,60))}},onselfclosingtag(e){const t=ve.tag;ve.isSelfClosing=!0,Dn(e),ee[0]&&ee[0].tag===t&&es(ee.shift(),e)},onattribname(e,t){z={type:6,name:fe(e,t),nameLoc:ae(e,t),value:void 0,loc:ae(e)}},ondirname(e,t){const s=fe(e,t),a=s==="."||s===":"?"bind":s==="@"?"on":s==="#"?"slot":s.slice(2);if(!Je&&a===""&&Ve(26,e),Je||a==="")z={type:6,name:s,nameLoc:ae(e,t),value:void 0,loc:ae(e)};else if(z={type:7,name:a,rawName:s,exp:void 0,arg:void 0,modifiers:s==="."?[F("prop")]:[],loc:ae(e)},a==="pre"){Je=se.inVPre=!0,js=ve;const n=ve.props;for(let i=0;i<n.length;i++)n[i].type===7&&(n[i]=ir(n[i]))}},ondirarg(e,t){if(e===t)return;const s=fe(e,t);if(Je&&!Bs(z))z.name+=s,ot(z.nameLoc,t);else{const a=s[0]!=="[";z.arg=ts(a?s:s.slice(1,-1),a,ae(e,t),a?3:0)}},ondirmodifier(e,t){const s=fe(e,t);if(Je&&!Bs(z))z.name+="."+s,ot(z.nameLoc,t);else if(z.name==="slot"){const a=z.arg;a&&(a.content+="."+s,ot(a.loc,t))}else{const a=F(s,!0,ae(e,t));z.modifiers.push(a)}},onattribdata(e,t){Ee+=fe(e,t),Be<0&&(Be=e),at=t},onattribentity(e,t,s){Ee+=e,Be<0&&(Be=t),at=s},onattribnameend(e){const t=z.loc.start.offset,s=fe(t,e);z.type===7&&(z.rawName=s),ve.props.some(a=>(a.type===7?a.rawName:a.name)===s)&&Ve(2,t)},onattribend(e,t){if(ve&&z){if(ot(z.loc,t),e!==0)if(Ee.includes("&")&&(Ee=G.decodeEntities(Ee,!0)),z.type===6)z.name==="class"&&(Ee=Pa(Ee).trim()),e===1&&!Ee&&Ve(13,t),z.value={type:2,content:Ee,loc:e===1?ae(Be,at):ae(Be-1,at+1)},se.inSFCRoot&&ve.tag==="template"&&z.name==="lang"&&Ee&&Ee!=="html"&&se.enterRCDATA(ls("</template"),0);else{let s=0;z.exp=ts(Ee,!1,ae(Be,at),0,s),z.name==="for"&&(z.forParseResult=Yi(z.exp));let a=-1;z.name==="bind"&&(a=z.modifiers.findIndex(n=>n.content==="sync"))>-1&&_t("COMPILER_V_BIND_SYNC",G,z.loc,z.arg.loc.source)&&(z.name="model",z.modifiers.splice(a,1))}(z.type!==7||z.name!=="pre")&&ve.props.push(z)}Ee="",Be=at=-1},oncomment(e,t){G.comments&&Us({type:3,content:fe(e,t),loc:ae(e-4,t+3)})},onend(){const e=He.length;for(let t=0;t<ee.length;t++)es(ee[t],e-1),Ve(24,ee[t].loc.start.offset)},oncdata(e,t){ee[0].ns!==0?Gt(fe(e,t),e,t):Ve(1,e-9)},onprocessinginstruction(e){(ee[0]?ee[0].ns:G.ns)===0&&Ve(21,e-1)}}),Pn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Ki=/^\(|\)$/g;function Yi(e){const t=e.loc,s=e.content,a=s.match(Aa);if(!a)return;const[,n,i]=a,o=(d,p,h=!1)=>{const k=t.start.offset+p,m=k+d.length;return ts(d,!1,ae(k,m),0,h?1:0)},l={source:o(i.trim(),s.indexOf(i,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let r=n.trim().replace(Ki,"").trim();const u=n.indexOf(r),v=r.match(Pn);if(v){r=r.replace(Pn,"").trim();const d=v[1].trim();let p;if(d&&(p=s.indexOf(d,u+r.length),l.key=o(d,p,!0)),v[2]){const h=v[2].trim();h&&(l.index=o(h,s.indexOf(h,l.key?p+d.length:u+r.length),!0))}}return r&&(l.value=o(r,u,!0)),l}function fe(e,t){return He.slice(e,t)}function Dn(e){se.inSFCRoot&&(ve.innerLoc=ae(e+1,e+1)),Us(ve);const{tag:t,ns:s}=ve;s===0&&G.isPreTag(t)&&ln++,G.isVoidTag(t)?es(ve,e):(ee.unshift(ve),(s===1||s===2)&&(se.inXML=!0)),ve=null}function Gt(e,t,s){{const i=ee[0]&&ee[0].tag;i!=="script"&&i!=="style"&&e.includes("&")&&(e=G.decodeEntities(e,!1))}const a=ee[0]||Vt,n=a.children[a.children.length-1];n&&n.type===2?(n.content+=e,ot(n.loc,s)):a.children.push({type:2,content:e,loc:ae(t,s)})}function es(e,t,s=!1){s?ot(e.loc,Ma(t,60)):ot(e.loc,Qi(t,62)+1),se.inSFCRoot&&(e.children.length?e.innerLoc.end=Xe({},e.children[e.children.length-1].loc.end):e.innerLoc.end=Xe({},e.innerLoc.start),e.innerLoc.source=fe(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:a,ns:n,children:i}=e;if(Je||(a==="slot"?e.tagType=2:Rn(e)?e.tagType=3:er(e)&&(e.tagType=1)),se.inRCDATA||(e.children=$a(i)),n===0&&G.isIgnoreNewlineTag(a)){const o=i[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}n===0&&G.isPreTag(a)&&ln--,js===e&&(Je=se.inVPre=!1,js=null),se.inXML&&(ee[0]?ee[0].ns:G.ns)===0&&(se.inXML=!1);{const o=e.props;if(!se.inSFCRoot&&rt("COMPILER_NATIVE_TEMPLATE",G)&&e.tag==="template"&&!Rn(e)){const r=ee[0]||Vt,u=r.children.indexOf(e);r.children.splice(u,1,...e.children)}const l=o.find(r=>r.type===6&&r.name==="inline-template");l&&_t("COMPILER_INLINE_TEMPLATE",G,l.loc)&&e.children.length&&(l.value={type:2,content:fe(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:l.loc})}}function Qi(e,t){let s=e;for(;He.charCodeAt(s)!==t&&s<He.length-1;)s++;return s}function Ma(e,t){let s=e;for(;He.charCodeAt(s)!==t&&s>=0;)s--;return s}const Zi=new Set(["if","else","else-if","for","slot"]);function Rn({tag:e,props:t}){if(e==="template"){for(let s=0;s<t.length;s++)if(t[s].type===7&&Zi.has(t[s].name))return!0}return!1}function er({tag:e,props:t}){if(G.isCustomElement(e))return!1;if(e==="component"||tr(e.charCodeAt(0))||an(e)||G.isBuiltInComponent&&G.isBuiltInComponent(e)||G.isNativeTag&&!G.isNativeTag(e))return!0;for(let s=0;s<t.length;s++){const a=t[s];if(a.type===6){if(a.name==="is"&&a.value){if(a.value.content.startsWith("vue:"))return!0;if(_t("COMPILER_IS_ON_ELEMENT",G,a.loc))return!0}}else if(a.name==="bind"&&Ke(a.arg,"is")&&_t("COMPILER_IS_ON_ELEMENT",G,a.loc))return!0}return!1}function tr(e){return e>64&&e<91}const sr=/\r\n/g;function $a(e){const t=G.whitespace!=="preserve";let s=!1;for(let a=0;a<e.length;a++){const n=e[a];if(n.type===2)if(ln)n.content=n.content.replace(sr,`
`);else if(nr(n.content)){const i=e[a-1]&&e[a-1].type,o=e[a+1]&&e[a+1].type;!i||!o||t&&(i===3&&(o===3||o===1)||i===1&&(o===3||o===1&&ar(n.content)))?(s=!0,e[a]=null):n.content=" "}else t&&(n.content=Pa(n.content))}return s?e.filter(Boolean):e}function nr(e){for(let t=0;t<e.length;t++)if(!we(e.charCodeAt(t)))return!1;return!0}function ar(e){for(let t=0;t<e.length;t++){const s=e.charCodeAt(t);if(s===10||s===13)return!0}return!1}function Pa(e){let t="",s=!1;for(let a=0;a<e.length;a++)we(e.charCodeAt(a))?s||(t+=" ",s=!0):(t+=e[a],s=!1);return t}function Us(e){(ee[0]||Vt).children.push(e)}function ae(e,t){return{start:se.getPos(e),end:t==null?t:se.getPos(t),source:t==null?t:fe(e,t)}}function or(e){return ae(e.start.offset,e.end.offset)}function ot(e,t){e.end=se.getPos(t),e.source=fe(e.start.offset,t)}function ir(e){const t={type:6,name:e.rawName,nameLoc:ae(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const s=e.exp.loc;s.end.offset<e.loc.end.offset&&(s.start.offset--,s.start.column--,s.end.offset++,s.end.column++),t.value={type:2,content:e.exp.content,loc:s}}return t}function ts(e,t=!1,s,a=0,n=0){return F(e,t,s,a)}function Ve(e,t,s){G.onError(Z(e,ae(t,t)))}function rr(){se.reset(),ve=null,z=null,Ee="",Be=-1,at=-1,ee.length=0}function un(e,t){if(rr(),He=e,G=Xe({},Oa),t){let n;for(n in t)t[n]!=null&&(G[n]=t[n])}se.mode=G.parseMode==="html"?1:G.parseMode==="sfc"?2:0,se.inXML=G.ns===1||G.ns===2;const s=t&&t.delimiters;s&&(se.delimiterOpen=ls(s[0]),se.delimiterClose=ls(s[1]));const a=Vt=ha([],e);return se.parse(He),a.loc=ae(0,e.length),a.children=$a(a.children),Vt=null,a}function lr(e,t){ss(e,void 0,t,!!Da(e))}function Da(e){const t=e.children.filter(s=>s.type!==3);return t.length===1&&t[0].type===1&&!Rt(t[0])?t[0]:null}function ss(e,t,s,a=!1,n=!1){const{children:i}=e,o=[];for(let d=0;d<i.length;d++){const p=i[d];if(p.type===1&&p.tagType===0){const h=a?0:Se(p,s);if(h>0){if(h>=2){p.codegenNode.patchFlag=-1,o.push(p);continue}}else{const k=p.codegenNode;if(k.type===13){const m=k.patchFlag;if((m===void 0||m===512||m===1)&&La(p,s)>=2){const C=Va(p);C&&(k.props=s.hoist(C))}k.dynamicProps&&(k.dynamicProps=s.hoist(k.dynamicProps))}}}else if(p.type===12&&(a?0:Se(p,s))>=2){p.codegenNode.type===14&&p.codegenNode.arguments.length>0&&p.codegenNode.arguments.push("-1"),o.push(p);continue}if(p.type===1){const h=p.tagType===1;h&&s.scopes.vSlot++,ss(p,e,s,!1,n),h&&s.scopes.vSlot--}else if(p.type===11)ss(p,e,s,p.children.length===1,!0);else if(p.type===9)for(let h=0;h<p.branches.length;h++)ss(p.branches[h],e,s,p.branches[h].children.length===1,n)}let l=!1;const r=[];if(o.length===i.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&je(e.codegenNode.children))e.codegenNode.children=u(Qe(e.codegenNode.children)),l=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!je(e.codegenNode.children)&&e.codegenNode.children.type===15){const d=v(e.codegenNode,"default");d&&(r.push(s.cached.length),d.returns=u(Qe(d.returns)),l=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!je(t.codegenNode.children)&&t.codegenNode.children.type===15){const d=be(e,"slot",!0),p=d&&d.arg&&v(t.codegenNode,d.arg);p&&(r.push(s.cached.length),p.returns=u(Qe(p.returns)),l=!0)}}if(!l)for(const d of o)r.push(s.cached.length),d.codegenNode=s.cache(d.codegenNode);r.length&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!je(e.codegenNode.children)&&e.codegenNode.children.type===15&&e.codegenNode.children.properties.push(te("__",F(JSON.stringify(r),!1)));function u(d){const p=s.cache(d);return n&&s.hmr&&(p.needArraySpread=!0),p}function v(d,p){if(d.children&&!je(d.children)&&d.children.type===15){const h=d.children.properties.find(k=>k.key===p||k.key.content===p);return h&&h.value}}o.length&&s.transformHoist&&s.transformHoist(i,s,e)}function Se(e,t){const{constantCache:s}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const a=s.get(e);if(a!==void 0)return a;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let o=3;const l=La(e,t);if(l===0)return s.set(e,0),0;l<o&&(o=l);for(let r=0;r<e.children.length;r++){const u=Se(e.children[r],t);if(u===0)return s.set(e,0),0;u<o&&(o=u)}if(o>1)for(let r=0;r<e.props.length;r++){const u=e.props[r];if(u.type===7&&u.name==="bind"&&u.exp){const v=Se(u.exp,t);if(v===0)return s.set(e,0),0;v<o&&(o=v)}}if(n.isBlock){for(let r=0;r<e.props.length;r++)if(e.props[r].type===7)return s.set(e,0),0;t.removeHelper(Ze),t.removeHelper(dt(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(ct(t.inSSR,n.isComponent))}return s.set(e,o),o}else return s.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Se(e.content,t);case 4:return e.constType;case 8:let i=3;for(let o=0;o<e.children.length;o++){const l=e.children[o];if(ue(l)||Hs(l))continue;const r=Se(l,t);if(r===0)return 0;r<i&&(i=r)}return i;case 20:return 2;default:return 0}}const ur=new Set([Ts,ws,gt,Tt]);function Ra(e,t){if(e.type===14&&!ue(e.callee)&&ur.has(e.callee)){const s=e.arguments[0];if(s.type===4)return Se(s,t);if(s.type===14)return Ra(s,t)}return 0}function La(e,t){let s=3;const a=Va(e);if(a&&a.type===15){const{properties:n}=a;for(let i=0;i<n.length;i++){const{key:o,value:l}=n[i],r=Se(o,t);if(r===0)return r;r<s&&(s=r);let u;if(l.type===4?u=Se(l,t):l.type===14?u=Ra(l,t):u=0,u===0)return u;u<s&&(s=u)}}return s}function Va(e){const t=e.codegenNode;if(t.type===13)return t.props}function Ba(e,{filename:t="",prefixIdentifiers:s=!1,hoistStatic:a=!1,hmr:n=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:l={},transformHoist:r=null,isBuiltInComponent:u=At,isCustomElement:v=At,expressionPlugins:d=[],scopeId:p=null,slotted:h=!0,ssr:k=!1,inSSR:m=!1,ssrCssVars:C="",bindingMetadata:T=ko,inline:E=!1,isTS:w=!1,onError:$=nn,onWarn:L=ya,compatConfig:X}){const j=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),y={filename:t,selfName:j&&aa(Ye(j[1])),prefixIdentifiers:s,hoistStatic:a,hmr:n,cacheHandlers:i,nodeTransforms:o,directiveTransforms:l,transformHoist:r,isBuiltInComponent:u,isCustomElement:v,expressionPlugins:d,scopeId:p,slotted:h,ssr:k,inSSR:m,ssrCssVars:C,bindingMetadata:T,inline:E,isTS:w,onError:$,onWarn:L,compatConfig:X,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(_){const b=y.helpers.get(_)||0;return y.helpers.set(_,b+1),_},removeHelper(_){const b=y.helpers.get(_);if(b){const N=b-1;N?y.helpers.set(_,N):y.helpers.delete(_)}},helperString(_){return`_${lt[y.helper(_)]}`},replaceNode(_){y.parent.children[y.childIndex]=y.currentNode=_},removeNode(_){const b=y.parent.children,N=_?b.indexOf(_):y.currentNode?y.childIndex:-1;!_||_===y.currentNode?(y.currentNode=null,y.onNodeRemoved()):y.childIndex>N&&(y.childIndex--,y.onNodeRemoved()),y.parent.children.splice(N,1)},onNodeRemoved:At,addIdentifiers(_){},removeIdentifiers(_){},hoist(_){ue(_)&&(_=F(_)),y.hoists.push(_);const b=F(`_hoisted_${y.hoists.length}`,!1,_.loc,2);return b.hoisted=_,b},cache(_,b=!1,N=!1){const I=va(y.cached.length,_,b,N);return y.cached.push(I),I}};return y.filters=new Set,y}function ja(e,t){const s=Ba(e,t);Ht(e,s),t.hoistStatic&&lr(e,s),t.ssr||cr(e,s),e.helpers=new Set([...s.helpers.keys()]),e.components=[...s.components],e.directives=[...s.directives],e.imports=s.imports,e.hoists=s.hoists,e.temps=s.temps,e.cached=s.cached,e.transformed=!0,e.filters=[...s.filters]}function cr(e,t){const{helper:s}=t,{children:a}=e;if(a.length===1){const n=Da(e);if(n&&n.codegenNode){const i=n.codegenNode;i.type===13&&Is(i,t),e.codegenNode=i}else e.codegenNode=a[0]}else if(a.length>1){let n=64;e.codegenNode=yt(t,s(vt),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function dr(e,t){let s=0;const a=()=>{s--};for(;s<e.children.length;s++){const n=e.children[s];ue(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=s,t.onNodeRemoved=a,Ht(n,t))}}function Ht(e,t){t.currentNode=e;const{nodeTransforms:s}=t,a=[];for(let i=0;i<s.length;i++){const o=s[i](e,t);if(o&&(je(o)?a.push(...o):a.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(St);break;case 5:t.ssr||t.helper(Ut);break;case 9:for(let i=0;i<e.branches.length;i++)Ht(e.branches[i],t);break;case 10:case 11:case 1:case 0:dr(e,t);break}t.currentNode=e;let n=a.length;for(;n--;)a[n]()}function cn(e,t){const s=ue(e)?a=>a===e:a=>e.test(a);return(a,n)=>{if(a.type===1){const{props:i}=a;if(a.tagType===3&&i.some(rn))return;const o=[];for(let l=0;l<i.length;l++){const r=i[l];if(r.type===7&&s(r.name)){i.splice(l,1),l--;const u=t(a,r,n);u&&o.push(u)}}return o}}}const As="/*@__PURE__*/",Ua=e=>`${lt[e]}: _${lt[e]}`;function fr(e,{mode:t="function",prefixIdentifiers:s=t==="module",sourceMap:a=!1,filename:n="template.vue.html",scopeId:i=null,optimizeImports:o=!1,runtimeGlobalName:l="Vue",runtimeModuleName:r="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:v=!1,isTS:d=!1,inSSR:p=!1}){const h={mode:t,prefixIdentifiers:s,sourceMap:a,filename:n,scopeId:i,optimizeImports:o,runtimeGlobalName:l,runtimeModuleName:r,ssrRuntimeModuleName:u,ssr:v,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(m){return`_${lt[m]}`},push(m,C=-2,T){h.code+=m},indent(){k(++h.indentLevel)},deindent(m=!1){m?--h.indentLevel:k(--h.indentLevel)},newline(){k(h.indentLevel)}};function k(m){h.push(`
`+"  ".repeat(m),0)}return h}function Fa(e,t={}){const s=fr(e,t);t.onContextCreated&&t.onContextCreated(s);const{mode:a,push:n,prefixIdentifiers:i,indent:o,deindent:l,newline:r,scopeId:u,ssr:v}=s,d=Array.from(e.helpers),p=d.length>0,h=!i&&a!=="module";pr(e,s);const m=v?"ssrRender":"render",T=(v?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${m}(${T}) {`),o(),h&&(n("with (_ctx) {"),o(),p&&(n(`const { ${d.map(Ua).join(", ")} } = _Vue
`,-1),r())),e.components.length&&(Rs(e.components,"component",s),(e.directives.length||e.temps>0)&&r()),e.directives.length&&(Rs(e.directives,"directive",s),e.temps>0&&r()),e.filters&&e.filters.length&&(r(),Rs(e.filters,"filter",s),r()),e.temps>0){n("let ");for(let E=0;E<e.temps;E++)n(`${E>0?", ":""}_temp${E}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),r()),v||n("return "),e.codegenNode?ge(e.codegenNode,s):n("null"),h&&(l(),n("}")),l(),n("}"),{ast:e,code:s.code,preamble:"",map:s.map?s.map.toJSON():void 0}}function pr(e,t){const{ssr:s,prefixIdentifiers:a,push:n,newline:i,runtimeModuleName:o,runtimeGlobalName:l,ssrRuntimeModuleName:r}=t,u=l,v=Array.from(e.helpers);if(v.length>0&&(n(`const _Vue = ${u}
`,-1),e.hoists.length)){const d=[hs,vs,St,gs,Zs].filter(p=>v.includes(p)).map(Ua).join(", ");n(`const { ${d} } = _Vue
`,-1)}mr(e.hoists,t),i(),n("return ")}function Rs(e,t,{helper:s,push:a,newline:n,isTS:i}){const o=s(t==="filter"?ks:t==="component"?ys:bs);for(let l=0;l<e.length;l++){let r=e[l];const u=r.endsWith("__self");u&&(r=r.slice(0,-6)),a(`const ${kt(r,t)} = ${o}(${JSON.stringify(r)}${u?", true":""})${i?"!":""}`),l<e.length-1&&n()}}function mr(e,t){if(!e.length)return;t.pure=!0;const{push:s,newline:a}=t;a();for(let n=0;n<e.length;n++){const i=e[n];i&&(s(`const _hoisted_${n+1} = `),ge(i,t),a())}t.pure=!1}function dn(e,t){const s=e.length>3||!1;t.push("["),s&&t.indent(),qt(e,t,s),s&&t.deindent(),t.push("]")}function qt(e,t,s=!1,a=!0){const{push:n,newline:i}=t;for(let o=0;o<e.length;o++){const l=e[o];ue(l)?n(l,-3):je(l)?dn(l,t):ge(l,t),o<e.length-1&&(s?(a&&n(","),i()):a&&n(", "))}}function ge(e,t){if(ue(e)){t.push(e,-3);return}if(Hs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:ge(e.codegenNode,t);break;case 2:hr(e,t);break;case 4:Xa(e,t);break;case 5:vr(e,t);break;case 12:ge(e.codegenNode,t);break;case 8:Ha(e,t);break;case 3:yr(e,t);break;case 13:_r(e,t);break;case 14:kr(e,t);break;case 15:Er(e,t);break;case 17:Sr(e,t);break;case 18:Tr(e,t);break;case 19:wr(e,t);break;case 20:xr(e,t);break;case 21:qt(e.body,t,!0,!1);break}}function hr(e,t){t.push(JSON.stringify(e.content),-3,e)}function Xa(e,t){const{content:s,isStatic:a}=e;t.push(a?JSON.stringify(s):s,-3,e)}function vr(e,t){const{push:s,helper:a,pure:n}=t;n&&s(As),s(`${a(Ut)}(`),ge(e.content,t),s(")")}function Ha(e,t){for(let s=0;s<e.children.length;s++){const a=e.children[s];ue(a)?t.push(a,-3):ge(a,t)}}function gr(e,t){const{push:s}=t;if(e.type===8)s("["),Ha(e,t),s("]");else if(e.isStatic){const a=Ft(e.content)?e.content:JSON.stringify(e.content);s(a,-2,e)}else s(`[${e.content}]`,-3,e)}function yr(e,t){const{push:s,helper:a,pure:n}=t;n&&s(As),s(`${a(St)}(${JSON.stringify(e.content)})`,-3,e)}function _r(e,t){const{push:s,helper:a,pure:n}=t,{tag:i,props:o,children:l,patchFlag:r,dynamicProps:u,directives:v,isBlock:d,disableTracking:p,isComponent:h}=e;let k;r&&(k=String(r)),v&&s(a(Es)+"("),d&&s(`(${a(Ze)}(${p?"true":""}), `),n&&s(As);const m=d?dt(t.inSSR,h):ct(t.inSSR,h);s(a(m)+"(",-2,e),qt(br([i,o,l,k,u]),t),s(")"),d&&s(")"),v&&(s(", "),ge(v,t),s(")"))}function br(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(s=>s||"null")}function kr(e,t){const{push:s,helper:a,pure:n}=t,i=ue(e.callee)?e.callee:a(e.callee);n&&s(As),s(i+"(",-2,e),qt(e.arguments,t),s(")")}function Er(e,t){const{push:s,indent:a,deindent:n,newline:i}=t,{properties:o}=e;if(!o.length){s("{}",-2,e);return}const l=o.length>1||!1;s(l?"{":"{ "),l&&a();for(let r=0;r<o.length;r++){const{key:u,value:v}=o[r];gr(u,t),s(": "),ge(v,t),r<o.length-1&&(s(","),i())}l&&n(),s(l?"}":" }")}function Sr(e,t){dn(e.elements,t)}function Tr(e,t){const{push:s,indent:a,deindent:n}=t,{params:i,returns:o,body:l,newline:r,isSlot:u}=e;u&&s(`_${lt[Cs]}(`),s("(",-2,e),je(i)?qt(i,t):i&&ge(i,t),s(") => "),(r||l)&&(s("{"),a()),o?(r&&s("return "),je(o)?dn(o,t):ge(o,t)):l&&ge(l,t),(r||l)&&(n(),s("}")),u&&(e.isNonScopedSlot&&s(", undefined, true"),s(")"))}function wr(e,t){const{test:s,consequent:a,alternate:n,newline:i}=e,{push:o,indent:l,deindent:r,newline:u}=t;if(s.type===4){const d=!Ft(s.content);d&&o("("),Xa(s,t),d&&o(")")}else o("("),ge(s,t),o(")");i&&l(),t.indentLevel++,i||o(" "),o("? "),ge(a,t),t.indentLevel--,i&&u(),i||o(" "),o(": ");const v=n.type===19;v||t.indentLevel++,ge(n,t),v||t.indentLevel--,i&&r(!0)}function xr(e,t){const{push:s,helper:a,indent:n,deindent:i,newline:o}=t,{needPauseTracking:l,needArraySpread:r}=e;r&&s("[...("),s(`_cache[${e.index}] || (`),l&&(n(),s(`${a(Dt)}(-1`),e.inVOnce&&s(", true"),s("),"),o(),s("(")),s(`_cache[${e.index}] = `),ge(e.value,t),l&&(s(`).cacheIndex = ${e.index},`),o(),s(`${a(Dt)}(1),`),o(),s(`_cache[${e.index}]`),i()),s(")"),r&&s(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Cr=(e,t)=>{if(e.type===5)e.content=ns(e.content,t);else if(e.type===1){const s=be(e,"memo");for(let a=0;a<e.props.length;a++){const n=e.props[a];if(n.type===7&&n.name!=="for"){const i=n.exp,o=n.arg;i&&i.type===4&&!(n.name==="on"&&o)&&!(s&&o&&o.type===4&&o.content==="key")&&(n.exp=ns(i,t,n.name==="slot")),o&&o.type===4&&!o.isStatic&&(n.arg=ns(o,t))}}}};function ns(e,t,s=!1,a=!1,n=Object.create(t.identifiers)){return e}function qa(e){return ue(e)?e:e.type===4?e.content:e.children.map(qa).join("")}const Nr=cn(/^(if|else|else-if)$/,(e,t,s)=>za(e,t,s,(a,n,i)=>{const o=s.parent.children;let l=o.indexOf(a),r=0;for(;l-->=0;){const u=o[l];u&&u.type===9&&(r+=u.branches.length)}return()=>{if(i)a.codegenNode=Vn(n,r,s);else{const u=Ir(a.codegenNode);u.alternate=Vn(n,r+a.branches.length-1,s)}}}));function za(e,t,s,a){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;s.onError(Z(28,t.loc)),t.exp=F("true",!1,n)}if(t.name==="if"){const n=Ln(e,t),i={type:9,loc:or(e.loc),branches:[n]};if(s.replaceNode(i),a)return a(i,n,!0)}else{const n=s.parent.children;let i=n.indexOf(e);for(;i-->=-1;){const o=n[i];if(o&&o.type===3){s.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){s.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&s.onError(Z(30,e.loc)),s.removeNode();const l=Ln(e,t);o.branches.push(l);const r=a&&a(o,l,!1);Ht(l,s),r&&r(),s.currentNode=null}else s.onError(Z(30,e.loc));break}}}function Ln(e,t){const s=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:s&&!be(e,"for")?e.children:[e],userKey:Xt(e,"key"),isTemplateIf:s}}function Vn(e,t,s){return e.condition?rs(e.condition,Bn(e,t,s),le(s.helper(St),['""',"true"])):Bn(e,t,s)}function Bn(e,t,s){const{helper:a}=s,n=te("key",F(`${t}`,!1,ce,2)),{children:i}=e,o=i[0];if(i.length!==1||o.type!==1)if(i.length===1&&o.type===11){const r=o.codegenNode;return Lt(r,n,s),r}else return yt(s,a(vt),xe([n]),i,64,void 0,void 0,!0,!1,!1,e.loc);else{const r=o.codegenNode,u=Ia(r);return u.type===13&&Is(u,s),Lt(u,n,s),r}}function Ir(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Wa=(e,t,s)=>{const{modifiers:a,loc:n}=e,i=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(i.type!==4||!i.isStatic)return s.onError(Z(52,i.loc)),{props:[te(i,F("",!0,n))]};Ga(e),o=e.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=i.content?`${i.content} || ""`:'""'),a.some(l=>l.content==="camel")&&(i.type===4?i.isStatic?i.content=Ye(i.content):i.content=`${s.helperString(os)}(${i.content})`:(i.children.unshift(`${s.helperString(os)}(`),i.children.push(")"))),s.inSSR||(a.some(l=>l.content==="prop")&&jn(i,"."),a.some(l=>l.content==="attr")&&jn(i,"^")),{props:[te(i,o)]}},Ga=(e,t)=>{const s=e.arg,a=Ye(s.content);e.exp=F(a,!1,s.loc)},jn=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Ar=cn("for",(e,t,s)=>{const{helper:a,removeHelper:n}=s;return Ja(e,t,s,i=>{const o=le(a(Ss),[i.source]),l=bt(e),r=be(e,"memo"),u=Xt(e,"key",!1,!0);u&&u.type===7&&!u.exp&&Ga(u);let d=u&&(u.type===6?u.value?F(u.value.content,!0):void 0:u.exp);const p=u&&d?te("key",d):null,h=i.source.type===4&&i.source.constType>0,k=h?64:u?128:256;return i.codegenNode=yt(s,a(vt),void 0,o,k,void 0,void 0,!0,!h,!1,e.loc),()=>{let m;const{children:C}=i,T=C.length!==1||C[0].type!==1,E=Rt(e)?e:l&&e.children.length===1&&Rt(e.children[0])?e.children[0]:null;if(E?(m=E.codegenNode,l&&p&&Lt(m,p,s)):T?m=yt(s,a(vt),p?xe([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(m=C[0].codegenNode,l&&p&&Lt(m,p,s),m.isBlock!==!h&&(m.isBlock?(n(Ze),n(dt(s.inSSR,m.isComponent))):n(ct(s.inSSR,m.isComponent))),m.isBlock=!h,m.isBlock?(a(Ze),a(dt(s.inSSR,m.isComponent))):a(ct(s.inSSR,m.isComponent))),r){const w=ut(us(i.parseResult,[F("_cached")]));w.body=ga([Ce(["const _memo = (",r.exp,")"]),Ce(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${s.helperString(sn)}(_cached, _memo)) return _cached`]),Ce(["const _item = ",m]),F("_item.memo = _memo"),F("return _item")]),o.arguments.push(w,F("_cache"),F(String(s.cached.length))),s.cached.push(null)}else o.arguments.push(ut(us(i.parseResult),m,!0))}})});function Ja(e,t,s,a){if(!t.exp){s.onError(Z(31,t.loc));return}const n=t.forParseResult;if(!n){s.onError(Z(32,t.loc));return}fn(n);const{addIdentifiers:i,removeIdentifiers:o,scopes:l}=s,{source:r,value:u,key:v,index:d}=n,p={type:11,loc:t.loc,source:r,valueAlias:u,keyAlias:v,objectIndexAlias:d,parseResult:n,children:bt(e)?e.children:[e]};s.replaceNode(p),l.vFor++;const h=a&&a(p);return()=>{l.vFor--,h&&h()}}function fn(e,t){e.finalized||(e.finalized=!0)}function us({value:e,key:t,index:s},a=[]){return Or([e,t,s,...a])}function Or(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((s,a)=>s||F("_".repeat(a+1),!1))}const Un=F("undefined",!1),Ka=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const s=be(e,"slot");if(s)return s.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Mr=(e,t)=>{let s;if(bt(e)&&e.props.some(rn)&&(s=be(e,"for"))){const a=s.forParseResult;if(a){fn(a);const{value:n,key:i,index:o}=a,{addIdentifiers:l,removeIdentifiers:r}=t;return n&&l(n),i&&l(i),o&&l(o),()=>{n&&r(n),i&&r(i),o&&r(o)}}}},$r=(e,t,s,a)=>ut(e,s,!1,!0,s.length?s[0].loc:a);function Ya(e,t,s=$r){t.helper(Cs);const{children:a,loc:n}=e,i=[],o=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const r=be(e,"slot",!0);if(r){const{arg:C,exp:T}=r;C&&!ke(C)&&(l=!0),i.push(te(C||F("default",!0),s(T,void 0,a,n)))}let u=!1,v=!1;const d=[],p=new Set;let h=0;for(let C=0;C<a.length;C++){const T=a[C];let E;if(!bt(T)||!(E=be(T,"slot",!0))){T.type!==3&&d.push(T);continue}if(r){t.onError(Z(37,E.loc));break}u=!0;const{children:w,loc:$}=T,{arg:L=F("default",!0),exp:X,loc:j}=E;let y;ke(L)?y=L?L.content:"default":l=!0;const _=be(T,"for"),b=s(X,_,w,$);let N,I;if(N=be(T,"if"))l=!0,o.push(rs(N.exp,Jt(L,b,h++),Un));else if(I=be(T,/^else(-if)?$/,!0)){let M=C,q;for(;M--&&(q=a[M],!(q.type!==3&&Fs(q))););if(q&&bt(q)&&be(q,/^(else-)?if$/)){let K=o[o.length-1];for(;K.alternate.type===19;)K=K.alternate;K.alternate=I.exp?rs(I.exp,Jt(L,b,h++),Un):Jt(L,b,h++)}else t.onError(Z(30,I.loc))}else if(_){l=!0;const M=_.forParseResult;M?(fn(M),o.push(le(t.helper(Ss),[M.source,ut(us(M),Jt(L,b),!0)]))):t.onError(Z(32,_.loc))}else{if(y){if(p.has(y)){t.onError(Z(38,j));continue}p.add(y),y==="default"&&(v=!0)}i.push(te(L,b))}}if(!r){const C=(T,E)=>{const w=s(T,void 0,E,n);return t.compatConfig&&(w.isNonScopedSlot=!0),te("default",w)};u?d.length&&d.some(T=>Fs(T))&&(v?t.onError(Z(39,d[0].loc)):i.push(C(void 0,d))):i.push(C(void 0,a))}const k=l?2:as(e.children)?3:1;let m=xe(i.concat(te("_",F(k+"",!1))),n);return o.length&&(m=le(t.helper(tn),[m,Qe(o)])),{slots:m,hasDynamicSlots:l}}function Jt(e,t,s){const a=[te("name",e),te("fn",t)];return s!=null&&a.push(te("key",F(String(s),!0))),xe(a)}function as(e){for(let t=0;t<e.length;t++){const s=e[t];switch(s.type){case 1:if(s.tagType===2||as(s.children))return!0;break;case 9:if(as(s.branches))return!0;break;case 10:case 11:if(as(s.children))return!0;break}}return!1}function Fs(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():Fs(e.content)}const Qa=new WeakMap,Za=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:a,props:n}=e,i=e.tagType===1;let o=i?eo(e,t):`"${a}"`;const l=oa(o)&&o.callee===_s;let r,u,v=0,d,p,h,k=l||o===ht||o===ms||!i&&(a==="svg"||a==="foreignObject"||a==="math");if(n.length>0){const m=pn(e,t,void 0,i,l);r=m.props,v=m.patchFlag,p=m.dynamicPropNames;const C=m.directives;h=C&&C.length?Qe(C.map(T=>to(T,t))):void 0,m.shouldUseBlock&&(k=!0)}if(e.children.length>0)if(o===$t&&(k=!0,v|=1024),i&&o!==ht&&o!==$t){const{slots:C,hasDynamicSlots:T}=Ya(e,t);u=C,T&&(v|=1024)}else if(e.children.length===1&&o!==ht){const C=e.children[0],T=C.type,E=T===5||T===8;E&&Se(C,t)===0&&(v|=1),E||T===2?u=C:u=e.children}else u=e.children;p&&p.length&&(d=Dr(p)),e.codegenNode=yt(t,o,r,u,v===0?void 0:v,d,h,!!k,!1,i,e.loc)};function eo(e,t,s=!1){let{tag:a}=e;const n=Xs(a),i=Xt(e,"is",!1,!0);if(i)if(n||rt("COMPILER_IS_ON_ELEMENT",t)){let l;if(i.type===6?l=i.value&&F(i.value.content,!0):(l=i.exp,l||(l=F("is",!1,i.arg.loc))),l)return le(t.helper(_s),[l])}else i.type===6&&i.value.content.startsWith("vue:")&&(a=i.value.content.slice(4));const o=an(a)||t.isBuiltInComponent(a);return o?(s||t.helper(o),o):(t.helper(ys),t.components.add(a),kt(a,"component"))}function pn(e,t,s=e.props,a,n,i=!1){const{tag:o,loc:l,children:r}=e;let u=[];const v=[],d=[],p=r.length>0;let h=!1,k=0,m=!1,C=!1,T=!1,E=!1,w=!1,$=!1;const L=[],X=b=>{u.length&&(v.push(xe(Fn(u),l)),u=[]),b&&v.push(b)},j=()=>{t.scopes.vFor>0&&u.push(te(F("ref_for",!0),F("true")))},y=({key:b,value:N})=>{if(ke(b)){const I=b.content,M=ia(I);if(M&&(!a||n)&&I.toLowerCase()!=="onclick"&&I!=="onUpdate:modelValue"&&!Cn(I)&&(E=!0),M&&Cn(I)&&($=!0),M&&N.type===14&&(N=N.arguments[0]),N.type===20||(N.type===4||N.type===8)&&Se(N,t)>0)return;I==="ref"?m=!0:I==="class"?C=!0:I==="style"?T=!0:I!=="key"&&!L.includes(I)&&L.push(I),a&&(I==="class"||I==="style")&&!L.includes(I)&&L.push(I)}else w=!0};for(let b=0;b<s.length;b++){const N=s[b];if(N.type===6){const{loc:I,name:M,nameLoc:q,value:K}=N;let Oe=!0;if(M==="ref"&&(m=!0,j()),M==="is"&&(Xs(o)||K&&K.content.startsWith("vue:")||rt("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(te(F(M,!0,q),F(K?K.content:"",Oe,K?K.loc:I)))}else{const{name:I,arg:M,exp:q,loc:K,modifiers:Oe}=N,Le=I==="bind",pt=I==="on";if(I==="slot"){a||t.onError(Z(40,K));continue}if(I==="once"||I==="memo"||I==="is"||Le&&Ke(M,"is")&&(Xs(o)||rt("COMPILER_IS_ON_ELEMENT",t))||pt&&i)continue;if((Le&&Ke(M,"key")||pt&&p&&Ke(M,"vue:before-update"))&&(h=!0),Le&&Ke(M,"ref")&&j(),!M&&(Le||pt)){if(w=!0,q)if(Le){if(X(),rt("COMPILER_V_BIND_OBJECT_ORDER",t)){v.unshift(q);continue}j(),X(),v.push(q)}else X({type:14,loc:K,callee:t.helper(xs),arguments:a?[q]:[q,"true"]});else t.onError(Z(Le?34:35,K));continue}Le&&Oe.some(Ie=>Ie.content==="prop")&&(k|=32);const zt=t.directiveTransforms[I];if(zt){const{props:Ie,needRuntime:Me}=zt(N,e,t);!i&&Ie.forEach(y),pt&&M&&!ke(M)?X(xe(Ie,l)):u.push(...Ie),Me&&(d.push(N),Hs(Me)&&Qa.set(N,Me))}else bo(I)||(d.push(N),p&&(h=!0))}}let _;if(v.length?(X(),v.length>1?_=le(t.helper(Pt),v,l):_=v[0]):u.length&&(_=xe(Fn(u),l)),w?k|=16:(C&&!a&&(k|=2),T&&!a&&(k|=4),L.length&&(k|=8),E&&(k|=32)),!h&&(k===0||k===32)&&(m||$||d.length>0)&&(k|=512),!t.inSSR&&_)switch(_.type){case 15:let b=-1,N=-1,I=!1;for(let K=0;K<_.properties.length;K++){const Oe=_.properties[K].key;ke(Oe)?Oe.content==="class"?b=K:Oe.content==="style"&&(N=K):Oe.isHandlerKey||(I=!0)}const M=_.properties[b],q=_.properties[N];I?_=le(t.helper(gt),[_]):(M&&!ke(M.value)&&(M.value=le(t.helper(Ts),[M.value])),q&&(T||q.value.type===4&&q.value.content.trim()[0]==="["||q.value.type===17)&&(q.value=le(t.helper(ws),[q.value])));break;case 14:break;default:_=le(t.helper(gt),[le(t.helper(Tt),[_])]);break}return{props:_,directives:d,patchFlag:k,dynamicPropNames:L,shouldUseBlock:h}}function Fn(e){const t=new Map,s=[];for(let a=0;a<e.length;a++){const n=e[a];if(n.key.type===8||!n.key.isStatic){s.push(n);continue}const i=n.key.content,o=t.get(i);o?(i==="style"||i==="class"||ia(i))&&Pr(o,n):(t.set(i,n),s.push(n))}return s}function Pr(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Qe([e.value,t.value],e.loc)}function to(e,t){const s=[],a=Qa.get(e);a?s.push(t.helperString(a)):(t.helper(bs),t.directives.add(e.name),s.push(kt(e.name,"directive")));const{loc:n}=e;if(e.exp&&s.push(e.exp),e.arg&&(e.exp||s.push("void 0"),s.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||s.push("void 0"),s.push("void 0"));const i=F("true",!1,n);s.push(xe(e.modifiers.map(o=>te(o,i)),n))}return Qe(s,e.loc)}function Dr(e){let t="[";for(let s=0,a=e.length;s<a;s++)t+=JSON.stringify(e[s]),s<a-1&&(t+=", ");return t+"]"}function Xs(e){return e==="component"||e==="Component"}const Rr=(e,t)=>{if(Rt(e)){const{children:s,loc:a}=e,{slotName:n,slotProps:i}=so(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let l=2;i&&(o[2]=i,l=3),s.length&&(o[3]=ut([],s,!1,!1,a),l=4),t.scopeId&&!t.slotted&&(l=5),o.splice(l),e.codegenNode=le(t.helper(en),o,a)}};function so(e,t){let s='"default"',a;const n=[];for(let i=0;i<e.props.length;i++){const o=e.props[i];if(o.type===6)o.value&&(o.name==="name"?s=JSON.stringify(o.value.content):(o.name=Ye(o.name),n.push(o)));else if(o.name==="bind"&&Ke(o.arg,"name")){if(o.exp)s=o.exp;else if(o.arg&&o.arg.type===4){const l=Ye(o.arg.content);s=o.exp=F(l,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&ke(o.arg)&&(o.arg.content=Ye(o.arg.content)),n.push(o)}if(n.length>0){const{props:i,directives:o}=pn(e,t,n,!1,!1);a=i,o.length&&t.onError(Z(36,o[0].loc))}return{slotName:s,slotProps:a}}const mn=(e,t,s,a)=>{const{loc:n,modifiers:i,arg:o}=e;!e.exp&&!i.length&&s.onError(Z(35,n));let l;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Eo(Ye(d)):`on:${d}`;l=F(p,!0,o.loc)}else l=Ce([`${s.helperString(is)}(`,o,")"]);else l=o,l.children.unshift(`${s.helperString(is)}(`),l.children.push(")");let r=e.exp;r&&!r.content.trim()&&(r=void 0);let u=s.cacheHandlers&&!r&&!s.inVOnce;if(r){const d=on(r),p=!(d||wa(r)),h=r.content.includes(";");(p||u&&d)&&(r=Ce([`${p?"$event":"(...args)"} => ${h?"{":"("}`,r,h?"}":")"]))}let v={props:[te(l,r||F("() => {}",!1,n))]};return a&&(v=a(v)),u&&(v.props[0].value=s.cache(v.props[0].value)),v.props.forEach(d=>d.key.isHandlerKey=!0),v},Lr=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const s=e.children;let a,n=!1;for(let i=0;i<s.length;i++){const o=s[i];if(Zt(o)){n=!0;for(let l=i+1;l<s.length;l++){const r=s[l];if(Zt(r))a||(a=s[i]=Ce([o],o.loc)),a.children.push(" + ",r),s.splice(l,1),l--;else{a=void 0;break}}}}if(!(!n||s.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&e.tag!=="template")))for(let i=0;i<s.length;i++){const o=s[i];if(Zt(o)||o.type===8){const l=[];(o.type!==2||o.content!==" ")&&l.push(o),!t.ssr&&Se(o,t)===0&&l.push("1"),s[i]={type:12,content:o,loc:o.loc,codegenNode:le(t.helper(gs),l)}}}}},Xn=new WeakSet,Vr=(e,t)=>{if(e.type===1&&be(e,"once",!0))return Xn.has(e)||t.inVOnce||t.inSSR?void 0:(Xn.add(e),t.inVOnce=!0,t.helper(Dt),()=>{t.inVOnce=!1;const s=t.currentNode;s.codegenNode&&(s.codegenNode=t.cache(s.codegenNode,!0,!0))})},hn=(e,t,s)=>{const{exp:a,arg:n}=e;if(!a)return s.onError(Z(41,e.loc)),Kt();const i=a.loc.source.trim(),o=a.type===4?a.content:i,l=s.bindingMetadata[i];if(l==="props"||l==="props-aliased")return s.onError(Z(44,a.loc)),Kt();if(!o.trim()||!on(a))return s.onError(Z(42,a.loc)),Kt();const r=n||F("modelValue",!0),u=n?ke(n)?`onUpdate:${Ye(n.content)}`:Ce(['"onUpdate:" + ',n]):"onUpdate:modelValue";let v;const d=s.isTS?"($event: any)":"$event";v=Ce([`${d} => ((`,a,") = $event)"]);const p=[te(r,e.exp),te(u,v)];if(e.modifiers.length&&t.tagType===1){const h=e.modifiers.map(m=>m.content).map(m=>(Ft(m)?m:JSON.stringify(m))+": true").join(", "),k=n?ke(n)?`${n.content}Modifiers`:Ce([n,' + "Modifiers"']):"modelModifiers";p.push(te(k,F(`{ ${h} }`,!1,e.loc,2)))}return Kt(p)};function Kt(e=[]){return{props:e}}const Br=/[\w).+\-_$\]]/,jr=(e,t)=>{rt("COMPILER_FILTERS",t)&&(e.type===5?cs(e.content,t):e.type===1&&e.props.forEach(s=>{s.type===7&&s.name!=="for"&&s.exp&&cs(s.exp,t)}))};function cs(e,t){if(e.type===4)Hn(e,t);else for(let s=0;s<e.children.length;s++){const a=e.children[s];typeof a=="object"&&(a.type===4?Hn(a,t):a.type===8?cs(e,t):a.type===5&&cs(a.content,t))}}function Hn(e,t){const s=e.content;let a=!1,n=!1,i=!1,o=!1,l=0,r=0,u=0,v=0,d,p,h,k,m=[];for(h=0;h<s.length;h++)if(p=d,d=s.charCodeAt(h),a)d===39&&p!==92&&(a=!1);else if(n)d===34&&p!==92&&(n=!1);else if(i)d===96&&p!==92&&(i=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&s.charCodeAt(h+1)!==124&&s.charCodeAt(h-1)!==124&&!l&&!r&&!u)k===void 0?(v=h+1,k=s.slice(0,h).trim()):C();else{switch(d){case 34:n=!0;break;case 39:a=!0;break;case 96:i=!0;break;case 40:u++;break;case 41:u--;break;case 91:r++;break;case 93:r--;break;case 123:l++;break;case 125:l--;break}if(d===47){let T=h-1,E;for(;T>=0&&(E=s.charAt(T),E===" ");T--);(!E||!Br.test(E))&&(o=!0)}}k===void 0?k=s.slice(0,h).trim():v!==0&&C();function C(){m.push(s.slice(v,h).trim()),v=h+1}if(m.length){for(h=0;h<m.length;h++)k=Ur(k,m[h],t);e.content=k,e.ast=void 0}}function Ur(e,t,s){s.helper(ks);const a=t.indexOf("(");if(a<0)return s.filters.add(t),`${kt(t,"filter")}(${e})`;{const n=t.slice(0,a),i=t.slice(a+1);return s.filters.add(n),`${kt(n,"filter")}(${e}${i!==")"?","+i:i}`}}const qn=new WeakSet,Fr=(e,t)=>{if(e.type===1){const s=be(e,"memo");return!s||qn.has(e)?void 0:(qn.add(e),()=>{const a=e.codegenNode||t.currentNode.codegenNode;a&&a.type===13&&(e.tagType!==1&&Is(a,t),e.codegenNode=le(t.helper(Ns),[s.exp,ut(void 0,a),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function no(e){return[[Vr,Nr,Fr,Ar,jr,Rr,Za,Ka,Lr],{on:mn,bind:Wa,model:hn}]}function ao(e,t={}){const s=t.onError||nn,a=t.mode==="module";t.prefixIdentifiers===!0?s(Z(47)):a&&s(Z(48));const n=!1;t.cacheHandlers&&s(Z(49)),t.scopeId&&!a&&s(Z(50));const i=Xe({},t,{prefixIdentifiers:n}),o=ue(e)?un(e,i):e,[l,r]=no();return ja(o,Xe({},i,{nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:Xe({},r,t.directiveTransforms||{})})),Fa(o,i)}const Xr={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},oo=()=>({props:[]});/**
* @vue/compiler-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const vn=Symbol(""),gn=Symbol(""),yn=Symbol(""),_n=Symbol(""),ds=Symbol(""),bn=Symbol(""),kn=Symbol(""),En=Symbol(""),Sn=Symbol(""),Tn=Symbol("");ma({[vn]:"vModelRadio",[gn]:"vModelCheckbox",[yn]:"vModelText",[_n]:"vModelSelect",[ds]:"vModelDynamic",[bn]:"withModifiers",[kn]:"withKeys",[En]:"vShow",[Sn]:"Transition",[Tn]:"TransitionGroup"});let mt;function Hr(e,t=!1){return mt||(mt=document.createElement("div")),t?(mt.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,mt.children[0].getAttribute("foo")):(mt.innerHTML=e,mt.textContent)}const wn={parseMode:"html",isVoidTag:xo,isNativeTag:e=>So(e)||To(e)||wo(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:Hr,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Sn;if(e==="TransitionGroup"||e==="transition-group")return Tn},getNamespace(e,t,s){let a=t?t.ns:s;if(t&&a===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(a=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(a=0);else t&&a===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(a=0);if(a===0){if(e==="svg")return 1;if(e==="math")return 2}return a}},io=e=>{e.type===1&&e.props.forEach((t,s)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[s]={type:7,name:"bind",arg:F("style",!0,t.loc),exp:qr(t.value.content,t.loc),modifiers:[],loc:t.loc})})},qr=(e,t)=>{const s=Co(e);return F(JSON.stringify(s),!1,t,3)};function qe(e,t){return Z(e,t)}const zr={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},Wr={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},Gr=(e,t,s)=>{const{exp:a,loc:n}=e;return a||s.onError(qe(53,n)),t.children.length&&(s.onError(qe(54,n)),t.children.length=0),{props:[te(F("innerHTML",!0,n),a||F("",!0))]}},Jr=(e,t,s)=>{const{exp:a,loc:n}=e;return a||s.onError(qe(55,n)),t.children.length&&(s.onError(qe(56,n)),t.children.length=0),{props:[te(F("textContent",!0),a?Se(a,s)>0?a:le(s.helperString(Ut),[a],n):F("",!0))]}},Kr=(e,t,s)=>{const a=hn(e,t,s);if(!a.props.length||t.tagType===1)return a;e.arg&&s.onError(qe(58,e.arg.loc));const{tag:n}=t,i=s.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||i){let o=yn,l=!1;if(n==="input"||i){const r=Xt(t,"type");if(r){if(r.type===7)o=ds;else if(r.value)switch(r.value.content){case"radio":o=vn;break;case"checkbox":o=gn;break;case"file":l=!0,s.onError(qe(59,e.loc));break}}else Ca(t)&&(o=ds)}else n==="select"&&(o=_n);l||(a.needRuntime=s.helper(o))}else s.onError(qe(57,e.loc));return a.props=a.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),a},Yr=fs("passive,once,capture"),Qr=fs("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Zr=fs("left,right"),ro=fs("onkeyup,onkeydown,onkeypress"),el=(e,t,s,a)=>{const n=[],i=[],o=[];for(let l=0;l<t.length;l++){const r=t[l].content;r==="native"&&_t("COMPILER_V_ON_NATIVE",s)||Yr(r)?o.push(r):Zr(r)?ke(e)?ro(e.content.toLowerCase())?n.push(r):i.push(r):(n.push(r),i.push(r)):Qr(r)?i.push(r):n.push(r)}return{keyModifiers:n,nonKeyModifiers:i,eventOptionModifiers:o}},zn=(e,t)=>ke(e)&&e.content.toLowerCase()==="onclick"?F(t,!0):e.type!==4?Ce(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,tl=(e,t,s)=>mn(e,t,s,a=>{const{modifiers:n}=e;if(!n.length)return a;let{key:i,value:o}=a.props[0];const{keyModifiers:l,nonKeyModifiers:r,eventOptionModifiers:u}=el(i,n,s,e.loc);if(r.includes("right")&&(i=zn(i,"onContextmenu")),r.includes("middle")&&(i=zn(i,"onMouseup")),r.length&&(o=le(s.helper(bn),[o,JSON.stringify(r)])),l.length&&(!ke(i)||ro(i.content.toLowerCase()))&&(o=le(s.helper(kn),[o,JSON.stringify(l)])),u.length){const v=u.map(aa).join("");i=ke(i)?F(`${i.content}${v}`,!0):Ce(["(",i,`) + "${v}"`])}return{props:[te(i,o)]}}),sl=(e,t,s)=>{const{exp:a,loc:n}=e;return a||s.onError(qe(61,n)),{props:[],needRuntime:s.helper(En)}},nl=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},lo=[io],uo={cloak:oo,html:Gr,text:Jr,model:Kr,on:tl,show:sl};function al(e,t={}){return ao(e,Xe({},wn,t,{nodeTransforms:[nl,...lo,...t.nodeTransforms||[]],directiveTransforms:Xe({},uo,t.directiveTransforms||{}),transformHoist:null}))}function ol(e,t={}){return un(e,Xe({},wn,t))}const il=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:Ks,BindingTypes:Xr,CAMELIZE:os,CAPITALIZE:ua,CREATE_BLOCK:Ys,CREATE_COMMENT:St,CREATE_ELEMENT_BLOCK:Qs,CREATE_ELEMENT_VNODE:vs,CREATE_SLOTS:tn,CREATE_STATIC:Zs,CREATE_TEXT:gs,CREATE_VNODE:hs,CompilerDeprecationTypes:wi,ConstantTypes:gi,DOMDirectiveTransforms:uo,DOMErrorCodes:zr,DOMErrorMessages:Wr,DOMNodeTransforms:lo,ElementTypes:vi,ErrorCodes:Ni,FRAGMENT:vt,GUARD_REACTIVE_PROPS:Tt,IS_MEMO_SAME:sn,IS_REF:pa,KEEP_ALIVE:$t,MERGE_PROPS:Pt,NORMALIZE_CLASS:Ts,NORMALIZE_PROPS:gt,NORMALIZE_STYLE:ws,Namespaces:mi,NodeTypes:hi,OPEN_BLOCK:Ze,POP_SCOPE_ID:da,PUSH_SCOPE_ID:ca,RENDER_LIST:Ss,RENDER_SLOT:en,RESOLVE_COMPONENT:ys,RESOLVE_DIRECTIVE:bs,RESOLVE_DYNAMIC_COMPONENT:_s,RESOLVE_FILTER:ks,SET_BLOCK_TRACKING:Dt,SUSPENSE:ms,TELEPORT:ht,TO_DISPLAY_STRING:Ut,TO_HANDLERS:xs,TO_HANDLER_KEY:is,TRANSITION:Sn,TRANSITION_GROUP:Tn,TS_NODE_TYPES:ba,UNREF:fa,V_MODEL_CHECKBOX:gn,V_MODEL_DYNAMIC:ds,V_MODEL_RADIO:vn,V_MODEL_SELECT:_n,V_MODEL_TEXT:yn,V_ON_WITH_KEYS:kn,V_ON_WITH_MODIFIERS:bn,V_SHOW:En,WITH_CTX:Cs,WITH_DIRECTIVES:Es,WITH_MEMO:Ns,advancePositionWithClone:Wi,advancePositionWithMutation:xa,assert:Gi,baseCompile:ao,baseParse:un,buildDirectiveArgs:to,buildProps:pn,buildSlots:Ya,checkCompatEnabled:_t,compile:al,convertToBlock:Is,createArrayExpression:Qe,createAssignmentExpression:ki,createBlockStatement:ga,createCacheExpression:va,createCallExpression:le,createCompilerError:Z,createCompoundExpression:Ce,createConditionalExpression:rs,createDOMCompilerError:qe,createForLoopParams:us,createFunctionExpression:ut,createIfStatement:bi,createInterpolation:yi,createObjectExpression:xe,createObjectProperty:te,createReturnStatement:Si,createRoot:ha,createSequenceExpression:Ei,createSimpleExpression:F,createStructuralDirectiveTransform:cn,createTemplateLiteral:_i,createTransformContext:Ba,createVNodeCall:yt,errorMessages:Ii,extractIdentifiers:Fe,findDir:be,findProp:Xt,forAliasRE:Aa,generate:Fa,generateCodeFrame:No,getBaseTransformPreset:no,getConstantType:Se,getMemoedVNodeCall:Ia,getVNodeBlockHelper:dt,getVNodeHelper:ct,hasDynamicKeyVBind:Ca,hasScopeRef:Ae,helperNameMap:lt,injectProp:Lt,isCoreComponent:an,isFnExpression:wa,isFnExpressionBrowser:Ta,isFnExpressionNode:zi,isFunctionType:Vi,isInDestructureAssignment:Mi,isInNewExpression:$i,isMemberExpression:on,isMemberExpressionBrowser:Sa,isMemberExpressionNode:Hi,isReferencedIdentifier:Oi,isSimpleIdentifier:Ft,isSlotOutlet:Rt,isStaticArgOf:Ke,isStaticExp:ke,isStaticProperty:_a,isStaticPropertyKey:Bi,isTemplateNode:bt,isText:Zt,isVPre:Bs,isVSlot:rn,locStub:ce,noopDirectiveTransform:oo,parse:ol,parserOptions:wn,processExpression:ns,processFor:Ja,processIf:za,processSlotOutlet:so,registerRuntimeHelpers:ma,resolveComponentType:eo,stringifyExpression:qa,toValidAssetId:kt,trackSlotScopes:Ka,trackVForSlotScopes:Mr,transform:ja,transformBind:Wa,transformElement:Za,transformExpression:Cr,transformModel:hn,transformOn:mn,transformStyle:io,traverseNode:Ht,unwrapTSNode:ka,walkBlockDeclarations:Di,walkFunctionParams:Pi,walkIdentifiers:Ai,warnDeprecation:Ci},Symbol.toStringTag,{value:"Module"})),rl=qs(il),ll=qs(Io),ul=qs(Ao);/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Wn;function cl(){return Wn||(Wn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=rl,s=ll,a=ul;function n(r){var u=Object.create(null);if(r)for(var v in r)u[v]=r[v];return u.default=r,Object.freeze(u)}var i=n(s);const o=Object.create(null);function l(r,u){if(!a.isString(r))if(r.nodeType)r=r.innerHTML;else return a.NOOP;const v=a.genCacheKey(r,u),d=o[v];if(d)return d;if(r[0]==="#"){const m=document.querySelector(r);r=m?m.innerHTML:""}const p=a.extend({hoistStatic:!0,onError:void 0,onWarn:a.NOOP},u);!p.isCustomElement&&typeof customElements<"u"&&(p.isCustomElement=m=>!!customElements.get(m));const{code:h}=t.compile(r,p),k=new Function("Vue",h)(i);return k._rc=!0,o[v]=k}s.registerRuntimeCompiler(l),e.compile=l,Object.keys(s).forEach(function(r){r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=s[r])})}(Ds)),Ds}var Gn;function dl(){return Gn||(Gn=1,Ps.exports=cl()),Ps.exports}var fl=Qt.exports,Jn;function pl(){return Jn||(Jn=1,function(e,t){(function(a,n){e.exports=n(dl())})(fl,s=>(()=>{var a={113:(y,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.default=(b,N)=>{const I=b.__vccOpts||b;for(const[M,q]of N)I[M]=q;return I}},594:y=>{y.exports=s}},n={};function i(y){var _=n[y];if(_!==void 0)return _.exports;var b=n[y]={exports:{}};return a[y](b,b.exports,i),b.exports}i.d=(y,_)=>{for(var b in _)i.o(_,b)&&!i.o(y,b)&&Object.defineProperty(y,b,{enumerable:!0,get:_[b]})},i.o=(y,_)=>Object.prototype.hasOwnProperty.call(y,_),i.r=y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{ToastComponent:()=>$,ToastPlugin:()=>X,ToastPositions:()=>h,default:()=>j,useToast:()=>L});var l=i(594);const r=["innerHTML"];function u(y,_,b,N,I,M){return(0,l.openBlock)(),(0,l.createBlock)(l.Transition,{"enter-active-class":y.transition.enter,"leave-active-class":y.transition.leave},{default:(0,l.withCtx)(()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",{ref:"root",role:"alert",class:(0,l.normalizeClass)(["v-toast__item",[`v-toast__item--${y.type}`,`v-toast__item--${y.position}`]]),onMouseover:_[0]||(_[0]=q=>y.toggleTimer(!0)),onMouseleave:_[1]||(_[1]=q=>y.toggleTimer(!1)),onClick:_[2]||(_[2]=function(){return y.whenClicked&&y.whenClicked(...arguments)})},[_[3]||(_[3]=(0,l.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,l.createElementVNode)("p",{class:"v-toast__text",innerHTML:y.message},null,8,r)],34),[[l.vShow,y.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function v(y){var _;typeof y.remove<"u"?y.remove():(_=y.parentNode)==null||_.removeChild(y)}function d(y,_,b){let N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const I=(0,l.h)(y,_,N),M=document.createElement("div");return M.classList.add("v-toast--pending"),b.appendChild(M),(0,l.render)(I,M),I.component}class p{constructor(_,b){this.startedAt=Date.now(),this.callback=_,this.delay=b,this.timer=setTimeout(_,b)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const h=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function k(y){return{all:y=y||new Map,on:function(_,b){var N=y.get(_);N?N.push(b):y.set(_,[b])},off:function(_,b){var N=y.get(_);N&&(b?N.splice(N.indexOf(b)>>>0,1):y.set(_,[]))},emit:function(_,b){var N=y.get(_);N&&N.slice().map(function(I){I(b)}),(N=y.get("*"))&&N.slice().map(function(I){I(_,b)})}}}const C=k(),T=(0,l.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:h.BOTTOM_RIGHT,validator(y){return Object.values(h).includes(y)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),C.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const y=document.body;y.appendChild(this.parentTop),y.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const y=this.$refs.root;(0,l.render)(null,y),v(y)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const y=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),v(y),this.isActive=!0,this.duration&&(this.timer=new p(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(y){!this.pauseOnHover||!this.timer||(y?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case h.TOP:case h.TOP_RIGHT:case h.TOP_LEFT:return this.parentTop;case h.BOTTOM:case h.BOTTOM_RIGHT:case h.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case h.TOP:case h.TOP_RIGHT:case h.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case h.BOTTOM:case h.BOTTOM_RIGHT:case h.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){C.off("toast-clear",this.dismiss)}});var E=i(113);const $=(0,E.default)(T,[["render",u]]),L=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(_){let b=null;typeof _=="string"&&(b=_);const I=Object.assign({},{message:b},y,_);return{dismiss:d($,I,document.body).ctx.dismiss}},clear(){C.emit("toast-clear")},success(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"success"},b))},error(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"error"},b))},info(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"info"},b))},warning(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"warning"},b))},default(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:_,type:"default"},b))}}},X={install:function(y){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=L(_);y.config.globalProperties.$toast=b,y.provide("$toast",b)}},j=X;return o})())}(Qt)),Qt.exports}var ml=pl();const hl={class:"p-8"},vl={class:"mt-2 text-sm text-gray-600"},gl={key:0,class:"mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-lg"},yl={class:"mt-4"},_l={class:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6"},bl={class:"lg:col-span-1 space-y-3"},kl=["onClick"],El={class:"flex items-center justify-between"},Sl={class:"flex items-center"},Tl={class:"ml-2 text-sm text-gray-500"},wl={key:0},xl={key:1},Cl={key:1,class:"text-xs text-gray-400"},Nl={key:0,class:"lg:col-span-2 p-6 bg-gray-50 rounded-xl shadow-inner"},Il={class:"text-xl font-semibold text-gray-800 mb-4"},Al={class:"flex items-center justify-between mb-6 p-4 rounded-lg bg-white shadow-sm border border-gray-200"},Ol={class:"relative inline-flex items-center cursor-pointer"},Ml=["checked"],$l={key:0},Pl={class:"flex-1"},Dl=["onUpdate:modelValue"],Rl={class:"flex-1"},Ll=["onUpdate:modelValue"],Vl=["onClick"],Bl={key:1},jl={class:"mt-8 flex justify-end space-x-3"},Ul={key:0,class:"flex items-center"},Fl={key:1},Xl={__name:"AvailabilityModal",props:{show:Boolean,userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(e,{emit:t}){const s=()=>{const j=localStorage.getItem("authToken");j&&!ie.defaults.headers.common.Authorization&&(ie.defaults.headers.common.Authorization=`Bearer ${j}`)},a=e,n=t,i=ml.useToast(),o=D({}),l=D({}),r=D(!1),u=D(null),v=D(""),d=D(!1),p=D([]),h=()=>{const j=[],y=new Date,_=new Date(y);_.setDate(y.getDate()+1);for(let b=0;b<7;b++){const N=new Date(_);N.setDate(_.getDate()+b);const I=N.toISOString().split("T")[0];j.push({value:I,label:N.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:N.toLocaleDateString("en-US",{weekday:"short"})}),o.value[I]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}return j},k=()=>{const j=[],y=new Date,_=y.getDay(),b=new Date(y);b.setDate(y.getDate()-(_===0?6:_-1));for(let N=0;N<7;N++){const I=new Date(b);I.setDate(b.getDate()+N);const M=I.toISOString().split("T")[0];j.push({value:M,label:I.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),day:I.toLocaleDateString("en-US",{weekday:"short"})}),o.value[M]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}return j},m=()=>{d.value=!0,v.value="",p.value=k(),u.value=p.value[0].value,C()};ft(()=>{s(),p.value=h()});const C=async()=>{try{if(s(),p.value.length===0)return;const j=p.value[0].value,y=p.value[p.value.length-1].value,_=await ie.get("/api/availabilities",{params:{start_date:j,end_date:y,user_id:a.userId}});_.data&&_.data.availabilities&&(p.value.forEach(b=>{o.value[b.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),_.data.availabilities.forEach(b=>{const N=b.date.split("T")[0];o.value[N]&&(o.value[N].isSelected=!0,o.value[N].isAvailable=b.is_available,b.is_available?o.value[N].timeSlots=b.time_slots&&b.time_slots.length>0?[...b.time_slots]:[{start_time:"",end_time:""}]:o.value[N].reason=b.reason||"")}))}catch(j){console.error("Error fetching existing availabilities:",j)}};me(()=>a.show,async j=>{j?(l.value={},v.value="",d.value=!1,p.value=h(),await C(),p.value.length>0&&(u.value=p.value[0].value)):u.value=null},{immediate:!0});const T=W(()=>o.value[u.value]||{isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}),E=()=>{const j=T.value.timeSlots;j&&j.push({start_time:"",end_time:""})},w=j=>{const y=T.value.timeSlots;y&&y.length>1&&y.splice(j,1)},$=j=>{T.value.isAvailable=j,j?T.value.reason="":T.value.timeSlots=[{start_time:"",end_time:""}]},L=()=>{console.log("hit");const j=T.value;for(const y of p.value){const _=y.value;_!==u.value&&(o.value[_]=JSON.parse(JSON.stringify(j)),o.value[_].isSelected=!0)}i.success("Availability applied to all days!")},X=async()=>{if(r.value=!0,l.value={},d.value&&!v.value.trim()){l.value.lateReason="Please provide a reason for this late submission.",r.value=!1;return}const j=[];for(const y of p.value){const _=y.value,b=o.value[_];let N={};if(b.isSelected){if(b.isAvailable)if(b.timeSlots.some(I=>!I.start_time||!I.end_time))N.timeSlots="Please fill in all time slots.";else for(const I of b.timeSlots){const M=I.start_time.split(":").map(Number),q=I.end_time.split(":").map(Number);if(M[0]*60+M[1]>=q[0]*60+q[1]){N.timeSlots="End time must be after start time.";break}}else b.reason.trim()||(N.reason="Please provide a reason for unavailability.");Object.keys(N).length>0&&(l.value[_]=N),Object.keys(N).length===0&&j.push({date:_,is_available:b.isAvailable,reason:b.isAvailable?null:b.reason,time_slots:b.isAvailable?b.timeSlots:null})}}if(j.length===0){l.value.general="Please select and set availability for at least one day.",r.value=!1;return}try{s();const y={availabilities:j,reason_for_late_submission:d.value?v.value:null};await ie.post("/api/availabilities/batch",y),i.success("Availability saved successfully!"),n("availability-saved"),setTimeout(()=>n("close"),1500)}catch(y){console.error("Error saving availability:",y),i.error("An error occurred while saving your availability.")}finally{r.value=!1}};return(j,y)=>(f(),B(Gs,{show:e.show,onClose:y[4]||(y[4]=_=>j.$emit("close")),"max-width":"4xl"},{default:A(()=>{var _,b,N,I;return[c("div",hl,[y[16]||(y[16]=c("h2",{class:"text-2xl font-bold text-gray-900"}," Set Your Weekly Availability ",-1)),c("p",vl,[y[5]||(y[5]=P(" Select a day to quickly set your schedule for the upcoming week. ",-1)),d.value?x("",!0):(f(),g("span",{key:0,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out cursor-pointer",onClick:m}," Missed the deadline? Submit for this week. "))]),d.value?(f(),g("div",gl,[y[6]||(y[6]=c("div",{class:"flex items-center"},[c("svg",{class:"h-5 w-5 text-yellow-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c("path",{"fill-rule":"evenodd",d:"M8.257 3.344a1.5 1.5 0 012.486 0l5.446 9.176A1.5 1.5 0 0114.246 15H5.754a1.5 1.5 0 01-1.238-2.48zM9 11a1 1 0 102 0V7a1 1 0 10-2 0v4zm1-3a1 1 0 100 2h.01a1 1 0 100-2H10z","clip-rule":"evenodd"})]),c("p",{class:"font-semibold"},"Late Submission for Current Week")],-1)),y[7]||(y[7]=c("p",{class:"mt-2 text-sm"}," Please provide a reason for submitting late. We acknowledge that availability submissions are due by Thursday evening. ",-1)),c("div",yl,[S(J,{value:"Reason for late submission"}),de(c("textarea",{"onUpdate:modelValue":y[0]||(y[0]=M=>v.value=M),rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., I was out sick, I forgot, I had no access to the system"},null,512),[[Pe,v.value]]),S(Q,{message:l.value.lateReason,class:"mt-2"},null,8,["message"])])])):x("",!0),c("div",_l,[c("div",bl,[(f(!0),g(oe,null,re(p.value,M=>{var q;return f(),g("div",{key:M.value,class:H(["p-4 rounded-xl border cursor-pointer transition-all duration-200 ease-in-out",{"bg-indigo-50 border-indigo-500 shadow-lg":u.value===M.value,"bg-white border-gray-200 hover:border-indigo-400 hover:shadow-md":u.value!==M.value,"border-red-400 bg-red-50":l.value[M.value],"opacity-70":M.isPast}]),onClick:K=>u.value=M.value},[c("div",El,[c("div",Sl,[c("div",{class:H(["text-lg font-bold",{"text-indigo-600":u.value===M.value,"text-gray-800":u.value!==M.value}])},R(M.day),3),c("div",Tl,R(M.label.split(", ")[1]),1)]),(q=o.value[M.value])!=null&&q.isSelected?(f(),g("span",{key:0,class:H(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",{"bg-emerald-100 text-emerald-800":o.value[M.value].isAvailable,"bg-amber-100 text-amber-800":!o.value[M.value].isAvailable}])},[o.value[M.value].isAvailable?(f(),g("span",wl,"Available")):(f(),g("span",xl,"Unavailable"))],2)):(f(),g("span",Cl," Not Set "))])],10,kl)}),128))]),u.value?(f(),g("div",Nl,[c("h3",Il," Availability for "+R((_=p.value.find(M=>M.value===u.value))==null?void 0:_.label),1),c("div",{class:"mb-4 text-sm text-right"},[c("button",{type:"button",onClick:L,class:"text-indigo-600 hover:text-indigo-800 transition duration-150 ease-in-out"},y[8]||(y[8]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),c("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"})],-1),P(" Apply to all days ",-1)]))]),c("div",Al,[y[10]||(y[10]=c("span",{class:"text-sm font-medium text-gray-700"},"I am available on this day",-1)),c("label",Ol,[c("input",{type:"checkbox",checked:T.value.isAvailable,onChange:y[1]||(y[1]=M=>$(M.target.checked)),class:"sr-only peer"},null,40,Ml),y[9]||(y[9]=c("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"},null,-1))])]),S(Q,{message:(b=l.value[u.value])==null?void 0:b.general,class:"mt-2"},null,8,["message"]),T.value.isAvailable?(f(),g("div",$l,[S(J,{value:"Available Time Slots",class:"text-gray-800 mb-2"}),S(Q,{message:(N=l.value[u.value])==null?void 0:N.timeSlots,class:"mt-2 mb-4"},null,8,["message"]),(f(!0),g(oe,null,re(T.value.timeSlots,(M,q)=>(f(),g("div",{key:q,class:"flex items-center space-x-2 mb-4"},[c("div",Pl,[de(c("input",{type:"time","onUpdate:modelValue":K=>M.start_time=K,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,Dl),[[Pe,M.start_time]])]),y[12]||(y[12]=c("span",{class:"text-gray-500"},"-",-1)),c("div",Rl,[de(c("input",{type:"time","onUpdate:modelValue":K=>M.end_time=K,class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm"},null,8,Ll),[[Pe,M.end_time]])]),T.value.timeSlots.length>1?(f(),g("button",{key:0,type:"button",onClick:K=>w(q),class:"p-2 text-red-600 hover:text-red-800 transition duration-150 ease-in-out"},y[11]||(y[11]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,Vl)):x("",!0)]))),128)),c("button",{type:"button",onClick:E,class:"mt-2 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},y[13]||(y[13]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),P(" Add Another Time Slot ",-1)]))])):(f(),g("div",Bl,[S(J,{value:"Reason for Not Available",class:"text-gray-800 mb-2"}),de(c("textarea",{"onUpdate:modelValue":y[2]||(y[2]=M=>T.value.reason=M),rows:"3",class:"block w-full rounded-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,512),[[Pe,T.value.reason]]),S(Q,{message:(I=l.value[u.value])==null?void 0:I.reason,class:"mt-2"},null,8,["message"])]))])):x("",!0)]),c("div",jl,[S(Mt,{onClick:y[3]||(y[3]=M=>j.$emit("close"))},{default:A(()=>y[14]||(y[14]=[P(" Cancel ",-1)])),_:1,__:[14]}),S(_e,{onClick:X,disabled:r.value||!u.value,class:H({"opacity-50":r.value||!u.value})},{default:A(()=>[r.value?(f(),g("span",Ul,y[15]||(y[15]=[c("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),P(" Saving... ",-1)]))):(f(),g("span",Fl,"Save Availability"))]),_:1},8,["disabled","class"])])])]}),_:1},8,["show"]))}},Hl={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},ql={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},zl={class:"flex justify-center"},Wl={__name:"AvailabilityBlocker",setup(e){const t=D(!1),s=D(!0),a=D(!1),n=D([]),i=W(()=>{var m;return((m=jt().props.auth.user)==null?void 0:m.id)||null}),o=()=>{const m=localStorage.getItem("authToken");m&&!ie.defaults.headers.common.Authorization&&(ie.defaults.headers.common.Authorization=`Bearer ${m}`)},l=async()=>{s.value=!0;const m=localStorage.getItem("shouldBlockUser"),C=localStorage.getItem("allWeekdaysCovered");if(m==="true"&&C==="false")t.value=!0,await r();else try{o();const T=await ie.get("/api/availability-prompt");t.value=T.data.should_block_user&&!T.data.all_weekdays_covered,t.value&&await r()}catch(T){console.error("Error checking if user should be blocked:",T),t.value=!1}s.value=!1},r=async()=>{try{o();const m=await ie.get("/api/availability-prompt");u(m.data.next_week_start,m.data.next_week_end)}catch(m){console.error("Error fetching next week dates:",m)}},u=(m,C)=>{const T=[],E=new Date(m),w=new Date(C),$=new Date(E);for(;$<=w;)T.push({value:$.toISOString().split("T")[0],label:$.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),$.setDate($.getDate()+1);n.value=T},v=()=>{a.value=!0},d=()=>{l()},p=m=>{t.value=m.detail.shouldBlockUser&&!m.detail.allWeekdaysCovered},h=()=>{document.visibilityState==="visible"&&it(()=>{l()})},k=m=>{(m.key==="shouldBlockUser"||m.key==="allWeekdaysCovered")&&it(()=>{l()})};return ft(()=>{l(),window.addEventListener("availability-status-updated",p),document.addEventListener("visibilitychange",h),window.addEventListener("storage",k)}),Bt(()=>{window.removeEventListener("availability-status-updated",p),document.removeEventListener("visibilitychange",h),window.removeEventListener("storage",k)}),(m,C)=>t.value&&!s.value?(f(),g("div",Hl,[c("div",ql,[C[2]||(C[2]=Oo('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div><p class="mb-6 text-gray-700"> You must submit your availability for all weekdays of next week before you can continue using the application. This is required for planning meetings and work schedules. </p>',2)),c("div",zl,[S(_e,{onClick:v,class:"bg-red-600 hover:bg-red-700"},{default:A(()=>C[1]||(C[1]=[P(" Submit Availability Now ",-1)])),_:1,__:[1]})]),S(Xl,{show:a.value,"next-week-dates":n.value,date:n.value.length>0?n.value[0].value:"",userId:i.value,onClose:C[0]||(C[0]=T=>a.value=!1),onAvailabilitySaved:d},null,8,["show","next-week-dates","date","userId"])])])):x("",!0)}},Gl={class:"p-6"},Jl={class:"flex justify-between items-center mb-4"},Kl={class:"text-lg font-medium text-gray-900"},Yl={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},Ql={class:"block sm:inline"},Zl={key:0,class:"mt-6 flex justify-end space-x-3"},eu={__name:"BaseFormModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Modal Title"},apiEndpoint:{type:String,required:!1},httpMethod:{type:String,default:"post",validator:e=>["post","put","patch","delete"].includes(e.toLowerCase())},formData:{type:Object,required:!0},submitButtonText:{type:String,default:"Save"},successMessage:{type:String,default:"Operation successful!"},formatDataForApi:{type:Function,default:e=>e},showFooter:{type:Boolean,default:!0}},emits:["close","submitted","error"],setup(e,{emit:t}){const s=e,a=t,n=D(!1),i=D({}),o=D("");me(()=>s.show,u=>{u&&(i.value={},o.value="",n.value=!1)});const l=async()=>{n.value=!0,i.value={},o.value="";try{const u=s.formatDataForApi(s.formData);let v;const d=s.httpMethod.toLowerCase();if(d==="post")v=await window.axios.post(s.apiEndpoint,u);else if(d==="put")v=await window.axios.put(s.apiEndpoint,u);else if(d==="patch")v=await window.axios.patch(s.apiEndpoint,u);else if(d==="delete")v=await window.axios.delete(s.apiEndpoint,{data:u});else throw new Error(`Unsupported HTTP method: ${s.httpMethod}`);Ne(s.successMessage),a("submitted",v.data),a("close")}catch(u){console.error("API submission error:",u),u.response?u.response.status===422?(i.value=u.response.data.errors,o.value="Please correct the errors in the form."):o.value=u.response.data.message||"An unexpected error occurred.":o.value="A network error occurred or the server is unreachable.",pe(o.value),a("error",u)}finally{n.value=!1}},r=()=>{a("close")};return(u,v)=>(f(),B(Gs,{show:e.show,onClose:r},{default:A(()=>[c("div",Gl,[c("div",Jl,[c("h2",Kl,R(e.title),1),c("button",{onClick:r,class:"text-gray-400 hover:text-gray-500"},v[0]||(v[0]=[c("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),o.value?(f(),g("div",Yl,[c("span",Ql,R(o.value),1)])):x("",!0),c("form",{onSubmit:zs(l,["prevent"])},[Re(u.$slots,"default",{errors:i.value},void 0,!0),e.showFooter?(f(),g("div",Zl,[S(Mt,{onClick:r,type:"button",disabled:n.value},{default:A(()=>v[1]||(v[1]=[P(" Cancel ",-1)])),_:1,__:[1]},8,["disabled"]),S(_e,{type:"submit",disabled:n.value,class:H({"opacity-75 cursor-not-allowed":n.value})},{default:A(()=>[P(R(n.value?"Submitting...":e.submitButtonText),1)]),_:1},8,["disabled","class"])])):x("",!0)],32)])]),_:3},8,["show"]))}},Os=Et(eu,[["__scopeId","data-v-380ca613"]]),tu=(e,t)=>{let s;return(...a)=>{clearTimeout(s),s=setTimeout(()=>e(...a),t)}},su={class:"relative"},nu={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},au=["onClick"],ou={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},iu=["onClick"],ru={key:1,class:"px-4 py-2 text-sm text-gray-500"},lu={key:2,class:"px-4 py-2 text-sm text-gray-500"},uu={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,a=t,n=D(""),i=D([]),o=D([]),l=D(!1),r=D(null);function u(){a("update:modelValue",o.value.map(T=>T.id))}me(()=>s.initialTags,T=>{if(o.value=[],T&&T.length>0){const L=[],X=new Set;T.forEach(j=>{X.has(j.id)||(L.push(j),X.add(j.id))}),o.value.push(...L)}const E=T.map(L=>L.id),w=Array.isArray(s.modelValue)?s.modelValue:[];(E.length!==w.length||E.some(L=>!w.includes(L))||w.some(L=>!E.includes(L)))&&u()},{immediate:!0});const v=tu(async T=>{if(T.length<2){i.value=[],l.value=!1;return}try{const E=await ie.get(`/api/tags/search?query=${T}`);i.value=E.data,l.value=!0}catch(E){console.error("Error fetching tags:",E),i.value=[],l.value=!1}},300);me(n,T=>{s.disabled||v(T)});const d=T=>{o.value.some(E=>E.id===T.id)||(o.value.push(T),n.value="",i.value=[],l.value=!1,u()),it(()=>r.value.focus())},p=()=>{if(s.disabled)return;const T=n.value.trim();if(!T)return;const E=i.value.find($=>$.name.toLowerCase()===T.toLowerCase()),w=o.value.some($=>$.name.toLowerCase()===T.toLowerCase());if(E)d(E);else if(w)n.value="",i.value=[],l.value=!1;else{const $={id:`new_${T.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:T};o.value.push($),n.value="",i.value=[],l.value=!1,u()}it(()=>r.value.focus())},h=T=>{s.disabled||(o.value=o.value.filter(E=>E.id!==T.id),u(),it(()=>r.value.focus()))},k=()=>{s.disabled||n.value===""&&o.value.length>0&&h(o.value[o.value.length-1])},m=W(()=>i.value.filter(T=>!o.value.some(E=>E.id===T.id))),C=T=>{r.value&&!r.value.$el.contains(T.target)&&(l.value=!1,n.value="")};return ft(()=>{document.addEventListener("click",C)}),Bt(()=>{document.removeEventListener("click",C)}),(T,E)=>(f(),g("div",su,[S(J,{value:e.label,class:"mb-1"},null,8,["value"]),c("div",nu,[(f(!0),g(oe,null,re(o.value,w=>(f(),g("span",{key:w.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[P(R(w.name)+" ",1),e.disabled?x("",!0):(f(),g("button",{key:0,type:"button",onClick:$=>h(w),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},E[3]||(E[3]=[c("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,au))]))),128)),S(De,{ref_key:"inputRef",ref:r,type:"text",placeholder:o.value.length===0?e.placeholder:"",modelValue:n.value,"onUpdate:modelValue":E[0]||(E[0]=w=>n.value=w),onFocus:E[1]||(E[1]=w=>l.value=!0),onKeydown:[Yt(zs(p,["prevent"]),["enter"]),E[2]||(E[2]=Yt(w=>l.value=!1,["tab"])),Yt(k,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:e.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),l.value&&(m.value.length>0||n.value.length>=2||m.value.length===0&&n.value.length<2)&&!e.disabled?(f(),g("div",ou,[(f(!0),g(oe,null,re(m.value,w=>(f(),g("div",{key:w.id,onClick:$=>d(w),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},R(w.name),9,iu))),128)),!i.value.some(w=>w.name.toLowerCase()===n.value.toLowerCase())&&n.value.length>=2?(f(),g("div",{key:0,onClick:p,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+R(n.value)+'" ',1)):x("",!0),m.value.length===0&&n.value.length<2?(f(),g("div",ru," Type at least 2 characters to search for tags. ")):x("",!0),m.value.length===0&&n.value.length>=2&&!i.value.some(w=>w.name.toLowerCase()===n.value.toLowerCase())?(f(),g("div",lu,[E[4]||(E[4]=P(" No matching tags found. Press ",-1)),E[5]||(E[5]=c("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),P(' to add "'+R(n.value)+'" as a new tag. ',1)])):x("",!0)])):x("",!0),S(Q,{message:e.error,class:"mt-2"},null,8,["message"])]))}},co=Et(uu,[["__scopeId","data-v-4d528a4c"]]),cu={class:"space-y-4"},du="Add New Milestone",fu="/api/milestones",pu="post",mu="Create Milestone",hu="Milestone created successfully!",vu={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(e,{emit:t}){const s=e,a=t,n=ps({name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),i=["Not Started","In Progress","Completed","Overdue"];me(()=>s.show,r=>{r&&Object.assign(n,{name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId})},{immediate:!0});const o=r=>{a("saved",r),a("close")},l=()=>{a("close")};return(r,u)=>(f(),B(Os,{show:e.show,title:du,"api-endpoint":fu,"http-method":pu,"form-data":n,"submit-button-text":mu,"success-message":hu,onClose:l,onSubmitted:o},{default:A(({errors:v})=>[c("div",cu,[c("div",null,[S(J,{for:"milestone-name",value:"Milestone Name"}),S(De,{id:"milestone-name",modelValue:n.name,"onUpdate:modelValue":u[0]||(u[0]=d=>n.name=d),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),S(Q,{message:v.name?v.name[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"milestone-description",value:"Description"}),de(c("textarea",{id:"milestone-description","onUpdate:modelValue":u[1]||(u[1]=d=>n.description=d),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[Pe,n.description]]),S(Q,{message:v.description?v.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"milestone-completion-date",value:"Completion Date"}),S(De,{id:"milestone-completion-date",modelValue:n.completion_date,"onUpdate:modelValue":u[2]||(u[2]=d=>n.completion_date=d),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),S(Q,{message:v.completion_date?v.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"milestone-status",value:"Status"}),S($e,{id:"milestone-status",modelValue:n.status,"onUpdate:modelValue":u[3]||(u[3]=d=>n.status=d),options:i.map(d=>({value:d,label:d})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),S(Q,{message:v.status?v.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},gu={class:"space-y-4"},yu={key:0},_u={key:0,class:"text-sm text-gray-500"},bu={key:0,class:"text-sm text-gray-500"},ku={key:0,class:"text-sm text-gray-500"},Eu={class:"flex items-center gap-2 mt-1"},Su={key:0,class:"text-sm text-gray-500"},Tu=["disabled"],wu="Create New Task",xu="/api/tasks",Cu="post",Nu="Create Task",Iu="Task created successfully!",Au={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,a=t,n=ps({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),i=["To Do","In Progress","Done","Blocked","Archived"],o=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],l=D([]),r=D([]),u=D([]),v=D([]),d=D(!0),p=D(!1),h=D(!1),k=D(!1),m=D(!1);me(()=>s.show,async _=>{_&&(Object.assign(n,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),s.projectId?await T(s.projectId):await C())},{immediate:!0}),me(()=>n.project_id,async _=>{_?await T(_):(r.value=[],u.value=[],v.value=[])});const C=async()=>{d.value=!0;try{const _=await window.axios.get("/api/projects-simplified");l.value=_.data.map(b=>({value:b.id,label:b.name}))}catch(_){console.error("Error fetching projects:",_),l.value=[]}finally{d.value=!1}},T=async _=>{if(_){p.value=!0,h.value=!0,k.value=!0;try{const[b,N,I]=await Promise.all([window.axios.get(`/api/projects/${_}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${_}/milestones`)]);r.value=b.data.map(M=>({value:M.id,label:M.name})),u.value=N.data.map(M=>({value:M.id,label:M.name})),v.value=I.data.map(M=>({value:M.id,label:M.name}))}catch(b){console.error("Error fetching associated task data:",b),r.value=[],u.value=[],v.value=[]}finally{p.value=!1,h.value=!1,k.value=!1}}},E=_=>{a("saved",_),a("close")},w=()=>{a("close")},$=()=>{n.project_id?m.value=!0:alert("Please select a project before adding a milestone.")},L=_=>{if(m.value=!1,_&&_.id&&_.name){const b={value:_.id,label:_.name};v.value.some(N=>N.value===b.value)||v.value.push(b),n.milestone_id=b.value}},X=W(()=>r.value),j=W(()=>u.value),y=W(()=>v.value);return(_,b)=>(f(),g(oe,null,[S(Os,{show:e.show,title:wu,"api-endpoint":xu,"http-method":Cu,"form-data":n,"submit-button-text":Nu,"success-message":Iu,onClose:w,onSubmitted:E},{default:A(({errors:N})=>[c("div",gu,[e.projectId?x("",!0):(f(),g("div",yu,[S(J,{for:"task-project",value:"Project"}),d.value?(f(),g("div",_u,"Loading projects...")):(f(),B($e,{key:1,id:"task-project",modelValue:n.project_id,"onUpdate:modelValue":b[0]||(b[0]=I=>n.project_id=I),options:l.value,"value-key":"value","label-key":"label",placeholder:"Select a project",class:"mt-1",required:!0},null,8,["modelValue","options"])),S(Q,{message:N.project_id?N.project_id[0]:"",class:"mt-2"},null,8,["message"])])),c("div",null,[S(J,{for:"task-name",value:"Task Name"}),S(De,{id:"task-name",modelValue:n.name,"onUpdate:modelValue":b[1]||(b[1]=I=>n.name=I),type:"text",class:"mt-1 block w-full",placeholder:"Enter task name",required:""},null,8,["modelValue"]),S(Q,{message:N.name?N.name[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"task-description",value:"Description"}),de(c("textarea",{id:"task-description","onUpdate:modelValue":b[2]||(b[2]=I=>n.description=I),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[Pe,n.description]]),S(Q,{message:N.description?N.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"task-status",value:"Status"}),S($e,{id:"task-status",modelValue:n.status,"onUpdate:modelValue":b[3]||(b[3]=I=>n.status=I),options:i.map(I=>({value:I,label:I})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),S(Q,{message:N.status?N.status[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"task-priority",value:"Priority"}),S($e,{id:"task-priority",modelValue:n.priority,"onUpdate:modelValue":b[4]||(b[4]=I=>n.priority=I),options:o,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1"},null,8,["modelValue"]),S(Q,{message:N.priority?N.priority[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"task-due-date",value:"Due Date"}),S(De,{id:"task-due-date",modelValue:n.due_date,"onUpdate:modelValue":b[5]||(b[5]=I=>n.due_date=I),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),S(Q,{message:N.due_date?N.due_date[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"task-assigned-to",value:"Assigned To"}),p.value?(f(),g("div",bu,"Loading users...")):(f(),B($e,{key:1,id:"task-assigned-to",modelValue:n.assigned_to_user_id,"onUpdate:modelValue":b[6]||(b[6]=I=>n.assigned_to_user_id=I),options:X.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),S(Q,{message:N.assigned_to_user_id?N.assigned_to_user_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"task-type",value:"Task Type"}),h.value?(f(),g("div",ku,"Loading task types...")):(f(),B($e,{key:1,id:"task-type",modelValue:n.task_type_id,"onUpdate:modelValue":b[7]||(b[7]=I=>n.task_type_id=I),options:j.value,"value-key":"value","label-key":"label",placeholder:"Select a task type",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),S(Q,{message:N.task_type_id?N.task_type_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"task-milestone",value:"Milestone"}),c("div",Eu,[k.value?(f(),g("div",Su,"Loading milestones...")):(f(),B($e,{key:1,id:"task-milestone",modelValue:n.milestone_id,"onUpdate:modelValue":b[8]||(b[8]=I=>n.milestone_id=I),options:y.value,"value-key":"value","label-key":"label",placeholder:"No milestone",class:"flex-grow","allow-empty":!0,disabled:!n.project_id},null,8,["modelValue","options","disabled"])),c("button",{type:"button",onClick:$,disabled:!n.project_id||k.value,class:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add New Milestone"},b[11]||(b[11]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,Tu)]),S(Q,{message:N.milestone_id?N.milestone_id[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(co,{modelValue:n.tags,"onUpdate:modelValue":b[9]||(b[9]=I=>n.tags=I),initialTags:n.tags_data,label:"Tags",placeholder:"Search or add tags",error:N.tags?N.tags[0]:"",disabled:!n.project_id},null,8,["modelValue","initialTags","error","disabled"])])])]),_:1},8,["show","form-data"]),S(vu,{show:m.value,"project-id":n.project_id,onClose:b[10]||(b[10]=N=>m.value=!1),onSaved:L},null,8,["show","project-id"])],64))}},Ou={class:"space-y-4"},Mu={class:"flex items-center mt-4"},$u={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(e,{emit:t}){const s=e,a=t,n=ps({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,tags:[]}),i=W(()=>[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}]),o=u=>u,l=u=>{a("resourceCreated",u),r()},r=()=>{n.title="",n.description="",n.url="",n.type="website",n.thumbnail_url="",n.visible_to_client=!0,n.tags=[],a("close")};return(u,v)=>(f(),B(Os,{show:s.show,title:"Add New Shareable Resource",apiEndpoint:s.apiEndpoint,httpMethod:"post",formData:n,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",formatDataForApi:o,onSubmitted:l,onClose:r},{default:A(({errors:d})=>[c("div",Ou,[c("div",null,[S(J,{for:"title",value:"Title",class:"mb-1"}),S(De,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.title,"onUpdate:modelValue":v[0]||(v[0]=p=>n.title=p),required:""},null,8,["modelValue"]),S(Q,{message:d.title?d.title[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"url",value:"Resource URL",class:"mb-1"}),S(De,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.url,"onUpdate:modelValue":v[1]||(v[1]=p=>n.url=p),required:""},null,8,["modelValue"]),S(Q,{message:d.url?d.url[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"type",value:"Resource Type",class:"mb-1"}),S($e,{id:"type",modelValue:n.type,"onUpdate:modelValue":v[2]||(v[2]=p=>n.type=p),options:i.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),S(Q,{message:d.type?d.type[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),S(De,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:n.thumbnail_url,"onUpdate:modelValue":v[3]||(v[3]=p=>n.thumbnail_url=p)},null,8,["modelValue"]),S(Q,{message:d.thumbnail_url?d.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(J,{for:"description",value:"Description (Optional)",class:"mb-1"}),de(c("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":v[4]||(v[4]=p=>n.description=p),rows:"3"},null,512),[[Pe,n.description]]),S(Q,{message:d.description?d.description[0]:"",class:"mt-2"},null,8,["message"])]),c("div",null,[S(co,{modelValue:n.tags,"onUpdate:modelValue":v[5]||(v[5]=p=>n.tags=p),label:"Associated Tags",placeholder:"Search or add tags",error:d.tags?d.tags[0]:""},null,8,["modelValue","error"])]),c("div",Mu,[S(Ro,{id:"visible_to_client",checked:n.visible_to_client,"onUpdate:checked":v[6]||(v[6]=p=>n.visible_to_client=p)},null,8,["checked"]),S(J,{for:"visible_to_client",value:"Visible to Client",class:"ml-2"}),S(Q,{message:d.visible_to_client?d.visible_to_client[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},Pu=Et($u,[["__scopeId","data-v-3e3a6a9f"]]),Du={key:0,class:"sidebar-wrapper"},Ru={class:"fixed inset-0 z-[100] flex pointer-events-none"},Lu={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},Vu={class:"text-xl font-semibold text-gray-900"},Bu={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},ju={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},Uu={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(e,{emit:t}){const s=e,a=t,n=D(s.initialWidth),i=D(!1),o=d=>{i.value=!0,document.addEventListener("pointermove",l),document.addEventListener("pointerup",r)},l=d=>{if(!i.value)return;const p=window.innerWidth,k=(p-d.clientX)/p*100,m=Math.max(s.minWidth,Math.min(s.maxWidth,k));n.value=m},r=()=>{i.value=!1,document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",r)};me(()=>s.show,d=>{d?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const u=()=>{a("update:show",!1),a("close")},v=W(()=>window.innerWidth<768);return me(v,d=>{d&&s.show?n.value=100:!d&&s.show&&(n.value=s.initialWidth)},{immediate:!0}),me(()=>s.show,d=>{d&&(v.value?n.value=100:n.value=s.initialWidth)}),(d,p)=>(f(),B(na,{to:"body"},[S(ra,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:A(()=>[e.show?(f(),g("div",Du,[c("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity z-[99]",onClick:u}),c("div",Ru,[c("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl pointer-events-auto",style:Mo({width:v.value?"100%":`${n.value}vw`})},[v.value?x("",!0):(f(),g("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:o,title:"Drag to resize"},null,32)),c("div",Lu,[c("h3",Vu,R(e.title),1),c("button",{onClick:u,class:"text-gray-400 hover:text-gray-600 transition-colors"},p[0]||(p[0]=[c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",Bu,[Re(d.$slots,"content",{},void 0,!0)]),d.$slots.footer?(f(),g("div",ju,[Re(d.$slots,"footer",{},void 0,!0)])):x("",!0)],4)])])):x("",!0)]),_:3})]))}},fo=Et(Uu,[["__scopeId","data-v-2d864577"]]),Fu={class:"flex border-b border-gray-200"},Xu={key:0,class:"ml-2 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full"},Hu={class:"p-4 space-y-2 overflow-y-auto"},qu={key:0,class:"p-6 text-center text-gray-500"},zu={key:0},Wu={key:1},Gu=["onClick"],Ju={class:"flex-1 min-w-0"},Ku={class:"flex items-start justify-between gap-2 mb-1"},Yu={class:"flex-1 min-w-0"},Qu={key:0,class:"text-base font-semibold text-gray-900 truncate"},Zu={key:1,class:"text-xs text-gray-500"},ec={key:0,class:"text-sm text-gray-600 mt-1 mb-2"},tc={class:"flex items-center text-xs text-gray-500 font-medium"},sc={key:0},nc={key:1,class:"mx-2"},ac={key:2},oc={__name:"NotificationsSidebar",setup(e){const t=W(()=>Ot.value.notifications),s=D("New"),a=W(()=>s.value==="New"?t.value.filter(l=>!l.isRead):t.value),n=async l=>{await ta(l.view_id);const r=l.task_id||i(l.url),u=l.project_id||o(l.url);r&&u?(sa(r,u),Nn()):(console.warn("Could not open task sidebar. Falling back to opening URL in new tab."),l.url&&window.open(l.url,"_blank"))},i=l=>{const r=l.match(/\/task\/(\d+)/);return r?parseInt(r[1]):null},o=l=>{const r=l.match(/\/project\/(\d+)\//);return r?parseInt(r[1]):null};return(l,r)=>(f(),B(fo,{show:V(Ot).show,"onUpdate:show":V(Nn),title:"Notifications","initial-width":35,class:"z-[100]"},{content:A(()=>[c("div",Fu,[c("button",{onClick:r[0]||(r[0]=u=>s.value="New"),class:H([{"border-blue-600 text-blue-600 font-semibold":s.value==="New","border-transparent text-gray-500 hover:text-gray-700":s.value!=="New"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])},[r[2]||(r[2]=P(" New ",-1)),t.value.filter(u=>!u.isRead).length>0?(f(),g("span",Xu,R(t.value.filter(u=>!u.isRead).length),1)):x("",!0)],2),c("button",{onClick:r[1]||(r[1]=u=>s.value="All"),class:H([{"border-blue-600 text-blue-600 font-semibold":s.value==="All","border-transparent text-gray-500 hover:text-gray-700":s.value!=="All"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])}," All ",2)]),c("div",Hu,[a.value.length===0?(f(),g("div",qu,[s.value==="New"?(f(),g("span",zu,"You have no new notifications.")):(f(),g("span",Wu,"You have no notifications."))])):x("",!0),(f(!0),g(oe,null,re(a.value,u=>(f(),g("div",{key:u.id,class:H(["bg-white rounded-xl shadow-sm p-4 flex items-start space-x-4 border border-gray-200 transition-all duration-200 hover:shadow-md cursor-pointer",{"bg-gray-50":u.isRead}]),onClick:v=>n(u)},[c("div",Ju,[c("div",Ku,[c("div",Yu,[u.title?(f(),g("h3",Qu,R(u.title),1)):x("",!0),u.project_name?(f(),g("p",Zu,R(u.project_name),1)):x("",!0)])]),u.message?(f(),g("p",ec,R(u.message),1)):x("",!0),c("div",tc,[u.due_date?(f(),g("span",sc,"Due: "+R(V(ea)(u.due_date)),1)):x("",!0),u.due_date&&u.priority?(f(),g("span",nc,"")):x("",!0),u.priority?(f(),g("span",ac,"Priority: "+R(u.priority),1)):x("",!0)])])],10,Gu))),128))])]),_:1},8,["show","onUpdate:show"]))}},ic={class:"flex items-center p-4 h-16 border-b border-gray-700"},rc={key:0,class:"text-xl font-semibold flex-1 truncate"},lc=["title"],uc={key:0,class:"p-4 border-b border-gray-700"},cc={class:"relative"},dc={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},fc={key:0,class:"mb-4"},pc={class:"ml-2 mt-2 space-y-1"},mc=["onClick"],hc={class:"text-sm font-medium text-gray-300 truncate"},vc={class:"ml-4 mt-1 space-y-1"},gc={class:"truncate"},yc={key:1,class:"mb-4"},_c={class:"ml-2 mt-2 space-y-1"},bc=["onClick"],kc={class:"text-sm font-medium text-gray-300 truncate"},Ec={class:"ml-4 mt-1 space-y-1"},Sc={class:"truncate"},Tc={key:2,class:"mb-4"},wc={class:"ml-2 mt-2 space-y-1"},xc={class:"truncate"},Cc={key:3,class:"mb-4"},Nc={class:"ml-2 mt-2 space-y-1"},Ic={class:"truncate"},Ac={key:4,class:"text-gray-400 text-sm text-center py-4"},Oc={key:5,class:"text-gray-400 text-sm text-center py-4"},Mc={key:2,class:"flex flex-col items-center pt-4 space-y-4"},$c={key:0,class:"text-gray-400 text-xs text-center px-2"},Pc={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(e,{emit:t}){const s=e,a=t,n=D(localStorage.getItem("leftSidebarCollapsed")!=="false"),i=D(""),o=D({}),l=W(()=>{const E=new Set;return s.allProjects.forEach(w=>{w.project_type&&E.add(w.project_type)}),Array.from(E).sort()}),r=W(()=>{const E=new Set;return s.allProjects.forEach(w=>{Array.isArray(w.tags)&&w.tags.forEach($=>E.add($))}),Array.from(E).sort()}),u=W(()=>{if(!i.value)return s.allProjects;const E=i.value.toLowerCase();return s.allProjects.filter(w=>{var $,L,X;return w.name.toLowerCase().includes(E)||(($=w.description)==null?void 0:$.toLowerCase().includes(E))||((L=w.project_type)==null?void 0:L.toLowerCase().includes(E))||Array.isArray(w.tags)&&w.tags.some(j=>j.toLowerCase().includes(E))||((X=w.status)==null?void 0:X.toLowerCase().includes(E))})}),v=W(()=>{const E={};u.value.forEach(w=>{w.project_type&&w.status==="active"&&(E[w.project_type]||(E[w.project_type]=[]),E[w.project_type].push(w))});for(const w in E)E[w].sort(($,L)=>$.name.localeCompare(L.name));return E}),d=W(()=>{const E={};u.value.forEach(w=>{Array.isArray(w.tags)&&w.tags.length>0&&w.tags.forEach($=>{E[$]||(E[$]=[]),E[$].push(w)})});for(const w in E)E[w]=[...new Set(E[w])].sort(($,L)=>$.name.localeCompare(L.name));return E}),p=W(()=>u.value.filter(E=>E.status!=="active").sort((E,w)=>E.name.localeCompare(w.name))),h=W(()=>u.value.filter(E=>!E.project_type&&(!Array.isArray(E.tags)||E.tags.length===0)).sort((E,w)=>E.name.localeCompare(w.name)));me(()=>s.allProjects,()=>{l.value.forEach(E=>{const w=`type-${E}`;o.value[w]===void 0&&(o.value[w]=!0)}),r.value.forEach(E=>{const w=`tag-${E}`;o.value[w]===void 0&&(o.value[w]=!0)}),o.value["main-types"]===void 0&&(o.value["main-types"]=!1),o.value["main-tags"]===void 0&&(o.value["main-tags"]=!1),o.value["inactive-projects"]===void 0&&(o.value["inactive-projects"]=!1),o.value.uncategorized===void 0&&(o.value.uncategorized=!1)},{immediate:!0}),me(n,E=>{localStorage.setItem("leftSidebarCollapsed",E)});const k=()=>{n.value=!n.value},m=E=>{o.value[E]=!o.value[E]},C=E=>{a("project-selected",E)},T=()=>{i.value=""};return(E,w)=>(f(),g("div",{class:H({"w-64":!n.value,"w-16":n.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[c("div",ic,[n.value?x("",!0):(f(),g("h2",rc,"Projects")),c("button",{onClick:k,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:n.value?"Expand Sidebar":"Collapse Sidebar"},[(f(),g("svg",{class:H(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":n.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},w[5]||(w[5]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,lc)]),n.value?x("",!0):(f(),g("div",uc,[c("div",cc,[de(c("input",{type:"text","onUpdate:modelValue":w[0]||(w[0]=$=>i.value=$),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[Pe,i.value]]),i.value?(f(),g("button",{key:0,onClick:T,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},w[6]||(w[6]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):x("",!0)])])),n.value?(f(),g("div",Mc,[(f(!0),g(oe,null,re(s.allProjects,$=>(f(),B(V(Ue),{key:$.id,href:E.route("projects.show",$.id),onClick:L=>C($.id),class:H({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":$.id===e.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":$.id!==e.activeProjectId}),title:$.name},{default:A(()=>[P(R($.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),e.allProjects.length===0?(f(),g("div",$c," No Projects ")):x("",!0)])):(f(),g("div",dc,[Object.keys(v.value).length>0?(f(),g("div",fc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[1]||(w[1]=$=>m("main-types"))},[w[8]||(w[8]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(f(),g("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!o.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[7]||(w[7]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),de(c("div",pc,[(f(!0),g(oe,null,re(v.value,($,L)=>(f(),g("div",{key:L},[c("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:X=>m(`type-${L}`)},[c("h4",hc,R(L),1),(f(),g("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!o.value[`type-${L}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[9]||(w[9]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,mc),de(c("ul",vc,[(f(!0),g(oe,null,re($,X=>(f(),g("li",{key:X.id},[S(V(Ue),{href:E.route("projects.show",X.id),onClick:j=>C(X.id),class:H({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":X.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":X.id!==e.activeProjectId,"font-bold":X.id===e.activeProjectId})},{default:A(()=>[c("span",gc,R(X.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ge,!o.value[`type-${L}`]]])]))),128))],512),[[Ge,!o.value["main-types"]]])])):x("",!0),Object.keys(d.value).length>0?(f(),g("div",yc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[2]||(w[2]=$=>m("main-tags"))},[w[11]||(w[11]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(f(),g("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!o.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[10]||(w[10]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),de(c("div",_c,[(f(!0),g(oe,null,re(d.value,($,L)=>(f(),g("div",{key:L},[c("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:X=>m(`tag-${L}`)},[c("h4",kc,R(L),1),(f(),g("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!o.value[`tag-${L}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[12]||(w[12]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,bc),de(c("ul",Ec,[(f(!0),g(oe,null,re($,X=>(f(),g("li",{key:X.id},[S(V(Ue),{href:E.route("projects.show",X.id),onClick:j=>C(X.id),class:H({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":X.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":X.id!==e.activeProjectId,"font-bold":X.id===e.activeProjectId})},{default:A(()=>[c("span",Sc,R(X.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ge,!o.value[`tag-${L}`]]])]))),128))],512),[[Ge,!o.value["main-tags"]]])])):x("",!0),p.value.length>0?(f(),g("div",Tc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[3]||(w[3]=$=>m("inactive-projects"))},[w[14]||(w[14]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(f(),g("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!o.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[13]||(w[13]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),de(c("ul",wc,[(f(!0),g(oe,null,re(p.value,$=>(f(),g("li",{key:$.id},[S(V(Ue),{href:E.route("projects.show",$.id),onClick:L=>C($.id),class:H({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":$.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":$.id!==e.activeProjectId,"font-bold":$.id===e.activeProjectId})},{default:A(()=>[c("span",xc,R($.name)+" ("+R($.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ge,!o.value["inactive-projects"]]])])):x("",!0),h.value.length>0?(f(),g("div",Cc,[c("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:w[4]||(w[4]=$=>m("uncategorized"))},[w[16]||(w[16]=c("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(f(),g("svg",{class:H(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!o.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},w[15]||(w[15]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),de(c("ul",Nc,[(f(!0),g(oe,null,re(h.value,$=>(f(),g("li",{key:$.id},[S(V(Ue),{href:E.route("projects.show",$.id),onClick:L=>C($.id),class:H({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":$.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":$.id!==e.activeProjectId,"font-bold":$.id===e.activeProjectId})},{default:A(()=>[c("span",Ic,R($.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[Ge,!o.value.uncategorized]])])):x("",!0),u.value.length===0?(f(),g("div",Ac," No projects found matching your search. ")):e.allProjects.length===0&&!i.value?(f(),g("div",Oc," No projects available. ")):x("",!0)]))],2))}},Dc=Et(Pc,[["__scopeId","data-v-417d431f"]]),Rc={class:"relative"},po={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(e){const t=e,s=o=>{i.value&&o.key==="Escape"&&(i.value=!1)};ft(()=>document.addEventListener("keydown",s)),Bt(()=>document.removeEventListener("keydown",s));const a=W(()=>({48:"w-48"})[t.width.toString()]),n=W(()=>t.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":t.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),i=D(!1);return(o,l)=>(f(),g("div",Rc,[c("div",{onClick:l[0]||(l[0]=r=>i.value=!i.value)},[Re(o.$slots,"trigger")]),de(c("div",{class:"fixed inset-0 z-40",onClick:l[1]||(l[1]=r=>i.value=!1)},null,512),[[Ge,i.value]]),S(ra,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:A(()=>[de(c("div",{class:H(["absolute z-50 mt-2 rounded-md shadow-lg",[a.value,n.value]]),style:{display:"none"},onClick:l[2]||(l[2]=r=>i.value=!1)},[c("div",{class:H(["rounded-md ring-1 ring-black ring-opacity-5",e.contentClasses])},[Re(o.$slots,"content")],2)],2),[[Ge,i.value]])]),_:3})]))}},ye={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){return(t,s)=>(f(),B(V(Ue),la({href:e.href,method:e.method,as:e.as},t.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:A(()=>[Re(t.$slots,"default")]),_:3},16,["href","method","as"]))}},Kn={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(e){const t=e,s=W(()=>t.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(a,n)=>(f(),B(V(Ue),{href:e.href,class:H(s.value)},{default:A(()=>[Re(a.$slots,"default")]),_:3},8,["href","class"]))}};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lc=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),Vc=e=>{const t=Lc(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bc=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),Qn=e=>e==="";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var It={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=({name:e,iconNode:t,absoluteStrokeWidth:s,"absolute-stroke-width":a,strokeWidth:n,"stroke-width":i,size:o=It.width,color:l=It.stroke,...r},{slots:u})=>Ls("svg",{...It,...r,width:o,height:o,stroke:l,"stroke-width":Qn(s)||Qn(a)||s===!0||a===!0?Number(n||i||It["stroke-width"])*24/Number(o):n||i||It["stroke-width"],class:Bc("lucide",r.class,...e?[`lucide-${Yn(Vc(e))}-icon`,`lucide-${Yn(e)}`]:["lucide-icon"])},[...t.map(v=>Ls(...v)),...u.default?[u.default()]:[]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=(e,t)=>(s,{slots:a,attrs:n})=>Ls(jc,{...n,...s,iconNode:t,name:e},a);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=mo("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=mo("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Xc={class:"hidden sm:flex sm:items-center"},Hc={__name:"AdminDropdown",setup(e){const{canDo:t}=Ws(),s=t("manage_projects"),a=t("compose_emails"),n=t("approve_emails"),i=t("create_users");t("manage_roles");const o=t("manage_task_types"),l=t("create_clients");return(r,u)=>(f(),g("div",Xc,[S(po,{align:"right",width:"48"},{trigger:A(()=>u[0]||(u[0]=[c("span",{class:"inline-flex rounded-md"},[c("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},[P(" Admin "),c("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:A(()=>[V(s)?(f(),B(ye,{key:0,href:r.route("projects.index"),active:r.route().current("projects.index")},{default:A(()=>u[1]||(u[1]=[P(" Projects ",-1)])),_:1,__:[1]},8,["href","active"])):x("",!0),V(n)?(f(),B(ye,{key:1,href:r.route("emails.pending"),active:r.route().current("emails.pending")},{default:A(()=>u[2]||(u[2]=[P(" Approve Emails ",-1)])),_:1,__:[2]},8,["href","active"])):x("",!0),V(a)?(f(),B(ye,{key:2,href:r.route("emails.rejected"),active:r.route().current("emails.rejected")},{default:A(()=>u[3]||(u[3]=[P(" Rejected Emails ",-1)])),_:1,__:[3]},8,["href","active"])):x("",!0),V(i)?(f(),B(ye,{key:3,href:r.route("availability.index"),active:r.route().current("availability.index")},{default:A(()=>u[4]||(u[4]=[P(" Weekly Availability ",-1)])),_:1,__:[4]},8,["href","active"])):x("",!0),V(l)?(f(),B(ye,{key:4,href:r.route("clients.index"),active:r.route().current("clients.index")},{default:A(()=>u[5]||(u[5]=[P(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):x("",!0),V(i)?(f(),B(ye,{key:5,href:r.route("users.index"),active:r.route().current("users.index")},{default:A(()=>u[6]||(u[6]=[P(" Users ",-1)])),_:1,__:[6]},8,["href","active"])):x("",!0),V(o)?(f(),B(ye,{key:6,href:r.route("task-types.index"),active:r.route().current("task-types.index")},{default:A(()=>u[7]||(u[7]=[P(" Task Types ",-1)])),_:1,__:[7]},8,["href","active"])):x("",!0),V(t)("view_shareable_resources")?(f(),B(ye,{key:7,href:r.route("shareable-resources.index"),active:r.route().current("shareable-resources.index")},{default:A(()=>u[8]||(u[8]=[P(" Shareable Resources ",-1)])),_:1,__:[8]},8,["href","active"])):x("",!0),V(t)("manage_bonus_configuration")?(f(),B(ye,{key:8,href:r.route("bonus-configuration.index"),active:r.route().current("bonus-configuration.index")},{default:A(()=>u[9]||(u[9]=[P(" Bonus Configuration ",-1)])),_:1,__:[9]},8,["href","active"])):x("",!0),V(t)("manage_email_templates")?(f(),B(ye,{key:9,href:r.route("email-templates.index"),active:r.route().current("email-templates.index")},{default:A(()=>u[10]||(u[10]=[P(" Email Templates ",-1)])),_:1,__:[10]},8,["href","active"])):x("",!0),V(t)("manage_placeholder_definitions")?(f(),B(ye,{key:10,href:r.route("placeholder-definitions.index"),active:r.route().current("placeholder-definitions.index")},{default:A(()=>u[11]||(u[11]=[P(" Placeholder Definitions ",-1)])),_:1,__:[11]},8,["href","active"])):x("",!0),V(t)("manage_roles")?(f(),B(ye,{key:11,href:r.route("admin.roles.index")},{default:A(()=>u[12]||(u[12]=[P(" Manage Roles ",-1)])),_:1,__:[12]},8,["href"])):x("",!0),V(t)("manage_permissions")?(f(),B(ye,{key:12,href:r.route("admin.permissions.index")},{default:A(()=>u[13]||(u[13]=[P(" Manage Permissions ",-1)])),_:1,__:[13]},8,["href"])):x("",!0)]),_:1})]))}},qc={class:"relative ms-3"},zc={class:"inline-flex rounded-md"},Wc={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},Gc={__name:"UserDropdown",emits:["logoutSuccess","logoutError"],setup(e,{emit:t}){const s=W(()=>jt().props.auth.user),a=t,n=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,a("logoutSuccess")},i=o=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",a("logoutError",o)};return(o,l)=>(f(),g("div",qc,[S(po,{align:"right",width:"48"},{trigger:A(()=>{var r;return[c("span",zc,[c("button",Wc,[P(R(s.value.name)+" ("+R((r=s.value.role_data)==null?void 0:r.name)+") ",1),l[0]||(l[0]=c("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[c("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:A(()=>[S(ye,{href:o.route("profile.edit")},{default:A(()=>l[1]||(l[1]=[P(" Profile ",-1)])),_:1,__:[1]},8,["href"]),S(ye,{href:o.route("logout"),method:"post",as:"button",onSuccess:n,onError:i},{default:A(()=>l[2]||(l[2]=[P(" Log Out ",-1)])),_:1,__:[2]},8,["href"])]),_:1})]))}},Jc={class:"border-b border-gray-100 bg-white z-10 relative"},Kc={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Yc={class:"flex h-16 justify-between"},Qc={class:"flex"},Zc={class:"flex shrink-0 items-center"},ed={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},td={class:"hidden sm:ms-6 sm:flex sm:items-center"},sd={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},nd={class:"-me-2 flex items-center sm:hidden"},ad={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},od={__name:"TopNavigation",props:{unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar"],setup(e,{emit:t}){const s=t,a=D(!1);W(()=>jt().props.auth.user);const{canDo:n}=Ws(),i=n("manage_roles");return(o,l)=>(f(),g("nav",Jc,[c("div",Kc,[c("div",Yc,[c("div",Qc,[c("div",Zc,[S(V(Ue),{href:o.route("dashboard")},{default:A(()=>[S(Lo,{class:"block h-16 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),c("div",ed,[S(Kn,{href:o.route("dashboard"),active:o.route().current("dashboard")},{default:A(()=>l[4]||(l[4]=[P(" Dashboard ",-1)])),_:1,__:[4]},8,["href","active"]),V(n)("view_emails")?(f(),B(Kn,{key:0,href:o.route("inbox"),active:o.route().current("inbox")},{default:A(()=>l[5]||(l[5]=[P(" Inbox ",-1)])),_:1,__:[5]},8,["href","active"])):x("",!0),V(i)?(f(),B(Hc,{key:1})):x("",!0)])]),c("div",td,[S(_e,{type:"button",onClick:l[0]||(l[0]=r=>s("openCreateTaskModal")),class:"mr-4 px-4 py-2 text-sm"},{default:A(()=>l[6]||(l[6]=[P(" Add Task ",-1)])),_:1,__:[6]}),S(_e,{type:"button",onClick:l[1]||(l[1]=r=>s("openAddResource")),class:"mr-4 px-4 py-2 text-sm"},{default:A(()=>l[7]||(l[7]=[P(" Add Resource ",-1)])),_:1,__:[7]}),c("button",{onClick:l[2]||(l[2]=r=>s("openNotificationsSidebar")),class:"relative flex-shrink-0 text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors duration-200 mr-4","aria-label":"View all notifications"},[S(V(Uc),{class:"h-6 w-6"}),e.unreadNotificationCount>0?(f(),g("span",sd,R(e.unreadNotificationCount),1)):x("",!0)]),S(Gc)]),c("div",nd,[c("button",{onClick:l[3]||(l[3]=r=>a.value=!a.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(f(),g("svg",ad,[c("path",{class:H({hidden:a.value,"inline-flex":!a.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),c("path",{class:H({hidden:!a.value,"inline-flex":a.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])])]))}},ne={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){const t=e,s=W(()=>t.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(a,n)=>(f(),B(V(Ue),la({href:e.href,method:e.method,as:e.as},a.$attrs,{class:s.value}),{default:A(()=>[Re(a.$slots,"default")]),_:3},16,["href","method","as","class"]))}},id={class:"space-y-1 pb-3 pt-2"},rd={key:0,class:"mt-3 space-y-1"},ld={class:"border-t border-gray-200 pb-1 pt-4"},ud={class:"px-4"},cd={class:"text-base font-medium text-gray-800"},dd={class:"text-sm font-medium text-gray-500"},fd={class:"text-sm font-medium text-gray-500 capitalize"},pd={class:"mt-3 space-y-1"},md={__name:"MobileNavigation",props:{showingNavigationDropdown:{type:Boolean,required:!0},unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","logoutSuccess","logoutError"],setup(e,{emit:t}){const s=t,a=W(()=>jt().props.auth.user),{canDo:n}=Ws(),i=n("manage_projects"),o=n("compose_emails"),l=n("approve_emails"),r=n("create_users"),u=n("manage_roles"),v=n("manage_task_types"),d=n("create_clients"),p=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,s("logoutSuccess")},h=k=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",s("logoutError",k)};return(k,m)=>{var C;return f(),g("div",{class:H([{block:e.showingNavigationDropdown,hidden:!e.showingNavigationDropdown},"sm:hidden"])},[c("div",id,[V(u)?(f(),g("div",rd,[m[19]||(m[19]=c("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),S(ne,{href:k.route("dashboard"),active:k.route().current("dashboard")},{default:A(()=>m[3]||(m[3]=[P(" Dashboard ",-1)])),_:1,__:[3]},8,["href","active"]),V(n)("view_emails")?(f(),B(ne,{key:0,href:k.route("inbox"),active:k.route().current("inbox")},{default:A(()=>m[4]||(m[4]=[P(" Inbox ",-1)])),_:1,__:[4]},8,["href","active"])):x("",!0),V(d)?(f(),B(ne,{key:1,href:k.route("clients.index"),active:k.route().current("clients.index")},{default:A(()=>m[5]||(m[5]=[P(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):x("",!0),V(i)?(f(),B(ne,{key:2,href:k.route("projects.index"),active:k.route().current("projects.index")},{default:A(()=>m[6]||(m[6]=[P(" Projects ",-1)])),_:1,__:[6]},8,["href","active"])):x("",!0),V(r)?(f(),B(ne,{key:3,href:k.route("users.index"),active:k.route().current("users.index")},{default:A(()=>m[7]||(m[7]=[P(" Users ",-1)])),_:1,__:[7]},8,["href","active"])):x("",!0),V(o)?(f(),B(ne,{key:4,href:k.route("emails.compose"),active:k.route().current("emails.compose")},{default:A(()=>m[8]||(m[8]=[P(" Compose Email ",-1)])),_:1,__:[8]},8,["href","active"])):x("",!0),V(l)?(f(),B(ne,{key:5,href:k.route("emails.pending"),active:k.route().current("emails.pending")},{default:A(()=>m[9]||(m[9]=[P(" Approve Emails ",-1)])),_:1,__:[9]},8,["href","active"])):x("",!0),V(o)?(f(),B(ne,{key:6,href:k.route("emails.rejected"),active:k.route().current("emails.rejected")},{default:A(()=>m[10]||(m[10]=[P(" Rejected Emails ",-1)])),_:1,__:[10]},8,["href","active"])):x("",!0),V(r)?(f(),B(ne,{key:7,href:k.route("availability.index"),active:k.route().current("availability.index")},{default:A(()=>m[11]||(m[11]=[P(" Weekly Availability ",-1)])),_:1,__:[11]},8,["href","active"])):x("",!0),V(n)("manage_roles")?(f(),B(ne,{key:8,href:k.route("admin.roles.index"),active:k.route().current("admin.roles.index")},{default:A(()=>m[12]||(m[12]=[P(" Manage Roles ",-1)])),_:1,__:[12]},8,["href","active"])):x("",!0),V(n)("manage_permissions")?(f(),B(ne,{key:9,href:k.route("admin.permissions.index"),active:k.route().current("admin.permissions.index")},{default:A(()=>m[13]||(m[13]=[P(" Manage Permissions ",-1)])),_:1,__:[13]},8,["href","active"])):x("",!0),V(n)("manage_bonus_configuration")?(f(),B(ne,{key:10,href:k.route("bonus-configuration.index"),active:k.route().current("bonus-configuration.index")},{default:A(()=>m[14]||(m[14]=[P(" Bonus Configuration ",-1)])),_:1,__:[14]},8,["href","active"])):x("",!0),V(v)?(f(),B(ne,{key:11,href:k.route("task-types.index"),active:k.route().current("task-types.index")},{default:A(()=>m[15]||(m[15]=[P(" Task Types ",-1)])),_:1,__:[15]},8,["href","active"])):x("",!0),V(n)("manage_email_templates")?(f(),B(ne,{key:12,href:k.route("email-templates.index"),active:k.route().current("email-templates.index")},{default:A(()=>m[16]||(m[16]=[P(" Email Templates ",-1)])),_:1,__:[16]},8,["href","active"])):x("",!0),V(n)("manage_placeholder_definitions")?(f(),B(ne,{key:13,href:k.route("placeholder-definitions.index"),active:k.route().current("placeholder-definitions.index")},{default:A(()=>m[17]||(m[17]=[P(" Placeholder Definitions ",-1)])),_:1,__:[17]},8,["href","active"])):x("",!0),V(n)("view_shareable_resources")?(f(),B(ne,{key:14,href:k.route("shareable-resources.index"),active:k.route().current("shareable-resources.index")},{default:A(()=>m[18]||(m[18]=[P(" Shareable Resources ",-1)])),_:1,__:[18]},8,["href","active"])):x("",!0)])):x("",!0)]),c("div",ld,[c("div",ud,[c("div",cd,R(a.value.name),1),c("div",dd,R(a.value.email),1),c("div",fd,R((C=a.value.role_data)==null?void 0:C.name),1)]),c("div",pd,[S(ne,{as:"button",onClick:m[0]||(m[0]=T=>s("openCreateTaskModal"))},{default:A(()=>m[20]||(m[20]=[P(" Add Task ",-1)])),_:1,__:[20]}),S(ne,{as:"button",onClick:m[1]||(m[1]=T=>s("openAddResource"))},{default:A(()=>m[21]||(m[21]=[P(" Add Resource ",-1)])),_:1,__:[21]}),S(ne,{as:"button",onClick:m[2]||(m[2]=T=>s("openNotificationsSidebar"))},{default:A(()=>[P(" Notifications ("+R(e.unreadNotificationCount)+") ",1)]),_:1}),S(ne,{href:k.route("profile.edit")},{default:A(()=>m[22]||(m[22]=[P(" Profile ",-1)])),_:1,__:[22]},8,["href"]),S(ne,{href:k.route("logout"),method:"post",as:"button",onSuccess:p,onError:h},{default:A(()=>m[23]||(m[23]=[P(" Log Out ",-1)])),_:1,__:[23]},8,["href"])])])],2)}}},hd={class:"space-y-4"},vd={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},gd={class:"text-sm font-medium text-gray-900"},yd={class:"text-xs text-gray-500 mt-1"},_d={class:"mb-4"},bd="post",kd="Add Note",Ed="Note added successfully!",Sd={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(e,{emit:t}){const s=e,a=t,n=ps({note:""}),i=W(()=>{var u;return`Add Note to Task: "${(u=s.taskForNote)==null?void 0:u.name}"`}),o=W(()=>{var u;return`/api/tasks/${(u=s.taskForNote)==null?void 0:u.id}/notes`});me(()=>s.show,u=>{u&&Object.assign(n,{note:""})},{immediate:!0});const l=u=>{a("note-added",u),a("close")},r=()=>{a("close")};return(u,v)=>(f(),B(Os,{show:e.show,title:i.value,"api-endpoint":o.value,"http-method":bd,"form-data":n,"submit-button-text":kd,"success-message":Ed,onClose:r,onSubmitted:l},{default:A(({errors:d})=>[c("div",hd,[e.taskForNote?(f(),g("div",vd,[c("p",gd,R(e.taskForNote.name),1),c("p",yd,"Status: "+R(e.taskForNote.status),1)])):x("",!0),c("div",_d,[S(J,{for:"task-note-content",value:"Note Content"}),de(c("textarea",{id:"task-note-content","onUpdate:modelValue":v[0]||(v[0]=p=>n.note=p),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[Pe,n.note]]),S(Q,{message:d.note?d.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},Td={class:"task-history-list"},wd={key:0,class:"text-center py-4"},xd={key:1,class:"text-gray-500 text-sm py-2"},Cd={key:2,class:"space-y-3"},Nd={class:"flex items-start"},Id={class:"text-xl mr-2"},Ad={class:"text-sm text-gray-700"},Od={class:"text-xs text-gray-500 mt-1"},Md={__name:"TaskHistoryList",props:{activities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(e){const t=a=>a?new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",s=a=>(console.log(a),a.includes("created")?"":a.includes("started")?"":a.includes("paused")?"":a.includes("resumed")?"":a.includes("unblocked")?"":a.includes("blocked")?"":a.includes("completed")?"":a.includes("revised")?"":a.includes("deleted")?"":a.includes("assigned")?"":a.includes("updated")?"":a.includes("added note")?"":a.includes("commented")?"":"");return(a,n)=>(f(),g("div",Td,[e.loading?(f(),g("div",wd,n[0]||(n[0]=[c("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"},null,-1),c("p",{class:"mt-2 text-gray-500"},"Loading activity history...",-1)]))):e.activities.length===0?(f(),g("div",xd," No activity history available for this task. ")):(f(),g("div",Cd,[(f(!0),g(oe,null,re(e.activities,i=>{var o;return f(),g("div",{key:i.id,class:"p-3 bg-gray-50 rounded-md"},[c("div",Nd,[c("span",Id,R(s(i.description)),1),c("div",null,[c("p",Ad,R(i.description),1),c("p",Od," By "+R(((o=i.causer)==null?void 0:o.name)||"System")+" on "+R(t(i.created_at)),1)])])])}),128))]))]))}},$d=Et(Md,[["__scopeId","data-v-423d54af"]]),mp=async()=>{try{return(await ie.get("/api/assigned-tasks")).data}catch(e){throw console.error("Error fetching assigned tasks:",e),pe("Failed to load assigned tasks"),e}},hp=async e=>{try{return(await ie.get(`/api/projects/${e}/tasks`)).data}catch(t){throw console.error("Error fetching project tasks:",t),pe("Failed to load project tasks"),t}},vp=async e=>{try{return(await ie.get(`/api/projects/${e}/due-and-overdue-tasks`)).data}catch(t){throw console.error("Error fetching due and overdue tasks:",t),pe("Failed to load due and overdue tasks"),t}},Pd=async e=>{if(!e||e.status==="In Progress")return e;try{et("Starting task...");const t=await ie.post(`/api/tasks/${e.id}/start`);return Ne("Task started successfully"),t.data}catch(t){throw console.error("Error starting task:",t),pe("Failed to start task. Please try again."),t}},Dd=async e=>{if(!e||e.status!=="In Progress")return Te('Task can only be paused from "In Progress" status.'),e;try{et("Pausing task...");const t=await ie.post(`/api/tasks/${e.id}/pause`);return Ne("Task paused successfully"),t.data}catch(t){throw console.error("Error pausing task:",t),pe("Failed to pause task. Please try again."),t}},Rd=async e=>{if(!e||e.status!=="Paused")return Te('Task can only be resumed from "Paused" status.'),e;try{et("Resuming task...");const t=await ie.post(`/api/tasks/${e.id}/resume`);return Ne("Task resumed successfully"),t.data}catch(t){throw console.error("Error resuming task:",t),pe("Failed to resume task. Please try again."),t}},Ld=async e=>{if(!e||e.status==="Done")return e;if(e.status!=="In Progress")throw Te("Task must be started before it can be completed"),new Error("Task must be started before it can be completed");try{et("Completing task...");const t=await ie.patch(`/api/tasks/${e.id}/complete`);return Ne("Task completed successfully"),t.data}catch(t){throw console.error("Error completing task:",t),t.response&&t.response.status===422?Te(t.response.data.message||"Task must be started before it can be completed"):pe("Failed to complete task. Please try again."),t}},Vd=async(e,t)=>{if(!e||e.status==="Blocked")return Te("Task is already blocked."),e;if(e.status==="Done")return Te("Completed tasks cannot be blocked."),e;if(!t)throw Te("Please provide a reason for blocking the task"),new Error("Blocking reason is required");try{et("Blocking task...");const s=await ie.post(`/api/tasks/${e.id}/block`,{reason:t});return Ne("Task blocked successfully"),s.data}catch(s){throw console.error("Error blocking task:",s),pe("Failed to block task. Please try again."),s}},Bd=async e=>{if(!e||e.status!=="Blocked")return Te("Task is not in a blocked state."),e;try{et("Unblocking task...");const t=await ie.post(`/api/tasks/${e.id}/unblock`);return Ne("Task unblocked successfully"),t.data}catch(t){throw console.error("Error unblocking task:",t),pe("Failed to unblock task. Please try again."),t}},jd=async e=>{if(!e||e.status!=="Done")return Te("Only completed tasks can be revised."),e;try{et("Revising task...");const t=await ie.post(`/api/tasks/${e.id}/revise`);return Ne("Task revised successfully"),t.data}catch(t){throw console.error("Error revising task:",t),t.response&&t.response.status===422?Te(t.response.data.message||"Only completed tasks can be revised"):pe("Failed to revise task. Please try again."),t}},Ud=async e=>{if(!e)return!1;if(e.status!=="To Do")throw Te("Only tasks in To Do status can be deleted"),new Error("Only tasks in To Do status can be deleted");if(!confirm("Are you sure you want to delete this task? This action cannot be undone."))return!1;try{return et("Deleting task..."),await ie.delete(`/api/tasks/${e.id}`),Ne("Task deleted successfully"),!0}catch(t){throw console.error("Error deleting task:",t),pe("Failed to delete task. Please try again."),t}},Fd=e=>{switch(e){case"To Do":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Paused":return"bg-orange-100 text-orange-800";case"Blocked":return"bg-red-100 text-red-800";case"Done":return"bg-green-100 text-green-800";case"Archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},gp=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},yp=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Medium",Xd=["checked","onChange"],Hd={__name:"ChecklistComponent",props:{items:{type:Array,required:!0},apiEndpoint:{type:String,required:!0},title:{type:String,default:"Checklist"},containerClass:{type:String,default:"mt-4 p-3 bg-gray-100 rounded-lg text-sm text-gray-700 border border-gray-200"},titleClass:{type:String,default:"font-semibold text-gray-900 mb-2"},itemsContainerClass:{type:String,default:"space-y-1"},itemClass:{type:String,default:"flex items-center space-x-2"},checkboxClass:{type:String,default:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"},completedItemClass:{type:String,default:"line-through text-gray-500"},successMessage:{type:String,default:"Checklist item updated!"},errorMessage:{type:String,default:"Failed to update checklist item"},payloadTransformer:{type:Function,default:null},checkListStyle:{type:String,default:"checklist"}},emits:["update:items","item-toggled"],setup(e,{emit:t}){const s=e,a=t,n=D(JSON.parse(JSON.stringify(s.items)));me(()=>s.items,o=>{n.value=JSON.parse(JSON.stringify(o))},{deep:!0});async function i(o){const l=n.value[o],r=!l.completed;l.completed=r;try{let u;s.payloadTransformer?u=s.payloadTransformer(n.value,o):u={items:n.value},await ie.put(s.apiEndpoint,u),a("update:items",n.value),a("item-toggled",{index:o,item:l,completed:r}),Ne(s.successMessage)}catch(u){console.error("Error updating checklist item:",u),l.completed=!r,pe(s.errorMessage)}}return(o,l)=>n.value&&n.value.length>0?(f(),g("div",{key:0,class:H(e.containerClass)},[c("p",{class:H(e.titleClass)},R(e.title),3),c("ul",{class:H(e.itemsContainerClass)},[(f(!0),g(oe,null,re(n.value,(r,u)=>(f(),g("li",{key:u,class:H(e.itemClass)},[e.checkListStyle==="checklist"?(f(),g("input",{key:0,type:"checkbox",checked:r.completed,onChange:v=>i(u),class:H(e.checkboxClass)},null,42,Xd)):x("",!0),c("span",{class:H({[e.completedItemClass]:r.completed})},R(r.name),3)],2))),128))],2)],2)):x("",!0)}};function Zn(e,t){return f(),g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 0 0 6 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 1 0 .23 1.482l.149-.022.841 10.518A2.75 2.75 0 0 0 7.596 19h4.807a2.75 2.75 0 0 0 2.742-2.53l.841-10.52.149.023a.75.75 0 0 0 .23-1.482A41.03 41.03 0 0 0 14 4.193V3.75A2.75 2.75 0 0 0 11.25 1h-2.5ZM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4ZM8.58 7.72a.75.75 0 0 0-1.5.06l.3 7.5a.75.75 0 1 0 1.5-.06l-.3-7.5Zm4.34.06a.75.75 0 1 0-1.5-.06l-.3 7.5a.75.75 0 1 0 1.5.06l.3-7.5Z","clip-rule":"evenodd"})])}const qd={class:"mt-4"},zd={__name:"ChecklistCreator",props:{modelValue:{type:Array,required:!0},placeholder:{type:String,default:"e.g., Task 1, Task 2, Task 3"},label:{type:String,default:"Checklist Items"},density:{type:String,default:"spacious",validator:e=>["spacious","tight","notes"].includes(e)}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,a=t,n=D([]),i=D([]),o=D(!1);me(()=>s.modelValue,d=>{o.value=!0,n.value=JSON.parse(JSON.stringify(d)),(n.value.length===0||n.value[n.value.length-1].name.trim()!=="")&&n.value.push({name:"",completed:!1}),it(()=>{o.value=!1})},{immediate:!0,deep:!0}),me(()=>n.value,d=>{o.value||a("update:modelValue",d)},{deep:!0});function l(d){n.value.splice(d,1),n.value.length===0&&n.value.push({name:"",completed:!1})}function r(d){d===n.value.length-1&&n.value[d].name.trim()!==""&&n.value.push({name:"",completed:!1})}function u(d){d<n.value.length-1&&it(()=>{var p;(p=i.value[d+1])==null||p.focus()})}const v=W(()=>s.density==="tight"?{listClass:"space-y-1",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-1 text-sm"}:s.density==="notes"?{listClass:"space-y-0.5",itemClass:"flex items-center space-x-1",inputClass:"px-1 py-0.5 text-sm border-transparent focus:border-transparent focus:ring-0 bg-transparent"}:{listClass:"space-y-2",itemClass:"flex items-center space-x-2",inputClass:""});return(d,p)=>(f(),g("div",qd,[e.label?(f(),B(J,{key:0,value:e.label},null,8,["value"])):x("",!0),c("ul",{class:H(v.value.listClass)},[(f(!0),g(oe,null,re(n.value,(h,k)=>(f(),g("li",{key:k,class:H(v.value.itemClass)},[e.density==="notes"?(f(),B(V(Zn),{key:0,class:"h4 w-4",onClick:m=>l(k)},null,8,["onClick"])):x("",!0),S(De,{modelValue:h.name,"onUpdate:modelValue":m=>h.name=m,type:"text",class:H(["flex-1",v.value.inputClass]),placeholder:k===n.value.length-1?e.placeholder:"",onInput:m=>r(k),onKeyup:Yt(zs(m=>u(k),["prevent"]),["enter"]),ref_for:!0,ref:m=>{m&&(i.value[k]=m)}},null,8,["modelValue","onUpdate:modelValue","class","placeholder","onInput","onKeyup"]),n.value.length>1&&e.density!=="notes"?(f(),B(Js,{key:1,type:"button",onClick:m=>l(k)},{default:A(()=>[S(V(Zn),{class:"h-4 w-4"})]),_:2},1032,["onClick"])):x("",!0)],2))),128))],2)]))}},Wd={key:0,class:"text-center py-8 text-gray-500"},Gd={key:1,class:"text-center py-8 text-red-600"},Jd={key:2,class:"space-y-6"},Kd={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},Yd={class:"text-xl font-bold text-gray-900 mb-2"},Qd={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},Zd={key:0,class:"text-indigo-600 font-medium"},ef={key:1,class:"text-purple-600 font-medium"},tf={class:"text-gray-700 leading-relaxed"},sf={class:"mt-4 flex flex-wrap gap-2"},nf={key:0,class:"text-xs text-gray-500 mt-1"},af={key:0,class:"bg-yellow-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm"},of={class:"flex items-center"},rf={class:"ml-3"},lf={class:"mt-2 text-sm text-yellow-700"},uf={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm mb-4"},cf={class:"flex justify-between items-center border-b pb-2 mb-4"},df={key:0},ff={key:1},pf={key:0,class:"mb-4"},mf={class:"flex justify-end mt-4"},hf={key:2,class:"text-gray-500 text-sm py-2"},vf={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},gf={class:"flex items-center justify-between py-2 border-b border-gray-100"},yf={class:"flex-1 text-right"},_f={key:0,class:"text-xs text-gray-400 ml-1"},bf={key:1,class:"flex items-center space-x-2"},kf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Ef={class:"flex-1 text-right"},Sf={key:1,class:"flex items-center space-x-2"},Tf={class:"flex items-center justify-between py-2 border-b border-gray-100"},wf={class:"flex-1 text-right"},xf={key:0,class:"text-xs text-gray-400 ml-1"},Cf={key:1,class:"flex items-center space-x-2"},Nf={class:"flex items-center justify-between py-2 border-b border-gray-100"},If={class:"text-gray-700"},Af={class:"flex items-start py-2 border-b border-gray-100"},Of={class:"flex-1 flex flex-wrap gap-2"},Mf={key:0,class:"text-gray-500 text-sm"},$f={class:"bg-white p-4 rounded-lg shadow-sm"},Pf={class:"flex justify-between items-center mb-4 border-b pb-2"},Df={key:0,class:"space-y-3"},Rf={class:"text-sm text-gray-700"},Lf={class:"text-xs text-gray-500 mt-1"},Vf={key:1,class:"text-gray-500 text-sm py-2"},Bf={class:"bg-white p-4 rounded-lg shadow-sm"},jf={key:3,class:"text-center py-8 text-gray-500"},Uf={key:4,class:"mt-4 flex flex-col items-center"},Ff={key:0,class:"text-xs text-red-500 mt-1"},Xf={class:"p-6"},Hf={class:"mb-4"},qf={class:"flex justify-end space-x-3"},zf={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(e,{emit:t}){const s=e,a=t,n=D(null),i=D(!0),o=D(""),l=D(!1),r=D(!1),u=D(!1),v=D(null),d=D(null),p=D(null),h=D([]),k=D(!1),m=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],C=D(!1),T=D(!1),E=D([{name:"",completed:!1}]),w=D(!1),$=async()=>{i.value=!0,o.value="";try{const U=await window.axios.get(`/api/tasks/${s.taskId}`);n.value=U.data,v.value=n.value.assigned_to_id||null,d.value=n.value.due_date||null,p.value=n.value.priority||"medium",L()}catch(U){o.value="Failed to load task details.",console.error("Error fetching task details:",U)}finally{i.value=!1}},L=async()=>{k.value=!0;try{const U=await window.axios.get("/api/activities",{params:{subject_type:"App\\Models\\Task",subject_id:s.taskId}});h.value=U.data}catch(U){console.error("Error fetching task activities:",U)}finally{k.value=!1}};me(()=>s.taskId,U=>{U?$():n.value=null},{immediate:!0});const X=W(()=>s.projectUsers.map(U=>({value:U.id,label:U.name}))),j=async()=>{if(!n.value||v.value===n.value.assigned_to_id){l.value=!1;return}try{const U=await window.axios.patch(`/api/tasks/${n.value.id}`,{assigned_to_user_id:v.value});n.value=U.data,a("task-updated",n.value)}catch(U){console.error("Error updating assigned user:",U),v.value=n.value.assigned_to_id,pe("Failed to update assigned user. Please try again.")}finally{l.value=!1}},y=async()=>{if(!n.value||d.value===n.value.due_date){r.value=!1;return}try{const U=await window.axios.patch(`/api/tasks/${n.value.id}`,{due_date:d.value});n.value=U.data,a("task-updated",n.value)}catch(U){console.error("Error updating due date:",U),d.value=n.value.due_date,pe("Failed to update due date. Please try again.")}finally{r.value=!1}},_=async()=>{if(!n.value||p.value===n.value.priority){u.value=!1;return}try{const U=await window.axios.patch(`/api/tasks/${n.value.id}`,{priority:p.value});n.value=U.data,a("task-updated",n.value)}catch(U){console.error("Error updating priority:",U),p.value=n.value.priority,pe("Failed to update priority. Please try again.")}finally{u.value=!1}},b=()=>{C.value=!0},N=()=>{$(),C.value=!1},I=async()=>{try{await Ud(n.value),a("task-deleted",n.value.id),a("close")}catch(U){console.error("Error deleting task:",U)}},M=async()=>{try{n.value=await Pd(n.value),a("task-updated",n.value),L()}catch(U){console.error("Error starting task:",U)}},q=async()=>{try{n.value=await Dd(n.value),a("task-updated",n.value),L()}catch(U){console.error("Error pausing task:",U)}},K=async()=>{try{n.value=await Rd(n.value),a("task-updated",n.value),L()}catch(U){console.error("Error resuming task:",U)}},Oe=async()=>{try{n.value=await Ld(n.value),a("task-updated",n.value),L()}catch(U){console.error("Error completing task:",U)}},Le=async()=>{try{n.value=await jd(n.value),a("task-updated",n.value),L()}catch(U){console.error("Error revising task:",U)}},pt=()=>{var U;T.value=!T.value,T.value&&((U=n.value.details)!=null&&U.checklist&&n.value.details.checklist.length>0?(E.value=JSON.parse(JSON.stringify(n.value.details.checklist)),E.value[E.value.length-1].name!==""&&E.value.push({name:"",completed:!1})):E.value=[{name:"",completed:!1}])},zt=async()=>{if(!w.value){w.value=!0;try{const U=E.value.filter(st=>st.name.trim()!==""),O={details:{...n.value.details,checklist:U}},tt=await window.axios.patch(`/api/tasks/${n.value.id}`,O);n.value=tt.data,T.value=!1,Ne("Checklist saved successfully"),a("task-updated",n.value)}catch(U){console.error("Error saving checklist:",U),pe("Failed to save checklist")}finally{w.value=!1}}},Ie=D(!1),Me=D(""),ho=()=>{Me.value="",Ie.value=!0},vo=async()=>{if(!Me.value.trim()){Te("Please provide a reason for blocking the task");return}try{n.value=await Vd(n.value,Me.value),Ne("Task blocked successfully"),a("task-updated",n.value),L(),Ie.value=!1}catch(U){console.error("Error blocking task:",U)}},go=async()=>{try{n.value=await Bd(n.value),a("task-updated",n.value),L()}catch(U){console.error("Error unblocking task:",U)}},yo=W(()=>n.value?Fd(n.value.status):""),Ms=W(()=>{var O,tt,st,wt;if(!h.value||((O=n.value)==null?void 0:O.status)!=="Blocked")return null;const U=h.value.find(xt=>{var Ct,Nt;return xt.event==="updated"&&((Nt=(Ct=xt.properties)==null?void 0:Ct.attributes)==null?void 0:Nt.status)==="Blocked"});return U?(console.log(U.properties),{causer:((tt=U.causer)==null?void 0:tt.name)||"Unknown",reason:((wt=(st=U.properties)==null?void 0:st.attributes)==null?void 0:wt.block_reason)||"No reason provided."}):null});return(U,O)=>{var tt,st,wt,xt,Ct,Nt,xn;return f(),g("div",null,[i.value?(f(),g("div",Wd," Loading task details... ")):o.value?(f(),g("div",Gd,R(o.value),1)):n.value?(f(),g("div",Jd,[c("div",Kd,[c("h4",Yd,R(n.value.name),1),c("div",Qd,[c("span",{class:H(["px-2 py-1 rounded-full text-xs font-medium",yo.value])},R(n.value.status),3),n.value.task_type?(f(),g("span",Zd," | "+R((tt=n.value.task_type)==null?void 0:tt.name)+" | ",1)):x("",!0),O[14]||(O[14]=c("br",null,null,-1)),(st=n.value.milestone)!=null&&st.name?(f(),g("span",ef,R((wt=n.value.milestone)==null?void 0:wt.name),1)):x("",!0)]),c("p",tf,R(n.value.description||"No description provided."),1),c("div",sf,[n.value.status==="To Do"?(f(),B(_e,{key:0,onClick:M,class:"bg-blue-600 hover:bg-blue-700"},{default:A(()=>O[15]||(O[15]=[P(" Start Task ",-1)])),_:1,__:[15]})):n.value.status==="In Progress"?(f(),B(_e,{key:1,onClick:q,class:"bg-orange-600 hover:bg-orange-700"},{default:A(()=>O[16]||(O[16]=[P(" Pause Task ",-1)])),_:1,__:[16]})):n.value.status==="Paused"?(f(),B(_e,{key:2,onClick:K,class:"bg-blue-600 hover:bg-blue-700"},{default:A(()=>O[17]||(O[17]=[P(" Resume Task ",-1)])),_:1,__:[17]})):n.value.status==="Blocked"?(f(),B(_e,{key:3,onClick:go,class:"bg-green-600 hover:bg-green-700"},{default:A(()=>O[18]||(O[18]=[P(" Unblock Task ",-1)])),_:1,__:[18]})):x("",!0),n.value.status==="To Do"||n.value.status==="In Progress"||n.value.status==="Paused"?(f(),B(_e,{key:4,onClick:ho,class:"bg-red-600 hover:bg-red-700"},{default:A(()=>O[19]||(O[19]=[P(" Block Task ",-1)])),_:1,__:[19]})):x("",!0),n.value.status==="In Progress"?(f(),B(_e,{key:5,onClick:Oe,class:"bg-green-600 hover:bg-green-700"},{default:A(()=>O[20]||(O[20]=[P(" Complete Task ",-1)])),_:1,__:[20]})):x("",!0),n.value.status==="Done"?(f(),B(_e,{key:6,onClick:Le,class:"bg-yellow-600 hover:bg-yellow-700"},{default:A(()=>O[21]||(O[21]=[P(" Revise Task ",-1)])),_:1,__:[21]})):x("",!0)]),n.value.status==="Done"?(f(),g("div",nf,' Revising will change the task status back to "To Do" ')):x("",!0)]),n.value.status==="Blocked"&&Ms.value?(f(),g("div",af,[c("div",of,[O[23]||(O[23]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[c("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11.75 13a.75.75 0 01-1.5 0v-2.25a.75.75 0 011.5 0V13zm-1.5-7.5a.75.75 0 011.5 0v1.5a.75.75 0 01-1.5 0V5.5z","clip-rule":"evenodd"})])],-1)),c("div",rf,[O[22]||(O[22]=c("h3",{class:"text-sm font-medium text-yellow-800"},"Task Blocked",-1)),c("div",lf,[c("p",null,"This task was blocked by **"+R(Ms.value.causer)+"** with the following reason:",1),c("p",null,R(Ms.value.reason),1)])])])])):x("",!0),c("div",uf,[c("div",cf,[O[24]||(O[24]=c("h5",{class:"text-lg font-semibold text-gray-800"},"Task Checklist",-1)),c("button",{onClick:pt,class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center"},[T.value?(f(),g("span",ff,"Cancel")):(f(),g("span",df,R((xt=n.value.details)!=null&&xt.checklist&&n.value.details.checklist.length>0?"Edit Checklist":"Add Checklist"),1))])]),T.value?(f(),g("div",pf,[S(zd,{modelValue:E.value,"onUpdate:modelValue":O[0]||(O[0]=Y=>E.value=Y),placeholder:"e.g., Review design, Update documentation",label:"Checklist Items",density:"notes"},null,8,["modelValue"]),c("div",mf,[S(_e,{onClick:zt,disabled:w.value,class:"flex items-center space-x-1"},{default:A(()=>[S(V(Fc),{class:"h-4 w-4"}),O[25]||(O[25]=c("span",null,"Save Checklist",-1))]),_:1,__:[25]},8,["disabled"])])])):x("",!0),(Ct=n.value.details)!=null&&Ct.checklist&&n.value.details.checklist.length>0&&!T.value?(f(),B(Hd,{key:1,items:n.value.details.checklist,"api-endpoint":`/api/tasks/${n.value.id}`,title:"Items to complete:","payload-transformer":Y=>({details:{...n.value.details,checklist:Y}})},null,8,["items","api-endpoint","payload-transformer"])):x("",!0),(!((Nt=n.value.details)!=null&&Nt.checklist)||n.value.details.checklist.length===0)&&!T.value?(f(),g("div",hf,' No checklist items for this task yet. Click "Add Checklist" to create one. ')):x("",!0)]),c("div",vf,[O[32]||(O[32]=c("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),c("div",gf,[S(J,{class:"min-w-[100px] text-gray-600"},{default:A(()=>O[26]||(O[26]=[P("Assigned To:",-1)])),_:1,__:[26]}),c("div",yf,[l.value?(f(),g("div",bf,[S($e,{id:"edit-assigned-to",modelValue:v.value,"onUpdate:modelValue":O[2]||(O[2]=Y=>v.value=Y),options:X.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),c("button",{onClick:j,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:O[3]||(O[3]=Y=>l.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),g("div",{key:0,onClick:O[1]||(O[1]=Y=>n.value.status!=="Done"?l.value=!0:Te("Cannot change assignment for a completed task. Use the Revise button to change the task status first.")),class:H(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[P(R(((xn=n.value.assigned_to)==null?void 0:xn.name)||"Unassigned")+" ",1),n.value.status!=="Done"?(f(),g("span",_f,"(Click to edit)")):x("",!0)],2))])]),c("div",kf,[S(J,{class:"min-w-[100px] text-gray-600"},{default:A(()=>O[27]||(O[27]=[P("Due Date:",-1)])),_:1,__:[27]}),c("div",Ef,[r.value?(f(),g("div",Sf,[S(De,{id:"edit-due-date",modelValue:d.value,"onUpdate:modelValue":O[5]||(O[5]=Y=>d.value=Y),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),c("button",{onClick:y,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:O[6]||(O[6]=Y=>r.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),g("div",{key:0,onClick:O[4]||(O[4]=Y=>r.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[P(R(n.value.due_date?V(Vo)(n.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),O[28]||(O[28]=c("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),c("div",Tf,[S(J,{class:"min-w-[100px] text-gray-600"},{default:A(()=>O[29]||(O[29]=[P("Priority:",-1)])),_:1,__:[29]}),c("div",wf,[u.value?(f(),g("div",Cf,[S($e,{id:"edit-priority",modelValue:p.value,"onUpdate:modelValue":O[8]||(O[8]=Y=>p.value=Y),options:m,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1 flex-1"},null,8,["modelValue"]),c("button",{onClick:_,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),c("button",{onClick:O[9]||(O[9]=Y=>u.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(f(),g("div",{key:0,onClick:O[7]||(O[7]=Y=>n.value.status!=="Done"?u.value=!0:Te("Cannot change priority for a completed task. Use the Revise button to change the task status first.")),class:H(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":n.value.status!=="Done","text-gray-500":n.value.status==="Done"}])},[c("span",{class:H({"text-red-600 font-medium":n.value.priority==="high","text-yellow-600 font-medium":n.value.priority==="medium","text-green-600 font-medium":n.value.priority==="low"})},R(n.value.priority?n.value.priority.charAt(0).toUpperCase()+n.value.priority.slice(1):"Medium"),3),n.value.status!=="Done"?(f(),g("span",xf,"(Click to edit)")):x("",!0)],2))])]),c("div",Nf,[S(J,{class:"min-w-[100px] text-gray-600"},{default:A(()=>O[30]||(O[30]=[P("Created:",-1)])),_:1,__:[30]}),c("span",If,R(n.value.created_at?new Date(n.value.created_at).toLocaleDateString():"N/A"),1)]),c("div",Af,[S(J,{class:"min-w-[100px] text-gray-600 mt-1"},{default:A(()=>O[31]||(O[31]=[P("Tags:",-1)])),_:1,__:[31]}),c("div",Of,[(f(!0),g(oe,null,re(n.value.tags,Y=>(f(),g("span",{key:Y.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},R(Y.name),1))),128)),!n.value.tags||n.value.tags.length===0?(f(),g("span",Mf,"No tags")):x("",!0)])])]),c("div",$f,[c("div",Pf,[O[34]||(O[34]=c("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),S(_e,{onClick:b,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:A(()=>O[33]||(O[33]=[P(" Add Note ",-1)])),_:1,__:[33]})]),n.value.notes&&n.value.notes.length>0?(f(),g("div",Df,[(f(!0),g(oe,null,re(n.value.notes,Y=>(f(),g("div",{key:Y.id,class:"p-3 bg-gray-50 rounded-md"},[c("p",Rf,R(Y.content),1),c("p",Lf," By "+R(Y.creator_name||"Unknown")+" on "+R(new Date(Y.created_at).toLocaleDateString()),1)]))),128))])):(f(),g("div",Vf,"No notes for this task yet."))]),c("div",Bf,[O[35]||(O[35]=c("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"History",-1)),S($d,{activities:h.value,loading:k.value},null,8,["activities","loading"])])])):(f(),g("div",jf," Select a task to view details. ")),n.value&&n.value.status!=="Done"?(f(),g("div",Uf,[S(Js,{onClick:I,disabled:n.value.status!=="To Do"},{default:A(()=>O[36]||(O[36]=[P(" Delete Task ",-1)])),_:1,__:[36]},8,["disabled"]),n.value.status!=="To Do"?(f(),g("p",Ff,"Task can only be deleted in 'To Do' status.")):x("",!0)])):x("",!0),S(Sd,{show:C.value,"task-for-note":n.value,onClose:O[10]||(O[10]=Y=>C.value=!1),onNoteAdded:N},null,8,["show","task-for-note"]),S(Gs,{show:Ie.value,onClose:O[13]||(O[13]=Y=>Ie.value=!1)},{default:A(()=>[c("div",Xf,[O[40]||(O[40]=c("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Block Task ",-1)),c("div",Hf,[O[37]||(O[37]=c("p",{class:"text-sm text-gray-600 mb-2"}," Please provide a reason for blocking this task: ",-1)),de(c("textarea",{"onUpdate:modelValue":O[11]||(O[11]=Y=>Me.value=Y),class:"w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3",placeholder:"Enter reason for blocking..."},null,512),[[Pe,Me.value]])]),c("div",qf,[S(Mt,{onClick:O[12]||(O[12]=Y=>Ie.value=!1)},{default:A(()=>O[38]||(O[38]=[P(" Cancel ",-1)])),_:1,__:[38]}),S(_e,{onClick:vo,disabled:!Me.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:A(()=>O[39]||(O[39]=[P(" Block Task ",-1)])),_:1,__:[39]},8,["disabled"])])])]),_:1},8,["show"])])}}},Wf={key:1,class:"p-4 text-gray-500"},Gf={key:0,class:"flex justify-end space-x-3"},Jf={__name:"TaskSidebar",emits:["taskUpdated","taskDeleted"],setup(e){const t=D(null);return(s,a)=>(f(),B(fo,{show:V(ze).show,"onUpdate:show":V($s),title:V(ze).taskId?"Task Details":"Details",initialWidth:50},{content:A(()=>[V(ze).taskId?(f(),B(zf,{key:0,"task-id":V(ze).taskId,"project-id":V(ze).projectId,"project-users":V(ze).projectUsers,ref_key:"taskDetailSidebarRef",ref:t,onClose:V($s),onTaskUpdated:a[0]||(a[0]=n=>{s.$emit("taskUpdated",n)}),onTaskDeleted:a[1]||(a[1]=n=>{s.$emit("taskDeleted",n),V($s)()})},null,8,["task-id","project-id","project-users","onClose"])):V(ze).show?(f(),g("div",Wf," No task selected or task ID is missing. ")):x("",!0)]),footer:A(()=>[V(ze).taskId?(f(),g("div",Gf,[t.value&&t.value.task&&t.value.task.status!=="In Progress"&&t.value.task.status!=="Done"?(f(),B(Mt,{key:0,onClick:t.value.startTask,class:"bg-blue-50 text-blue-700 hover:bg-blue-100"},{default:A(()=>a[2]||(a[2]=[P(" Start Task ",-1)])),_:1,__:[2]},8,["onClick"])):x("",!0),t.value&&t.value.task&&t.value.task.status==="In Progress"?(f(),B(Mt,{key:1,onClick:t.value.completeTask,class:"bg-green-50 text-green-700 hover:bg-green-100"},{default:A(()=>a[3]||(a[3]=[P(" Complete Task ",-1)])),_:1,__:[3]},8,["onClick"])):x("",!0),t.value&&t.value.task?(f(),B(Js,{key:2,onClick:t.value.deleteTask,class:"bg-red-50 text-red-700 hover:bg-red-100"},{default:A(()=>a[4]||(a[4]=[P(" Delete Task ",-1)])),_:1,__:[4]},8,["onClick"])):x("",!0)])):x("",!0)]),_:1},8,["show","onUpdate:show","title"]))}},Kf={class:"flex h-screen overflow-hidden"},Yf={class:"flex-1 flex flex-col overflow-hidden"},Qf={key:0,class:"bg-white shadow"},Zf={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},ep={class:"flex-1 overflow-y-auto"},_p={__name:"AuthenticatedLayout",setup(e){const t=D(!1),s=D(!1),a=D(!1),n=D([]),i=D(!0),o=W(()=>jt().props.id||null),l=D(null),r=async()=>{const C=localStorage.getItem("authToken");if(C){window.axios.defaults.headers.common.Authorization=`Bearer ${C}`;try{await window.axios.get("/api/user")}catch(T){T.response&&T.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},u=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization},v=C=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},d=async()=>{i.value=!0;try{const C=await window.axios.get("/api/projects-simplified");n.value=C.data}catch(C){console.error("Error fetching all projects for sidebar:",C),n.value=[]}finally{i.value=!1}},p=C=>{Do.visit(route("projects.show",C))},h=W(()=>Ot.value.notifications.filter(C=>!C.isRead).length),k=C=>{console.log("Task updated globally.",C)},m=C=>{console.log("Task deleted globally.",C)};return ft(()=>{r(),l.value&&$o(l.value),d(),Po()}),(C,T)=>(f(),g("div",Kf,[S(pi,{ref_key:"standardNotificationContainerRef",ref:l},null,512),S(ei,{"sidebar-is-open":V(Ot).show},null,8,["sidebar-is-open"]),S(Wl),S(Dc,{"all-projects":n.value,"active-project-id":o.value,onProjectSelected:p},null,8,["all-projects","active-project-id"]),c("div",Yf,[S(od,{"unread-notification-count":h.value,onOpenCreateTaskModal:T[0]||(T[0]=E=>s.value=!0),onOpenAddResource:T[1]||(T[1]=E=>a.value=!0),onOpenNotificationsSidebar:V(In)},null,8,["unread-notification-count","onOpenNotificationsSidebar"]),S(md,{"showing-navigation-dropdown":t.value,"unread-notification-count":h.value,onOpenCreateTaskModal:T[2]||(T[2]=E=>s.value=!0),onOpenAddResource:T[3]||(T[3]=E=>a.value=!0),onOpenNotificationsSidebar:V(In),onLogoutSuccess:u,onLogoutError:v},null,8,["showing-navigation-dropdown","unread-notification-count","onOpenNotificationsSidebar"]),C.$slots.header?(f(),g("header",Qf,[c("div",Zf,[Re(C.$slots,"header")])])):x("",!0),c("main",ep,[Re(C.$slots,"default")]),S(Au,{show:s.value,onClose:T[4]||(T[4]=E=>s.value=!1),onSaved:T[5]||(T[5]=E=>s.value=!1)},null,8,["show"]),S(Pu,{"api-endpoint":"/api/shareable-resources",show:a.value,onClose:T[6]||(T[6]=E=>a.value=!1)},null,8,["show"])]),S(Jf,{onTaskUpdated:k,onTaskDeleted:m}),S(oc)]))}};export{Os as B,Pu as C,co as T,_p as _,Xl as a,yp as b,gp as c,Ld as d,Ud as e,mp as f,Fd as g,jd as h,Vd as i,Hd as j,zd as k,Zn as l,vu as m,Sd as n,hp as o,Dd as p,Au as q,Rd as r,Pd as s,vp as t,Bd as u};
