import{r as O,s as H,K as Mt,J as Pt,i as m,g as w,o as l,F as ue,j as ce,b as i,t as N,h as I,L as ra,M as dr,N as oa,O as na,p as F,B as mt,w as me,c as E,a as S,d as qt,f as ie,l as cr,m as $,e as v,k as Ye,x as ne,P as Nt,G as fr,I as ut,A as Oe,Q as Ne,R as he,S as je,D as ia,T as us,z as Zt,U as la,V as mr,W as qs,n as Le,X as ua,Y as vs,Z as xs,_ as Xe,$ as pe,a0 as Ze,a1 as ds,a2 as hr,a3 as vr,a4 as Zs,q as gr}from"./app-MrT8yjhE.js";import{P as ye}from"./PrimaryButton-C8y5q46Y.js";import{a as Tt,_ as Ss}from"./SecondaryButton-uqoPsgjF.js";import{_ as q}from"./InputLabel-DYl_itnJ.js";import{a as ae,_ as Fe}from"./InputError-BJw9IJhk.js";import{_ as at}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as yr}from"./Checkbox-ApphtEpu.js";import{A as pr}from"./ApplicationLogo-CtGT_kaQ.js";import{D as da}from"./DangerButton-BQMv6bdk.js";const _r={key:0,class:"fixed bottom-4 right-4 z-50 flex flex-col items-end space-y-2"},kr={key:0,class:"notification-list w-full max-w-xs space-y-2"},wr={class:"flex-1 min-w-0"},br={class:"flex items-start justify-between gap-2 mb-1"},xr={class:"flex-1 min-w-0"},Sr={key:0,class:"text-base font-semibold text-gray-800 truncate"},Dr={key:1,class:"text-xs text-gray-500"},Mr={key:0,class:"text-xs text-gray-600 mb-2"},Tr={class:"flex items-center justify-between mt-2"},$r={key:0,class:"text-xs text-gray-500 font-medium"},Cr=["onClick"],Yr={key:1,class:"flex justify-end w-full max-w-xs"},Or={key:0},Pr={key:1},Nr=3,Ir={__name:"PushNotificationContainer",props:{sidebarIsOpen:{type:Boolean,default:!1}},setup(e){const t=O(!1),s=O(null),a=O(0),r=O(null),o=H(()=>Mt.value.notifications.filter(y=>y.isNewPush).slice(0,Nr)),n=H(()=>{const y=Math.floor(a.value/60),C=a.value%60;return`${String(y).padStart(2,"0")}:${String(C).padStart(2,"0")}`}),u=y=>{if(!y)return null;const C=y.match(/\/task\/(\d+)/);return C?parseInt(C[1]):null},c=y=>{if(!y)return null;const C=y.match(/\/project\/(\d+)\//);return C?parseInt(C[1]):null},d=()=>{t.value=!t.value,clearTimeout(s.value),clearInterval(r.value),t.value&&(s.value=setTimeout(()=>{t.value=!1,clearInterval(r.value)},3e5),a.value=300,r.value=setInterval(()=>{a.value>0?a.value--:clearInterval(r.value)},1e3))},p=async y=>{dr(y.id),await oa(y.view_id);const C=y.task_id||u(y.url),U=y.project_id||c(y.url);C&&U?na(C,U):(console.warn("Could not open task sidebar. Falling back to redirecting."),y.url&&(window.location.href=y.url))};return Pt(()=>{clearTimeout(s.value),clearInterval(r.value)}),(y,C)=>e.sidebarIsOpen?w("",!0):(l(),m("div",_r,[!t.value&&o.value.length>0?(l(),m("div",kr,[(l(!0),m(ue,null,ce(o.value,U=>(l(),m("div",{key:U.id,class:"bg-white rounded-lg shadow-lg p-3 flex items-start space-x-3 border border-gray-200 transition-opacity duration-300 opacity-60 hover:opacity-100"},[i("div",wr,[i("div",br,[i("div",xr,[U.title?(l(),m("h3",Sr,N(U.title),1)):w("",!0),U.project_name?(l(),m("p",Dr,N(U.project_name),1)):w("",!0)])]),U.message?(l(),m("p",Mr,N(U.message),1)):w("",!0),i("div",Tr,[U.due_date?(l(),m("div",$r," Due: "+N(I(ra)(U.due_date)),1)):w("",!0),i("button",{onClick:M=>p(U),class:"px-2.5 py-1 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors duration-200 shadow"},N(U.button_label||"View"),9,Cr)])])]))),128))])):w("",!0),o.value.length>0?(l(),m("div",Yr,[i("button",{onClick:d,class:"bg-white/80 backdrop-blur-sm text-gray-600 hover:text-gray-900 text-xs font-bold py-1 px-3 rounded-full shadow-md transition-all duration-300"},[t.value?(l(),m("span",Or,"Show ("+N(n.value)+")",1)):(l(),m("span",Pr,"Minimize"))])])):w("",!0)]))}},Ar={class:"fixed top-4 right-4 z-[100] flex flex-col items-end space-y-3"},Er={class:"p-4"},Rr={class:"text-sm font-medium text-white"},Ur={__name:"StandardNotificationContainer",setup(e,{expose:t}){const s=O([]),a=(n,u="info",c=5e3)=>{const d=crypto.randomUUID();s.value.unshift({id:d,message:n,type:u}),setTimeout(()=>{r(d)},c)},r=n=>{const u=s.value.findIndex(c=>c.id===n);u>-1&&s.value.splice(u,1)},o=n=>{switch(n){case"success":return"bg-green-500";case"error":return"bg-red-500";case"warning":return"bg-yellow-500";case"info":default:return"bg-blue-500"}};return t({addNotification:a}),(n,u)=>(l(),m("div",Ar,[(l(!0),m(ue,null,ce(s.value,c=>(l(),m("div",{key:c.id,class:F(["w-full max-w-sm rounded-md shadow-lg pointer-events-auto",o(c.type)])},[i("div",Er,[i("p",Rr,N(c.message),1)])],2))),128))]))}},jr={class:"p-6"},Lr={class:"mt-6"},Wr={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded"},Vr={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},Fr={class:"flex items-center mb-3"},Hr=["id","onUpdate:modelValue"],Br=["for"],zr={key:0,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},Gr={key:0},qr={class:"mb-4"},Zr={class:"flex items-center"},Kr=["id","checked","onChange"],Jr=["for"],Qr={key:0,class:"mb-4"},Xr=["id","onUpdate:modelValue"],eo={key:1,class:"mb-4"},to={class:"flex-1"},so=["id","onUpdate:modelValue"],ao={class:"flex-1"},ro=["id","onUpdate:modelValue"],oo={key:0,class:"flex items-end pb-1"},no=["onClick"],io=["onClick"],lo={class:"mt-6 flex justify-end space-x-3"},uo={key:0,class:"flex items-center"},co={key:1},fo={__name:"AvailabilityModal",props:{show:Boolean,date:{type:String,default:()=>{const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}},nextWeekDates:{type:Array,default:()=>[]},userId:{type:Number,default:null}},emits:["close","availability-saved"],setup(e,{emit:t}){const s=()=>{const x=localStorage.getItem("authToken");x&&!ne.defaults.headers.common.Authorization&&(ne.defaults.headers.common.Authorization=`Bearer ${x}`,console.log("Auth headers set in AvailabilityModal"))},a=e,r=t,o=O({}),n=O({}),u=O(!1),c=O(""),d=()=>{const x=[],_=new Date,f=new Date(_);f.setDate(_.getDate()+1);for(let h=0;h<7;h++){const k=new Date(f);k.setDate(f.getDate()+h);const P=k.toISOString().split("T")[0];x.push({value:P,label:k.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),o.value[P]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}return x},p=O([]);mt(()=>{s(),a.nextWeekDates.length>0?(p.value=a.nextWeekDates,a.nextWeekDates.forEach(x=>{o.value[x.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}})):p.value=d()});const y=async()=>{try{if(s(),p.value.length===0)return;const x=p.value[0].value,_=p.value[p.value.length-1].value,f=await ne.get("/api/availabilities",{params:{start_date:x,end_date:_,user_id:a.userId}});if(f.data&&f.data.availabilities){const h=f.data.availabilities;p.value.forEach(k=>{o.value[k.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}}),h.forEach(k=>{const P=k.date.split("T")[0];o.value[P]&&(o.value[P].isSelected=!0,o.value[P].isAvailable=k.is_available,k.is_available?o.value[P].timeSlots=k.time_slots&&k.time_slots.length>0?[...k.time_slots]:[{start_time:"",end_time:""}]:o.value[P].reason=k.reason||"")})}}catch(x){console.error("Error fetching existing availabilities:",x),p.value.forEach(_=>{o.value[_.value]={isSelected:!1,isAvailable:!0,reason:"",timeSlots:[{start_time:"",end_time:""}]}})}};me(()=>a.show,async x=>{x&&(n.value={},c.value="",await y())},{immediate:!0});const C=x=>{o.value[x].timeSlots.push({start_time:"",end_time:""})},U=(x,_)=>{o.value[x].timeSlots.length>1&&o.value[x].timeSlots.splice(_,1)},M=(x,_)=>{o.value[x].isAvailable=_,_?o.value[x].reason="":o.value[x].timeSlots=[{start_time:"",end_time:""}]},g=async()=>{u.value=!0,n.value={},c.value="";const x=[];let _=!1;for(const f of p.value){const h=f.value,k=o.value[h];if(k.isSelected){let P={};if(k.isAvailable)if(k.timeSlots.some(L=>!L.start_time||!L.end_time))P.timeSlots="Please fill in all time slots.",_=!0;else for(const L of k.timeSlots){const re=L.start_time.split(":").map(Number),Ee=L.end_time.split(":").map(Number);if(re.length!==2||Ee.length!==2||isNaN(re[0])||isNaN(re[1])||isNaN(Ee[0])||isNaN(Ee[1])){P.timeSlots="Invalid time format. Please use HH:MM format.",_=!0;break}const X=re[0]*60+re[1],W=Ee[0]*60+Ee[1];if(X>=W){P.timeSlots="End time must be after start time.",_=!0;break}}else k.reason.trim()||(P.reason="Please provide a reason for unavailability.",_=!0);Object.keys(P).length>0&&(n.value[h]=P),Object.keys(P).length===0&&x.push({date:h,is_available:k.isAvailable,reason:k.isAvailable?null:k.reason,time_slots:k.isAvailable?k.timeSlots:null})}}if(_){u.value=!1,n.value.general="Please correct the errors in the highlighted dates.";return}if(x.length===0){n.value.general="Please select at least one day to set availability for.",u.value=!1;return}try{s();const f=await ne.post("/api/availabilities/batch",{availabilities:x});c.value="Availability saved successfully!";try{const h=await ne.get("/api/availability-prompt");localStorage.setItem("shouldBlockUser",h.data.should_block_user),localStorage.setItem("allWeekdaysCovered",h.data.all_weekdays_covered);const k=new CustomEvent("availability-status-updated",{detail:{shouldBlockUser:h.data.should_block_user,allWeekdaysCovered:h.data.all_weekdays_covered}});window.dispatchEvent(k),console.log("Availability status updated from modal:",{shouldBlockUser:h.data.should_block_user,allWeekdaysCovered:h.data.all_weekdays_covered})}catch(h){console.error("Error updating availability status:",h)}r("availability-saved",f.data.availabilities),setTimeout(()=>{r("close")},1500)}catch(f){console.error("Error saving availability:",f),f.response&&f.response.data&&f.response.data.errors?n.value.general=f.response.data.message||"An error occurred while saving your availability.":f.response&&f.response.status===409?(c.value=f.response.data.message,setTimeout(()=>{r("close")},1500)):n.value.general="An unexpected error occurred while saving your availability."}finally{u.value=!1}};return(x,_)=>(l(),E(Ss,{show:e.show,onClose:_[1]||(_[1]=f=>x.$emit("close")),"max-width":"xl"},{default:S(()=>[i("div",jr,[_[6]||(_[6]=i("h2",{class:"text-lg font-medium text-gray-900"}," Submit Your Weekly Availability ",-1)),_[7]||(_[7]=i("p",{class:"mt-1 text-sm text-gray-600"}," Please select the dates you wish to set availability for and provide your details for each. ",-1)),i("div",Lr,[i("form",{onSubmit:qt(g,["prevent"])},[c.value?(l(),m("div",Wr,N(c.value),1)):w("",!0),n.value.general?(l(),m("div",Vr,N(n.value.general),1)):w("",!0),(l(!0),m(ue,null,ce(p.value,f=>{var h,k;return l(),m("div",{key:f.value,class:F(["mb-6 p-4 border rounded-lg shadow-sm",[o.value[f.value].isSelected?"border-indigo-300 bg-indigo-50":"border-gray-200",o.value[f.value].isSelected&&!n.value[f.value]?"border-l-4 border-l-indigo-500":""]])},[i("div",Fr,[ie(i("input",{type:"checkbox",id:`select_date_${f.value}`,"onUpdate:modelValue":P=>o.value[f.value].isSelected=P,class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,Hr),[[cr,o.value[f.value].isSelected]]),i("label",{for:`select_date_${f.value}`,class:"ml-2 block text-base font-medium text-gray-800"},[$(N(f.label)+" ",1),o.value[f.value].isSelected?(l(),m("span",zr," Saved ")):w("",!0)],8,Br)]),o.value[f.value].isSelected?(l(),m("div",Gr,[i("div",qr,[i("div",Zr,[i("input",{type:"checkbox",id:`isAvailableToggle_${f.value}`,checked:o.value[f.value].isAvailable,onChange:P=>M(f.value,P.target.checked),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,40,Kr),i("label",{for:`isAvailableToggle_${f.value}`,class:"ml-2 block text-sm text-gray-700"}," I am available on this day ",8,Jr)])]),o.value[f.value].isAvailable?w("",!0):(l(),m("div",Qr,[v(q,{for:`reason_${f.value}`,value:"Reason for Not Available"},null,8,["for"]),ie(i("textarea",{id:`reason_${f.value}`,"onUpdate:modelValue":P=>o.value[f.value].reason=P,rows:"2",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",placeholder:"e.g., Out of office, Holiday, Meeting all day"},null,8,Xr),[[Ye,o.value[f.value].reason]]),v(ae,{message:(h=n.value[f.value])==null?void 0:h.reason,class:"mt-2"},null,8,["message"])])),o.value[f.value].isAvailable?(l(),m("div",eo,[v(q,{value:"Available Time Slots"}),v(ae,{message:(k=n.value[f.value])==null?void 0:k.timeSlots,class:"mt-2"},null,8,["message"]),(l(!0),m(ue,null,ce(o.value[f.value].timeSlots,(P,L)=>(l(),m("div",{key:L,class:"flex items-center space-x-2 mt-2"},[i("div",to,[v(q,{for:`start_time_${f.value}_${L}`,value:"Start Time",class:"text-xs"},null,8,["for"]),ie(i("input",{id:`start_time_${f.value}_${L}`,type:"time","onUpdate:modelValue":re=>P.start_time=re,class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},null,8,so),[[Ye,P.start_time]])]),i("div",ao,[v(q,{for:`end_time_${f.value}_${L}`,value:"End Time",class:"text-xs"},null,8,["for"]),ie(i("input",{id:`end_time_${f.value}_${L}`,type:"time","onUpdate:modelValue":re=>P.end_time=re,class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"},null,8,ro),[[Ye,P.end_time]])]),o.value[f.value].timeSlots.length>1?(l(),m("div",oo,[i("button",{type:"button",onClick:re=>U(f.value,L),class:"p-2 text-red-600 hover:text-red-800"},_[2]||(_[2]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm6 0a1 1 0 012 0v6a1 1 0 11-2 0V8z","clip-rule":"evenodd"})],-1)]),8,no)])):w("",!0)]))),128)),i("button",{type:"button",onClick:P=>C(f.value),class:"mt-3 w-full flex items-center justify-center px-4 py-2 border border-dashed border-indigo-300 rounded-lg text-indigo-600 hover:bg-indigo-50 transition duration-150 ease-in-out"},_[3]||(_[3]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),$(" Add Another Time Slot ",-1)]),8,io)])):w("",!0)])):w("",!0)],2)}),128)),i("div",lo,[v(Tt,{onClick:_[0]||(_[0]=f=>x.$emit("close"))},{default:S(()=>_[4]||(_[4]=[$(" Cancel ",-1)])),_:1,__:[4]}),v(ye,{disabled:u.value,class:F({"opacity-50":u.value})},{default:S(()=>[u.value?(l(),m("span",uo,_[5]||(_[5]=[i("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),$(" Saving... ",-1)]))):(l(),m("span",co,"Save Availability"))]),_:1},8,["disabled","class"])])],32)])])]),_:1},8,["show"]))}},mo={key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"},ho={class:"bg-white rounded-lg shadow-xl p-6 max-w-lg w-full mx-4"},vo={class:"flex justify-center"},go={__name:"AvailabilityBlocker",setup(e){const t=O(!1),s=O(!0),a=O(!1),r=O([]),o=H(()=>{var g;return((g=Nt().props.auth.user)==null?void 0:g.id)||null}),n=()=>{const g=localStorage.getItem("authToken");g&&!ne.defaults.headers.common.Authorization&&(ne.defaults.headers.common.Authorization=`Bearer ${g}`)},u=async()=>{s.value=!0;const g=localStorage.getItem("shouldBlockUser"),x=localStorage.getItem("allWeekdaysCovered");if(g==="true"&&x==="false")t.value=!0,await c();else try{n();const _=await ne.get("/api/availability-prompt");t.value=_.data.should_block_user&&!_.data.all_weekdays_covered,t.value&&await c()}catch(_){console.error("Error checking if user should be blocked:",_),t.value=!1}s.value=!1},c=async()=>{try{n();const g=await ne.get("/api/availability-prompt");d(g.data.next_week_start,g.data.next_week_end)}catch(g){console.error("Error fetching next week dates:",g)}},d=(g,x)=>{const _=[],f=new Date(g),h=new Date(x),k=new Date(f);for(;k<=h;)_.push({value:k.toISOString().split("T")[0],label:k.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),k.setDate(k.getDate()+1);r.value=_},p=()=>{a.value=!0},y=()=>{u()},C=g=>{t.value=g.detail.shouldBlockUser&&!g.detail.allWeekdaysCovered},U=()=>{document.visibilityState==="visible"&&ut(()=>{u()})},M=g=>{(g.key==="shouldBlockUser"||g.key==="allWeekdaysCovered")&&ut(()=>{u()})};return mt(()=>{u(),window.addEventListener("availability-status-updated",C),document.addEventListener("visibilitychange",U),window.addEventListener("storage",M)}),Pt(()=>{window.removeEventListener("availability-status-updated",C),document.removeEventListener("visibilitychange",U),window.removeEventListener("storage",M)}),(g,x)=>t.value&&!s.value?(l(),m("div",mo,[i("div",ho,[x[2]||(x[2]=fr('<div class="flex items-center mb-4"><div class="flex-shrink-0 mr-3"><svg class="h-8 w-8 text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><h2 class="text-xl font-bold text-gray-900">Action Required</h2></div><p class="mb-6 text-gray-700"> You must submit your availability for all weekdays of next week before you can continue using the application. This is required for planning meetings and work schedules. </p>',2)),i("div",vo,[v(ye,{onClick:p,class:"bg-red-600 hover:bg-red-700"},{default:S(()=>x[1]||(x[1]=[$(" Submit Availability Now ",-1)])),_:1,__:[1]})]),v(fo,{show:a.value,"next-week-dates":r.value,date:r.value.length>0?r.value[0].value:"",userId:o.value,onClose:x[0]||(x[0]=_=>a.value=!1),onAvailabilitySaved:y},null,8,["show","next-week-dates","date","userId"])])])):w("",!0)}},yo={class:"p-6"},po={class:"flex justify-between items-center mb-4"},_o={class:"text-lg font-medium text-gray-900"},ko={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},wo={class:"block sm:inline"},bo={key:0,class:"mt-6 flex justify-end space-x-3"},xo={__name:"BaseFormModal",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Modal Title"},apiEndpoint:{type:String,required:!1},httpMethod:{type:String,default:"post",validator:e=>["post","put","patch","delete"].includes(e.toLowerCase())},formData:{type:Object,required:!0},submitButtonText:{type:String,default:"Save"},successMessage:{type:String,default:"Operation successful!"},formatDataForApi:{type:Function,default:e=>e},showFooter:{type:Boolean,default:!0}},emits:["close","submitted","error"],setup(e,{emit:t}){const s=e,a=t,r=O(!1),o=O({}),n=O("");me(()=>s.show,d=>{d&&(o.value={},n.value="",r.value=!1)});const u=async()=>{r.value=!0,o.value={},n.value="";try{const d=s.formatDataForApi(s.formData);let p;const y=s.httpMethod.toLowerCase();if(y==="post")p=await window.axios.post(s.apiEndpoint,d);else if(y==="put")p=await window.axios.put(s.apiEndpoint,d);else if(y==="patch")p=await window.axios.patch(s.apiEndpoint,d);else if(y==="delete")p=await window.axios.delete(s.apiEndpoint,{data:d});else throw new Error(`Unsupported HTTP method: ${s.httpMethod}`);Ne(s.successMessage),a("submitted",p.data),a("close")}catch(d){console.error("API submission error:",d),d.response?d.response.status===422?(o.value=d.response.data.errors,n.value="Please correct the errors in the form."):n.value=d.response.data.message||"An unexpected error occurred.":n.value="A network error occurred or the server is unreachable.",he(n.value),a("error",d)}finally{r.value=!1}},c=()=>{a("close")};return(d,p)=>(l(),E(Ss,{show:e.show,onClose:c},{default:S(()=>[i("div",yo,[i("div",po,[i("h2",_o,N(e.title),1),i("button",{onClick:c,class:"text-gray-400 hover:text-gray-500"},p[0]||(p[0]=[i("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n.value?(l(),m("div",ko,[i("span",wo,N(n.value),1)])):w("",!0),i("form",{onSubmit:qt(u,["prevent"])},[Oe(d.$slots,"default",{errors:o.value},void 0,!0),e.showFooter?(l(),m("div",bo,[v(Tt,{onClick:c,type:"button",disabled:r.value},{default:S(()=>p[1]||(p[1]=[$(" Cancel ",-1)])),_:1,__:[1]},8,["disabled"]),v(ye,{type:"submit",disabled:r.value,class:F({"opacity-75 cursor-not-allowed":r.value})},{default:S(()=>[$(N(r.value?"Submitting...":e.submitButtonText),1)]),_:1},8,["disabled","class"])])):w("",!0)],32)])]),_:3},8,["show"]))}},Kt=at(xo,[["__scopeId","data-v-380ca613"]]),So=["disabled"],Do={class:"absolute z-50 mt-1 w-full rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5"},Mo={class:"p-2 border-b border-gray-200"},To=["onClick"],$o={key:0,class:"block px-4 py-2 text-sm text-gray-500"},Co={__name:"SelectDropdown",props:{modelValue:{type:[String,Number,Object,null],default:null},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select an option"},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"250px"},width:{type:String,default:"full"},labelClass:{type:String,default:"text-xs"}},emits:["update:modelValue","change"],setup(e,{emit:t}){const s=e,a=t,r=O(!1),o=O(""),n=O(null),u=O(null),c=H(()=>{if(!o.value)return s.options;const M=o.value.toLowerCase();return s.options.filter(g=>g[s.labelKey].toLowerCase().includes(M))}),d=M=>{n.value&&!n.value.contains(M.target)&&(r.value=!1,o.value="")},p=M=>{M.key==="Escape"&&r.value&&(r.value=!1,o.value="")};mt(()=>{document.addEventListener("click",d),document.addEventListener("keydown",p)}),Pt(()=>{document.removeEventListener("click",d),document.removeEventListener("keydown",p)});const y=H(()=>{if(s.modelValue===null||s.modelValue===void 0||s.modelValue==="")return s.placeholder;const M=s.options.find(g=>g[s.valueKey]===s.modelValue);return M?M[s.labelKey]:s.placeholder}),C=M=>{a("update:modelValue",M[s.valueKey]),a("change",M[s.valueKey]),r.value=!1,o.value=""},U=()=>{s.disabled||(r.value=!r.value,r.value&&ut(()=>{u.value&&u.value.focus()}))};return me(()=>s.modelValue,M=>{(M==null||M==="")&&(o.value="")}),(M,g)=>(l(),m("div",{ref_key:"dropdownRef",ref:n,class:F(["relative",{"w-full":e.width==="full"}])},[i("button",{type:"button",onClick:U,disabled:e.disabled,class:F(["border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full text-left px-3 py-2 text-gray-700 bg-white relative flex items-center justify-between",{"opacity-50 cursor-not-allowed":e.disabled}])},[i("span",{class:F({"text-gray-500":!s.modelValue})},N(y.value),3),g[3]||(g[3]=i("svg",{class:"h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))],10,So),ie(i("div",Do,[i("div",Mo,[ie(i("input",{ref_key:"searchInputRef",ref:u,type:"text","onUpdate:modelValue":g[0]||(g[0]=x=>o.value=x),onInput:g[1]||(g[1]=x=>r.value=!0),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Search...",onClick:g[2]||(g[2]=qt(()=>{},["stop"]))},null,544),[[Ye,o.value]])]),i("div",{class:"py-1 overflow-y-auto",style:ia({maxHeight:e.maxHeight})},[(l(!0),m(ue,null,ce(c.value,x=>(l(),m("div",{key:x[e.valueKey],onClick:_=>C(x),class:F(["block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",{"bg-gray-100":x[e.valueKey]===e.modelValue}])},N(x[e.labelKey]),11,To))),128)),c.value.length===0?(l(),m("div",$o," No options available ")):w("",!0)],4)],512),[[je,r.value]])],2))}},$e=at(Co,[["__scopeId","data-v-d2f1cfa0"]]),Yo=(e,t)=>{let s;return(...a)=>{clearTimeout(s),s=setTimeout(()=>e(...a),t)}},Oo={class:"relative"},Po={class:"flex flex-wrap items-center gap-2 mb-2 p-2 border border-gray-300 rounded-lg bg-white min-h-[44px] focus-within:border-indigo-500 focus-within:ring-1 focus-within:ring-indigo-500 transition-all duration-150"},No=["onClick"],Io={key:0,class:"absolute z-20 w-full bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1 transform-gpu"},Ao=["onClick"],Eo={key:1,class:"px-4 py-2 text-sm text-gray-500"},Ro={key:2,class:"px-4 py-2 text-sm text-gray-500"},Uo={__name:"TagInput",props:{modelValue:{type:Array,default:()=>[]},label:{type:String,default:"Tags"},placeholder:{type:String,default:"Add tags..."},error:{type:String,default:""},initialTags:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,a=t,r=O(""),o=O([]),n=O([]),u=O(!1),c=O(null);function d(){a("update:modelValue",n.value.map(_=>_.id))}me(()=>s.initialTags,_=>{if(n.value=[],_&&_.length>0){const P=[],L=new Set;_.forEach(re=>{L.has(re.id)||(P.push(re),L.add(re.id))}),n.value.push(...P)}const f=_.map(P=>P.id),h=Array.isArray(s.modelValue)?s.modelValue:[];(f.length!==h.length||f.some(P=>!h.includes(P))||h.some(P=>!f.includes(P)))&&d()},{immediate:!0});const p=Yo(async _=>{if(_.length<2){o.value=[],u.value=!1;return}try{const f=await ne.get(`/api/tags/search?query=${_}`);o.value=f.data,u.value=!0}catch(f){console.error("Error fetching tags:",f),o.value=[],u.value=!1}},300);me(r,_=>{s.disabled||p(_)});const y=_=>{n.value.some(f=>f.id===_.id)||(n.value.push(_),r.value="",o.value=[],u.value=!1,d()),ut(()=>c.value.focus())},C=()=>{if(s.disabled)return;const _=r.value.trim();if(!_)return;const f=o.value.find(k=>k.name.toLowerCase()===_.toLowerCase()),h=n.value.some(k=>k.name.toLowerCase()===_.toLowerCase());if(f)y(f);else if(h)r.value="",o.value=[],u.value=!1;else{const k={id:`new_${_.replace(/\s+/g,"-").toLowerCase()}_${Date.now()}`,name:_};n.value.push(k),r.value="",o.value=[],u.value=!1,d()}ut(()=>c.value.focus())},U=_=>{s.disabled||(n.value=n.value.filter(f=>f.id!==_.id),d(),ut(()=>c.value.focus()))},M=()=>{s.disabled||r.value===""&&n.value.length>0&&U(n.value[n.value.length-1])},g=H(()=>o.value.filter(_=>!n.value.some(f=>f.id===_.id))),x=_=>{c.value&&!c.value.$el.contains(_.target)&&(u.value=!1,r.value="")};return mt(()=>{document.addEventListener("click",x)}),Pt(()=>{document.removeEventListener("click",x)}),(_,f)=>(l(),m("div",Oo,[v(q,{value:e.label,class:"mb-1"},null,8,["value"]),i("div",Po,[(l(!0),m(ue,null,ce(n.value,h=>(l(),m("span",{key:h.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},[$(N(h.name)+" ",1),e.disabled?w("",!0):(l(),m("button",{key:0,type:"button",onClick:k=>U(h),class:"ml-2 -mr-1 text-indigo-500 hover:text-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-0.5"},f[3]||(f[3]=[i("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,No))]))),128)),v(Fe,{ref_key:"inputRef",ref:c,type:"text",placeholder:n.value.length===0?e.placeholder:"",modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=h=>r.value=h),onFocus:f[1]||(f[1]=h=>u.value=!0),onKeydown:[us(qt(C,["prevent"]),["enter"]),f[2]||(f[2]=us(h=>u.value=!1,["tab"])),us(M,["delete"])],class:"flex-grow min-w-[100px] border-none focus:ring-0 shadow-none p-0 bg-transparent text-gray-900",disabled:e.disabled},null,8,["placeholder","modelValue","onKeydown","disabled"])]),u.value&&(g.value.length>0||r.value.length>=2||g.value.length===0&&r.value.length<2)&&!e.disabled?(l(),m("div",Io,[(l(!0),m(ue,null,ce(g.value,h=>(l(),m("div",{key:h.id,onClick:k=>y(h),class:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer transition-colors duration-100"},N(h.name),9,Ao))),128)),!o.value.some(h=>h.name.toLowerCase()===r.value.toLowerCase())&&r.value.length>=2?(l(),m("div",{key:0,onClick:C,class:"px-4 py-2 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 cursor-pointer border-t border-indigo-200 font-semibold transition-colors duration-100"},' Add new tag: "'+N(r.value)+'" ',1)):w("",!0),g.value.length===0&&r.value.length<2?(l(),m("div",Eo," Type at least 2 characters to search for tags. ")):w("",!0),g.value.length===0&&r.value.length>=2&&!o.value.some(h=>h.name.toLowerCase()===r.value.toLowerCase())?(l(),m("div",Ro,[f[4]||(f[4]=$(" No matching tags found. Press ",-1)),f[5]||(f[5]=i("span",{class:"font-semibold text-indigo-600"},"Enter",-1)),$(' to add "'+N(r.value)+'" as a new tag. ',1)])):w("",!0)])):w("",!0),v(ae,{message:e.error,class:"mt-2"},null,8,["message"])]))}},ca=at(Uo,[["__scopeId","data-v-4d528a4c"]]),jo={class:"space-y-4"},Lo="Add New Milestone",Wo="/api/milestones",Vo="post",Fo="Create Milestone",Ho="Milestone created successfully!",Bo={__name:"MilestoneFormModal",props:{show:Boolean,projectId:Number},emits:["close","saved"],setup(e,{emit:t}){const s=e,a=t,r=Zt({name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId}),o=["Not Started","In Progress","Completed","Overdue"];me(()=>s.show,c=>{c&&Object.assign(r,{name:"",description:"",completion_date:null,status:"Not Started",project_id:s.projectId})},{immediate:!0});const n=c=>{a("saved",c),a("close")},u=()=>{a("close")};return(c,d)=>(l(),E(Kt,{show:e.show,title:Lo,"api-endpoint":Wo,"http-method":Vo,"form-data":r,"submit-button-text":Fo,"success-message":Ho,onClose:u,onSubmitted:n},{default:S(({errors:p})=>[i("div",jo,[i("div",null,[v(q,{for:"milestone-name",value:"Milestone Name"}),v(Fe,{id:"milestone-name",modelValue:r.name,"onUpdate:modelValue":d[0]||(d[0]=y=>r.name=y),type:"text",class:"mt-1 block w-full",placeholder:"Enter milestone name",required:""},null,8,["modelValue"]),v(ae,{message:p.name?p.name[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"milestone-description",value:"Description"}),ie(i("textarea",{id:"milestone-description","onUpdate:modelValue":d[1]||(d[1]=y=>r.description=y),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[Ye,r.description]]),v(ae,{message:p.description?p.description[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"milestone-completion-date",value:"Completion Date"}),v(Fe,{id:"milestone-completion-date",modelValue:r.completion_date,"onUpdate:modelValue":d[2]||(d[2]=y=>r.completion_date=y),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),v(ae,{message:p.completion_date?p.completion_date[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"milestone-status",value:"Status"}),v($e,{id:"milestone-status",modelValue:r.status,"onUpdate:modelValue":d[3]||(d[3]=y=>r.status=y),options:o.map(y=>({value:y,label:y})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),v(ae,{message:p.status?p.status[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","form-data"]))}},zo={class:"space-y-4"},Go={key:0},qo={key:0,class:"text-sm text-gray-500"},Zo={key:0,class:"text-sm text-gray-500"},Ko={key:0,class:"text-sm text-gray-500"},Jo={class:"flex items-center gap-2 mt-1"},Qo={key:0,class:"text-sm text-gray-500"},Xo=["disabled"],en="Create New Task",tn="/api/tasks",sn="post",an="Create Task",rn="Task created successfully!",on={__name:"CreateTaskModal",props:{show:Boolean,projectId:{type:Number,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,a=t,r=Zt({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),o=["To Do","In Progress","Done","Blocked","Archived"],n=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],u=O([]),c=O([]),d=O([]),p=O([]),y=O(!0),C=O(!1),U=O(!1),M=O(!1),g=O(!1);me(()=>s.show,async X=>{X&&(Object.assign(r,{name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,project_id:s.projectId,priority:"medium",tags:[],tags_data:[]}),s.projectId?await _(s.projectId):await x())},{immediate:!0}),me(()=>r.project_id,async X=>{X?await _(X):(c.value=[],d.value=[],p.value=[])});const x=async()=>{y.value=!0;try{const X=await window.axios.get("/api/projects-simplified");u.value=X.data.map(W=>({value:W.id,label:W.name}))}catch(X){console.error("Error fetching projects:",X),u.value=[]}finally{y.value=!1}},_=async X=>{if(X){C.value=!0,U.value=!0,M.value=!0;try{const[W,K,Q]=await Promise.all([window.axios.get(`/api/projects/${X}/users`),window.axios.get("/api/task-types"),window.axios.get(`/api/projects/${X}/milestones`)]);c.value=W.data.map(Te=>({value:Te.id,label:Te.name})),d.value=K.data.map(Te=>({value:Te.id,label:Te.name})),p.value=Q.data.map(Te=>({value:Te.id,label:Te.name}))}catch(W){console.error("Error fetching associated task data:",W),c.value=[],d.value=[],p.value=[]}finally{C.value=!1,U.value=!1,M.value=!1}}},f=X=>{a("saved",X),a("close")},h=()=>{a("close")},k=()=>{r.project_id?g.value=!0:alert("Please select a project before adding a milestone.")},P=X=>{if(g.value=!1,X&&X.id&&X.name){const W={value:X.id,label:X.name};p.value.some(K=>K.value===W.value)||p.value.push(W),r.milestone_id=W.value}},L=H(()=>c.value),re=H(()=>d.value),Ee=H(()=>p.value);return(X,W)=>(l(),m(ue,null,[v(Kt,{show:e.show,title:en,"api-endpoint":tn,"http-method":sn,"form-data":r,"submit-button-text":an,"success-message":rn,onClose:h,onSubmitted:f},{default:S(({errors:K})=>[i("div",zo,[e.projectId?w("",!0):(l(),m("div",Go,[v(q,{for:"task-project",value:"Project"}),y.value?(l(),m("div",qo,"Loading projects...")):(l(),E($e,{key:1,id:"task-project",modelValue:r.project_id,"onUpdate:modelValue":W[0]||(W[0]=Q=>r.project_id=Q),options:u.value,"value-key":"value","label-key":"label",placeholder:"Select a project",class:"mt-1",required:!0},null,8,["modelValue","options"])),v(ae,{message:K.project_id?K.project_id[0]:"",class:"mt-2"},null,8,["message"])])),i("div",null,[v(q,{for:"task-name",value:"Task Name"}),v(Fe,{id:"task-name",modelValue:r.name,"onUpdate:modelValue":W[1]||(W[1]=Q=>r.name=Q),type:"text",class:"mt-1 block w-full",placeholder:"Enter task name",required:""},null,8,["modelValue"]),v(ae,{message:K.name?K.name[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"task-description",value:"Description"}),ie(i("textarea",{id:"task-description","onUpdate:modelValue":W[2]||(W[2]=Q=>r.description=Q),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[Ye,r.description]]),v(ae,{message:K.description?K.description[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"task-status",value:"Status"}),v($e,{id:"task-status",modelValue:r.status,"onUpdate:modelValue":W[3]||(W[3]=Q=>r.status=Q),options:o.map(Q=>({value:Q,label:Q})),"value-key":"value","label-key":"label",placeholder:"Select status",class:"mt-1"},null,8,["modelValue","options"]),v(ae,{message:K.status?K.status[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"task-priority",value:"Priority"}),v($e,{id:"task-priority",modelValue:r.priority,"onUpdate:modelValue":W[4]||(W[4]=Q=>r.priority=Q),options:n,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1"},null,8,["modelValue"]),v(ae,{message:K.priority?K.priority[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"task-due-date",value:"Due Date"}),v(Fe,{id:"task-due-date",modelValue:r.due_date,"onUpdate:modelValue":W[5]||(W[5]=Q=>r.due_date=Q),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),v(ae,{message:K.due_date?K.due_date[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"task-assigned-to",value:"Assigned To"}),C.value?(l(),m("div",Zo,"Loading users...")):(l(),E($e,{key:1,id:"task-assigned-to",modelValue:r.assigned_to_user_id,"onUpdate:modelValue":W[6]||(W[6]=Q=>r.assigned_to_user_id=Q),options:L.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),v(ae,{message:K.assigned_to_user_id?K.assigned_to_user_id[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"task-type",value:"Task Type"}),U.value?(l(),m("div",Ko,"Loading task types...")):(l(),E($e,{key:1,id:"task-type",modelValue:r.task_type_id,"onUpdate:modelValue":W[7]||(W[7]=Q=>r.task_type_id=Q),options:re.value,"value-key":"value","label-key":"label",placeholder:"Select a task type",class:"mt-1","allow-empty":!0},null,8,["modelValue","options"])),v(ae,{message:K.task_type_id?K.task_type_id[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"task-milestone",value:"Milestone"}),i("div",Jo,[M.value?(l(),m("div",Qo,"Loading milestones...")):(l(),E($e,{key:1,id:"task-milestone",modelValue:r.milestone_id,"onUpdate:modelValue":W[8]||(W[8]=Q=>r.milestone_id=Q),options:Ee.value,"value-key":"value","label-key":"label",placeholder:"No milestone",class:"flex-grow","allow-empty":!0,disabled:!r.project_id},null,8,["modelValue","options","disabled"])),i("button",{type:"button",onClick:k,disabled:!r.project_id||M.value,class:"px-3 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-md hover:bg-blue-100 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add New Milestone"},W[11]||(W[11]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1)]),8,Xo)]),v(ae,{message:K.milestone_id?K.milestone_id[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(ca,{modelValue:r.tags,"onUpdate:modelValue":W[9]||(W[9]=Q=>r.tags=Q),initialTags:r.tags_data,label:"Tags",placeholder:"Search or add tags",error:K.tags?K.tags[0]:"",disabled:!r.project_id},null,8,["modelValue","initialTags","error","disabled"])])])]),_:1},8,["show","form-data"]),v(Bo,{show:g.value,"project-id":r.project_id,onClose:W[10]||(W[10]=K=>g.value=!1),onSaved:P},null,8,["show","project-id"])],64))}},nn={class:"space-y-4"},ln={class:"flex items-center mt-4"},un={__name:"CreateForm",props:{show:{type:Boolean,default:!1},apiEndpoint:{type:String,required:!0}},emits:["close","resourceCreated"],setup(e,{emit:t}){const s=e,a=t,r=Zt({title:"",description:"",url:"",type:"website",thumbnail_url:"",visible_to_client:!0,tags:[]}),o=H(()=>[{value:"website",label:"Website"},{value:"youtube",label:"YouTube Video"},{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"other",label:"Other"}]),n=d=>d,u=d=>{a("resourceCreated",d),c()},c=()=>{r.title="",r.description="",r.url="",r.type="website",r.thumbnail_url="",r.visible_to_client=!0,r.tags=[],a("close")};return(d,p)=>(l(),E(Kt,{show:s.show,title:"Add New Shareable Resource",apiEndpoint:s.apiEndpoint,httpMethod:"post",formData:r,submitButtonText:"Create Resource",successMessage:"Shareable resource created successfully!",formatDataForApi:n,onSubmitted:u,onClose:c},{default:S(({errors:y})=>[i("div",nn,[i("div",null,[v(q,{for:"title",value:"Title",class:"mb-1"}),v(Fe,{id:"title",type:"text",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:r.title,"onUpdate:modelValue":p[0]||(p[0]=C=>r.title=C),required:""},null,8,["modelValue"]),v(ae,{message:y.title?y.title[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"url",value:"Resource URL",class:"mb-1"}),v(Fe,{id:"url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:r.url,"onUpdate:modelValue":p[1]||(p[1]=C=>r.url=C),required:""},null,8,["modelValue"]),v(ae,{message:y.url?y.url[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"type",value:"Resource Type",class:"mb-1"}),v($e,{id:"type",modelValue:r.type,"onUpdate:modelValue":p[2]||(p[2]=C=>r.type=C),options:o.value,valueKey:"value",labelKey:"label",placeholder:"Select Resource Type",required:"",class:"mt-1 block w-full"},null,8,["modelValue","options"]),v(ae,{message:y.type?y.type[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"thumbnail_url",value:"Thumbnail URL (Optional)",class:"mb-1"}),v(Fe,{id:"thumbnail_url",type:"url",class:"mt-1 block w-full rounded-lg shadow-sm",modelValue:r.thumbnail_url,"onUpdate:modelValue":p[3]||(p[3]=C=>r.thumbnail_url=C)},null,8,["modelValue"]),v(ae,{message:y.thumbnail_url?y.thumbnail_url[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(q,{for:"description",value:"Description (Optional)",class:"mb-1"}),ie(i("textarea",{id:"description",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-lg shadow-sm mt-1 block w-full","onUpdate:modelValue":p[4]||(p[4]=C=>r.description=C),rows:"3"},null,512),[[Ye,r.description]]),v(ae,{message:y.description?y.description[0]:"",class:"mt-2"},null,8,["message"])]),i("div",null,[v(ca,{modelValue:r.tags,"onUpdate:modelValue":p[5]||(p[5]=C=>r.tags=C),label:"Associated Tags",placeholder:"Search or add tags",error:y.tags?y.tags[0]:""},null,8,["modelValue","error"])]),i("div",ln,[v(yr,{id:"visible_to_client",checked:r.visible_to_client,"onUpdate:checked":p[6]||(p[6]=C=>r.visible_to_client=C)},null,8,["checked"]),v(q,{for:"visible_to_client",value:"Visible to Client",class:"ml-2"}),v(ae,{message:y.visible_to_client?y.visible_to_client[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","apiEndpoint","formData"]))}},dn=at(un,[["__scopeId","data-v-3e3a6a9f"]]),cn={key:0,class:"sidebar-wrapper"},fn={class:"fixed inset-0 z-[100] flex pointer-events-none"},mn={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-white rounded-tl-xl sticky top-0 z-20"},hn={class:"text-xl font-semibold text-gray-900"},vn={class:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-rounded scrollbar-thumb-gray-300 scrollbar-track-gray-100"},gn={key:1,class:"p-4 border-t border-gray-200 bg-white sticky bottom-0 z-20"},yn={__name:"RightSidebar",props:{show:{type:Boolean,default:!1},title:{type:String,default:"Details"},initialWidth:{type:Number,default:50},minWidth:{type:Number,default:30},maxWidth:{type:Number,default:90}},emits:["close","update:show"],setup(e,{emit:t}){const s=e,a=t,r=O(s.initialWidth),o=O(!1),n=y=>{o.value=!0,document.addEventListener("pointermove",u),document.addEventListener("pointerup",c)},u=y=>{if(!o.value)return;const C=window.innerWidth,M=(C-y.clientX)/C*100,g=Math.max(s.minWidth,Math.min(s.maxWidth,M));r.value=g},c=()=>{o.value=!1,document.removeEventListener("pointermove",u),document.removeEventListener("pointerup",c)};me(()=>s.show,y=>{y?document.body.style.overflow="hidden":document.body.style.overflow=""},{immediate:!0});const d=()=>{a("update:show",!1),a("close")},p=H(()=>window.innerWidth<768);return me(p,y=>{y&&s.show?r.value=100:!y&&s.show&&(r.value=s.initialWidth)},{immediate:!0}),me(()=>s.show,y=>{y&&(p.value?r.value=100:r.value=s.initialWidth)}),(y,C)=>(l(),E(mr,{to:"body"},[v(la,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:S(()=>[e.show?(l(),m("div",cn,[i("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity z-[99]",onClick:d}),i("div",fn,[i("div",{class:"relative ml-auto h-full bg-white shadow-xl flex flex-col rounded-l-xl pointer-events-auto",style:ia({width:p.value?"100%":`${r.value}vw`})},[p.value?w("",!0):(l(),m("div",{key:0,class:"absolute left-0 top-0 h-full w-2 cursor-col-resize -ml-1 z-10",onPointerdown:n,title:"Drag to resize"},null,32)),i("div",mn,[i("h3",hn,N(e.title),1),i("button",{onClick:d,class:"text-gray-400 hover:text-gray-600 transition-colors"},C[0]||(C[0]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),i("div",vn,[Oe(y.$slots,"content",{},void 0,!0)]),y.$slots.footer?(l(),m("div",gn,[Oe(y.$slots,"footer",{},void 0,!0)])):w("",!0)],4)])])):w("",!0)]),_:3})]))}},fa=at(yn,[["__scopeId","data-v-2d864577"]]),pn={class:"flex border-b border-gray-200"},_n={key:0,class:"ml-2 px-2 py-1 text-xs font-bold bg-red-600 text-white rounded-full"},kn={class:"p-4 space-y-2 overflow-y-auto"},wn={key:0,class:"p-6 text-center text-gray-500"},bn={key:0},xn={key:1},Sn=["onClick"],Dn={class:"flex-1 min-w-0"},Mn={class:"flex items-start justify-between gap-2 mb-1"},Tn={class:"flex-1 min-w-0"},$n={key:0,class:"text-base font-semibold text-gray-900 truncate"},Cn={key:1,class:"text-xs text-gray-500"},Yn={key:0,class:"text-sm text-gray-600 mt-1 mb-2"},On={class:"flex items-center text-xs text-gray-500 font-medium"},Pn={key:0},Nn={key:1,class:"mx-2"},In={key:2},An={__name:"NotificationsSidebar",setup(e){const t=H(()=>Mt.value.notifications),s=O("New"),a=H(()=>s.value==="New"?t.value.filter(u=>!u.isRead):t.value),r=async u=>{await oa(u.view_id);const c=u.task_id||o(u.url),d=u.project_id||n(u.url);c&&d?(na(c,d),qs()):(console.warn("Could not open task sidebar. Falling back to opening URL in new tab."),u.url&&window.open(u.url,"_blank"))},o=u=>{const c=u.match(/\/task\/(\d+)/);return c?parseInt(c[1]):null},n=u=>{const c=u.match(/\/project\/(\d+)\//);return c?parseInt(c[1]):null};return(u,c)=>(l(),E(fa,{show:I(Mt).show,"onUpdate:show":I(qs),title:"Notifications","initial-width":35,class:"z-[100]"},{content:S(()=>[i("div",pn,[i("button",{onClick:c[0]||(c[0]=d=>s.value="New"),class:F([{"border-blue-600 text-blue-600 font-semibold":s.value==="New","border-transparent text-gray-500 hover:text-gray-700":s.value!=="New"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])},[c[2]||(c[2]=$(" New ",-1)),t.value.filter(d=>!d.isRead).length>0?(l(),m("span",_n,N(t.value.filter(d=>!d.isRead).length),1)):w("",!0)],2),i("button",{onClick:c[1]||(c[1]=d=>s.value="All"),class:F([{"border-blue-600 text-blue-600 font-semibold":s.value==="All","border-transparent text-gray-500 hover:text-gray-700":s.value!=="All"},"flex-1 py-4 px-1 text-center text-sm border-b-2 transition-colors duration-200"])}," All ",2)]),i("div",kn,[a.value.length===0?(l(),m("div",wn,[s.value==="New"?(l(),m("span",bn,"You have no new notifications.")):(l(),m("span",xn,"You have no notifications."))])):w("",!0),(l(!0),m(ue,null,ce(a.value,d=>(l(),m("div",{key:d.id,class:F(["bg-white rounded-xl shadow-sm p-4 flex items-start space-x-4 border border-gray-200 transition-all duration-200 hover:shadow-md cursor-pointer",{"bg-gray-50":d.isRead}]),onClick:p=>r(d)},[i("div",Dn,[i("div",Mn,[i("div",Tn,[d.title?(l(),m("h3",$n,N(d.title),1)):w("",!0),d.project_name?(l(),m("p",Cn,N(d.project_name),1)):w("",!0)])]),d.message?(l(),m("p",Yn,N(d.message),1)):w("",!0),i("div",On,[d.due_date?(l(),m("span",Pn,"Due: "+N(I(ra)(d.due_date)),1)):w("",!0),d.due_date&&d.priority?(l(),m("span",Nn,"â€¢")):w("",!0),d.priority?(l(),m("span",In,"Priority: "+N(d.priority),1)):w("",!0)])])],10,Sn))),128))])]),_:1},8,["show","onUpdate:show"]))}},En={class:"flex items-center p-4 h-16 border-b border-gray-700"},Rn={key:0,class:"text-xl font-semibold flex-1 truncate"},Un=["title"],jn={key:0,class:"p-4 border-b border-gray-700"},Ln={class:"relative"},Wn={key:1,class:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-500 scrollbar-track-gray-700 p-4"},Vn={key:0,class:"mb-4"},Fn={class:"ml-2 mt-2 space-y-1"},Hn=["onClick"],Bn={class:"text-sm font-medium text-gray-300 truncate"},zn={class:"ml-4 mt-1 space-y-1"},Gn={class:"truncate"},qn={key:1,class:"mb-4"},Zn={class:"ml-2 mt-2 space-y-1"},Kn=["onClick"],Jn={class:"text-sm font-medium text-gray-300 truncate"},Qn={class:"ml-4 mt-1 space-y-1"},Xn={class:"truncate"},ei={key:2,class:"mb-4"},ti={class:"ml-2 mt-2 space-y-1"},si={class:"truncate"},ai={key:3,class:"mb-4"},ri={class:"ml-2 mt-2 space-y-1"},oi={class:"truncate"},ni={key:4,class:"text-gray-400 text-sm text-center py-4"},ii={key:5,class:"text-gray-400 text-sm text-center py-4"},li={key:2,class:"flex flex-col items-center pt-4 space-y-4"},ui={key:0,class:"text-gray-400 text-xs text-center px-2"},di={__name:"LeftSidebar",props:{allProjects:{type:Array,default:()=>[]},activeProjectId:{type:Number,default:null}},emits:["project-selected"],setup(e,{emit:t}){const s=e,a=t,r=O(localStorage.getItem("leftSidebarCollapsed")!=="false"),o=O(""),n=O({}),u=H(()=>{const f=new Set;return s.allProjects.forEach(h=>{h.project_type&&f.add(h.project_type)}),Array.from(f).sort()}),c=H(()=>{const f=new Set;return s.allProjects.forEach(h=>{Array.isArray(h.tags)&&h.tags.forEach(k=>f.add(k))}),Array.from(f).sort()}),d=H(()=>{if(!o.value)return s.allProjects;const f=o.value.toLowerCase();return s.allProjects.filter(h=>{var k,P,L;return h.name.toLowerCase().includes(f)||((k=h.description)==null?void 0:k.toLowerCase().includes(f))||((P=h.project_type)==null?void 0:P.toLowerCase().includes(f))||Array.isArray(h.tags)&&h.tags.some(re=>re.toLowerCase().includes(f))||((L=h.status)==null?void 0:L.toLowerCase().includes(f))})}),p=H(()=>{const f={};d.value.forEach(h=>{h.project_type&&h.status==="active"&&(f[h.project_type]||(f[h.project_type]=[]),f[h.project_type].push(h))});for(const h in f)f[h].sort((k,P)=>k.name.localeCompare(P.name));return f}),y=H(()=>{const f={};d.value.forEach(h=>{Array.isArray(h.tags)&&h.tags.length>0&&h.tags.forEach(k=>{f[k]||(f[k]=[]),f[k].push(h)})});for(const h in f)f[h]=[...new Set(f[h])].sort((k,P)=>k.name.localeCompare(P.name));return f}),C=H(()=>d.value.filter(f=>f.status!=="active").sort((f,h)=>f.name.localeCompare(h.name))),U=H(()=>d.value.filter(f=>!f.project_type&&(!Array.isArray(f.tags)||f.tags.length===0)).sort((f,h)=>f.name.localeCompare(h.name)));me(()=>s.allProjects,()=>{u.value.forEach(f=>{const h=`type-${f}`;n.value[h]===void 0&&(n.value[h]=!0)}),c.value.forEach(f=>{const h=`tag-${f}`;n.value[h]===void 0&&(n.value[h]=!0)}),n.value["main-types"]===void 0&&(n.value["main-types"]=!1),n.value["main-tags"]===void 0&&(n.value["main-tags"]=!1),n.value["inactive-projects"]===void 0&&(n.value["inactive-projects"]=!1),n.value.uncategorized===void 0&&(n.value.uncategorized=!1)},{immediate:!0}),me(r,f=>{localStorage.setItem("leftSidebarCollapsed",f)});const M=()=>{r.value=!r.value},g=f=>{n.value[f]=!n.value[f]},x=f=>{a("project-selected",f)},_=()=>{o.value=""};return(f,h)=>(l(),m("div",{class:F({"w-64":!r.value,"w-16":r.value,"min-w-16":!0,"bg-gray-800 text-white flex flex-col transition-all duration-300 ease-in-out shrink-0 h-screen overflow-hidden":!0})},[i("div",En,[r.value?w("",!0):(l(),m("h2",Rn,"Projects")),i("button",{onClick:M,class:"p-2 rounded-full hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",title:r.value?"Expand Sidebar":"Collapse Sidebar"},[(l(),m("svg",{class:F(["w-6 h-6 text-gray-400 transform transition-transform duration-300",{"rotate-180":r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},h[5]||(h[5]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"},null,-1)]),2))],8,Un)]),r.value?w("",!0):(l(),m("div",jn,[i("div",Ln,[ie(i("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=k=>o.value=k),placeholder:"Search all projects...",class:"w-full p-2 rounded-md bg-gray-700 border border-gray-600 text-white placeholder-gray-400 focus:ring-indigo-500 focus:border-indigo-500 text-sm"},null,512),[[Ye,o.value]]),o.value?(l(),m("button",{key:0,onClick:_,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-200",title:"Clear search"},h[6]||(h[6]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))):w("",!0)])])),r.value?(l(),m("div",li,[(l(!0),m(ue,null,ce(s.allProjects,k=>(l(),E(I(Le),{key:k.id,href:f.route("projects.show",k.id),onClick:P=>x(k.id),class:F({"w-10 h-10 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-200":!0,"bg-indigo-600 text-white":k.id===e.activeProjectId,"bg-gray-700 text-gray-300 hover:bg-gray-600":k.id!==e.activeProjectId}),title:k.name},{default:S(()=>[$(N(k.name.charAt(0).toUpperCase()),1)]),_:2},1032,["href","onClick","class","title"]))),128)),e.allProjects.length===0?(l(),m("div",ui," No Projects ")):w("",!0)])):(l(),m("div",Wn,[Object.keys(p.value).length>0?(l(),m("div",Vn,[i("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:h[1]||(h[1]=k=>g("main-types"))},[h[8]||(h[8]=i("h3",{class:"text-sm font-semibold text-gray-400"},"Active Projects by Type",-1)),(l(),m("svg",{class:F(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!n.value["main-types"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h[7]||(h[7]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ie(i("div",Fn,[(l(!0),m(ue,null,ce(p.value,(k,P)=>(l(),m("div",{key:P},[i("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:L=>g(`type-${P}`)},[i("h4",Bn,N(P),1),(l(),m("svg",{class:F(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!n.value[`type-${P}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h[9]||(h[9]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Hn),ie(i("ul",zn,[(l(!0),m(ue,null,ce(k,L=>(l(),m("li",{key:L.id},[v(I(Le),{href:f.route("projects.show",L.id),onClick:re=>x(L.id),class:F({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":L.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":L.id!==e.activeProjectId,"font-bold":L.id===e.activeProjectId})},{default:S(()=>[i("span",Gn,N(L.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[je,!n.value[`type-${P}`]]])]))),128))],512),[[je,!n.value["main-types"]]])])):w("",!0),Object.keys(y.value).length>0?(l(),m("div",qn,[i("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:h[2]||(h[2]=k=>g("main-tags"))},[h[11]||(h[11]=i("h3",{class:"text-sm font-semibold text-gray-400"},"Projects by Tag",-1)),(l(),m("svg",{class:F(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!n.value["main-tags"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h[10]||(h[10]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ie(i("div",Zn,[(l(!0),m(ue,null,ce(y.value,(k,P)=>(l(),m("div",{key:P},[i("div",{class:"flex items-center justify-between cursor-pointer py-1 hover:bg-gray-700 rounded-md px-2",onClick:L=>g(`tag-${P}`)},[i("h4",Jn,N(P),1),(l(),m("svg",{class:F(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!n.value[`tag-${P}`]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h[12]||(h[12]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))],8,Kn),ie(i("ul",Qn,[(l(!0),m(ue,null,ce(k,L=>(l(),m("li",{key:L.id},[v(I(Le),{href:f.route("projects.show",L.id),onClick:re=>x(L.id),class:F({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":L.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":L.id!==e.activeProjectId,"font-bold":L.id===e.activeProjectId})},{default:S(()=>[i("span",Xn,N(L.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[je,!n.value[`tag-${P}`]]])]))),128))],512),[[je,!n.value["main-tags"]]])])):w("",!0),C.value.length>0?(l(),m("div",ei,[i("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:h[3]||(h[3]=k=>g("inactive-projects"))},[h[14]||(h[14]=i("h3",{class:"text-sm font-semibold text-gray-400"},"Inactive Projects",-1)),(l(),m("svg",{class:F(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!n.value["inactive-projects"]}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h[13]||(h[13]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ie(i("ul",ti,[(l(!0),m(ue,null,ce(C.value,k=>(l(),m("li",{key:k.id},[v(I(Le),{href:f.route("projects.show",k.id),onClick:P=>x(k.id),class:F({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":k.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":k.id!==e.activeProjectId,"font-bold":k.id===e.activeProjectId})},{default:S(()=>[i("span",si,N(k.name)+" ("+N(k.status.replace("_"," "))+")",1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[je,!n.value["inactive-projects"]]])])):w("",!0),U.value.length>0?(l(),m("div",ai,[i("div",{class:"flex items-center justify-between cursor-pointer py-2 hover:bg-gray-700 rounded-md px-2",onClick:h[4]||(h[4]=k=>g("uncategorized"))},[h[16]||(h[16]=i("h3",{class:"text-sm font-semibold text-gray-400"},"Uncategorized",-1)),(l(),m("svg",{class:F(["w-4 h-4 text-gray-400 transform transition-transform duration-200",{"rotate-90":!n.value.uncategorized}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h[15]||(h[15]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)]),2))]),ie(i("ul",ri,[(l(!0),m(ue,null,ce(U.value,k=>(l(),m("li",{key:k.id},[v(I(Le),{href:f.route("projects.show",k.id),onClick:P=>x(k.id),class:F({"block w-full text-left px-3 py-2 rounded-md transition-colors":!0,"bg-indigo-600 text-white":k.id===e.activeProjectId,"hover:bg-gray-700 text-gray-200":k.id!==e.activeProjectId,"font-bold":k.id===e.activeProjectId})},{default:S(()=>[i("span",oi,N(k.name),1)]),_:2},1032,["href","onClick","class"])]))),128))],512),[[je,!n.value.uncategorized]])])):w("",!0),d.value.length===0?(l(),m("div",ni," No projects found matching your search. ")):e.allProjects.length===0&&!o.value?(l(),m("div",ii," No projects available. ")):w("",!0)]))],2))}},ci=at(di,[["__scopeId","data-v-417d431f"]]),fi={class:"relative"},ma={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(e){const t=e,s=n=>{o.value&&n.key==="Escape"&&(o.value=!1)};mt(()=>document.addEventListener("keydown",s)),Pt(()=>document.removeEventListener("keydown",s));const a=H(()=>({48:"w-48"})[t.width.toString()]),r=H(()=>t.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":t.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),o=O(!1);return(n,u)=>(l(),m("div",fi,[i("div",{onClick:u[0]||(u[0]=c=>o.value=!o.value)},[Oe(n.$slots,"trigger")]),ie(i("div",{class:"fixed inset-0 z-40",onClick:u[1]||(u[1]=c=>o.value=!1)},null,512),[[je,o.value]]),v(la,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:S(()=>[ie(i("div",{class:F(["absolute z-50 mt-2 rounded-md shadow-lg",[a.value,r.value]]),style:{display:"none"},onClick:u[2]||(u[2]=c=>o.value=!1)},[i("div",{class:F(["rounded-md ring-1 ring-black ring-opacity-5",e.contentClasses])},[Oe(n.$slots,"content")],2)],2),[[je,o.value]])]),_:3})]))}},ve={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){return(t,s)=>(l(),E(I(Le),ua({href:e.href,method:e.method,as:e.as},t.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:S(()=>[Oe(t.$slots,"default")]),_:3},16,["href","method","as"]))}},mi={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(e){const t=e,s=H(()=>t.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(a,r)=>(l(),E(I(Le),{href:e.href,class:F(s.value)},{default:S(()=>[Oe(a.$slots,"default")]),_:3},8,["href","class"]))}};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hi=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),vi=e=>{const t=hi(e);return t.charAt(0).toUpperCase()+t.slice(1)},gi=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),Js=e=>e==="";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=({name:e,iconNode:t,absoluteStrokeWidth:s,"absolute-stroke-width":a,strokeWidth:r,"stroke-width":o,size:n=bt.width,color:u=bt.stroke,...c},{slots:d})=>vs("svg",{...bt,...c,width:n,height:n,stroke:u,"stroke-width":Js(s)||Js(a)||s===!0||a===!0?Number(r||o||bt["stroke-width"])*24/Number(n):r||o||bt["stroke-width"],class:gi("lucide",c.class,...e?[`lucide-${Ks(vi(e))}-icon`,`lucide-${Ks(e)}`]:["lucide-icon"])},[...t.map(p=>vs(...p)),...d.default?[d.default()]:[]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=(e,t)=>(s,{slots:a,attrs:r})=>vs(yi,{...r,...s,iconNode:t,name:e},a);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=pi("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),ki={class:"hidden sm:flex sm:items-center"},wi={__name:"AdminDropdown",setup(e){const{canDo:t}=xs(),s=t("manage_projects"),a=t("compose_emails"),r=t("approve_emails"),o=t("create_users");t("manage_roles");const n=t("manage_task_types"),u=t("create_clients");return(c,d)=>(l(),m("div",ki,[v(ma,{align:"right",width:"48"},{trigger:S(()=>d[0]||(d[0]=[i("span",{class:"inline-flex rounded-md"},[i("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},[$(" Admin "),i("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:S(()=>[I(s)?(l(),E(ve,{key:0,href:c.route("projects.index"),active:c.route().current("projects.index")},{default:S(()=>d[1]||(d[1]=[$(" Projects ",-1)])),_:1,__:[1]},8,["href","active"])):w("",!0),I(r)?(l(),E(ve,{key:1,href:c.route("emails.pending"),active:c.route().current("emails.pending")},{default:S(()=>d[2]||(d[2]=[$(" Approve Emails ",-1)])),_:1,__:[2]},8,["href","active"])):w("",!0),I(a)?(l(),E(ve,{key:2,href:c.route("emails.rejected"),active:c.route().current("emails.rejected")},{default:S(()=>d[3]||(d[3]=[$(" Rejected Emails ",-1)])),_:1,__:[3]},8,["href","active"])):w("",!0),I(o)?(l(),E(ve,{key:3,href:c.route("availability.index"),active:c.route().current("availability.index")},{default:S(()=>d[4]||(d[4]=[$(" Weekly Availability ",-1)])),_:1,__:[4]},8,["href","active"])):w("",!0),I(u)?(l(),E(ve,{key:4,href:c.route("clients.index"),active:c.route().current("clients.index")},{default:S(()=>d[5]||(d[5]=[$(" Clients ",-1)])),_:1,__:[5]},8,["href","active"])):w("",!0),I(o)?(l(),E(ve,{key:5,href:c.route("users.index"),active:c.route().current("users.index")},{default:S(()=>d[6]||(d[6]=[$(" Users ",-1)])),_:1,__:[6]},8,["href","active"])):w("",!0),I(n)?(l(),E(ve,{key:6,href:c.route("task-types.index"),active:c.route().current("task-types.index")},{default:S(()=>d[7]||(d[7]=[$(" Task Types ",-1)])),_:1,__:[7]},8,["href","active"])):w("",!0),I(t)("manage_bonus_configuration")?(l(),E(ve,{key:7,href:c.route("bonus-configuration.index"),active:c.route().current("bonus-configuration.index")},{default:S(()=>d[8]||(d[8]=[$(" Bonus Configuration ",-1)])),_:1,__:[8]},8,["href","active"])):w("",!0),I(t)("manage_email_templates")?(l(),E(ve,{key:8,href:c.route("email-templates.index"),active:c.route().current("email-templates.index")},{default:S(()=>d[9]||(d[9]=[$(" Email Templates ",-1)])),_:1,__:[9]},8,["href","active"])):w("",!0),I(t)("manage_placeholder_definitions")?(l(),E(ve,{key:9,href:c.route("placeholder-definitions.index"),active:c.route().current("placeholder-definitions.index")},{default:S(()=>d[10]||(d[10]=[$(" Placeholder Definitions ",-1)])),_:1,__:[10]},8,["href","active"])):w("",!0),I(t)("manage_roles")?(l(),E(ve,{key:10,href:c.route("admin.roles.index")},{default:S(()=>d[11]||(d[11]=[$(" Manage Roles ",-1)])),_:1,__:[11]},8,["href"])):w("",!0),I(t)("manage_permissions")?(l(),E(ve,{key:11,href:c.route("admin.permissions.index")},{default:S(()=>d[12]||(d[12]=[$(" Manage Permissions ",-1)])),_:1,__:[12]},8,["href"])):w("",!0)]),_:1})]))}},bi={class:"relative ms-3"},xi={class:"inline-flex rounded-md"},Si={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},Di={__name:"UserDropdown",emits:["logoutSuccess","logoutError"],setup(e,{emit:t}){const s=H(()=>Nt().props.auth.user),a=t,r=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,a("logoutSuccess")},o=n=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",a("logoutError",n)};return(n,u)=>(l(),m("div",bi,[v(ma,{align:"right",width:"48"},{trigger:S(()=>{var c;return[i("span",xi,[i("button",Si,[$(N(s.value.name)+" ("+N((c=s.value.role_data)==null?void 0:c.name)+") ",1),u[0]||(u[0]=i("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[i("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:S(()=>[v(ve,{href:n.route("profile.edit")},{default:S(()=>u[1]||(u[1]=[$(" Profile ",-1)])),_:1,__:[1]},8,["href"]),v(ve,{href:n.route("logout"),method:"post",as:"button",onSuccess:r,onError:o},{default:S(()=>u[2]||(u[2]=[$(" Log Out ",-1)])),_:1,__:[2]},8,["href"])]),_:1})]))}},Mi={class:"border-b border-gray-100 bg-white z-10 relative"},Ti={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},$i={class:"flex h-16 justify-between"},Ci={class:"flex"},Yi={class:"flex shrink-0 items-center"},Oi={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},Pi={class:"hidden sm:ms-6 sm:flex sm:items-center"},Ni={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"},Ii={class:"-me-2 flex items-center sm:hidden"},Ai={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Ei={__name:"TopNavigation",props:{unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar"],setup(e,{emit:t}){const s=t,a=O(!1);H(()=>Nt().props.auth.user);const{canDo:r}=xs(),o=r("manage_roles");return(n,u)=>(l(),m("nav",Mi,[i("div",Ti,[i("div",$i,[i("div",Ci,[i("div",Yi,[v(I(Le),{href:n.route("dashboard")},{default:S(()=>[v(pr,{class:"block h-16 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),i("div",Oi,[v(mi,{href:n.route("dashboard"),active:n.route().current("dashboard")},{default:S(()=>u[4]||(u[4]=[$(" Dashboard ",-1)])),_:1,__:[4]},8,["href","active"]),I(o)?(l(),E(wi,{key:0})):w("",!0)])]),i("div",Pi,[v(ye,{type:"button",onClick:u[0]||(u[0]=c=>s("openCreateTaskModal")),class:"mr-4 px-4 py-2 text-sm"},{default:S(()=>u[5]||(u[5]=[$(" Add Task ",-1)])),_:1,__:[5]}),v(ye,{type:"button",onClick:u[1]||(u[1]=c=>s("openAddResource")),class:"mr-4 px-4 py-2 text-sm"},{default:S(()=>u[6]||(u[6]=[$(" Add Resource ",-1)])),_:1,__:[6]}),i("button",{onClick:u[2]||(u[2]=c=>s("openNotificationsSidebar")),class:"relative flex-shrink-0 text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors duration-200 mr-4","aria-label":"View all notifications"},[v(I(_i),{class:"h-6 w-6"}),e.unreadNotificationCount>0?(l(),m("span",Ni,N(e.unreadNotificationCount),1)):w("",!0)]),v(Di)]),i("div",Ii,[i("button",{onClick:u[3]||(u[3]=c=>a.value=!a.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(l(),m("svg",Ai,[i("path",{class:F({hidden:a.value,"inline-flex":!a.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),i("path",{class:F({hidden:!a.value,"inline-flex":a.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])])]))}},le={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(e){const t=e,s=H(()=>t.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(a,r)=>(l(),E(I(Le),ua({href:e.href,method:e.method,as:e.as},a.$attrs,{class:s.value}),{default:S(()=>[Oe(a.$slots,"default")]),_:3},16,["href","method","as","class"]))}},Ri={class:"space-y-1 pb-3 pt-2"},Ui={key:0,class:"mt-3 space-y-1"},ji={class:"border-t border-gray-200 pb-1 pt-4"},Li={class:"px-4"},Wi={class:"text-base font-medium text-gray-800"},Vi={class:"text-sm font-medium text-gray-500"},Fi={class:"text-sm font-medium text-gray-500 capitalize"},Hi={class:"mt-3 space-y-1"},Bi={__name:"MobileNavigation",props:{showingNavigationDropdown:{type:Boolean,required:!0},unreadNotificationCount:{type:Number,default:0}},emits:["openCreateTaskModal","openAddResource","openNotificationsSidebar","logoutSuccess","logoutError"],setup(e,{emit:t}){const s=t,a=H(()=>Nt().props.auth.user),{canDo:r}=xs(),o=r("manage_projects"),n=r("compose_emails"),u=r("approve_emails"),c=r("create_users"),d=r("manage_roles"),p=r("manage_task_types"),y=r("create_clients"),C=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,s("logoutSuccess")},U=M=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login",s("logoutError",M)};return(M,g)=>{var x;return l(),m("div",{class:F([{block:e.showingNavigationDropdown,hidden:!e.showingNavigationDropdown},"sm:hidden"])},[i("div",Ri,[I(d)?(l(),m("div",Ui,[g[17]||(g[17]=i("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),v(le,{href:M.route("dashboard"),active:M.route().current("dashboard")},{default:S(()=>g[3]||(g[3]=[$(" Dashboard ",-1)])),_:1,__:[3]},8,["href","active"]),I(y)?(l(),E(le,{key:0,href:M.route("clients.index"),active:M.route().current("clients.index")},{default:S(()=>g[4]||(g[4]=[$(" Clients ",-1)])),_:1,__:[4]},8,["href","active"])):w("",!0),I(o)?(l(),E(le,{key:1,href:M.route("projects.index"),active:M.route().current("projects.index")},{default:S(()=>g[5]||(g[5]=[$(" Projects ",-1)])),_:1,__:[5]},8,["href","active"])):w("",!0),I(c)?(l(),E(le,{key:2,href:M.route("users.index"),active:M.route().current("users.index")},{default:S(()=>g[6]||(g[6]=[$(" Users ",-1)])),_:1,__:[6]},8,["href","active"])):w("",!0),I(n)?(l(),E(le,{key:3,href:M.route("emails.compose"),active:M.route().current("emails.compose")},{default:S(()=>g[7]||(g[7]=[$(" Compose Email ",-1)])),_:1,__:[7]},8,["href","active"])):w("",!0),I(u)?(l(),E(le,{key:4,href:M.route("emails.pending"),active:M.route().current("emails.pending")},{default:S(()=>g[8]||(g[8]=[$(" Approve Emails ",-1)])),_:1,__:[8]},8,["href","active"])):w("",!0),I(n)?(l(),E(le,{key:5,href:M.route("emails.rejected"),active:M.route().current("emails.rejected")},{default:S(()=>g[9]||(g[9]=[$(" Rejected Emails ",-1)])),_:1,__:[9]},8,["href","active"])):w("",!0),I(c)?(l(),E(le,{key:6,href:M.route("availability.index"),active:M.route().current("availability.index")},{default:S(()=>g[10]||(g[10]=[$(" Weekly Availability ",-1)])),_:1,__:[10]},8,["href","active"])):w("",!0),I(r)("manage_roles")?(l(),E(le,{key:7,href:M.route("admin.roles.index"),active:M.route().current("admin.roles.index")},{default:S(()=>g[11]||(g[11]=[$(" Manage Roles ",-1)])),_:1,__:[11]},8,["href","active"])):w("",!0),I(r)("manage_permissions")?(l(),E(le,{key:8,href:M.route("admin.permissions.index"),active:M.route().current("admin.permissions.index")},{default:S(()=>g[12]||(g[12]=[$(" Manage Permissions ",-1)])),_:1,__:[12]},8,["href","active"])):w("",!0),I(r)("manage_bonus_configuration")?(l(),E(le,{key:9,href:M.route("bonus-configuration.index"),active:M.route().current("bonus-configuration.index")},{default:S(()=>g[13]||(g[13]=[$(" Bonus Configuration ",-1)])),_:1,__:[13]},8,["href","active"])):w("",!0),I(p)?(l(),E(le,{key:10,href:M.route("task-types.index"),active:M.route().current("task-types.index")},{default:S(()=>g[14]||(g[14]=[$(" Task Types ",-1)])),_:1,__:[14]},8,["href","active"])):w("",!0),I(r)("manage_email_templates")?(l(),E(le,{key:11,href:M.route("email-templates.index"),active:M.route().current("email-templates.index")},{default:S(()=>g[15]||(g[15]=[$(" Email Templates ",-1)])),_:1,__:[15]},8,["href","active"])):w("",!0),I(r)("manage_placeholder_definitions")?(l(),E(le,{key:12,href:M.route("placeholder-definitions.index"),active:M.route().current("placeholder-definitions.index")},{default:S(()=>g[16]||(g[16]=[$(" Placeholder Definitions ",-1)])),_:1,__:[16]},8,["href","active"])):w("",!0)])):w("",!0)]),i("div",ji,[i("div",Li,[i("div",Wi,N(a.value.name),1),i("div",Vi,N(a.value.email),1),i("div",Fi,N((x=a.value.role_data)==null?void 0:x.name),1)]),i("div",Hi,[v(le,{as:"button",onClick:g[0]||(g[0]=_=>s("openCreateTaskModal"))},{default:S(()=>g[18]||(g[18]=[$(" Add Task ",-1)])),_:1,__:[18]}),v(le,{as:"button",onClick:g[1]||(g[1]=_=>s("openAddResource"))},{default:S(()=>g[19]||(g[19]=[$(" Add Resource ",-1)])),_:1,__:[19]}),v(le,{as:"button",onClick:g[2]||(g[2]=_=>s("openNotificationsSidebar"))},{default:S(()=>[$(" Notifications ("+N(e.unreadNotificationCount)+") ",1)]),_:1}),v(le,{href:M.route("profile.edit")},{default:S(()=>g[20]||(g[20]=[$(" Profile ",-1)])),_:1,__:[20]},8,["href"]),v(le,{href:M.route("logout"),method:"post",as:"button",onSuccess:C,onError:U},{default:S(()=>g[21]||(g[21]=[$(" Log Out ",-1)])),_:1,__:[21]},8,["href"])])])],2)}}};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ha;function T(){return ha.apply(null,arguments)}function zi(e){ha=e}function Se(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function st(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ds(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(z(e,t))return!1;return!0}function ge(e){return e===void 0}function ze(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function It(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function va(e,t){var s=[],a,r=e.length;for(a=0;a<r;++a)s.push(t(e[a],a));return s}function Ke(e,t){for(var s in t)z(t,s)&&(e[s]=t[s]);return z(t,"toString")&&(e.toString=t.toString),z(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ie(e,t,s,a){return Ua(e,t,s,a,!0).utc()}function Gi(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function j(e){return e._pf==null&&(e._pf=Gi()),e._pf}var gs;Array.prototype.some?gs=Array.prototype.some:gs=function(e){var t=Object(this),s=t.length>>>0,a;for(a=0;a<s;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function Ms(e){var t=null,s=!1,a=e._d&&!isNaN(e._d.getTime());if(a&&(t=j(e),s=gs.call(t.parsedDateParts,function(r){return r!=null}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s),e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a;return e._isValid}function Jt(e){var t=Ie(NaN);return e!=null?Ke(j(t),e):j(t).userInvalidated=!0,t}var Qs=T.momentProperties=[],cs=!1;function Ts(e,t){var s,a,r,o=Qs.length;if(ge(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ge(t._i)||(e._i=t._i),ge(t._f)||(e._f=t._f),ge(t._l)||(e._l=t._l),ge(t._strict)||(e._strict=t._strict),ge(t._tzm)||(e._tzm=t._tzm),ge(t._isUTC)||(e._isUTC=t._isUTC),ge(t._offset)||(e._offset=t._offset),ge(t._pf)||(e._pf=j(t)),ge(t._locale)||(e._locale=t._locale),o>0)for(s=0;s<o;s++)a=Qs[s],r=t[a],ge(r)||(e[a]=r);return e}function At(e){Ts(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),cs===!1&&(cs=!0,T.updateOffset(this),cs=!1)}function De(e){return e instanceof At||e!=null&&e._isAMomentObject!=null}function ga(e){T.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function we(e,t){var s=!0;return Ke(function(){if(T.deprecationHandler!=null&&T.deprecationHandler(null,e),s){var a=[],r,o,n,u=arguments.length;for(o=0;o<u;o++){if(r="",typeof arguments[o]=="object"){r+=`
[`+o+"] ";for(n in arguments[0])z(arguments[0],n)&&(r+=n+": "+arguments[0][n]+", ");r=r.slice(0,-2)}else r=arguments[o];a.push(r)}ga(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var Xs={};function ya(e,t){T.deprecationHandler!=null&&T.deprecationHandler(e,t),Xs[e]||(ga(t),Xs[e]=!0)}T.suppressDeprecationWarnings=!1;T.deprecationHandler=null;function Ae(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function qi(e){var t,s;for(s in e)z(e,s)&&(t=e[s],Ae(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function ys(e,t){var s=Ke({},e),a;for(a in t)z(t,a)&&(st(e[a])&&st(t[a])?(s[a]={},Ke(s[a],e[a]),Ke(s[a],t[a])):t[a]!=null?s[a]=t[a]:delete s[a]);for(a in e)z(e,a)&&!z(t,a)&&st(e[a])&&(s[a]=Ke({},s[a]));return s}function $s(e){e!=null&&this.set(e)}var ps;Object.keys?ps=Object.keys:ps=function(e){var t,s=[];for(t in e)z(e,t)&&s.push(t);return s};var Zi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ki(e,t,s){var a=this._calendar[e]||this._calendar.sameElse;return Ae(a)?a.call(t,s):a}function Pe(e,t,s){var a=""+Math.abs(e),r=t-a.length,o=e>=0;return(o?s?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}var Cs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ut=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fs={},dt={};function A(e,t,s,a){var r=a;typeof a=="string"&&(r=function(){return this[a]()}),e&&(dt[e]=r),t&&(dt[t[0]]=function(){return Pe(r.apply(this,arguments),t[1],t[2])}),s&&(dt[s]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function Ji(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Qi(e){var t=e.match(Cs),s,a;for(s=0,a=t.length;s<a;s++)dt[t[s]]?t[s]=dt[t[s]]:t[s]=Ji(t[s]);return function(r){var o="",n;for(n=0;n<a;n++)o+=Ae(t[n])?t[n].call(r,e):t[n];return o}}function Lt(e,t){return e.isValid()?(t=pa(t,e.localeData()),fs[t]=fs[t]||Qi(t),fs[t](e)):e.localeData().invalidDate()}function pa(e,t){var s=5;function a(r){return t.longDateFormat(r)||r}for(Ut.lastIndex=0;s>=0&&Ut.test(e);)e=e.replace(Ut,a),Ut.lastIndex=0,s-=1;return e}var Xi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function el(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(Cs).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var tl="Invalid date";function sl(){return this._invalidDate}var al="%d",rl=/\d{1,2}/;function ol(e){return this._ordinal.replace("%d",e)}var nl={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function il(e,t,s,a){var r=this._relativeTime[s];return Ae(r)?r(e,t,s,a):r.replace(/%d/i,e)}function ll(e,t){var s=this._relativeTime[e>0?"future":"past"];return Ae(s)?s(t):s.replace(/%s/i,t)}var ea={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function be(e){return typeof e=="string"?ea[e]||ea[e.toLowerCase()]:void 0}function Ys(e){var t={},s,a;for(a in e)z(e,a)&&(s=be(a),s&&(t[s]=e[a]));return t}var ul={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function dl(e){var t=[],s;for(s in e)z(e,s)&&t.push({unit:s,priority:ul[s]});return t.sort(function(a,r){return a.priority-r.priority}),t}var _a=/\d/,_e=/\d\d/,ka=/\d{3}/,Os=/\d{4}/,Qt=/[+-]?\d{6}/,te=/\d\d?/,wa=/\d\d\d\d?/,ba=/\d\d\d\d\d\d?/,Xt=/\d{1,3}/,Ps=/\d{1,4}/,es=/[+-]?\d{1,6}/,ht=/\d+/,ts=/[+-]?\d+/,cl=/Z|[+-]\d\d:?\d\d/gi,ss=/Z|[+-]\d\d(?::?\d\d)?/gi,fl=/[+-]?\d+(\.\d{1,3})?/,Et=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,vt=/^[1-9]\d?/,Ns=/^([1-9]\d|\d)/,Ft;Ft={};function Y(e,t,s){Ft[e]=Ae(t)?t:function(a,r){return a&&s?s:t}}function ml(e,t){return z(Ft,e)?Ft[e](t._strict,t._locale):new RegExp(hl(e))}function hl(e){return He(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,a,r,o){return s||a||r||o}))}function He(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ke(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function V(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=ke(t)),s}var _s={};function Z(e,t){var s,a=t,r;for(typeof e=="string"&&(e=[e]),ze(t)&&(a=function(o,n){n[t]=V(o)}),r=e.length,s=0;s<r;s++)_s[e[s]]=a}function Rt(e,t){Z(e,function(s,a,r,o){r._w=r._w||{},t(s,r._w,r,o)})}function vl(e,t,s){t!=null&&z(_s,e)&&_s[e](t,s._a,s,e)}function as(e){return e%4===0&&e%100!==0||e%400===0}var fe=0,We=1,Ce=2,de=3,xe=4,Ve=5,tt=6,gl=7,yl=8;A("Y",0,0,function(){var e=this.year();return e<=9999?Pe(e,4):"+"+e});A(0,["YY",2],0,function(){return this.year()%100});A(0,["YYYY",4],0,"year");A(0,["YYYYY",5],0,"year");A(0,["YYYYYY",6,!0],0,"year");Y("Y",ts);Y("YY",te,_e);Y("YYYY",Ps,Os);Y("YYYYY",es,Qt);Y("YYYYYY",es,Qt);Z(["YYYYY","YYYYYY"],fe);Z("YYYY",function(e,t){t[fe]=e.length===2?T.parseTwoDigitYear(e):V(e)});Z("YY",function(e,t){t[fe]=T.parseTwoDigitYear(e)});Z("Y",function(e,t){t[fe]=parseInt(e,10)});function Dt(e){return as(e)?366:365}T.parseTwoDigitYear=function(e){return V(e)+(V(e)>68?1900:2e3)};var xa=gt("FullYear",!0);function pl(){return as(this.year())}function gt(e,t){return function(s){return s!=null?(Sa(this,e,s),T.updateOffset(this,t),this):$t(this,e)}}function $t(e,t){if(!e.isValid())return NaN;var s=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return a?s.getUTCSeconds():s.getSeconds();case"Minutes":return a?s.getUTCMinutes():s.getMinutes();case"Hours":return a?s.getUTCHours():s.getHours();case"Date":return a?s.getUTCDate():s.getDate();case"Day":return a?s.getUTCDay():s.getDay();case"Month":return a?s.getUTCMonth():s.getMonth();case"FullYear":return a?s.getUTCFullYear():s.getFullYear();default:return NaN}}function Sa(e,t,s){var a,r,o,n,u;if(!(!e.isValid()||isNaN(s))){switch(a=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?a.setUTCMilliseconds(s):a.setMilliseconds(s));case"Seconds":return void(r?a.setUTCSeconds(s):a.setSeconds(s));case"Minutes":return void(r?a.setUTCMinutes(s):a.setMinutes(s));case"Hours":return void(r?a.setUTCHours(s):a.setHours(s));case"Date":return void(r?a.setUTCDate(s):a.setDate(s));case"FullYear":break;default:return}o=s,n=e.month(),u=e.date(),u=u===29&&n===1&&!as(o)?28:u,r?a.setUTCFullYear(o,n,u):a.setFullYear(o,n,u)}}function _l(e){return e=be(e),Ae(this[e])?this[e]():this}function kl(e,t){if(typeof e=="object"){e=Ys(e);var s=dl(e),a,r=s.length;for(a=0;a<r;a++)this[s[a].unit](e[s[a].unit])}else if(e=be(e),Ae(this[e]))return this[e](t);return this}function wl(e,t){return(e%t+t)%t}var oe;Array.prototype.indexOf?oe=Array.prototype.indexOf:oe=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Is(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=wl(t,12);return e+=(t-s)/12,s===1?as(e)?29:28:31-s%7%2}A("M",["MM",2],"Mo",function(){return this.month()+1});A("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});A("MMMM",0,0,function(e){return this.localeData().months(this,e)});Y("M",te,vt);Y("MM",te,_e);Y("MMM",function(e,t){return t.monthsShortRegex(e)});Y("MMMM",function(e,t){return t.monthsRegex(e)});Z(["M","MM"],function(e,t){t[We]=V(e)-1});Z(["MMM","MMMM"],function(e,t,s,a){var r=s._locale.monthsParse(e,a,s._strict);r!=null?t[We]=r:j(s).invalidMonth=e});var bl="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Da="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ma=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xl=Et,Sl=Et;function Dl(e,t){return e?Se(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ma).test(t)?"format":"standalone"][e.month()]:Se(this._months)?this._months:this._months.standalone}function Ml(e,t){return e?Se(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ma.test(t)?"format":"standalone"][e.month()]:Se(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Tl(e,t,s){var a,r,o,n=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)o=Ie([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(o,"").toLocaleLowerCase();return s?t==="MMM"?(r=oe.call(this._shortMonthsParse,n),r!==-1?r:null):(r=oe.call(this._longMonthsParse,n),r!==-1?r:null):t==="MMM"?(r=oe.call(this._shortMonthsParse,n),r!==-1?r:(r=oe.call(this._longMonthsParse,n),r!==-1?r:null)):(r=oe.call(this._longMonthsParse,n),r!==-1?r:(r=oe.call(this._shortMonthsParse,n),r!==-1?r:null))}function $l(e,t,s){var a,r,o;if(this._monthsParseExact)return Tl.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=Ie([2e3,a]),s&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!s&&!this._monthsParse[a]&&(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(o.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(s&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!s&&this._monthsParse[a].test(e))return a}}function Ta(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=V(t);else if(t=e.localeData().monthsParse(t),!ze(t))return e}var s=t,a=e.date();return a=a<29?a:Math.min(a,Is(e.year(),s)),e._isUTC?e._d.setUTCMonth(s,a):e._d.setMonth(s,a),e}function $a(e){return e!=null?(Ta(this,e),T.updateOffset(this,!0),this):$t(this,"Month")}function Cl(){return Is(this.year(),this.month())}function Yl(e){return this._monthsParseExact?(z(this,"_monthsRegex")||Ca.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(z(this,"_monthsShortRegex")||(this._monthsShortRegex=xl),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ol(e){return this._monthsParseExact?(z(this,"_monthsRegex")||Ca.call(this),e?this._monthsStrictRegex:this._monthsRegex):(z(this,"_monthsRegex")||(this._monthsRegex=Sl),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Ca(){function e(c,d){return d.length-c.length}var t=[],s=[],a=[],r,o,n,u;for(r=0;r<12;r++)o=Ie([2e3,r]),n=He(this.monthsShort(o,"")),u=He(this.months(o,"")),t.push(n),s.push(u),a.push(u),a.push(n);t.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Pl(e,t,s,a,r,o,n){var u;return e<100&&e>=0?(u=new Date(e+400,t,s,a,r,o,n),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,s,a,r,o,n),u}function Ct(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ht(e,t,s){var a=7+t-s,r=(7+Ct(e,0,a).getUTCDay()-t)%7;return-r+a-1}function Ya(e,t,s,a,r){var o=(7+s-a)%7,n=Ht(e,a,r),u=1+7*(t-1)+o+n,c,d;return u<=0?(c=e-1,d=Dt(c)+u):u>Dt(e)?(c=e+1,d=u-Dt(e)):(c=e,d=u),{year:c,dayOfYear:d}}function Yt(e,t,s){var a=Ht(e.year(),t,s),r=Math.floor((e.dayOfYear()-a-1)/7)+1,o,n;return r<1?(n=e.year()-1,o=r+Be(n,t,s)):r>Be(e.year(),t,s)?(o=r-Be(e.year(),t,s),n=e.year()+1):(n=e.year(),o=r),{week:o,year:n}}function Be(e,t,s){var a=Ht(e,t,s),r=Ht(e+1,t,s);return(Dt(e)-a+r)/7}A("w",["ww",2],"wo","week");A("W",["WW",2],"Wo","isoWeek");Y("w",te,vt);Y("ww",te,_e);Y("W",te,vt);Y("WW",te,_e);Rt(["w","ww","W","WW"],function(e,t,s,a){t[a.substr(0,1)]=V(e)});function Nl(e){return Yt(e,this._week.dow,this._week.doy).week}var Il={dow:0,doy:6};function Al(){return this._week.dow}function El(){return this._week.doy}function Rl(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Ul(e){var t=Yt(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}A("d",0,"do","day");A("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});A("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});A("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});A("e",0,0,"weekday");A("E",0,0,"isoWeekday");Y("d",te);Y("e",te);Y("E",te);Y("dd",function(e,t){return t.weekdaysMinRegex(e)});Y("ddd",function(e,t){return t.weekdaysShortRegex(e)});Y("dddd",function(e,t){return t.weekdaysRegex(e)});Rt(["dd","ddd","dddd"],function(e,t,s,a){var r=s._locale.weekdaysParse(e,a,s._strict);r!=null?t.d=r:j(s).invalidWeekday=e});Rt(["d","e","E"],function(e,t,s,a){t[a]=V(e)});function jl(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Ll(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function As(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Wl="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Oa="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vl="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Fl=Et,Hl=Et,Bl=Et;function zl(e,t){var s=Se(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?As(s,this._week.dow):e?s[e.day()]:s}function Gl(e){return e===!0?As(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function ql(e){return e===!0?As(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Zl(e,t,s){var a,r,o,n=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)o=Ie([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(o,"").toLocaleLowerCase();return s?t==="dddd"?(r=oe.call(this._weekdaysParse,n),r!==-1?r:null):t==="ddd"?(r=oe.call(this._shortWeekdaysParse,n),r!==-1?r:null):(r=oe.call(this._minWeekdaysParse,n),r!==-1?r:null):t==="dddd"?(r=oe.call(this._weekdaysParse,n),r!==-1||(r=oe.call(this._shortWeekdaysParse,n),r!==-1)?r:(r=oe.call(this._minWeekdaysParse,n),r!==-1?r:null)):t==="ddd"?(r=oe.call(this._shortWeekdaysParse,n),r!==-1||(r=oe.call(this._weekdaysParse,n),r!==-1)?r:(r=oe.call(this._minWeekdaysParse,n),r!==-1?r:null)):(r=oe.call(this._minWeekdaysParse,n),r!==-1||(r=oe.call(this._weekdaysParse,n),r!==-1)?r:(r=oe.call(this._shortWeekdaysParse,n),r!==-1?r:null))}function Kl(e,t,s){var a,r,o;if(this._weekdaysParseExact)return Zl.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=Ie([2e3,1]).day(a),s&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(o.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(s&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(s&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!s&&this._weekdaysParse[a].test(e))return a}}function Jl(e){if(!this.isValid())return e!=null?this:NaN;var t=$t(this,"Day");return e!=null?(e=jl(e,this.localeData()),this.add(e-t,"d")):t}function Ql(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Xl(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Ll(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function eu(e){return this._weekdaysParseExact?(z(this,"_weekdaysRegex")||Es.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(z(this,"_weekdaysRegex")||(this._weekdaysRegex=Fl),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function tu(e){return this._weekdaysParseExact?(z(this,"_weekdaysRegex")||Es.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(z(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Hl),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function su(e){return this._weekdaysParseExact?(z(this,"_weekdaysRegex")||Es.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(z(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bl),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Es(){function e(p,y){return y.length-p.length}var t=[],s=[],a=[],r=[],o,n,u,c,d;for(o=0;o<7;o++)n=Ie([2e3,1]).day(o),u=He(this.weekdaysMin(n,"")),c=He(this.weekdaysShort(n,"")),d=He(this.weekdays(n,"")),t.push(u),s.push(c),a.push(d),r.push(u),r.push(c),r.push(d);t.sort(e),s.sort(e),a.sort(e),r.sort(e),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Rs(){return this.hours()%12||12}function au(){return this.hours()||24}A("H",["HH",2],0,"hour");A("h",["hh",2],0,Rs);A("k",["kk",2],0,au);A("hmm",0,0,function(){return""+Rs.apply(this)+Pe(this.minutes(),2)});A("hmmss",0,0,function(){return""+Rs.apply(this)+Pe(this.minutes(),2)+Pe(this.seconds(),2)});A("Hmm",0,0,function(){return""+this.hours()+Pe(this.minutes(),2)});A("Hmmss",0,0,function(){return""+this.hours()+Pe(this.minutes(),2)+Pe(this.seconds(),2)});function Pa(e,t){A(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Pa("a",!0);Pa("A",!1);function Na(e,t){return t._meridiemParse}Y("a",Na);Y("A",Na);Y("H",te,Ns);Y("h",te,vt);Y("k",te,vt);Y("HH",te,_e);Y("hh",te,_e);Y("kk",te,_e);Y("hmm",wa);Y("hmmss",ba);Y("Hmm",wa);Y("Hmmss",ba);Z(["H","HH"],de);Z(["k","kk"],function(e,t,s){var a=V(e);t[de]=a===24?0:a});Z(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});Z(["h","hh"],function(e,t,s){t[de]=V(e),j(s).bigHour=!0});Z("hmm",function(e,t,s){var a=e.length-2;t[de]=V(e.substr(0,a)),t[xe]=V(e.substr(a)),j(s).bigHour=!0});Z("hmmss",function(e,t,s){var a=e.length-4,r=e.length-2;t[de]=V(e.substr(0,a)),t[xe]=V(e.substr(a,2)),t[Ve]=V(e.substr(r)),j(s).bigHour=!0});Z("Hmm",function(e,t,s){var a=e.length-2;t[de]=V(e.substr(0,a)),t[xe]=V(e.substr(a))});Z("Hmmss",function(e,t,s){var a=e.length-4,r=e.length-2;t[de]=V(e.substr(0,a)),t[xe]=V(e.substr(a,2)),t[Ve]=V(e.substr(r))});function ru(e){return(e+"").toLowerCase().charAt(0)==="p"}var ou=/[ap]\.?m?\.?/i,nu=gt("Hours",!0);function iu(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var Ia={calendar:Zi,longDateFormat:Xi,invalidDate:tl,ordinal:al,dayOfMonthOrdinalParse:rl,relativeTime:nl,months:bl,monthsShort:Da,week:Il,weekdays:Wl,weekdaysMin:Vl,weekdaysShort:Oa,meridiemParse:ou},se={},xt={},Ot;function lu(e,t){var s,a=Math.min(e.length,t.length);for(s=0;s<a;s+=1)if(e[s]!==t[s])return s;return a}function ta(e){return e&&e.toLowerCase().replace("_","-")}function uu(e){for(var t=0,s,a,r,o;t<e.length;){for(o=ta(e[t]).split("-"),s=o.length,a=ta(e[t+1]),a=a?a.split("-"):null;s>0;){if(r=rs(o.slice(0,s).join("-")),r)return r;if(a&&a.length>=s&&lu(o,a)>=s-1)break;s--}t++}return Ot}function du(e){return!!(e&&e.match("^[^/\\\\]*$"))}function rs(e){var t=null,s;if(se[e]===void 0&&typeof module<"u"&&module&&module.exports&&du(e))try{t=Ot._abbr,s=require,s("./locale/"+e),Qe(t)}catch{se[e]=null}return se[e]}function Qe(e,t){var s;return e&&(ge(t)?s=Ge(e):s=Us(e,t),s?Ot=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ot._abbr}function Us(e,t){if(t!==null){var s,a=Ia;if(t.abbr=e,se[e]!=null)ya("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=se[e]._config;else if(t.parentLocale!=null)if(se[t.parentLocale]!=null)a=se[t.parentLocale]._config;else if(s=rs(t.parentLocale),s!=null)a=s._config;else return xt[t.parentLocale]||(xt[t.parentLocale]=[]),xt[t.parentLocale].push({name:e,config:t}),null;return se[e]=new $s(ys(a,t)),xt[e]&&xt[e].forEach(function(r){Us(r.name,r.config)}),Qe(e),se[e]}else return delete se[e],null}function cu(e,t){if(t!=null){var s,a,r=Ia;se[e]!=null&&se[e].parentLocale!=null?se[e].set(ys(se[e]._config,t)):(a=rs(e),a!=null&&(r=a._config),t=ys(r,t),a==null&&(t.abbr=e),s=new $s(t),s.parentLocale=se[e],se[e]=s),Qe(e)}else se[e]!=null&&(se[e].parentLocale!=null?(se[e]=se[e].parentLocale,e===Qe()&&Qe(e)):se[e]!=null&&delete se[e]);return se[e]}function Ge(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ot;if(!Se(e)){if(t=rs(e),t)return t;e=[e]}return uu(e)}function fu(){return ps(se)}function js(e){var t,s=e._a;return s&&j(e).overflow===-2&&(t=s[We]<0||s[We]>11?We:s[Ce]<1||s[Ce]>Is(s[fe],s[We])?Ce:s[de]<0||s[de]>24||s[de]===24&&(s[xe]!==0||s[Ve]!==0||s[tt]!==0)?de:s[xe]<0||s[xe]>59?xe:s[Ve]<0||s[Ve]>59?Ve:s[tt]<0||s[tt]>999?tt:-1,j(e)._overflowDayOfYear&&(t<fe||t>Ce)&&(t=Ce),j(e)._overflowWeeks&&t===-1&&(t=gl),j(e)._overflowWeekday&&t===-1&&(t=yl),j(e).overflow=t),e}var mu=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hu=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vu=/Z|[+-]\d\d(?::?\d\d)?/,jt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ms=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gu=/^\/?Date\((-?\d+)/i,yu=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,pu={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Aa(e){var t,s,a=e._i,r=mu.exec(a)||hu.exec(a),o,n,u,c,d=jt.length,p=ms.length;if(r){for(j(e).iso=!0,t=0,s=d;t<s;t++)if(jt[t][1].exec(r[1])){n=jt[t][0],o=jt[t][2]!==!1;break}if(n==null){e._isValid=!1;return}if(r[3]){for(t=0,s=p;t<s;t++)if(ms[t][1].exec(r[3])){u=(r[2]||" ")+ms[t][0];break}if(u==null){e._isValid=!1;return}}if(!o&&u!=null){e._isValid=!1;return}if(r[4])if(vu.exec(r[4]))c="Z";else{e._isValid=!1;return}e._f=n+(u||"")+(c||""),Ws(e)}else e._isValid=!1}function _u(e,t,s,a,r,o){var n=[ku(e),Da.indexOf(t),parseInt(s,10),parseInt(a,10),parseInt(r,10)];return o&&n.push(parseInt(o,10)),n}function ku(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function wu(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function bu(e,t,s){if(e){var a=Oa.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(a!==r)return j(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function xu(e,t,s){if(e)return pu[e];if(t)return 0;var a=parseInt(s,10),r=a%100,o=(a-r)/100;return o*60+r}function Ea(e){var t=yu.exec(wu(e._i)),s;if(t){if(s=_u(t[4],t[3],t[2],t[5],t[6],t[7]),!bu(t[1],s,e))return;e._a=s,e._tzm=xu(t[8],t[9],t[10]),e._d=Ct.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),j(e).rfc2822=!0}else e._isValid=!1}function Su(e){var t=gu.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Aa(e),e._isValid===!1)delete e._isValid;else return;if(Ea(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:T.createFromInputFallback(e)}T.createFromInputFallback=we("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function it(e,t,s){return e??t??s}function Du(e){var t=new Date(T.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ls(e){var t,s,a=[],r,o,n;if(!e._d){for(r=Du(e),e._w&&e._a[Ce]==null&&e._a[We]==null&&Mu(e),e._dayOfYear!=null&&(n=it(e._a[fe],r[fe]),(e._dayOfYear>Dt(n)||e._dayOfYear===0)&&(j(e)._overflowDayOfYear=!0),s=Ct(n,0,e._dayOfYear),e._a[We]=s.getUTCMonth(),e._a[Ce]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[de]===24&&e._a[xe]===0&&e._a[Ve]===0&&e._a[tt]===0&&(e._nextDay=!0,e._a[de]=0),e._d=(e._useUTC?Ct:Pl).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[de]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==o&&(j(e).weekdayMismatch=!0)}}function Mu(e){var t,s,a,r,o,n,u,c,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(o=1,n=4,s=it(t.GG,e._a[fe],Yt(ee(),1,4).year),a=it(t.W,1),r=it(t.E,1),(r<1||r>7)&&(c=!0)):(o=e._locale._week.dow,n=e._locale._week.doy,d=Yt(ee(),o,n),s=it(t.gg,e._a[fe],d.year),a=it(t.w,d.week),t.d!=null?(r=t.d,(r<0||r>6)&&(c=!0)):t.e!=null?(r=t.e+o,(t.e<0||t.e>6)&&(c=!0)):r=o),a<1||a>Be(s,o,n)?j(e)._overflowWeeks=!0:c!=null?j(e)._overflowWeekday=!0:(u=Ya(s,a,r,o,n),e._a[fe]=u.year,e._dayOfYear=u.dayOfYear)}T.ISO_8601=function(){};T.RFC_2822=function(){};function Ws(e){if(e._f===T.ISO_8601){Aa(e);return}if(e._f===T.RFC_2822){Ea(e);return}e._a=[],j(e).empty=!0;var t=""+e._i,s,a,r,o,n,u=t.length,c=0,d,p;for(r=pa(e._f,e._locale).match(Cs)||[],p=r.length,s=0;s<p;s++)o=r[s],a=(t.match(ml(o,e))||[])[0],a&&(n=t.substr(0,t.indexOf(a)),n.length>0&&j(e).unusedInput.push(n),t=t.slice(t.indexOf(a)+a.length),c+=a.length),dt[o]?(a?j(e).empty=!1:j(e).unusedTokens.push(o),vl(o,a,e)):e._strict&&!a&&j(e).unusedTokens.push(o);j(e).charsLeftOver=u-c,t.length>0&&j(e).unusedInput.push(t),e._a[de]<=12&&j(e).bigHour===!0&&e._a[de]>0&&(j(e).bigHour=void 0),j(e).parsedDateParts=e._a.slice(0),j(e).meridiem=e._meridiem,e._a[de]=Tu(e._locale,e._a[de],e._meridiem),d=j(e).era,d!==null&&(e._a[fe]=e._locale.erasConvertYear(d,e._a[fe])),Ls(e),js(e)}function Tu(e,t,s){var a;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(a=e.isPM(s),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function $u(e){var t,s,a,r,o,n,u=!1,c=e._f.length;if(c===0){j(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<c;r++)o=0,n=!1,t=Ts({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[r],Ws(t),Ms(t)&&(n=!0),o+=j(t).charsLeftOver,o+=j(t).unusedTokens.length*10,j(t).score=o,u?o<a&&(a=o,s=t):(a==null||o<a||n)&&(a=o,s=t,n&&(u=!0));Ke(e,s||t)}function Cu(e){if(!e._d){var t=Ys(e._i),s=t.day===void 0?t.date:t.day;e._a=va([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),Ls(e)}}function Yu(e){var t=new At(js(Ra(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ra(e){var t=e._i,s=e._f;return e._locale=e._locale||Ge(e._l),t===null||s===void 0&&t===""?Jt({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),De(t)?new At(js(t)):(It(t)?e._d=t:Se(s)?$u(e):s?Ws(e):Ou(e),Ms(e)||(e._d=null),e))}function Ou(e){var t=e._i;ge(t)?e._d=new Date(T.now()):It(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Su(e):Se(t)?(e._a=va(t.slice(0),function(s){return parseInt(s,10)}),Ls(e)):st(t)?Cu(e):ze(t)?e._d=new Date(t):T.createFromInputFallback(e)}function Ua(e,t,s,a,r){var o={};return(t===!0||t===!1)&&(a=t,t=void 0),(s===!0||s===!1)&&(a=s,s=void 0),(st(e)&&Ds(e)||Se(e)&&e.length===0)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=s,o._i=e,o._f=t,o._strict=a,Yu(o)}function ee(e,t,s,a){return Ua(e,t,s,a,!1)}var Pu=we("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ee.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Jt()}),Nu=we("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ee.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Jt()});function ja(e,t){var s,a;if(t.length===1&&Se(t[0])&&(t=t[0]),!t.length)return ee();for(s=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](s))&&(s=t[a]);return s}function Iu(){var e=[].slice.call(arguments,0);return ja("isBefore",e)}function Au(){var e=[].slice.call(arguments,0);return ja("isAfter",e)}var Eu=function(){return Date.now?Date.now():+new Date},St=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ru(e){var t,s=!1,a,r=St.length;for(t in e)if(z(e,t)&&!(oe.call(St,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<r;++a)if(e[St[a]]){if(s)return!1;parseFloat(e[St[a]])!==V(e[St[a]])&&(s=!0)}return!0}function Uu(){return this._isValid}function ju(){return Me(NaN)}function os(e){var t=Ys(e),s=t.year||0,a=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,n=t.day||0,u=t.hour||0,c=t.minute||0,d=t.second||0,p=t.millisecond||0;this._isValid=Ru(t),this._milliseconds=+p+d*1e3+c*6e4+u*1e3*60*60,this._days=+n+o*7,this._months=+r+a*3+s*12,this._data={},this._locale=Ge(),this._bubble()}function Wt(e){return e instanceof os}function ks(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Lu(e,t,s){var a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),o=0,n;for(n=0;n<a;n++)V(e[n])!==V(t[n])&&o++;return o+r}function La(e,t){A(e,0,0,function(){var s=this.utcOffset(),a="+";return s<0&&(s=-s,a="-"),a+Pe(~~(s/60),2)+t+Pe(~~s%60,2)})}La("Z",":");La("ZZ","");Y("Z",ss);Y("ZZ",ss);Z(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=Vs(ss,e)});var Wu=/([\+\-]|\d\d)/gi;function Vs(e,t){var s=(t||"").match(e),a,r,o;return s===null?null:(a=s[s.length-1]||[],r=(a+"").match(Wu)||["-",0,0],o=+(r[1]*60)+V(r[2]),o===0?0:r[0]==="+"?o:-o)}function Fs(e,t){var s,a;return t._isUTC?(s=t.clone(),a=(De(e)||It(e)?e.valueOf():ee(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+a),T.updateOffset(s,!1),s):ee(e).local()}function ws(e){return-Math.round(e._d.getTimezoneOffset())}T.updateOffset=function(){};function Vu(e,t,s){var a=this._offset||0,r;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Vs(ss,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(r=ws(this)),this._offset=e,this._isUTC=!0,r!=null&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Fa(this,Me(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,T.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:ws(this)}function Fu(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Hu(e){return this.utcOffset(0,e)}function Bu(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ws(this),"m")),this}function zu(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Vs(cl,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Gu(e){return this.isValid()?(e=e?ee(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function qu(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Zu(){if(!ge(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Ts(e,this),e=Ra(e),e._a?(t=e._isUTC?Ie(e._a):ee(e._a),this._isDSTShifted=this.isValid()&&Lu(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ku(){return this.isValid()?!this._isUTC:!1}function Ju(){return this.isValid()?this._isUTC:!1}function Wa(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Qu=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Xu=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Me(e,t){var s=e,a=null,r,o,n;return Wt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:ze(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=Qu.exec(e))?(r=a[1]==="-"?-1:1,s={y:0,d:V(a[Ce])*r,h:V(a[de])*r,m:V(a[xe])*r,s:V(a[Ve])*r,ms:V(ks(a[tt]*1e3))*r}):(a=Xu.exec(e))?(r=a[1]==="-"?-1:1,s={y:et(a[2],r),M:et(a[3],r),w:et(a[4],r),d:et(a[5],r),h:et(a[6],r),m:et(a[7],r),s:et(a[8],r)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(n=ed(ee(s.from),ee(s.to)),s={},s.ms=n.milliseconds,s.M=n.months),o=new os(s),Wt(e)&&z(e,"_locale")&&(o._locale=e._locale),Wt(e)&&z(e,"_isValid")&&(o._isValid=e._isValid),o}Me.fn=os.prototype;Me.invalid=ju;function et(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function sa(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function ed(e,t){var s;return e.isValid()&&t.isValid()?(t=Fs(t,e),e.isBefore(t)?s=sa(e,t):(s=sa(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function Va(e,t){return function(s,a){var r,o;return a!==null&&!isNaN(+a)&&(ya(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=s,s=a,a=o),r=Me(s,a),Fa(this,r,e),this}}function Fa(e,t,s,a){var r=t._milliseconds,o=ks(t._days),n=ks(t._months);e.isValid()&&(a=a??!0,n&&Ta(e,$t(e,"Month")+n*s),o&&Sa(e,"Date",$t(e,"Date")+o*s),r&&e._d.setTime(e._d.valueOf()+r*s),a&&T.updateOffset(e,o||n))}var td=Va(1,"add"),sd=Va(-1,"subtract");function Ha(e){return typeof e=="string"||e instanceof String}function ad(e){return De(e)||It(e)||Ha(e)||ze(e)||od(e)||rd(e)||e===null||e===void 0}function rd(e){var t=st(e)&&!Ds(e),s=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,o,n=a.length;for(r=0;r<n;r+=1)o=a[r],s=s||z(e,o);return t&&s}function od(e){var t=Se(e),s=!1;return t&&(s=e.filter(function(a){return!ze(a)&&Ha(e)}).length===0),t&&s}function nd(e){var t=st(e)&&!Ds(e),s=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,o;for(r=0;r<a.length;r+=1)o=a[r],s=s||z(e,o);return t&&s}function id(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function ld(e,t){arguments.length===1&&(arguments[0]?ad(arguments[0])?(e=arguments[0],t=void 0):nd(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||ee(),a=Fs(s,this).startOf("day"),r=T.calendarFormat(this,a)||"sameElse",o=t&&(Ae(t[r])?t[r].call(this,s):t[r]);return this.format(o||this.localeData().calendar(r,this,ee(s)))}function ud(){return new At(this)}function dd(e,t){var s=De(e)?e:ee(e);return this.isValid()&&s.isValid()?(t=be(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function cd(e,t){var s=De(e)?e:ee(e);return this.isValid()&&s.isValid()?(t=be(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function fd(e,t,s,a){var r=De(e)?e:ee(e),o=De(t)?t:ee(t);return this.isValid()&&r.isValid()&&o.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(r,s):!this.isBefore(r,s))&&(a[1]===")"?this.isBefore(o,s):!this.isAfter(o,s))):!1}function md(e,t){var s=De(e)?e:ee(e),a;return this.isValid()&&s.isValid()?(t=be(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(a=s.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function hd(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vd(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function gd(e,t,s){var a,r,o;if(!this.isValid())return NaN;if(a=Fs(e,this),!a.isValid())return NaN;switch(r=(a.utcOffset()-this.utcOffset())*6e4,t=be(t),t){case"year":o=Vt(this,a)/12;break;case"month":o=Vt(this,a);break;case"quarter":o=Vt(this,a)/3;break;case"second":o=(this-a)/1e3;break;case"minute":o=(this-a)/6e4;break;case"hour":o=(this-a)/36e5;break;case"day":o=(this-a-r)/864e5;break;case"week":o=(this-a-r)/6048e5;break;default:o=this-a}return s?o:ke(o)}function Vt(e,t){if(e.date()<t.date())return-Vt(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(s,"months"),r,o;return t-a<0?(r=e.clone().add(s-1,"months"),o=(t-a)/(a-r)):(r=e.clone().add(s+1,"months"),o=(t-a)/(r-a)),-(s+o)||0}T.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";T.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function yd(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pd(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?Lt(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ae(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Lt(s,"Z")):Lt(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function _d(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,a,r,o;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]',this.format(s+a+r+o)}function kd(e){e||(e=this.isUtc()?T.defaultFormatUtc:T.defaultFormat);var t=Lt(this,e);return this.localeData().postformat(t)}function wd(e,t){return this.isValid()&&(De(e)&&e.isValid()||ee(e).isValid())?Me({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bd(e){return this.from(ee(),e)}function xd(e,t){return this.isValid()&&(De(e)&&e.isValid()||ee(e).isValid())?Me({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Sd(e){return this.to(ee(),e)}function Ba(e){var t;return e===void 0?this._locale._abbr:(t=Ge(e),t!=null&&(this._locale=t),this)}var za=we("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Ga(){return this._locale}var Bt=1e3,ct=60*Bt,zt=60*ct,qa=(365*400+97)*24*zt;function ft(e,t){return(e%t+t)%t}function Za(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-qa:new Date(e,t,s).valueOf()}function Ka(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-qa:Date.UTC(e,t,s)}function Dd(e){var t,s;if(e=be(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Ka:Za,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ft(t+(this._isUTC?0:this.utcOffset()*ct),zt);break;case"minute":t=this._d.valueOf(),t-=ft(t,ct);break;case"second":t=this._d.valueOf(),t-=ft(t,Bt);break}return this._d.setTime(t),T.updateOffset(this,!0),this}function Md(e){var t,s;if(e=be(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?Ka:Za,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=zt-ft(t+(this._isUTC?0:this.utcOffset()*ct),zt)-1;break;case"minute":t=this._d.valueOf(),t+=ct-ft(t,ct)-1;break;case"second":t=this._d.valueOf(),t+=Bt-ft(t,Bt)-1;break}return this._d.setTime(t),T.updateOffset(this,!0),this}function Td(){return this._d.valueOf()-(this._offset||0)*6e4}function $d(){return Math.floor(this.valueOf()/1e3)}function Cd(){return new Date(this.valueOf())}function Yd(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Od(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Pd(){return this.isValid()?this.toISOString():null}function Nd(){return Ms(this)}function Id(){return Ke({},j(this))}function Ad(){return j(this).overflow}function Ed(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}A("N",0,0,"eraAbbr");A("NN",0,0,"eraAbbr");A("NNN",0,0,"eraAbbr");A("NNNN",0,0,"eraName");A("NNNNN",0,0,"eraNarrow");A("y",["y",1],"yo","eraYear");A("y",["yy",2],0,"eraYear");A("y",["yyy",3],0,"eraYear");A("y",["yyyy",4],0,"eraYear");Y("N",Hs);Y("NN",Hs);Y("NNN",Hs);Y("NNNN",Gd);Y("NNNNN",qd);Z(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,a){var r=s._locale.erasParse(e,a,s._strict);r?j(s).era=r:j(s).invalidEra=e});Y("y",ht);Y("yy",ht);Y("yyy",ht);Y("yyyy",ht);Y("yo",Zd);Z(["y","yy","yyy","yyyy"],fe);Z(["yo"],function(e,t,s,a){var r;s._locale._eraYearOrdinalRegex&&(r=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[fe]=s._locale.eraYearOrdinalParse(e,r):t[fe]=parseInt(e,10)});function Rd(e,t){var s,a,r,o=this._eras||Ge("en")._eras;for(s=0,a=o.length;s<a;++s){switch(typeof o[s].since){case"string":r=T(o[s].since).startOf("day"),o[s].since=r.valueOf();break}switch(typeof o[s].until){case"undefined":o[s].until=1/0;break;case"string":r=T(o[s].until).startOf("day").valueOf(),o[s].until=r.valueOf();break}}return o}function Ud(e,t,s){var a,r,o=this.eras(),n,u,c;for(e=e.toUpperCase(),a=0,r=o.length;a<r;++a)if(n=o[a].name.toUpperCase(),u=o[a].abbr.toUpperCase(),c=o[a].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(u===e)return o[a];break;case"NNNN":if(n===e)return o[a];break;case"NNNNN":if(c===e)return o[a];break}else if([n,u,c].indexOf(e)>=0)return o[a]}function jd(e,t){var s=e.since<=e.until?1:-1;return t===void 0?T(e.since).year():T(e.since).year()+(t-e.offset)*s}function Ld(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].name;return""}function Wd(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].narrow;return""}function Vd(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].abbr;return""}function Fd(){var e,t,s,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(s=r[e].since<=r[e].until?1:-1,a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until||r[e].until<=a&&a<=r[e].since)return(this.year()-T(r[e].since).year())*s+r[e].offset;return this.year()}function Hd(e){return z(this,"_erasNameRegex")||Bs.call(this),e?this._erasNameRegex:this._erasRegex}function Bd(e){return z(this,"_erasAbbrRegex")||Bs.call(this),e?this._erasAbbrRegex:this._erasRegex}function zd(e){return z(this,"_erasNarrowRegex")||Bs.call(this),e?this._erasNarrowRegex:this._erasRegex}function Hs(e,t){return t.erasAbbrRegex(e)}function Gd(e,t){return t.erasNameRegex(e)}function qd(e,t){return t.erasNarrowRegex(e)}function Zd(e,t){return t._eraYearOrdinalRegex||ht}function Bs(){var e=[],t=[],s=[],a=[],r,o,n,u,c,d=this.eras();for(r=0,o=d.length;r<o;++r)n=He(d[r].name),u=He(d[r].abbr),c=He(d[r].narrow),t.push(n),e.push(u),s.push(c),a.push(n),a.push(u),a.push(c);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}A(0,["gg",2],0,function(){return this.weekYear()%100});A(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ns(e,t){A(0,[e,e.length],0,t)}ns("gggg","weekYear");ns("ggggg","weekYear");ns("GGGG","isoWeekYear");ns("GGGGG","isoWeekYear");Y("G",ts);Y("g",ts);Y("GG",te,_e);Y("gg",te,_e);Y("GGGG",Ps,Os);Y("gggg",Ps,Os);Y("GGGGG",es,Qt);Y("ggggg",es,Qt);Rt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,a){t[a.substr(0,2)]=V(e)});Rt(["gg","GG"],function(e,t,s,a){t[a]=T.parseTwoDigitYear(e)});function Kd(e){return Ja.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Jd(e){return Ja.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Qd(){return Be(this.year(),1,4)}function Xd(){return Be(this.isoWeekYear(),1,4)}function ec(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)}function tc(){var e=this.localeData()._week;return Be(this.weekYear(),e.dow,e.doy)}function Ja(e,t,s,a,r){var o;return e==null?Yt(this,a,r).year:(o=Be(e,a,r),t>o&&(t=o),sc.call(this,e,t,s,a,r))}function sc(e,t,s,a,r){var o=Ya(e,t,s,a,r),n=Ct(o.year,0,o.dayOfYear);return this.year(n.getUTCFullYear()),this.month(n.getUTCMonth()),this.date(n.getUTCDate()),this}A("Q",0,"Qo","quarter");Y("Q",_a);Z("Q",function(e,t){t[We]=(V(e)-1)*3});function ac(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}A("D",["DD",2],"Do","date");Y("D",te,vt);Y("DD",te,_e);Y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Z(["D","DD"],Ce);Z("Do",function(e,t){t[Ce]=V(e.match(te)[0])});var Qa=gt("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear");Y("DDD",Xt);Y("DDDD",ka);Z(["DDD","DDDD"],function(e,t,s){s._dayOfYear=V(e)});function rc(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}A("m",["mm",2],0,"minute");Y("m",te,Ns);Y("mm",te,_e);Z(["m","mm"],xe);var oc=gt("Minutes",!1);A("s",["ss",2],0,"second");Y("s",te,Ns);Y("ss",te,_e);Z(["s","ss"],Ve);var nc=gt("Seconds",!1);A("S",0,0,function(){return~~(this.millisecond()/100)});A(0,["SS",2],0,function(){return~~(this.millisecond()/10)});A(0,["SSS",3],0,"millisecond");A(0,["SSSS",4],0,function(){return this.millisecond()*10});A(0,["SSSSS",5],0,function(){return this.millisecond()*100});A(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});A(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});A(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});A(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Y("S",Xt,_a);Y("SS",Xt,_e);Y("SSS",Xt,ka);var Je,Xa;for(Je="SSSS";Je.length<=9;Je+="S")Y(Je,ht);function ic(e,t){t[tt]=V(("0."+e)*1e3)}for(Je="S";Je.length<=9;Je+="S")Z(Je,ic);Xa=gt("Milliseconds",!1);A("z",0,0,"zoneAbbr");A("zz",0,0,"zoneName");function lc(){return this._isUTC?"UTC":""}function uc(){return this._isUTC?"Coordinated Universal Time":""}var b=At.prototype;b.add=td;b.calendar=ld;b.clone=ud;b.diff=gd;b.endOf=Md;b.format=kd;b.from=wd;b.fromNow=bd;b.to=xd;b.toNow=Sd;b.get=_l;b.invalidAt=Ad;b.isAfter=dd;b.isBefore=cd;b.isBetween=fd;b.isSame=md;b.isSameOrAfter=hd;b.isSameOrBefore=vd;b.isValid=Nd;b.lang=za;b.locale=Ba;b.localeData=Ga;b.max=Nu;b.min=Pu;b.parsingFlags=Id;b.set=kl;b.startOf=Dd;b.subtract=sd;b.toArray=Yd;b.toObject=Od;b.toDate=Cd;b.toISOString=pd;b.inspect=_d;typeof Symbol<"u"&&Symbol.for!=null&&(b[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});b.toJSON=Pd;b.toString=yd;b.unix=$d;b.valueOf=Td;b.creationData=Ed;b.eraName=Ld;b.eraNarrow=Wd;b.eraAbbr=Vd;b.eraYear=Fd;b.year=xa;b.isLeapYear=pl;b.weekYear=Kd;b.isoWeekYear=Jd;b.quarter=b.quarters=ac;b.month=$a;b.daysInMonth=Cl;b.week=b.weeks=Rl;b.isoWeek=b.isoWeeks=Ul;b.weeksInYear=ec;b.weeksInWeekYear=tc;b.isoWeeksInYear=Qd;b.isoWeeksInISOWeekYear=Xd;b.date=Qa;b.day=b.days=Jl;b.weekday=Ql;b.isoWeekday=Xl;b.dayOfYear=rc;b.hour=b.hours=nu;b.minute=b.minutes=oc;b.second=b.seconds=nc;b.millisecond=b.milliseconds=Xa;b.utcOffset=Vu;b.utc=Hu;b.local=Bu;b.parseZone=zu;b.hasAlignedHourOffset=Gu;b.isDST=qu;b.isLocal=Ku;b.isUtcOffset=Ju;b.isUtc=Wa;b.isUTC=Wa;b.zoneAbbr=lc;b.zoneName=uc;b.dates=we("dates accessor is deprecated. Use date instead.",Qa);b.months=we("months accessor is deprecated. Use month instead",$a);b.years=we("years accessor is deprecated. Use year instead",xa);b.zone=we("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Fu);b.isDSTShifted=we("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Zu);function dc(e){return ee(e*1e3)}function cc(){return ee.apply(null,arguments).parseZone()}function er(e){return e}var G=$s.prototype;G.calendar=Ki;G.longDateFormat=el;G.invalidDate=sl;G.ordinal=ol;G.preparse=er;G.postformat=er;G.relativeTime=il;G.pastFuture=ll;G.set=qi;G.eras=Rd;G.erasParse=Ud;G.erasConvertYear=jd;G.erasAbbrRegex=Bd;G.erasNameRegex=Hd;G.erasNarrowRegex=zd;G.months=Dl;G.monthsShort=Ml;G.monthsParse=$l;G.monthsRegex=Ol;G.monthsShortRegex=Yl;G.week=Nl;G.firstDayOfYear=El;G.firstDayOfWeek=Al;G.weekdays=zl;G.weekdaysMin=ql;G.weekdaysShort=Gl;G.weekdaysParse=Kl;G.weekdaysRegex=eu;G.weekdaysShortRegex=tu;G.weekdaysMinRegex=su;G.isPM=ru;G.meridiem=iu;function Gt(e,t,s,a){var r=Ge(),o=Ie().set(a,t);return r[s](o,e)}function tr(e,t,s){if(ze(e)&&(t=e,e=void 0),e=e||"",t!=null)return Gt(e,t,s,"month");var a,r=[];for(a=0;a<12;a++)r[a]=Gt(e,a,s,"month");return r}function zs(e,t,s,a){typeof e=="boolean"?(ze(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,ze(t)&&(s=t,t=void 0),t=t||"");var r=Ge(),o=e?r._week.dow:0,n,u=[];if(s!=null)return Gt(t,(s+o)%7,a,"day");for(n=0;n<7;n++)u[n]=Gt(t,(n+o)%7,a,"day");return u}function fc(e,t){return tr(e,t,"months")}function mc(e,t){return tr(e,t,"monthsShort")}function hc(e,t,s){return zs(e,t,s,"weekdays")}function vc(e,t,s){return zs(e,t,s,"weekdaysShort")}function gc(e,t,s){return zs(e,t,s,"weekdaysMin")}Qe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=V(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});T.lang=we("moment.lang is deprecated. Use moment.locale instead.",Qe);T.langData=we("moment.langData is deprecated. Use moment.localeData instead.",Ge);var Re=Math.abs;function yc(){var e=this._data;return this._milliseconds=Re(this._milliseconds),this._days=Re(this._days),this._months=Re(this._months),e.milliseconds=Re(e.milliseconds),e.seconds=Re(e.seconds),e.minutes=Re(e.minutes),e.hours=Re(e.hours),e.months=Re(e.months),e.years=Re(e.years),this}function sr(e,t,s,a){var r=Me(t,s);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function pc(e,t){return sr(this,e,t,1)}function _c(e,t){return sr(this,e,t,-1)}function aa(e){return e<0?Math.floor(e):Math.ceil(e)}function kc(){var e=this._milliseconds,t=this._days,s=this._months,a=this._data,r,o,n,u,c;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=aa(bs(s)+t)*864e5,t=0,s=0),a.milliseconds=e%1e3,r=ke(e/1e3),a.seconds=r%60,o=ke(r/60),a.minutes=o%60,n=ke(o/60),a.hours=n%24,t+=ke(n/24),c=ke(ar(t)),s+=c,t-=aa(bs(c)),u=ke(s/12),s%=12,a.days=t,a.months=s,a.years=u,this}function ar(e){return e*4800/146097}function bs(e){return e*146097/4800}function wc(e){if(!this.isValid())return NaN;var t,s,a=this._milliseconds;if(e=be(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,s=this._months+ar(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(bs(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function qe(e){return function(){return this.as(e)}}var rr=qe("ms"),bc=qe("s"),xc=qe("m"),Sc=qe("h"),Dc=qe("d"),Mc=qe("w"),Tc=qe("M"),$c=qe("Q"),Cc=qe("y"),Yc=rr;function Oc(){return Me(this)}function Pc(e){return e=be(e),this.isValid()?this[e+"s"]():NaN}function rt(e){return function(){return this.isValid()?this._data[e]:NaN}}var Nc=rt("milliseconds"),Ic=rt("seconds"),Ac=rt("minutes"),Ec=rt("hours"),Rc=rt("days"),Uc=rt("months"),jc=rt("years");function Lc(){return ke(this.days()/7)}var Ue=Math.round,lt={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wc(e,t,s,a,r){return r.relativeTime(t||1,!!s,e,a)}function Vc(e,t,s,a){var r=Me(e).abs(),o=Ue(r.as("s")),n=Ue(r.as("m")),u=Ue(r.as("h")),c=Ue(r.as("d")),d=Ue(r.as("M")),p=Ue(r.as("w")),y=Ue(r.as("y")),C=o<=s.ss&&["s",o]||o<s.s&&["ss",o]||n<=1&&["m"]||n<s.m&&["mm",n]||u<=1&&["h"]||u<s.h&&["hh",u]||c<=1&&["d"]||c<s.d&&["dd",c];return s.w!=null&&(C=C||p<=1&&["w"]||p<s.w&&["ww",p]),C=C||d<=1&&["M"]||d<s.M&&["MM",d]||y<=1&&["y"]||["yy",y],C[2]=t,C[3]=+e>0,C[4]=a,Wc.apply(null,C)}function Fc(e){return e===void 0?Ue:typeof e=="function"?(Ue=e,!0):!1}function Hc(e,t){return lt[e]===void 0?!1:t===void 0?lt[e]:(lt[e]=t,e==="s"&&(lt.ss=t-1),!0)}function Bc(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,a=lt,r,o;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(a=Object.assign({},lt,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),r=this.localeData(),o=Vc(this,!s,a,r),s&&(o=r.pastFuture(+this,o)),r.postformat(o)}var hs=Math.abs;function nt(e){return(e>0)-(e<0)||+e}function is(){if(!this.isValid())return this.localeData().invalidDate();var e=hs(this._milliseconds)/1e3,t=hs(this._days),s=hs(this._months),a,r,o,n,u=this.asSeconds(),c,d,p,y;return u?(a=ke(e/60),r=ke(a/60),e%=60,a%=60,o=ke(s/12),s%=12,n=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=u<0?"-":"",d=nt(this._months)!==nt(u)?"-":"",p=nt(this._days)!==nt(u)?"-":"",y=nt(this._milliseconds)!==nt(u)?"-":"",c+"P"+(o?d+o+"Y":"")+(s?d+s+"M":"")+(t?p+t+"D":"")+(r||a||e?"T":"")+(r?y+r+"H":"")+(a?y+a+"M":"")+(e?y+n+"S":"")):"P0D"}var B=os.prototype;B.isValid=Uu;B.abs=yc;B.add=pc;B.subtract=_c;B.as=wc;B.asMilliseconds=rr;B.asSeconds=bc;B.asMinutes=xc;B.asHours=Sc;B.asDays=Dc;B.asWeeks=Mc;B.asMonths=Tc;B.asQuarters=$c;B.asYears=Cc;B.valueOf=Yc;B._bubble=kc;B.clone=Oc;B.get=Pc;B.milliseconds=Nc;B.seconds=Ic;B.minutes=Ac;B.hours=Ec;B.days=Rc;B.weeks=Lc;B.months=Uc;B.years=jc;B.humanize=Bc;B.toISOString=is;B.toString=is;B.toJSON=is;B.locale=Ba;B.localeData=Ga;B.toIsoString=we("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",is);B.lang=za;A("X",0,0,"unix");A("x",0,0,"valueOf");Y("x",ts);Y("X",fl);Z("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});Z("x",function(e,t,s){s._d=new Date(V(e))});//! moment.js
T.version="2.30.1";zi(ee);T.fn=b;T.min=Iu;T.max=Au;T.now=Eu;T.utc=Ie;T.unix=dc;T.months=fc;T.isDate=It;T.locale=Qe;T.invalid=Jt;T.duration=Me;T.isMoment=De;T.weekdays=hc;T.parseZone=cc;T.localeData=Ge;T.isDuration=Wt;T.monthsShort=mc;T.weekdaysMin=gc;T.defineLocale=Us;T.updateLocale=cu;T.locales=fu;T.weekdaysShort=vc;T.normalizeUnits=be;T.relativeTimeRounding=Fc;T.relativeTimeThreshold=Hc;T.calendarFormat=id;T.prototype=b;T.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const zc={class:"space-y-4"},Gc={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},qc={class:"text-sm font-medium text-gray-900"},Zc={class:"text-xs text-gray-500 mt-1"},Kc={class:"mb-4"},Jc="post",Qc="Add Note",Xc="Note added successfully!",ef={__name:"TaskNoteModal",props:{show:Boolean,taskForNote:Object},emits:["close","note-added"],setup(e,{emit:t}){const s=e,a=t,r=Zt({note:""}),o=H(()=>{var d;return`Add Note to Task: "${(d=s.taskForNote)==null?void 0:d.name}"`}),n=H(()=>{var d;return`/api/tasks/${(d=s.taskForNote)==null?void 0:d.id}/notes`});me(()=>s.show,d=>{d&&Object.assign(r,{note:""})},{immediate:!0});const u=d=>{a("note-added",d),a("close")},c=()=>{a("close")};return(d,p)=>(l(),E(Kt,{show:e.show,title:o.value,"api-endpoint":n.value,"http-method":Jc,"form-data":r,"submit-button-text":Qc,"success-message":Xc,onClose:c,onSubmitted:u},{default:S(({errors:y})=>[i("div",zc,[e.taskForNote?(l(),m("div",Gc,[i("p",qc,N(e.taskForNote.name),1),i("p",Zc,"Status: "+N(e.taskForNote.status),1)])):w("",!0),i("div",Kc,[v(q,{for:"task-note-content",value:"Note Content"}),ie(i("textarea",{id:"task-note-content","onUpdate:modelValue":p[0]||(p[0]=C=>r.note=C),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note...",required:""},null,512),[[Ye,r.note]]),v(ae,{message:y.note?y.note[0]:"",class:"mt-2"},null,8,["message"])])])]),_:1},8,["show","title","api-endpoint","form-data"]))}},tf={class:"task-history-list"},sf={key:0,class:"text-center py-4"},af={key:1,class:"text-gray-500 text-sm py-2"},rf={key:2,class:"space-y-3"},of={class:"flex items-start"},nf={class:"text-xl mr-2"},lf={class:"text-sm text-gray-700"},uf={class:"text-xs text-gray-500 mt-1"},df={__name:"TaskHistoryList",props:{activities:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},setup(e){const t=a=>a?new Date(a).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",s=a=>(console.log(a),a.includes("created")?"ðŸ†•":a.includes("started")?"ðŸš€":a.includes("paused")?"â¸ï¸":a.includes("resumed")?"â–¶ï¸":a.includes("unblocked")?"ðŸ”“":a.includes("blocked")?"â›”":a.includes("completed")?"âœ…":a.includes("revised")?"ðŸ”„":a.includes("deleted")?"ðŸ—‘ï¸":a.includes("assigned")?"ðŸ‘¤":a.includes("updated")?"ðŸ“":a.includes("added note")?"ðŸ—’ï¸":a.includes("commented")?"ðŸ’¬":"ðŸ“‹");return(a,r)=>(l(),m("div",tf,[e.loading?(l(),m("div",sf,r[0]||(r[0]=[i("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"},null,-1),i("p",{class:"mt-2 text-gray-500"},"Loading activity history...",-1)]))):e.activities.length===0?(l(),m("div",af," No activity history available for this task. ")):(l(),m("div",rf,[(l(!0),m(ue,null,ce(e.activities,o=>{var n;return l(),m("div",{key:o.id,class:"p-3 bg-gray-50 rounded-md"},[i("div",of,[i("span",nf,N(s(o.description)),1),i("div",null,[i("p",lf,N(o.description),1),i("p",uf," By "+N(((n=o.causer)==null?void 0:n.name)||"System")+" on "+N(t(o.created_at)),1)])])])}),128))]))]))}},cf=at(df,[["__scopeId","data-v-423d54af"]]),Ym=async()=>{try{return(await ne.get("/api/assigned-tasks")).data}catch(e){throw console.error("Error fetching assigned tasks:",e),he("Failed to load assigned tasks"),e}},Om=async e=>{try{return(await ne.get(`/api/projects/${e}/tasks`)).data}catch(t){throw console.error("Error fetching project tasks:",t),he("Failed to load project tasks"),t}},Pm=async e=>{try{return(await ne.get(`/api/projects/${e}/due-and-overdue-tasks`)).data}catch(t){throw console.error("Error fetching due and overdue tasks:",t),he("Failed to load due and overdue tasks"),t}},ff=async e=>{if(!e||e.status==="In Progress")return e;try{Xe("Starting task...");const t=await ne.post(`/api/tasks/${e.id}/start`);return Ne("Task started successfully"),t.data}catch(t){throw console.error("Error starting task:",t),he("Failed to start task. Please try again."),t}},mf=async e=>{if(!e||e.status!=="In Progress")return pe('Task can only be paused from "In Progress" status.'),e;try{Xe("Pausing task...");const t=await ne.post(`/api/tasks/${e.id}/pause`);return Ne("Task paused successfully"),t.data}catch(t){throw console.error("Error pausing task:",t),he("Failed to pause task. Please try again."),t}},hf=async e=>{if(!e||e.status!=="Paused")return pe('Task can only be resumed from "Paused" status.'),e;try{Xe("Resuming task...");const t=await ne.post(`/api/tasks/${e.id}/resume`);return Ne("Task resumed successfully"),t.data}catch(t){throw console.error("Error resuming task:",t),he("Failed to resume task. Please try again."),t}},vf=async e=>{if(!e||e.status==="Done")return e;if(e.status!=="In Progress")throw pe("Task must be started before it can be completed"),new Error("Task must be started before it can be completed");try{Xe("Completing task...");const t=await ne.patch(`/api/tasks/${e.id}/complete`);return Ne("Task completed successfully"),t.data}catch(t){throw console.error("Error completing task:",t),t.response&&t.response.status===422?pe(t.response.data.message||"Task must be started before it can be completed"):he("Failed to complete task. Please try again."),t}},gf=async(e,t)=>{if(!e||e.status==="Blocked")return pe("Task is already blocked."),e;if(e.status==="Done")return pe("Completed tasks cannot be blocked."),e;if(!t)throw pe("Please provide a reason for blocking the task"),new Error("Blocking reason is required");try{Xe("Blocking task...");const s=await ne.post(`/api/tasks/${e.id}/block`,{reason:t});return Ne("Task blocked successfully"),s.data}catch(s){throw console.error("Error blocking task:",s),he("Failed to block task. Please try again."),s}},yf=async e=>{if(!e||e.status!=="Blocked")return pe("Task is not in a blocked state."),e;try{Xe("Unblocking task...");const t=await ne.post(`/api/tasks/${e.id}/unblock`);return Ne("Task unblocked successfully"),t.data}catch(t){throw console.error("Error unblocking task:",t),he("Failed to unblock task. Please try again."),t}},pf=async e=>{if(!e||e.status!=="Done")return pe("Only completed tasks can be revised."),e;try{Xe("Revising task...");const t=await ne.post(`/api/tasks/${e.id}/revise`);return Ne("Task revised successfully"),t.data}catch(t){throw console.error("Error revising task:",t),t.response&&t.response.status===422?pe(t.response.data.message||"Only completed tasks can be revised"):he("Failed to revise task. Please try again."),t}},_f=async e=>{if(!e)return!1;if(e.status!=="To Do")throw pe("Only tasks in To Do status can be deleted"),new Error("Only tasks in To Do status can be deleted");if(!confirm("Are you sure you want to delete this task? This action cannot be undone."))return!1;try{return Xe("Deleting task..."),await ne.delete(`/api/tasks/${e.id}`),Ne("Task deleted successfully"),!0}catch(t){throw console.error("Error deleting task:",t),he("Failed to delete task. Please try again."),t}},kf=e=>{switch(e){case"To Do":return"bg-yellow-100 text-yellow-800";case"In Progress":return"bg-blue-100 text-blue-800";case"Paused":return"bg-orange-100 text-orange-800";case"Blocked":return"bg-red-100 text-red-800";case"Done":return"bg-green-100 text-green-800";case"Archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Nm=e=>{switch(e){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Im=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"Medium",wf={key:0,class:"text-center py-8 text-gray-500"},bf={key:1,class:"text-center py-8 text-red-600"},xf={key:2,class:"space-y-6"},Sf={class:"bg-gray-50 p-4 rounded-lg shadow-sm"},Df={class:"text-xl font-bold text-gray-900 mb-2"},Mf={class:"flex items-center space-x-2 text-sm text-gray-600 mb-4"},Tf={key:0,class:"text-indigo-600 font-medium"},$f={key:1,class:"text-purple-600 font-medium"},Cf={class:"text-gray-700 leading-relaxed"},Yf={class:"mt-4 flex flex-wrap gap-2"},Of={key:0,class:"text-xs text-gray-500 mt-1"},Pf={key:0,class:"bg-yellow-50 border-l-4 border-red-400 p-4 rounded-lg shadow-sm"},Nf={class:"flex items-center"},If={class:"ml-3"},Af={class:"mt-2 text-sm text-yellow-700"},Ef={class:"space-y-4 p-4 bg-white rounded-lg shadow-sm"},Rf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Uf={class:"flex-1 text-right"},jf={key:0,class:"text-xs text-gray-400 ml-1"},Lf={key:1,class:"flex items-center space-x-2"},Wf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Vf={class:"flex-1 text-right"},Ff={key:1,class:"flex items-center space-x-2"},Hf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Bf={class:"flex-1 text-right"},zf={key:0,class:"text-xs text-gray-400 ml-1"},Gf={key:1,class:"flex items-center space-x-2"},qf={class:"flex items-center justify-between py-2 border-b border-gray-100"},Zf={class:"text-gray-700"},Kf={class:"flex items-start py-2 border-b border-gray-100"},Jf={class:"flex-1 flex flex-wrap gap-2"},Qf={key:0,class:"text-gray-500 text-sm"},Xf={class:"bg-white p-4 rounded-lg shadow-sm"},em={class:"flex justify-between items-center mb-4 border-b pb-2"},tm={key:0,class:"space-y-3"},sm={class:"text-sm text-gray-700"},am={class:"text-xs text-gray-500 mt-1"},rm={key:1,class:"text-gray-500 text-sm py-2"},om={class:"bg-white p-4 rounded-lg shadow-sm"},nm={key:3,class:"text-center py-8 text-gray-500"},im={key:4,class:"mt-4 flex flex-col items-center"},lm={key:0,class:"text-xs text-red-500 mt-1"},um={class:"p-6"},dm={class:"mb-4"},cm={class:"flex justify-end space-x-3"},fm={__name:"TaskDetailSidebar",props:{taskId:{type:Number,required:!0},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","task-updated","task-deleted"],setup(e,{emit:t}){const s=e,a=t,r=O(null),o=O(!0),n=O(""),u=O(!1),c=O(!1),d=O(!1),p=O(null),y=O(null),C=O(null),U=O([]),M=O(!1),g=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],x=O(!1),_=async()=>{o.value=!0,n.value="";try{const R=await window.axios.get(`/api/tasks/${s.taskId}`);r.value=R.data,p.value=r.value.assigned_to_id||null,y.value=r.value.due_date||null,C.value=r.value.priority||"medium",f()}catch(R){n.value="Failed to load task details.",console.error("Error fetching task details:",R)}finally{o.value=!1}},f=async()=>{M.value=!0;try{const R=await window.axios.get("/api/activities",{params:{subject_type:"App\\Models\\Task",subject_id:s.taskId}});U.value=R.data}catch(R){console.error("Error fetching task activities:",R)}finally{M.value=!1}};me(()=>s.taskId,R=>{R?_():r.value=null},{immediate:!0});const h=H(()=>s.projectUsers.map(R=>({value:R.id,label:R.name}))),k=async()=>{if(!r.value||p.value===r.value.assigned_to_id){u.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${r.value.id}`,{assigned_to_user_id:p.value});r.value=R.data,a("task-updated",r.value)}catch(R){console.error("Error updating assigned user:",R),p.value=r.value.assigned_to_id,he("Failed to update assigned user. Please try again.")}finally{u.value=!1}},P=async()=>{if(!r.value||y.value===r.value.due_date){c.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${r.value.id}`,{due_date:y.value});r.value=R.data,a("task-updated",r.value)}catch(R){console.error("Error updating due date:",R),y.value=r.value.due_date,he("Failed to update due date. Please try again.")}finally{c.value=!1}},L=async()=>{if(!r.value||C.value===r.value.priority){d.value=!1;return}try{const R=await window.axios.patch(`/api/tasks/${r.value.id}`,{priority:C.value});r.value=R.data,a("task-updated",r.value)}catch(R){console.error("Error updating priority:",R),C.value=r.value.priority,he("Failed to update priority. Please try again.")}finally{d.value=!1}},re=()=>{x.value=!0},Ee=()=>{_(),x.value=!1},X=async()=>{try{await _f(r.value),a("task-deleted",r.value.id),a("close")}catch(R){console.error("Error deleting task:",R)}},W=async()=>{try{r.value=await ff(r.value),a("task-updated",r.value),f()}catch(R){console.error("Error starting task:",R)}},K=async()=>{try{r.value=await mf(r.value),a("task-updated",r.value),f()}catch(R){console.error("Error pausing task:",R)}},Q=async()=>{try{r.value=await hf(r.value),a("task-updated",r.value),f()}catch(R){console.error("Error resuming task:",R)}},Te=async()=>{try{r.value=await vf(r.value),a("task-updated",r.value),f()}catch(R){console.error("Error completing task:",R)}},or=async()=>{try{r.value=await pf(r.value),a("task-updated",r.value),f()}catch(R){console.error("Error revising task:",R)}},yt=O(!1),ot=O(""),nr=()=>{ot.value="",yt.value=!0},ir=async()=>{if(!ot.value.trim()){pe("Please provide a reason for blocking the task");return}try{r.value=await gf(r.value,ot.value),Ne("Task blocked successfully"),a("task-updated",r.value),f(),yt.value=!1}catch(R){console.error("Error blocking task:",R)}},lr=async()=>{try{r.value=await yf(r.value),a("task-updated",r.value),f()}catch(R){console.error("Error unblocking task:",R)}},ur=H(()=>r.value?kf(r.value.status):""),ls=H(()=>{var D,pt,_t,kt;if(!U.value||((D=r.value)==null?void 0:D.status)!=="Blocked")return null;const R=U.value.find(wt=>{var J,Gs;return wt.event==="updated"&&((Gs=(J=wt.properties)==null?void 0:J.attributes)==null?void 0:Gs.status)==="Blocked"});return R?(console.log(R.properties),{causer:((pt=R.causer)==null?void 0:pt.name)||"Unknown",reason:((kt=(_t=R.properties)==null?void 0:_t.attributes)==null?void 0:kt.block_reason)||"No reason provided."}):null});return(R,D)=>{var pt,_t,kt,wt;return l(),m("div",null,[o.value?(l(),m("div",wf," Loading task details... ")):n.value?(l(),m("div",bf,N(n.value),1)):r.value?(l(),m("div",xf,[i("div",Sf,[i("h4",Df,N(r.value.name),1),i("div",Mf,[i("span",{class:F(["px-2 py-1 rounded-full text-xs font-medium",ur.value])},N(r.value.status),3),r.value.task_type?(l(),m("span",Tf," | "+N((pt=r.value.task_type)==null?void 0:pt.name)+" | ",1)):w("",!0),D[13]||(D[13]=i("br",null,null,-1)),(_t=r.value.milestone)!=null&&_t.name?(l(),m("span",$f,N((kt=r.value.milestone)==null?void 0:kt.name),1)):w("",!0)]),i("p",Cf,N(r.value.description||"No description provided."),1),i("div",Yf,[r.value.status==="To Do"?(l(),E(ye,{key:0,onClick:W,class:"bg-blue-600 hover:bg-blue-700"},{default:S(()=>D[14]||(D[14]=[$(" Start Task ",-1)])),_:1,__:[14]})):r.value.status==="In Progress"?(l(),E(ye,{key:1,onClick:K,class:"bg-orange-600 hover:bg-orange-700"},{default:S(()=>D[15]||(D[15]=[$(" Pause Task ",-1)])),_:1,__:[15]})):r.value.status==="Paused"?(l(),E(ye,{key:2,onClick:Q,class:"bg-blue-600 hover:bg-blue-700"},{default:S(()=>D[16]||(D[16]=[$(" Resume Task ",-1)])),_:1,__:[16]})):r.value.status==="Blocked"?(l(),E(ye,{key:3,onClick:lr,class:"bg-green-600 hover:bg-green-700"},{default:S(()=>D[17]||(D[17]=[$(" Unblock Task ",-1)])),_:1,__:[17]})):w("",!0),r.value.status==="To Do"||r.value.status==="In Progress"||r.value.status==="Paused"?(l(),E(ye,{key:4,onClick:nr,class:"bg-red-600 hover:bg-red-700"},{default:S(()=>D[18]||(D[18]=[$(" Block Task ",-1)])),_:1,__:[18]})):w("",!0),r.value.status==="In Progress"?(l(),E(ye,{key:5,onClick:Te,class:"bg-green-600 hover:bg-green-700"},{default:S(()=>D[19]||(D[19]=[$(" Complete Task ",-1)])),_:1,__:[19]})):w("",!0),r.value.status==="Done"?(l(),E(ye,{key:6,onClick:or,class:"bg-yellow-600 hover:bg-yellow-700"},{default:S(()=>D[20]||(D[20]=[$(" Revise Task ",-1)])),_:1,__:[20]})):w("",!0)]),r.value.status==="Done"?(l(),m("div",Of,' Revising will change the task status back to "To Do" ')):w("",!0)]),r.value.status==="Blocked"&&ls.value?(l(),m("div",Pf,[i("div",Nf,[D[22]||(D[22]=i("div",{class:"flex-shrink-0"},[i("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.487 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11.75 13a.75.75 0 01-1.5 0v-2.25a.75.75 0 011.5 0V13zm-1.5-7.5a.75.75 0 011.5 0v1.5a.75.75 0 01-1.5 0V5.5z","clip-rule":"evenodd"})])],-1)),i("div",If,[D[21]||(D[21]=i("h3",{class:"text-sm font-medium text-yellow-800"},"Task Blocked",-1)),i("div",Af,[i("p",null,"This task was blocked by **"+N(ls.value.causer)+"** with the following reason:",1),i("p",null,N(ls.value.reason),1)])])])])):w("",!0),i("div",Ef,[D[29]||(D[29]=i("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"Task Attributes",-1)),i("div",Rf,[v(q,{class:"min-w-[100px] text-gray-600"},{default:S(()=>D[23]||(D[23]=[$("Assigned To:",-1)])),_:1,__:[23]}),i("div",Uf,[u.value?(l(),m("div",Lf,[v($e,{id:"edit-assigned-to",modelValue:p.value,"onUpdate:modelValue":D[1]||(D[1]=J=>p.value=J),options:h.value,"value-key":"value","label-key":"label",placeholder:"Unassigned",class:"mt-1 flex-1","allow-empty":!0},null,8,["modelValue","options"]),i("button",{onClick:k,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),i("button",{onClick:D[2]||(D[2]=J=>u.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(l(),m("div",{key:0,onClick:D[0]||(D[0]=J=>r.value.status!=="Done"?u.value=!0:pe("Cannot change assignment for a completed task. Use the Revise button to change the task status first.")),class:F(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":r.value.status!=="Done","text-gray-500":r.value.status==="Done"}])},[$(N(((wt=r.value.assigned_to)==null?void 0:wt.name)||"Unassigned")+" ",1),r.value.status!=="Done"?(l(),m("span",jf,"(Click to edit)")):w("",!0)],2))])]),i("div",Wf,[v(q,{class:"min-w-[100px] text-gray-600"},{default:S(()=>D[24]||(D[24]=[$("Due Date:",-1)])),_:1,__:[24]}),i("div",Vf,[c.value?(l(),m("div",Ff,[v(Fe,{id:"edit-due-date",modelValue:y.value,"onUpdate:modelValue":D[4]||(D[4]=J=>y.value=J),type:"date",class:"mt-1 flex-1"},null,8,["modelValue"]),i("button",{onClick:P,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),i("button",{onClick:D[5]||(D[5]=J=>c.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(l(),m("div",{key:0,onClick:D[3]||(D[3]=J=>c.value=!0),class:"cursor-pointer text-indigo-600 hover:text-indigo-800"},[$(N(r.value.due_date?I(T)(r.value.due_date).format("MMM D, YYYY"):"No Due Date")+" ",1),D[25]||(D[25]=i("span",{class:"text-xs text-gray-400 ml-1"},"(Click to edit)",-1))]))])]),i("div",Hf,[v(q,{class:"min-w-[100px] text-gray-600"},{default:S(()=>D[26]||(D[26]=[$("Priority:",-1)])),_:1,__:[26]}),i("div",Bf,[d.value?(l(),m("div",Gf,[v($e,{id:"edit-priority",modelValue:C.value,"onUpdate:modelValue":D[7]||(D[7]=J=>C.value=J),options:g,"value-key":"value","label-key":"label",placeholder:"Select priority",class:"mt-1 flex-1"},null,8,["modelValue"]),i("button",{onClick:L,class:"text-green-600 hover:text-green-800 text-sm font-medium"},"Save"),i("button",{onClick:D[8]||(D[8]=J=>d.value=!1),class:"text-gray-600 hover:text-gray-800 text-sm font-medium"},"Cancel")])):(l(),m("div",{key:0,onClick:D[6]||(D[6]=J=>r.value.status!=="Done"?d.value=!0:pe("Cannot change priority for a completed task. Use the Revise button to change the task status first.")),class:F(["cursor-pointer",{"text-indigo-600 hover:text-indigo-800":r.value.status!=="Done","text-gray-500":r.value.status==="Done"}])},[i("span",{class:F({"text-red-600 font-medium":r.value.priority==="high","text-yellow-600 font-medium":r.value.priority==="medium","text-green-600 font-medium":r.value.priority==="low"})},N(r.value.priority?r.value.priority.charAt(0).toUpperCase()+r.value.priority.slice(1):"Medium"),3),r.value.status!=="Done"?(l(),m("span",zf,"(Click to edit)")):w("",!0)],2))])]),i("div",qf,[v(q,{class:"min-w-[100px] text-gray-600"},{default:S(()=>D[27]||(D[27]=[$("Created:",-1)])),_:1,__:[27]}),i("span",Zf,N(r.value.created_at?new Date(r.value.created_at).toLocaleDateString():"N/A"),1)]),i("div",Kf,[v(q,{class:"min-w-[100px] text-gray-600 mt-1"},{default:S(()=>D[28]||(D[28]=[$("Tags:",-1)])),_:1,__:[28]}),i("div",Jf,[(l(!0),m(ue,null,ce(r.value.tags,J=>(l(),m("span",{key:J.id,class:"inline-flex items-center px-3 py-1 text-sm font-medium bg-indigo-100 text-indigo-800 rounded-full shadow-sm"},N(J.name),1))),128)),!r.value.tags||r.value.tags.length===0?(l(),m("span",Qf,"No tags")):w("",!0)])])]),i("div",Xf,[i("div",em,[D[31]||(D[31]=i("h5",{class:"text-lg font-semibold text-gray-800"},"Notes",-1)),v(ye,{onClick:re,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors"},{default:S(()=>D[30]||(D[30]=[$(" Add Note ",-1)])),_:1,__:[30]})]),r.value.notes&&r.value.notes.length>0?(l(),m("div",tm,[(l(!0),m(ue,null,ce(r.value.notes,J=>(l(),m("div",{key:J.id,class:"p-3 bg-gray-50 rounded-md"},[i("p",sm,N(J.content),1),i("p",am," By "+N(J.creator_name||"Unknown")+" on "+N(new Date(J.created_at).toLocaleDateString()),1)]))),128))])):(l(),m("div",rm,"No notes for this task yet."))]),i("div",om,[D[32]||(D[32]=i("h5",{class:"text-lg font-semibold text-gray-800 border-b pb-2 mb-4"},"History",-1)),v(cf,{activities:U.value,loading:M.value},null,8,["activities","loading"])])])):(l(),m("div",nm," Select a task to view details. ")),r.value&&r.value.status!=="Done"?(l(),m("div",im,[v(da,{onClick:X,disabled:r.value.status!=="To Do"},{default:S(()=>D[33]||(D[33]=[$(" Delete Task ",-1)])),_:1,__:[33]},8,["disabled"]),r.value.status!=="To Do"?(l(),m("p",lm,"Task can only be deleted in 'To Do' status.")):w("",!0)])):w("",!0),v(ef,{show:x.value,"task-for-note":r.value,onClose:D[9]||(D[9]=J=>x.value=!1),onNoteAdded:Ee},null,8,["show","task-for-note"]),v(Ss,{show:yt.value,onClose:D[12]||(D[12]=J=>yt.value=!1)},{default:S(()=>[i("div",um,[D[37]||(D[37]=i("h2",{class:"text-lg font-medium text-gray-900 mb-4"}," Block Task ",-1)),i("div",dm,[D[34]||(D[34]=i("p",{class:"text-sm text-gray-600 mb-2"}," Please provide a reason for blocking this task: ",-1)),ie(i("textarea",{"onUpdate:modelValue":D[10]||(D[10]=J=>ot.value=J),class:"w-full rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3",placeholder:"Enter reason for blocking..."},null,512),[[Ye,ot.value]])]),i("div",cm,[v(Tt,{onClick:D[11]||(D[11]=J=>yt.value=!1)},{default:S(()=>D[35]||(D[35]=[$(" Cancel ",-1)])),_:1,__:[35]}),v(ye,{onClick:ir,disabled:!ot.value.trim(),class:"bg-red-600 hover:bg-red-700"},{default:S(()=>D[36]||(D[36]=[$(" Block Task ",-1)])),_:1,__:[36]},8,["disabled"])])])]),_:1},8,["show"])])}}},mm={key:1,class:"p-4 text-gray-500"},hm={key:0,class:"flex justify-end space-x-3"},vm={__name:"TaskSidebar",emits:["taskUpdated","taskDeleted"],setup(e){const t=O(null);return(s,a)=>(l(),E(fa,{show:I(Ze).show,"onUpdate:show":I(ds),title:I(Ze).taskId?"Task Details":"Details",initialWidth:50},{content:S(()=>[I(Ze).taskId?(l(),E(fm,{key:0,"task-id":I(Ze).taskId,"project-id":I(Ze).projectId,"project-users":I(Ze).projectUsers,ref_key:"taskDetailSidebarRef",ref:t,onClose:I(ds),onTaskUpdated:a[0]||(a[0]=r=>{s.$emit("taskUpdated",r)}),onTaskDeleted:a[1]||(a[1]=r=>{s.$emit("taskDeleted",r),I(ds)()})},null,8,["task-id","project-id","project-users","onClose"])):I(Ze).show?(l(),m("div",mm," No task selected or task ID is missing. ")):w("",!0)]),footer:S(()=>[I(Ze).taskId?(l(),m("div",hm,[t.value&&t.value.task&&t.value.task.status!=="In Progress"&&t.value.task.status!=="Done"?(l(),E(Tt,{key:0,onClick:t.value.startTask,class:"bg-blue-50 text-blue-700 hover:bg-blue-100"},{default:S(()=>a[2]||(a[2]=[$(" Start Task ",-1)])),_:1,__:[2]},8,["onClick"])):w("",!0),t.value&&t.value.task&&t.value.task.status==="In Progress"?(l(),E(Tt,{key:1,onClick:t.value.completeTask,class:"bg-green-50 text-green-700 hover:bg-green-100"},{default:S(()=>a[3]||(a[3]=[$(" Complete Task ",-1)])),_:1,__:[3]},8,["onClick"])):w("",!0),t.value&&t.value.task?(l(),E(da,{key:2,onClick:t.value.deleteTask,class:"bg-red-50 text-red-700 hover:bg-red-100"},{default:S(()=>a[4]||(a[4]=[$(" Delete Task ",-1)])),_:1,__:[4]},8,["onClick"])):w("",!0)])):w("",!0)]),_:1},8,["show","onUpdate:show","title"]))}},gm={class:"flex h-screen overflow-hidden"},ym={class:"flex-1 flex flex-col overflow-hidden"},pm={key:0,class:"bg-white shadow"},_m={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},km={class:"flex-1 overflow-y-auto"},Am={__name:"AuthenticatedLayout",setup(e){const t=O(!1),s=O(!1),a=O(!1),r=O([]),o=O(!0),n=H(()=>Nt().props.id||null),u=O(null),c=async()=>{const x=localStorage.getItem("authToken");if(x){window.axios.defaults.headers.common.Authorization=`Bearer ${x}`;try{await window.axios.get("/api/user")}catch(_){_.response&&_.response.status===401&&(console.log("Session expired, redirecting to login"),localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login")}}else delete window.axios.defaults.headers.common.Authorization},d=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization},p=x=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),localStorage.removeItem("remembered"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"},y=async()=>{o.value=!0;try{const x=await window.axios.get("/api/projects-simplified");r.value=x.data}catch(x){console.error("Error fetching all projects for sidebar:",x),r.value=[]}finally{o.value=!1}},C=x=>{gr.visit(route("projects.show",x))},U=H(()=>Mt.value.notifications.filter(x=>!x.isRead).length),M=x=>{console.log("Task updated globally.",x)},g=x=>{console.log("Task deleted globally.",x)};return mt(()=>{c(),u.value&&hr(u.value),y(),vr()}),(x,_)=>(l(),m("div",gm,[v(Ur,{ref_key:"standardNotificationContainerRef",ref:u},null,512),v(Ir,{"sidebar-is-open":I(Mt).show},null,8,["sidebar-is-open"]),v(go),v(ci,{"all-projects":r.value,"active-project-id":n.value,onProjectSelected:C},null,8,["all-projects","active-project-id"]),i("div",ym,[v(Ei,{"unread-notification-count":U.value,onOpenCreateTaskModal:_[0]||(_[0]=f=>s.value=!0),onOpenAddResource:_[1]||(_[1]=f=>a.value=!0),onOpenNotificationsSidebar:I(Zs)},null,8,["unread-notification-count","onOpenNotificationsSidebar"]),v(Bi,{"showing-navigation-dropdown":t.value,"unread-notification-count":U.value,onOpenCreateTaskModal:_[2]||(_[2]=f=>s.value=!0),onOpenAddResource:_[3]||(_[3]=f=>a.value=!0),onOpenNotificationsSidebar:I(Zs),onLogoutSuccess:d,onLogoutError:p},null,8,["showing-navigation-dropdown","unread-notification-count","onOpenNotificationsSidebar"]),x.$slots.header?(l(),m("header",pm,[i("div",_m,[Oe(x.$slots,"header")])])):w("",!0),i("main",km,[Oe(x.$slots,"default")]),v(on,{show:s.value,onClose:_[4]||(_[4]=f=>s.value=!1),onSaved:_[5]||(_[5]=f=>s.value=!1)},null,8,["show"]),v(dn,{"api-endpoint":"/api/shareable-resources",show:a.value,onClose:_[6]||(_[6]=f=>a.value=!1)},null,8,["show"])]),v(vm,{onTaskUpdated:M,onTaskDeleted:g}),v(An)]))}};export{Kt as B,dn as C,$e as S,ca as T,Am as _,fo as a,Im as b,Nm as c,vf as d,_f as e,Ym as f,kf as g,pf as h,gf as i,T as j,Bo as k,ef as l,Om as m,on as n,Pm as o,mf as p,hf as r,ff as s,yf as u};
