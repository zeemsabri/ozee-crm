import{_ as w}from"./AuthenticatedLayout-Cg1kC1qM.js";import{r as y,q as k,o as i,w as o,a as e,f as r,c as n,u as d,B as p,i as a,F as _,j as h,t as m,l as C,J as D}from"./app-CyL2wLyO.js";import{_ as N}from"./Modal-JbcKvSYg.js";import{_ as R}from"./SecondaryButton-Bblf67Ij.js";import{D as B}from"./DangerButton-D5i-wOCz.js";import"./PrimaryButton-xItLiNnq.js";import"./InputLabel-oHNZnu0Z.js";import"./InputError-BBm47rPp.js";import"./index-Vt9R7wYT.js";import"./BaseFormModal-Dsf7XBYD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-CpOyHpMw.js";import"./SelectDropdown-CzJBflKr.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./RightSidebar-Dikc40fU.js";import"./ApplicationLogo-RP3ddboD.js";import"./MultiSelectDropdown-Dj7FaMfi.js";import"./createLucideIcon-CO9mYJgo.js";import"./plus-Cfwa6LTb.js";import"./moment-BLMuvzoS.js";import"./taskState-17ur5Hzv.js";import"./NoticeboardModal-CKgw-UzM.js";import"./x-ZMax1QnZ.js";const V={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},A={class:"p-6 bg-white border-b border-gray-200"},S={class:"flex justify-between items-center mb-6"},T={class:"flex items-center gap-2"},E={key:0,class:"text-center py-4"},F={key:1,class:"overflow-x-auto"},M={class:"min-w-full divide-y divide-gray-200"},P={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap"},I={class:"text-sm font-medium text-gray-900"},J={class:"px-6 py-4 whitespace-nowrap"},L={class:"text-sm text-gray-500"},O={class:"px-6 py-4"},z={class:"text-sm text-gray-500"},G={class:"px-6 py-4"},H={class:"text-sm text-gray-500"},K={key:0},Q={key:1,class:"flex flex-wrap gap-1"},U={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},W={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},X={class:"flex space-x-2"},Y=["onClick"],Z={class:"p-6"},ee={class:"mt-6 flex justify-end"},De={__name:"Index",props:{roles:Array},setup(c){const x=y(!1),u=y(null),v=l=>{u.value=l,x.value=!0},f=()=>{x.value=!1,setTimeout(()=>{u.value=null},300)},b=()=>{u.value&&D.delete(route("admin.roles.destroy",u.value.id),{onSuccess:()=>{f()}})};return(l,t)=>(i(),k(w,null,{header:o(()=>t[0]||(t[0]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Roles Management ",-1)])),default:o(()=>[e("div",V,[e("div",$,[e("div",j,[e("div",A,[e("div",S,[t[3]||(t[3]=e("h3",{class:"text-lg font-medium text-gray-900"},"Roles",-1)),e("div",T,[r(d(p),{href:l.route("admin.roles.compare"),class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-900 focus:outline-none focus:border-green-900 focus:ring focus:ring-green-300 disabled:opacity-25 transition"},{default:o(()=>t[1]||(t[1]=[a(" Compare Roles ",-1)])),_:1,__:[1]},8,["href"]),r(d(p),{href:l.route("admin.roles.create"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 active:bg-gray-900 focus:outline-none focus:border-gray-900 focus:ring focus:ring-gray-300 disabled:opacity-25 transition"},{default:o(()=>t[2]||(t[2]=[a(" Create New Role ",-1)])),_:1,__:[2]},8,["href"])])]),!c.roles||c.roles.length===0?(i(),n("div",E,t[4]||(t[4]=[e("p",null,"No roles found. Create your first role to get started.",-1)]))):(i(),n("div",F,[e("table",M,[t[9]||(t[9]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Slug "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Description "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Permissions "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",P,[(i(!0),n(_,null,h(c.roles,s=>(i(),n("tr",{key:s.id},[e("td",q,[e("div",I,m(s.name),1)]),e("td",J,[e("div",L,m(s.slug),1)]),e("td",O,[e("div",z,m(s.description),1)]),e("td",G,[e("div",H,[!s.permissions||s.permissions.length===0?(i(),n("span",K,"No permissions")):(i(),n("div",Q,[(i(!0),n(_,null,h(s.permissions.slice(0,3),g=>(i(),n("span",{key:g.id,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},m(g.name),1))),128)),s.permissions&&s.permissions.length>3?(i(),n("span",U," +"+m(s.permissions.length-3)+" more ",1)):C("",!0)]))])]),e("td",W,[e("div",X,[r(d(p),{href:l.route("admin.roles.edit",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:o(()=>t[5]||(t[5]=[a("Edit",-1)])),_:2,__:[5]},1032,["href"]),r(d(p),{href:l.route("admin.roles.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:o(()=>t[6]||(t[6]=[a("View",-1)])),_:2,__:[6]},1032,["href"]),r(d(p),{href:l.route("admin.roles.permissions",s.id),class:"text-green-600 hover:text-green-900"},{default:o(()=>t[7]||(t[7]=[a("Permissions",-1)])),_:2,__:[7]},1032,["href"]),r(d(p),{href:l.route("admin.roles.duplicate",s.id),class:"text-purple-600 hover:text-purple-900"},{default:o(()=>t[8]||(t[8]=[a("Duplicate",-1)])),_:2,__:[8]},1032,["href"]),e("button",{onClick:g=>v(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,Y)])])]))),128))])])]))])])])]),r(N,{show:x.value,onClose:f},{default:o(()=>[e("div",Z,[t[12]||(t[12]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this role? ",-1)),t[13]||(t[13]=e("p",{class:"mt-1 text-sm text-gray-600"}," Once this role is deleted, all users assigned to this role will lose the associated permissions. ",-1)),e("div",ee,[r(R,{onClick:f},{default:o(()=>t[10]||(t[10]=[a(" Cancel ",-1)])),_:1,__:[10]}),r(B,{class:"ml-3",onClick:b},{default:o(()=>t[11]||(t[11]=[a(" Delete Role ",-1)])),_:1,__:[11]})])])]),_:1},8,["show"])]),_:1}))}};export{De as default};
