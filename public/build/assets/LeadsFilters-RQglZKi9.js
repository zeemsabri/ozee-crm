import{c as p,r as m,f as A,a as f,o as c,b as t,d as a,y as O,i as w,w as g,m as v}from"./app-DolmfznG.js";import{_ as i}from"./InputLabel-Bh4DR2If.js";import{_ as $}from"./TextInput-CXPrOSRk.js";import{_ as k}from"./PrimaryButton-BgzXgDuT.js";import{_ as C}from"./SecondaryButton-LmL9DseJ.js";import{S as u}from"./SelectDropdown-DhOYwl6i.js";import{_ as q}from"./MultiSelectDropdown-CGqw0IUJ.js";/* empty css                                                                       */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ChevronDownIcon-qoWSTTj2.js";const N={class:"grid grid-cols-1 md:grid-cols-6 gap-3 mb-5"},S={key:0,class:"text-xs text-gray-500 mt-1"},U={class:"flex items-end gap-2"},z={__name:"LeadsFilters",props:{filters:{type:Object,required:!0},sourceOptions:{type:Array,default:()=>[]},statusOptions:{type:Array,default:()=>[]},users:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["apply","reset"],setup(y,{emit:_}){const l=y,n=_,V=p(()=>(l.users||[]).map(o=>({label:o.name,value:o.id}))),b=p(()=>l.statusOptions||[]),x=p(()=>l.sourceOptions||[]),r=m([]),d=m(!1);return A(async()=>{try{d.value=!0;const{data:o}=await window.axios.get("/api/campaigns",{params:{per_page:1e3}}),e=(o==null?void 0:o.data)||o||[];r.value=e.map(s=>({label:s.name,value:s.id}))}catch(o){console.error("Failed to load campaigns",o),r.value=[]}finally{d.value=!1}}),(o,e)=>(c(),f("div",N,[t("div",null,[a(i,{for:"q",value:"Search"}),a($,{id:"q",modelValue:l.filters.q,"onUpdate:modelValue":e[0]||(e[0]=s=>l.filters.q=s),class:"mt-1 block w-full",placeholder:"Name, email, phone, company",onKeyup:e[1]||(e[1]=O(()=>n("apply"),["enter"]))},null,8,["modelValue"])]),t("div",null,[a(i,{for:"status",value:"Status"}),a(u,{options:b.value,modelValue:l.filters.status,"onUpdate:modelValue":e[2]||(e[2]=s=>l.filters.status=s),placeholder:"All"},null,8,["options","modelValue"])]),t("div",null,[a(i,{for:"source",value:"Source"}),a(u,{options:x.value,modelValue:l.filters.source,"onUpdate:modelValue":e[3]||(e[3]=s=>l.filters.source=s),placeholder:"All"},null,8,["options","modelValue"])]),t("div",null,[a(i,{for:"assigned_to",value:"Assigned To"}),a(u,{options:V.value,modelValue:l.filters.assigned_to_id,"onUpdate:modelValue":e[4]||(e[4]=s=>l.filters.assigned_to_id=s),placeholder:"Any"},null,8,["options","modelValue"])]),t("div",null,[a(i,{for:"campaigns",value:"Campaigns"}),a(q,{options:r.value,modelValue:l.filters.campaign_ids,"onUpdate:modelValue":e[5]||(e[5]=s=>l.filters.campaign_ids=s),isMulti:!0,placeholder:"All"},null,8,["options","modelValue"]),d.value?(c(),f("p",S,"Loading campaignsâ€¦")):w("",!0)]),t("div",U,[a(k,{disabled:l.loading,onClick:e[6]||(e[6]=s=>n("apply"))},{default:g(()=>e[8]||(e[8]=[v("Apply",-1)])),_:1,__:[8]},8,["disabled"]),a(C,{disabled:l.loading,onClick:e[7]||(e[7]=s=>n("reset"))},{default:g(()=>e[9]||(e[9]=[v("Reset",-1)])),_:1,__:[9]},8,["disabled"])])]))}};export{z as default};
