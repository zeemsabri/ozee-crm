import{r as c,e as l}from"./app-CZiJFItQ.js";const s=c({}),u=localStorage.getItem("displayCurrency"),p=c(u||"USD");l(p,e=>{localStorage.setItem("displayCurrency",e)});const y=async()=>{try{const e=await window.axios.get("/api/currency-rates");s.value=e.data,console.log("Fetched currency rates:",s.value)}catch(e){console.error("Failed to fetch currency rates:",e),s.value={PKR:.0034,AUD:.65,INR:.012,EUR:1.08,GBP:1.28,USD:1}}},U=(e,r="USD")=>{if(isNaN(e)||e==null)return"0.00";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:r,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}catch(t){return console.warn(`Error formatting currency for ${e} ${r}:`,t),`${r} ${parseFloat(e).toFixed(2)}`}},d=(e,r,t)=>{if(isNaN(e)||e==null||!r||!t)return 0;if(r.toUpperCase()===t.toUpperCase())return Number(e);const o=s.value,a=o[r.toUpperCase()],n=o[t.toUpperCase()];if(!a||!n)return console.warn(`Missing conversion rates for: ${r} or ${t}. Cannot perform conversion.`),Number(e);const i=Number(e)*a/n;return Number(i.toFixed(2))};export{y as a,s as b,d as c,p as d,U as f};
