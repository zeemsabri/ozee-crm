import{r as S,w as ts,c as Te,o as h,a as T,b as n,i as m,g as _,e as y,f as H,k as ve,h as Me,F as I,j as $,t as p,v as Ae,q as ui,m as O,n as B,z as jt,d as Se,P as ci,B as Sa,Q as Yt,R as ya,A as q,S as hi,U as mi,V as Fe,T as Hs,_ as P,W as hl,L as Mi,X as ml,s as X,C as vl,H as fl,D as Ge,I as pl,Y as gl,Z as yl,J as _l,$ as wl,a0 as bl,y as kl}from"./app-C2zORGKA.js";import{s as xl,_ as Dl}from"./AuthenticatedLayout-DTQRz_Bh.js";import{P as oe}from"./PrimaryButton-Dgl94Es9.js";import{a as De,_ as Ve}from"./SecondaryButton-D-sb8oLe.js";import{_ as Ml}from"./ProjectForm-BPtfmmk7.js";import{_ as Sl}from"./NotesModal-Craheers.js";import{_ as ue,a as fe}from"./InputError-Br8DFn3G.js";import{_ as Ze}from"./TextInput-D1Zqx-wu.js";import{s as Si}from"./vue-multiselect-Bdvt-p2j.js";import{R as vi}from"./RichTextEditor-Aul0ZXfi.js";import{_ as Tl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-DalTS-0a.js";import"./Checkbox-BpqlOfY1.js";const Cl={class:"p-6"},El={class:"mt-6 space-y-6"},Ol={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},jl=["value"],Yl={class:"flex items-center"},Al={class:"flex items-center"},Vl={key:0,class:"text-sm text-red-600"},Wl={class:"flex justify-end mt-6 space-x-3"},Ll={__name:"MeetingModal",props:{show:{type:Boolean,default:!1},projectId:{type:Number,required:!0},projectUsers:{type:Array,default:()=>[]}},emits:["close","saved"],setup(e,{emit:t}){const s=e,a=t,l=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,i=S(["Africa/Cairo","Africa/Johannesburg","Africa/Lagos","America/Anchorage","America/Bogota","America/Chicago","America/Denver","America/Los_Angeles","America/Mexico_City","America/New_York","America/Phoenix","America/Sao_Paulo","America/Toronto","America/Vancouver","Asia/Dubai","Asia/Hong_Kong","Asia/Jerusalem","Asia/Kolkata","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Tokyo","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Berlin","Europe/Dublin","Europe/Istanbul","Europe/London","Europe/Madrid","Europe/Moscow","Europe/Paris","Europe/Rome","Pacific/Auckland","Pacific/Honolulu","UTC"]),d=S(l()),u=S({summary:"",description:"",start_datetime:"",end_datetime:"",attendee_user_ids:[],location:"",with_google_meet:!0,timezone:d.value,enable_recording:!1}),f=S({}),c=S(!1),g=S("");ts(()=>s.show,N=>{N||C()});const k=N=>{const V=new Date(N),L=V.getFullYear(),Ee=String(V.getMonth()+1).padStart(2,"0"),ke=String(V.getDate()).padStart(2,"0"),pt=String(V.getHours()).padStart(2,"0"),je=String(V.getMinutes()).padStart(2,"0");return`${L}-${Ee}-${ke}T${pt}:${je}`},w=()=>{const N=new Date,V=new Date(N.getTime()+3600*1e3),L=new Date(N.getTime()+7200*1e3);u.value.start_datetime=k(V),u.value.end_datetime=k(L)},C=()=>{u.value={summary:"",description:"",start_datetime:"",end_datetime:"",attendee_user_ids:[],location:"",with_google_meet:!0,timezone:d.value,enable_recording:!1},w(),f.value={},g.value="",c.value=!1};w();const A=N=>N?N.replace("T"," ")+":00":"",K=async()=>{c.value=!0,f.value={},g.value="";try{const N={...u.value};N.start_datetime=A(N.start_datetime),N.end_datetime=A(N.end_datetime);const V=await window.axios.post(`/api/projects/${s.projectId}/meetings`,N);a("saved",V.data),a("close")}catch(N){c.value=!1,N.response?N.response.status===422?f.value=N.response.data.errors:g.value=N.response.data.message||"An error occurred while creating the meeting.":(g.value="An unexpected error occurred. Please try again.",console.error("Error creating meeting:",N))}},pe=()=>{a("close")};return(N,V)=>(h(),Te(Ve,{show:e.show,onClose:pe,"max-width":"2xl"},{default:T(()=>[n("div",Cl,[V[15]||(V[15]=n("h2",{class:"text-lg font-medium text-gray-900"}," Schedule a Meeting ",-1)),n("div",El,[n("div",null,[y(ue,{for:"summary",value:"Meeting Title"}),y(Ze,{id:"summary",modelValue:u.value.summary,"onUpdate:modelValue":V[0]||(V[0]=L=>u.value.summary=L),type:"text",class:"mt-1 block w-full",placeholder:"Project Status Meeting",required:""},null,8,["modelValue"]),y(fe,{message:f.value.summary?f.value.summary[0]:"",class:"mt-2"},null,8,["message"])]),n("div",null,[y(ue,{for:"description",value:"Description"}),H(n("textarea",{id:"description","onUpdate:modelValue":V[1]||(V[1]=L=>u.value.description=L),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Meeting agenda and details..."},null,512),[[ve,u.value.description]]),y(fe,{message:f.value.description?f.value.description[0]:"",class:"mt-2"},null,8,["message"])]),n("div",Ol,[n("div",null,[y(ue,{for:"start_datetime",value:"Start Date & Time"}),y(Ze,{id:"start_datetime",modelValue:u.value.start_datetime,"onUpdate:modelValue":V[2]||(V[2]=L=>u.value.start_datetime=L),type:"datetime-local",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),y(fe,{message:f.value.start_datetime?f.value.start_datetime[0]:"",class:"mt-2"},null,8,["message"])]),n("div",null,[y(ue,{for:"end_datetime",value:"End Date & Time"}),y(Ze,{id:"end_datetime",modelValue:u.value.end_datetime,"onUpdate:modelValue":V[3]||(V[3]=L=>u.value.end_datetime=L),type:"datetime-local",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),y(fe,{message:f.value.end_datetime?f.value.end_datetime[0]:"",class:"mt-2"},null,8,["message"])])]),n("div",null,[y(ue,{for:"attendees",value:"Attendees"}),y(Me(Si),{id:"attendees",modelValue:u.value.attendee_user_ids,"onUpdate:modelValue":V[4]||(V[4]=L=>u.value.attendee_user_ids=L),options:s.projectUsers.map(L=>L.id),"custom-label":L=>{const Ee=s.projectUsers.find(ke=>ke.id===L);return Ee?`${Ee.name} (${Ee.email})`:""},placeholder:"Select attendees",multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,"show-labels":!1,class:"mt-1"},null,8,["modelValue","options","custom-label"]),V[9]||(V[9]=n("p",{class:"mt-1 text-sm text-gray-500"}," Select project members to invite to this meeting ",-1)),y(fe,{message:f.value.attendee_user_ids?f.value.attendee_user_ids[0]:"",class:"mt-2"},null,8,["message"])]),n("div",null,[y(ue,{for:"location",value:"Location (Optional)"}),y(Ze,{id:"location",modelValue:u.value.location,"onUpdate:modelValue":V[5]||(V[5]=L=>u.value.location=L),type:"text",class:"mt-1 block w-full",placeholder:"Office, Conference Room, etc."},null,8,["modelValue"]),y(fe,{message:f.value.location?f.value.location[0]:"",class:"mt-2"},null,8,["message"])]),n("div",null,[y(ue,{for:"timezone",value:"Timezone"}),H(n("select",{id:"timezone","onUpdate:modelValue":V[6]||(V[6]=L=>u.value.timezone=L),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[(h(!0),m(I,null,$(i.value,L=>(h(),m("option",{key:L,value:L},p(L),9,jl))),128))],512),[[Ae,u.value.timezone]]),V[10]||(V[10]=n("p",{class:"mt-1 text-sm text-gray-500"}," Select your timezone for this meeting ",-1)),y(fe,{message:f.value.timezone?f.value.timezone[0]:"",class:"mt-2"},null,8,["message"])]),n("div",Yl,[H(n("input",{id:"with_google_meet","onUpdate:modelValue":V[7]||(V[7]=L=>u.value.with_google_meet=L),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ui,u.value.with_google_meet]]),V[11]||(V[11]=n("label",{for:"with_google_meet",class:"ml-2 block text-sm text-gray-900"}," Create Google Meet video conference ",-1))]),n("div",Al,[H(n("input",{id:"enable_recording","onUpdate:modelValue":V[8]||(V[8]=L=>u.value.enable_recording=L),type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[ui,u.value.enable_recording]]),V[12]||(V[12]=n("label",{for:"enable_recording",class:"ml-2 block text-sm text-gray-900"}," Enable recording and transcript ",-1))]),g.value?(h(),m("div",Vl,p(g.value),1)):_("",!0),n("div",Wl,[y(De,{onClick:pe},{default:T(()=>V[13]||(V[13]=[O(" Cancel ",-1)])),_:1,__:[13]}),y(oe,{onClick:K,class:B({"opacity-25":c.value}),disabled:c.value},{default:T(()=>V[14]||(V[14]=[O(" Schedule Meeting ",-1)])),_:1,__:[14]},8,["class","disabled"])])])])]),_:1},8,["show"]))}},Pl={class:"p-6"},Nl={key:0,class:"text-red-600 text-sm mb-4"},Fl={class:"mb-4"},Rl={class:"mb-4"},Il={class:"mb-4"},Hl={class:"mt-6 flex justify-end"},Ti={__name:"StandupModal",props:{show:Boolean,projectId:Number},emits:["close","standupAdded"],setup(e,{emit:t}){const s=e,a=t,l=jt({project_id:null,yesterday:"",today:"",blockers:""}),i=S({}),d=S(""),u=S(!1);ts(()=>s.projectId,c=>{c&&(l.project_id=c)},{immediate:!0}),ts(()=>s.show,c=>{c&&(l.project_id=s.projectId,l.yesterday="",l.today="",l.blockers="",i.value={},d.value="",u.value=!1)});const f=async()=>{i.value={},d.value="",u.value=!0;try{const c=`
**Daily Standup**

**Yesterday:** ${l.yesterday}

**Today:** ${l.today}

**Blockers:** ${l.blockers||"None"}
`.trim();await window.axios.post(`/api/projects/${l.project_id}/standup`,{content:c,yesterday:l.yesterday,today:l.today,blockers:l.blockers}),xl("Standup submitted successfully!"),a("standupAdded"),a("close")}catch(c){c.response&&c.response.status===422?i.value=c.response.data.errors:c.response&&c.response.data.message?(d.value=c.response.data.message,c(c.response.data.message)):(d.value="Failed to submit standup.",c("Failed to submit standup."),console.error("Error submitting standup:",c))}finally{u.value=!1}};return(c,g)=>(h(),Te(Ve,{show:e.show,onClose:g[4]||(g[4]=k=>c.$emit("close"))},{default:T(()=>[n("div",Pl,[g[6]||(g[6]=n("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Daily Standup",-1)),d.value?(h(),m("div",Nl,p(d.value),1)):_("",!0),n("form",{onSubmit:Se(f,["prevent"])},[n("div",Fl,[y(ue,{for:"yesterday",value:"What did you work on yesterday?"}),y(Ze,{id:"yesterday",type:"text",class:"mt-1 block w-full",modelValue:l.yesterday,"onUpdate:modelValue":g[0]||(g[0]=k=>l.yesterday=k),required:""},null,8,["modelValue"]),y(fe,{message:i.value.yesterday?i.value.yesterday[0]:"",class:"mt-2"},null,8,["message"])]),n("div",Rl,[y(ue,{for:"today",value:"What will you work on today?"}),y(Ze,{id:"today",type:"text",class:"mt-1 block w-full",modelValue:l.today,"onUpdate:modelValue":g[1]||(g[1]=k=>l.today=k),required:""},null,8,["modelValue"]),y(fe,{message:i.value.today?i.value.today[0]:"",class:"mt-2"},null,8,["message"])]),n("div",Il,[y(ue,{for:"blockers",value:"Any blockers?"}),y(Ze,{id:"blockers",type:"text",class:"mt-1 block w-full",modelValue:l.blockers,"onUpdate:modelValue":g[2]||(g[2]=k=>l.blockers=k),placeholder:"None"},null,8,["modelValue"]),y(fe,{message:i.value.blockers?i.value.blockers[0]:"",class:"mt-2"},null,8,["message"])]),n("div",Hl,[y(De,{onClick:g[3]||(g[3]=k=>c.$emit("close")),disabled:u.value},{default:T(()=>g[5]||(g[5]=[O("Cancel",-1)])),_:1,__:[5]},8,["disabled"]),y(oe,{class:B(["ms-3",{"opacity-75 cursor-not-allowed":u.value}]),type:"submit",disabled:u.value},{default:T(()=>[O(p(u.value?"Submitting...":"Submit Standup"),1)]),_:1},8,["disabled","class"])])],32)])]),_:1},8,["show"]))}},Ul={class:"p-6"},$l={class:"text-lg font-medium text-gray-900"},Bl={class:"mt-6 space-y-6"},zl={class:"mt-2 flex space-x-4"},Gl={class:"inline-flex items-center"},Zl={class:"inline-flex items-center"},ql={key:0},Jl={key:1},Kl={key:2,class:"text-red-600 text-sm"},Ql={class:"flex justify-end space-x-3"},Xl={__name:"ResourceModal",props:{show:{type:Boolean,default:!1},projectId:{type:Number,required:!0},resource:{type:Object,default:null}},emits:["close","saved"],setup(e,{emit:t}){const s=e,a=t,l=S({name:"",type:"link",url:"",file:null,description:""}),i=S({}),d=S(!1),u=S(null);ts(()=>s.show,k=>{k&&(s.resource?l.value={name:s.resource.name,type:s.resource.type,url:s.resource.type==="link"?s.resource.url:"",file:null,description:s.resource.description||""}:l.value={name:"",type:"link",url:"",file:null,description:""},i.value={})});const f=k=>{l.value.file=k.target.files[0]||null},c=async()=>{var k,w;d.value=!0,i.value={};try{const C=new FormData;C.append("name",l.value.name),C.append("type",l.value.type),C.append("description",l.value.description),l.value.type==="link"?C.append("url",l.value.url):l.value.file&&C.append("file",l.value.file);let A;s.resource?A=await window.axios.put(`/api/projects/${s.projectId}/resources/${s.resource.id}`,C,{headers:{"Content-Type":"multipart/form-data"}}):A=await window.axios.post(`/api/projects/${s.projectId}/resources`,C,{headers:{"Content-Type":"multipart/form-data"}}),A.data.success?(a("saved",A.data.resource),a("close")):console.error("Error saving resource:",A.data.message)}catch(C){console.error("Error saving resource:",C),C.response&&C.response.data&&C.response.data.errors?i.value=C.response.data.errors:i.value={general:[((w=(k=C.response)==null?void 0:k.data)==null?void 0:w.message)||"An error occurred while saving the resource."]}}finally{d.value=!1}},g=()=>{a("close")};return(k,w)=>(h(),Te(Ve,{show:e.show,onClose:g,"max-width":"md"},{default:T(()=>[n("div",Ul,[n("h2",$l,p(e.resource?"Edit Resource":"Add Resource"),1),n("div",Bl,[n("div",null,[y(ue,{for:"resource-type",value:"Resource Type"}),n("div",zl,[n("label",Gl,[H(n("input",{type:"radio","onUpdate:modelValue":w[0]||(w[0]=C=>l.value.type=C),value:"link",class:"form-radio text-indigo-600"},null,512),[[ci,l.value.type]]),w[5]||(w[5]=n("span",{class:"ml-2"},"Link",-1))]),n("label",Zl,[H(n("input",{type:"radio","onUpdate:modelValue":w[1]||(w[1]=C=>l.value.type=C),value:"file",class:"form-radio text-indigo-600"},null,512),[[ci,l.value.type]]),w[6]||(w[6]=n("span",{class:"ml-2"},"File",-1))])])]),n("div",null,[y(ue,{for:"resource-name",value:"Name"}),y(Ze,{id:"resource-name",modelValue:l.value.name,"onUpdate:modelValue":w[2]||(w[2]=C=>l.value.name=C),type:"text",class:"mt-1 block w-full",placeholder:"Enter resource name"},null,8,["modelValue"]),y(fe,{message:i.value.name?i.value.name[0]:"",class:"mt-2"},null,8,["message"])]),l.value.type==="link"?(h(),m("div",ql,[y(ue,{for:"resource-url",value:"URL"}),y(Ze,{id:"resource-url",modelValue:l.value.url,"onUpdate:modelValue":w[3]||(w[3]=C=>l.value.url=C),type:"url",class:"mt-1 block w-full",placeholder:"https://example.com"},null,8,["modelValue"]),y(fe,{message:i.value.url?i.value.url[0]:"",class:"mt-2"},null,8,["message"])])):_("",!0),l.value.type==="file"?(h(),m("div",Jl,[y(ue,{for:"resource-file",value:"File"}),n("input",{id:"resource-file",ref_key:"fileInputRef",ref:u,type:"file",class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:f},null,544),y(fe,{message:i.value.file?i.value.file[0]:"",class:"mt-2"},null,8,["message"])])):_("",!0),n("div",null,[y(ue,{for:"resource-description",value:"Description (Optional)"}),H(n("textarea",{id:"resource-description","onUpdate:modelValue":w[4]||(w[4]=C=>l.value.description=C),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter a description for this resource"},null,512),[[ve,l.value.description]]),y(fe,{message:i.value.description?i.value.description[0]:"",class:"mt-2"},null,8,["message"])]),i.value.general?(h(),m("div",Kl,p(i.value.general[0]),1)):_("",!0),n("div",Ql,[y(De,{onClick:g},{default:T(()=>w[7]||(w[7]=[O(" Cancel ",-1)])),_:1,__:[7]}),y(oe,{onClick:c,disabled:d.value},{default:T(()=>[O(p(d.value?"Saving...":e.resource?"Update":"Add"),1)]),_:1},8,["disabled"])])])])]),_:1},8,["show"]))}},er={class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow mb-6"},tr={key:0,class:"text-sm text-gray-500"},sr={key:1,class:"text-sm text-gray-500"},ar={key:2,class:"space-y-3"},ir={class:"flex justify-between items-start"},nr={class:"font-medium text-gray-900"},lr={class:"text-sm text-gray-600"},rr={key:0,class:"text-sm text-gray-600 mt-1"},or={class:"flex space-x-2"},dr=["href"],ur=["href"],cr=["onClick"],hr={__name:"ProjectMeetingsList",props:{projectId:{type:Number,required:!0}},setup(e,{expose:t}){const s=e,a=S([]),l=S(!1),i=S(""),d=()=>{try{i.value=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(k){console.error("Error detecting user timezone:",k),i.value="UTC"}},u=(k,w=null,C=!1)=>{if(!k)return"";try{if(C||k.endsWith("Z")){if(w&&w===i.value){const K={dateStyle:"medium",timeStyle:"short"};return new Date(k).toLocaleString(void 0,K)}const A={dateStyle:"medium",timeStyle:"short",timeZone:w||i.value};return new Date(k).toLocaleString(void 0,A)}else{if(w&&w===i.value){const K={dateStyle:"medium",timeStyle:"short"};return new Date(k).toLocaleString(void 0,K)}const A={dateStyle:"medium",timeStyle:"short",timeZone:w||i.value};return new Date(k).toLocaleString(void 0,A)}}catch(A){return console.error("Error formatting meeting time:",A),new Date(k).toLocaleString()}},f=(k,w=null,C=!1)=>{if(!k)return"";try{if(C||k.endsWith("Z")){if(w&&w===i.value){const K={timeStyle:"short"};return new Date(k).toLocaleTimeString(void 0,K)}const A={timeStyle:"short",timeZone:w||i.value};return new Date(k).toLocaleTimeString(void 0,A)}else{if(w&&w===i.value){const K={timeStyle:"short"};return new Date(k).toLocaleTimeString(void 0,K)}const A={timeStyle:"short",timeZone:w||i.value};return new Date(k).toLocaleTimeString(void 0,A)}}catch(A){return console.error("Error formatting meeting time (time only):",A),new Date(k).toLocaleTimeString()}},c=async()=>{l.value=!0;try{const k=await window.axios.get(`/api/projects/${s.projectId}/meetings`);a.value=k.data}catch(k){console.error("Error fetching project meetings:",k)}finally{l.value=!1}},g=async k=>{if(confirm("Are you sure you want to delete this meeting?"))try{await window.axios.delete(`/api/projects/${s.projectId}/meetings/${k}`),await c()}catch(w){console.error("Error deleting meeting:",w),alert("Failed to delete meeting. Please try again.")}};return t({fetchMeetings:c}),Sa(()=>{d(),c()}),(k,w)=>(h(),m("div",er,[w[4]||(w[4]=n("h4",{class:"text-md font-semibold text-gray-900 mb-2"},"Upcoming Meetings",-1)),l.value?(h(),m("div",tr," Loading meetings... ")):a.value.length===0?(h(),m("div",sr," No upcoming meetings scheduled. ")):(h(),m("div",ar,[(h(!0),m(I,null,$(a.value,C=>(h(),m("div",{key:C.id,class:"p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors"},[n("div",ir,[n("div",null,[n("h5",nr,p(C.summary),1),n("p",lr,p(u(C.start_time,C.timezone,C.is_utc))+" - "+p(f(C.end_time,C.timezone,C.is_utc)),1),C.location?(h(),m("p",rr,[w[0]||(w[0]=n("span",{class:"font-medium"},"Location:",-1)),O(" "+p(C.location),1)])):_("",!0)]),n("div",or,[n("a",{href:C.google_event_link,target:"_blank",class:"text-blue-600 hover:text-blue-800",title:"View in Google Calendar"},w[1]||(w[1]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)]),8,dr),C.google_meet_link?(h(),m("a",{key:0,href:C.google_meet_link,target:"_blank",class:"text-green-600 hover:text-green-800",title:"Join Google Meet"},w[2]||(w[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]),8,ur)):_("",!0),n("button",{onClick:A=>g(C.google_event_id),class:"text-red-600 hover:text-red-800",title:"Delete Meeting"},w[3]||(w[3]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,cr)])])]))),128))]))]))}};var mr=Object.defineProperty,vr=(e,t,s)=>t in e?mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ot=(e,t,s)=>vr(e,typeof t!="symbol"?t+"":t,s);const fr=(e,t,s)=>{const a=e[t];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((l,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})};let fs,fi,pi,Pe,ps={},Zt={};class pr{constructor(t,s=!1){ot(this,"texts",{}),ot(this,"dateToMinutes",a=>a.getHours()*60+a.getMinutes()),Pe=this,this._texts=t,!s&&Date&&!Date.prototype.addDays&&this._initDatePrototypes()}_initDatePrototypes(){Date.prototype.addDays=function(t){return Pe.addDays(this,t)},Date.prototype.subtractDays=function(t){return Pe.subtractDays(this,t)},Date.prototype.addHours=function(t){return Pe.addHours(this,t)},Date.prototype.subtractHours=function(t){return Pe.subtractHours(this,t)},Date.prototype.addMinutes=function(t){return Pe.addMinutes(this,t)},Date.prototype.subtractMinutes=function(t){return Pe.subtractMinutes(this,t)},Date.prototype.getWeek=function(){return Pe.getWeek(this)},Date.prototype.isToday=function(){return Pe.isToday(this)},Date.prototype.isLeapYear=function(){return Pe.isLeapYear(this)},Date.prototype.format=function(t="YYYY-MM-DD"){return Pe.formatDate(this,t)},Date.prototype.formatTime=function(t="HH:mm"){return Pe.formatTime(this,t)}}removePrototypes(){delete Date.prototype.addDays,delete Date.prototype.subtractDays,delete Date.prototype.addHours,delete Date.prototype.subtractHours,delete Date.prototype.addMinutes,delete Date.prototype.subtractMinutes,delete Date.prototype.getWeek,delete Date.prototype.isToday,delete Date.prototype.isLeapYear,delete Date.prototype.format,delete Date.prototype.formatTime}updateTexts(t){this._texts=t}_todayFormatted(){return fi!==new Date().getDate()&&(fs=new Date,fi=fs.getDate(),pi=`${fs.getFullYear()}-${fs.getMonth()}-${fs.getDate()}`),pi}addDays(t,s){const a=new Date(t.valueOf());return a.setDate(a.getDate()+s),a}subtractDays(t,s){const a=new Date(t.valueOf());return a.setDate(a.getDate()-s),a}addHours(t,s){const a=new Date(t.valueOf());return a.setHours(a.getHours()+s),a}subtractHours(t,s){const a=new Date(t.valueOf());return a.setHours(a.getHours()-s),a}addMinutes(t,s){const a=new Date(t.valueOf());return a.setMinutes(a.getMinutes()+s),a}subtractMinutes(t,s){const a=new Date(t.valueOf());return a.setMinutes(a.getMinutes()-s),a}getWeek(t){const s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),a=s.getUTCDay()||7;s.setUTCDate(s.getUTCDate()+4-a);const l=new Date(Date.UTC(s.getUTCFullYear(),0,1));return Math.ceil(((s-l)/864e5+1)/7)}isToday(t){return`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`===this._todayFormatted()}isLeapYear(t){const s=t.getFullYear();return!(s%400)||s%100&&!(s%4)}getPreviousFirstDayOfWeek(t=null,s){const a=t&&new Date(t.valueOf())||new Date,l=s?7:6;return a.setDate(a.getDate()-(a.getDay()+l)%7),a}stringToDate(t){return t instanceof Date?t:(t.length===10&&(t+=" 00:00"),new Date(t.replace(/-/g,"/")))}countDays(t,s){typeof t=="string"&&(t=t.replace(/-/g,"/")),typeof s=="string"&&(s=s.replace(/-/g,"/")),t=new Date(t).setHours(0,0,0,0),s=new Date(s).setHours(0,0,1,0);const a=(new Date(s).getTimezoneOffset()-new Date(t).getTimezoneOffset())*60*1e3;return Math.ceil((s-t-a)/(24*3600*1e3))}datesInSameTimeStep(t,s,a){return Math.abs(t.getTime()-s.getTime())<=a*60*1e3}formatDate(t,s="YYYY-MM-DD",a=null){if(a||(a=this._texts),s||(s="YYYY-MM-DD"),s==="YYYY-MM-DD")return this.formatDateLite(t);ps={},Zt={};const l={YYYY:()=>this._hydrateDateObject(t,a).YYYY,YY:()=>this._hydrateDateObject(t,a).YY(),M:()=>this._hydrateDateObject(t,a).M,MM:()=>this._hydrateDateObject(t,a).MM(),MMM:()=>this._hydrateDateObject(t,a).MMM(),MMMM:()=>this._hydrateDateObject(t,a).MMMM(),MMMMG:()=>this._hydrateDateObject(t,a).MMMMG(),D:()=>this._hydrateDateObject(t,a).D,DD:()=>this._hydrateDateObject(t,a).DD(),S:()=>this._hydrateDateObject(t,a).S(),d:()=>this._hydrateDateObject(t,a).d,dd:()=>this._hydrateDateObject(t,a).dd(),ddd:()=>this._hydrateDateObject(t,a).ddd(),dddd:()=>this._hydrateDateObject(t,a).dddd(),HH:()=>this._hydrateTimeObject(t,a).HH,H:()=>this._hydrateTimeObject(t,a).H,hh:()=>this._hydrateTimeObject(t,a).hh,h:()=>this._hydrateTimeObject(t,a).h,am:()=>this._hydrateTimeObject(t,a).am,AM:()=>this._hydrateTimeObject(t,a).AM,mm:()=>this._hydrateTimeObject(t,a).mm,m:()=>this._hydrateTimeObject(t,a).m};return s.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(i,d)=>{const u=l[d.replace(/\{|\}/g,"")];return u!==void 0?u():d})}formatDateLite(t){const s=t.getMonth()+1,a=t.getDate();return`${t.getFullYear()}-${s<10?"0":""}${s}-${a<10?"0":""}${a}`}formatTime(t,s="HH:mm",a=null,l=!1){let i=!1;if(l){const[f,c,g]=[t.getHours(),t.getMinutes(),t.getSeconds()];f+c+g===141&&(i=!0)}if(t instanceof Date&&s==="HH:mm")return i?"24:00":this.formatTimeLite(t);Zt={},a||(a=this._texts);const d=this._hydrateTimeObject(t,a),u=s.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(f,c)=>{const g=d[c.replace(/\{|\}/g,"")];return g!==void 0?g:c});return i?u.replace("23:59","24:00"):u}formatTimeLite(t){const s=t.getHours(),a=t.getMinutes();return`${(s<10?"0":"")+s}:${(a<10?"0":"")+a}`}_nth(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}_hydrateDateObject(t,s){if(ps.D)return ps;const a=t.getFullYear(),l=t.getMonth()+1,i=t.getDate(),u=(t.getDay()-1+7)%7;return ps={YYYY:a,YY:()=>a.toString().substring(2),M:l,MM:()=>(l<10?"0":"")+l,MMM:()=>s.months[l-1].substring(0,3),MMMM:()=>s.months[l-1],MMMMG:()=>(s.monthsGenitive||s.months)[l-1],D:i,DD:()=>(i<10?"0":"")+i,S:()=>this._nth(i),d:u+1,dd:()=>s.weekDays[u][0],ddd:()=>s.weekDays[u].substr(0,3),dddd:()=>s.weekDays[u]},ps}_hydrateTimeObject(t,s){if(Zt.am)return Zt;let a,l;t instanceof Date?(a=t.getHours(),l=t.getMinutes()):(a=Math.floor(t/60),l=Math.floor(t%60));const i=a%12?a%12:12,d=(s||{am:"am",pm:"pm"})[a===24||a<12?"am":"pm"];return Zt={H:a,h:i,HH:(a<10?"0":"")+a,hh:(i<10?"0":"")+i,am:d,AM:d.toUpperCase(),m:l,mm:(l<10?"0":"")+l},Zt}}const gr=1440;class yr{constructor(t){ot(this,"_vuecal",null),ot(this,"selectCell",(s=!1,a,l)=>{this._vuecal.$emit("cell-click",l?{date:a,split:l}:a),this._vuecal.clickToNavigate||s?this._vuecal.switchToNarrowerView():this._vuecal.dblclickToNavigate&&"ontouchstart"in window&&(this._vuecal.domEvents.dblTapACell.taps++,setTimeout(()=>this._vuecal.domEvents.dblTapACell.taps=0,this._vuecal.domEvents.dblTapACell.timeout),this._vuecal.domEvents.dblTapACell.taps>=2&&(this._vuecal.domEvents.dblTapACell.taps=0,this._vuecal.switchToNarrowerView(),this._vuecal.$emit("cell-dblclick",l?{date:a,split:l}:a)))}),ot(this,"keyPressEnterCell",(s,a)=>{this._vuecal.$emit("cell-keypress-enter",a?{date:s,split:a}:s),this._vuecal.switchToNarrowerView()}),ot(this,"getPosition",s=>{const{left:a,top:l}=this._vuecal.cellsEl.getBoundingClientRect(),{clientX:i,clientY:d}="ontouchstart"in window&&s.touches?s.touches[0]:s;return{x:i-a,y:d-l}}),ot(this,"minutesAtCursor",s=>{let a=0,l={x:0,y:0};const{timeStep:i,timeCellHeight:d,timeFrom:u}=this._vuecal.$props;return typeof s=="number"?a=s:typeof s=="object"&&(l=this.getPosition(s),a=Math.round(l.y*i/parseInt(d)+u)),{minutes:Math.max(Math.min(a,gr),0),cursorCoords:l}}),this._vuecal=t}}const _r=2,ha=1440;let ne,le,ma;class wr{constructor(t,s){ot(this,"_vuecal",null),ot(this,"eventDefaults",{_eid:null,start:"",startTimeMinutes:0,end:"",endTimeMinutes:0,title:"",content:"",background:!1,allDay:!1,segments:null,repeat:null,daysCount:1,deletable:!0,deleting:!1,titleEditable:!0,resizable:!0,resizing:!1,draggable:!0,dragging:!1,draggingStatic:!1,focused:!1,class:""}),this._vuecal=t,ne=s}createAnEvent(t,s,a){if(typeof t=="string"&&(t=ne.stringToDate(t)),!(t instanceof Date))return!1;const l=ne.dateToMinutes(t);s=s*1||_r*60;const i=l+s,d=ne.addMinutes(new Date(t),s);a.end&&(typeof a.end=="string"&&(a.end=ne.stringToDate(a.end)),a.endTimeMinutes=ne.dateToMinutes(a.end));const u={...this.eventDefaults,_eid:`${this._vuecal._.uid}_${this._vuecal.eventIdIncrement++}`,start:t,startTimeMinutes:l,end:d,endTimeMinutes:i,segments:null,...a};if(!(typeof this._vuecal.onEventCreate=="function"&&!this._vuecal.onEventCreate(u,()=>this.deleteAnEvent(u))))return u.startDateF!==u.endDateF&&(u.daysCount=ne.countDays(u.start,u.end)),this._vuecal.mutableEvents.push(u),this._vuecal.addEventsToView([u]),this._vuecal.emitWithEvent("event-create",u),this._vuecal.$emit("event-change",{event:this._vuecal.cleanupEvent(u),originalEvent:null}),u}addEventSegment(t){t.segments||(t.segments={},t.segments[ne.formatDateLite(t.start)]={start:t.start,startTimeMinutes:t.startTimeMinutes,endTimeMinutes:ha,isFirstDay:!0,isLastDay:!1});const s=t.segments[ne.formatDateLite(t.end)];s&&(s.isLastDay=!1,s.endTimeMinutes=ha);const a=ne.addDays(t.end,1),l=ne.formatDateLite(a);return a.setHours(0,0,0,0),t.segments[l]={start:a,startTimeMinutes:0,endTimeMinutes:t.endTimeMinutes,isFirstDay:!1,isLastDay:!0},t.end=ne.addMinutes(a,t.endTimeMinutes),t.daysCount=Object.keys(t.segments).length,l}removeEventSegment(t){let s=Object.keys(t.segments).length;if(s<=1)return ne.formatDateLite(t.end);delete t.segments[ne.formatDateLite(t.end)],s--;const a=ne.subtractDays(t.end,1),l=ne.formatDateLite(a),i=t.segments[l];return s?i&&(i.isLastDay=!0,i.endTimeMinutes=t.endTimeMinutes):t.segments=null,t.daysCount=s||1,t.end=a,l}createEventSegments(t,s,a){const l=s.getTime(),i=a.getTime();let d=t.start.getTime(),u=t.end.getTime(),f=!1,c,g,k;for(!t.end.getHours()&&!t.end.getMinutes()&&(u-=1e3),t.segments={},t.repeat?(c=l,g=Math.min(i,t.repeat.until?ne.stringToDate(t.repeat.until).getTime():i)):(c=Math.max(l,d),g=Math.min(i,u));c<=g;){let w=!1;const C=ne.addDays(new Date(c),1).setHours(0,0,0,0);let A,K,pe,N;if(t.repeat){const V=new Date(c),L=ne.formatDateLite(V);(f||t.occurrences&&t.occurrences[L])&&(f||(d=t.occurrences[L].start,k=new Date(d).setHours(0,0,0,0),u=t.occurrences[L].end),f=!0,w=!0),A=c===k,K=L===ne.formatDateLite(new Date(u)),pe=new Date(A?d:c),N=ne.formatDateLite(pe),K&&(f=!1)}else w=!0,A=c===d,K=g===u&&C>g,pe=A?t.start:new Date(c),N=ne.formatDateLite(A?t.start:pe);w&&(t.segments[N]={start:pe,startTimeMinutes:A?t.startTimeMinutes:0,endTimeMinutes:K?t.endTimeMinutes:ha,isFirstDay:A,isLastDay:K}),c=C}return t}deleteAnEvent(t){this._vuecal.emitWithEvent("event-delete",t),this._vuecal.mutableEvents=this._vuecal.mutableEvents.filter(s=>s._eid!==t._eid),this._vuecal.view.events=this._vuecal.view.events.filter(s=>s._eid!==t._eid)}checkCellOverlappingEvents(t,s){ma=t.slice(0),le={},t.forEach(l=>{ma.shift(),le[l._eid]||(le[l._eid]={overlaps:[],start:l.start,position:0}),le[l._eid].position=0,ma.forEach(i=>{le[i._eid]||(le[i._eid]={overlaps:[],start:i.start,position:0});const d=this.eventInRange(i,l.start,l.end),u=s.overlapsPerTimeStep?ne.datesInSameTimeStep(l.start,i.start,s.timeStep):1;if(!l.background&&!l.allDay&&!i.background&&!i.allDay&&d&&u)le[l._eid].overlaps.push(i._eid),le[l._eid].overlaps=[...new Set(le[l._eid].overlaps)],le[i._eid].overlaps.push(l._eid),le[i._eid].overlaps=[...new Set(le[i._eid].overlaps)],le[i._eid].position++;else{let f,c;(f=(le[l._eid]||{overlaps:[]}).overlaps.indexOf(i._eid))>-1&&le[l._eid].overlaps.splice(f,1),(c=(le[i._eid]||{overlaps:[]}).overlaps.indexOf(l._eid))>-1&&le[i._eid].overlaps.splice(c,1),le[i._eid].position--}})});let a=0;for(const l in le){const i=le[l],d=i.overlaps.map(u=>({id:u,start:le[u].start}));d.push({id:l,start:i.start}),d.sort((u,f)=>u.start<f.start?-1:u.start>f.start?1:u.id>f.id?-1:1),i.position=d.findIndex(u=>u.id===l),a=Math.max(this.getOverlapsStreak(i,le),a)}return[le,a]}getOverlapsStreak(t,s={}){let a=t.overlaps.length+1,l=[];return t.overlaps.forEach(i=>{l.includes(i)||t.overlaps.filter(u=>u!==i).forEach(u=>{s[u].overlaps.includes(i)||l.push(u)})}),l=[...new Set(l)],a-=l.length,a}eventInRange(t,s,a){if(t.allDay||!this._vuecal.time){const d=new Date(t.start).setHours(0,0,0,0);return new Date(t.end).setHours(23,59,0,0)>=new Date(s).setHours(0,0,0,0)&&d<=new Date(a).setHours(0,0,0,0)}const l=t.start.getTime(),i=t.end.getTime();return l<a.getTime()&&i>s.getTime()}}const br={class:"vuecal__flex vuecal__weekdays-headings"},kr=["onClick"],xr={class:"vuecal__flex weekday-label",grow:""},Dr={class:"full"},Mr={class:"small"},Sr={class:"xsmall"},Tr={key:0},Cr={key:0,class:"vuecal__flex vuecal__split-days-headers",grow:""};function Er(e,t,s,a,l,i){return h(),m("div",br,[(h(!0),m(I,null,$(i.headings,(d,u)=>(h(),m(I,{key:u},[d.hide?_("",!0):(h(),m("div",{key:0,class:B(["vuecal__flex vuecal__heading",{today:d.today,clickable:i.cellHeadingsClickable}]),style:Fe(i.weekdayCellStyles),onClick:f=>i.view.id==="week"&&i.selectCell(d.date,f),onDblclick:t[0]||(t[0]=f=>i.view.id==="week"&&i.vuecal.dblclickToNavigate&&s.switchToNarrowerView())},[y(Hs,{name:`slide-fade--${s.transitionDirection}`,appear:i.vuecal.transitions},{default:T(()=>[(h(),m("div",{class:"vuecal__flex",column:"",key:i.vuecal.transitions?`${u}-${d.dayOfMonth}`:!1},[n("div",xr,[q(e.$slots,"weekday-heading",{heading:i.cleanupHeading(d),view:i.view},()=>[n("span",Dr,p(d.full),1),n("span",Mr,p(d.small),1),n("span",Sr,p(d.xsmall),1),d.dayOfMonth?(h(),m("span",Tr,"Â "+p(d.dayOfMonth),1)):_("",!0)])]),i.vuecal.hasSplits&&i.vuecal.stickySplitLabels?(h(),m("div",Cr,[(h(!0),m(I,null,$(i.vuecal.daySplits,(f,c)=>(h(),m("div",{class:B(["day-split-header",f.class||!1]),key:c},[q(e.$slots,"split-label",{split:f,view:i.view},()=>[O(p(f.label),1)])],2))),128))])):_("",!0)]))]),_:2},1032,["name","appear"])],46,kr))],64))),128))])}const ss=(e,t)=>{const s=e.__vccOpts||e;for(const[a,l]of t)s[a]=l;return s},Or={inject:["vuecal","utils","view"],props:{transitionDirection:{type:String,default:"right"},weekDays:{type:Array,default:()=>[]},switchToNarrowerView:{type:Function,default:()=>{}}},methods:{selectCell(e,t){e.getTime()!==this.view.selectedDate.getTime()&&(this.view.selectedDate=e),this.utils.cell.selectCell(!1,e,t)},cleanupHeading:e=>({label:e.full,date:e.date,...e.today?{today:e.today}:{}})},computed:{headings(){if(!["month","week"].includes(this.view.id))return[];let e=!1;return this.weekDays.map((s,a)=>{const l=this.utils.date.addDays(this.view.startDate,this.vuecal.startWeekOnSunday&&this.vuecal.hideWeekends?a-1:a);return{hide:s.hide,full:s.label,small:s.short||s.label.substr(0,3),xsmall:s.short||s.label.substr(0,1),...this.view.id==="week"?{dayOfMonth:l.getDate(),date:l,today:!e&&this.utils.date.isToday(l)&&!e++}:{}}})},cellWidth(){return 100/(7-this.weekDays.reduce((e,t)=>e+t.hide,0))},weekdayCellStyles(){return{...this.vuecal.hideWeekdays.length?{width:`${this.cellWidth}%`}:{}}},cellHeadingsClickable(){return this.view.id==="week"&&(this.vuecal.clickToNavigate||this.vuecal.dblclickToNavigate)}}},Ci=ss(Or,[["render",Er]]),jr={class:"vuecal__header"},Yr={key:0,class:"vuecal__flex vuecal__menu",role:"tablist","aria-label":"Calendar views navigation"},Ar=["onDragenter","onDragleave","onClick","aria-label"],Vr={key:1,class:"vuecal__title-bar"},Wr=["aria-label"],Lr={class:"vuecal__flex vuecal__title",grow:""},Pr=["aria-label"],Nr={key:0,class:"vuecal__flex vuecal__split-days-headers"};function Fr(e,t,s,a,l,i){const d=Yt("weekdays-headings");return h(),m("div",jr,[s.options.hideViewSelector?_("",!0):(h(),m("div",Yr,[(h(!0),m(I,null,$(s.viewProps.views,(u,f)=>(h(),m(I,{key:f},[u.enabled?(h(),m("button",{key:0,class:B(["vuecal__view-btn",{"vuecal__view-btn--active":i.view.id===f,"vuecal__view-btn--highlighted":e.highlightedControl===f}]),type:"button",onDragenter:c=>s.editEvents.drag&&i.dnd&&i.dnd.viewSelectorDragEnter(c,f,e.$data),onDragleave:c=>s.editEvents.drag&&i.dnd&&i.dnd.viewSelectorDragLeave(c,f,e.$data),onClick:c=>i.switchView(f,null,!0),"aria-label":`${u.label} view`},p(u.label),43,Ar)):_("",!0)],64))),128))])),s.options.hideTitleBar?_("",!0):(h(),m("div",Vr,[n("button",{class:B(["vuecal__arrow vuecal__arrow--prev",{"vuecal__arrow--highlighted":e.highlightedControl==="previous"}]),type:"button",onClick:t[0]||(t[0]=(...u)=>i.previous&&i.previous(...u)),onDragenter:t[1]||(t[1]=u=>s.editEvents.drag&&i.dnd&&i.dnd.viewSelectorDragEnter(u,"previous",e.$data)),onDragleave:t[2]||(t[2]=u=>s.editEvents.drag&&i.dnd&&i.dnd.viewSelectorDragLeave(u,"previous",e.$data)),"aria-label":`Previous ${i.view.id}`},[q(e.$slots,"arrow-prev")],42,Wr),n("div",Lr,[y(Hs,{name:s.options.transitions?`slide-fade--${i.transitionDirection}`:""},{default:T(()=>[(h(),Te(hl(i.broaderView?"button":"span"),{type:!!i.broaderView&&"button",key:`${i.view.id}${i.view.startDate.toString()}`,onClick:t[3]||(t[3]=u=>!!i.broaderView&&i.switchToBroaderView()),"aria-label":!!i.broaderView&&`Go to ${i.broaderView} view`},{default:T(()=>[q(e.$slots,"title")]),_:3},8,["type","aria-label"]))]),_:3},8,["name"])]),s.options.todayButton?(h(),m("button",{key:0,class:B(["vuecal__today-btn",{"vuecal__today-btn--highlighted":e.highlightedControl==="today"}]),type:"button",onClick:t[4]||(t[4]=(...u)=>i.goToToday&&i.goToToday(...u)),onDragenter:t[5]||(t[5]=u=>s.editEvents.drag&&i.dnd&&i.dnd.viewSelectorDragEnter(u,"today",e.$data)),onDragleave:t[6]||(t[6]=u=>s.editEvents.drag&&i.dnd&&i.dnd.viewSelectorDragLeave(u,"today",e.$data)),"aria-label":"Today"},[q(e.$slots,"today-button")],34)):_("",!0),n("button",{class:B(["vuecal__arrow vuecal__arrow--next",{"vuecal__arrow--highlighted":e.highlightedControl==="next"}]),type:"button",onClick:t[7]||(t[7]=(...u)=>i.next&&i.next(...u)),onDragenter:t[8]||(t[8]=u=>s.editEvents.drag&&i.dnd&&i.dnd.viewSelectorDragEnter(u,"next",e.$data)),onDragleave:t[9]||(t[9]=u=>s.editEvents.drag&&i.dnd&&i.dnd.viewSelectorDragLeave(u,"next",e.$data)),"aria-label":`Next ${i.view.id}`},[q(e.$slots,"arrow-next")],42,Pr)])),s.viewProps.weekDaysInHeader?(h(),Te(d,{key:2,"week-days":s.weekDays,"transition-direction":i.transitionDirection,"switch-to-narrower-view":s.switchToNarrowerView},ya({_:2},[e.$slots["weekday-heading"]?{name:"weekday-heading",fn:T(({heading:u,view:f})=>[q(e.$slots,"weekday-heading",{heading:u,view:f})]),key:"0"}:void 0,e.$slots["split-label"]?{name:"split-label",fn:T(({split:u})=>[q(e.$slots,"split-label",{split:u,view:i.view})]),key:"1"}:void 0]),1032,["week-days","transition-direction","switch-to-narrower-view"])):_("",!0),y(Hs,{name:`slide-fade--${i.transitionDirection}`},{default:T(()=>[i.showDaySplits?(h(),m("div",Nr,[(h(!0),m(I,null,$(s.daySplits,(u,f)=>(h(),m("div",{class:B(["day-split-header",u.class||!1]),key:f},[q(e.$slots,"split-label",{split:u,view:i.view.id},()=>[O(p(u.label),1)])],2))),128))])):_("",!0)]),_:3},8,["name"])])}const Rr={inject:["vuecal","previous","next","switchView","updateSelectedDate","modules","view"],components:{WeekdaysHeadings:Ci},props:{options:{type:Object,default:()=>({})},editEvents:{type:Object,required:!0},hasSplits:{type:[Boolean,Number],default:!1},daySplits:{type:Array,default:()=>[]},viewProps:{type:Object,default:()=>({})},weekDays:{type:Array,default:()=>[]},switchToNarrowerView:{type:Function,default:()=>{}}},data:()=>({highlightedControl:null}),methods:{goToToday(){this.updateSelectedDate(new Date(new Date().setHours(0,0,0,0)))},switchToBroaderView(){this.transitionDirection="left",this.broaderView&&this.switchView(this.broaderView)}},computed:{transitionDirection:{get(){return this.vuecal.transitionDirection},set(e){this.vuecal.transitionDirection=e}},broaderView(){const{enabledViews:e}=this.vuecal;return e[e.indexOf(this.view.id)-1]},showDaySplits(){return this.view.id==="day"&&this.hasSplits&&this.options.stickySplitLabels&&!this.options.minSplitWidth},dnd(){return this.modules.dnd}}},Ir=ss(Rr,[["render",Fr]]),Hr=["draggable"];function Ur(e,t,s,a,l,i){return h(),m("div",{class:B(["vuecal__event",i.eventClasses]),style:Fe(i.eventStyles),tabindex:"0",onFocus:t[4]||(t[4]=(...d)=>i.focusEvent&&i.focusEvent(...d)),onKeypress:t[5]||(t[5]=Mi(Se((...d)=>i.onEnterKeypress&&i.onEnterKeypress(...d),["stop"]),["enter"])),onMouseenter:t[6]||(t[6]=(...d)=>i.onMouseEnter&&i.onMouseEnter(...d)),onMouseleave:t[7]||(t[7]=(...d)=>i.onMouseLeave&&i.onMouseLeave(...d)),onTouchstart:t[8]||(t[8]=Se((...d)=>i.onTouchStart&&i.onTouchStart(...d),["stop"])),onMousedown:t[9]||(t[9]=d=>i.onMouseDown(d)),onMouseup:t[10]||(t[10]=(...d)=>i.onMouseUp&&i.onMouseUp(...d)),onTouchend:t[11]||(t[11]=(...d)=>i.onMouseUp&&i.onMouseUp(...d)),onTouchmove:t[12]||(t[12]=(...d)=>i.onTouchMove&&i.onTouchMove(...d)),onDblclick:t[13]||(t[13]=(...d)=>i.onDblClick&&i.onDblClick(...d)),draggable:i.draggable,onDragstart:t[14]||(t[14]=d=>i.draggable&&i.onDragStart(d)),onDragend:t[15]||(t[15]=d=>i.draggable&&i.onDragEnd())},[i.vuecal.editEvents.delete&&s.event.deletable?(h(),m("div",{key:0,class:"vuecal__event-delete",onClick:t[0]||(t[0]=Se((...d)=>i.deleteEvent&&i.deleteEvent(...d),["stop"])),onTouchstart:t[1]||(t[1]=Se((...d)=>i.touchDeleteEvent&&i.touchDeleteEvent(...d),["stop"]))},p(i.vuecal.texts.deleteEvent),33)):_("",!0),q(e.$slots,"event",{event:s.event,view:i.view.id}),i.resizable?(h(),m("div",{key:1,class:"vuecal__event-resize-handle",contenteditable:"false",onMousedown:t[2]||(t[2]=Se((...d)=>i.onResizeHandleMouseDown&&i.onResizeHandleMouseDown(...d),["stop","prevent"])),onTouchstart:t[3]||(t[3]=Se((...d)=>i.onResizeHandleMouseDown&&i.onResizeHandleMouseDown(...d),["stop","prevent"]))},null,32)):_("",!0)],46,Hr)}const $r={inject:["vuecal","utils","modules","view","domEvents","editEvents"],props:{cellFormattedDate:{type:String,default:""},event:{type:Object,default:()=>({})},cellEvents:{type:Array,default:()=>[]},overlaps:{type:Array,default:()=>[]},eventPosition:{type:Number,default:0},overlapsStreak:{type:Number,default:0},allDay:{type:Boolean,default:!1}},data:()=>({touch:{dragThreshold:30,startX:0,startY:0,dragged:!1}}),methods:{onMouseDown(e,t=!1){if("ontouchstart"in window&&!t)return!1;const{clickHoldAnEvent:s,focusAnEvent:a,resizeAnEvent:l,dragAnEvent:i}=this.domEvents;if(a._eid===this.event._eid&&s._eid===this.event._eid)return!0;this.focusEvent(),s._eid=null,this.vuecal.editEvents.delete&&this.event.deletable&&(s.timeoutId=setTimeout(()=>{!l._eid&&!i._eid&&(s._eid=this.event._eid,this.event.deleting=!0)},s.timeout))},onMouseUp(e){this.domEvents.focusAnEvent._eid===this.event._eid&&!this.touch.dragged&&(this.domEvents.focusAnEvent.mousedUp=!0),this.touch.dragged=!1},onMouseEnter(e){e.preventDefault(),this.vuecal.emitWithEvent("event-mouse-enter",this.event)},onMouseLeave(e){e.preventDefault(),this.vuecal.emitWithEvent("event-mouse-leave",this.event)},onTouchMove(e){if(typeof this.vuecal.onEventClick!="function")return;const{clientX:t,clientY:s}=e.touches[0],{startX:a,startY:l,dragThreshold:i}=this.touch;(Math.abs(t-a)>i||Math.abs(s-l)>i)&&(this.touch.dragged=!0)},onTouchStart(e){this.touch.startX=e.touches[0].clientX,this.touch.startY=e.touches[0].clientY,this.onMouseDown(e,!0)},onEnterKeypress(e){if(typeof this.vuecal.onEventClick=="function")return this.vuecal.onEventClick(this.event,e)},onDblClick(e){if(typeof this.vuecal.onEventDblclick=="function")return this.vuecal.onEventDblclick(this.event,e)},onDragStart(e){this.dnd&&this.dnd.eventDragStart(e,this.event)},onDragEnd(){this.dnd&&this.dnd.eventDragEnd(this.event)},onResizeHandleMouseDown(){this.focusEvent(),this.domEvents.dragAnEvent._eid=null,this.domEvents.resizeAnEvent=Object.assign(this.domEvents.resizeAnEvent,{_eid:this.event._eid,start:(this.segment||this.event).start,split:this.event.split||null,segment:!!this.segment&&this.utils.date.formatDateLite(this.segment.start),originalEnd:new Date((this.segment||this.event).end),originalEndTimeMinutes:this.event.endTimeMinutes}),this.event.resizing=!0},deleteEvent(e=!1){if("ontouchstart"in window&&!e)return!1;this.utils.event.deleteAnEvent(this.event)},touchDeleteEvent(e){this.deleteEvent(!0)},cancelDeleteEvent(){this.event.deleting=!1},focusEvent(){const{focusAnEvent:e}=this.domEvents,t=e._eid;if(t!==this.event._eid){if(t){const s=this.view.events.find(a=>a._eid===t);s&&(s.focused=!1)}this.vuecal.cancelDelete(),this.vuecal.emitWithEvent("event-focus",this.event),e._eid=this.event._eid,this.event.focused=!0}}},computed:{eventDimensions(){const{startTimeMinutes:e,endTimeMinutes:t}=this.segment||this.event;let s=e-this.vuecal.timeFrom;const a=Math.max(Math.round(s*this.vuecal.timeCellHeight/this.vuecal.timeStep),0);s=Math.min(t,this.vuecal.timeTo)-this.vuecal.timeFrom;const l=Math.round(s*this.vuecal.timeCellHeight/this.vuecal.timeStep),i=Math.max(l-a,5);return{top:a,height:i}},eventStyles(){if(this.event.allDay||!this.vuecal.time||!this.event.endTimeMinutes||this.view.id==="month"||this.allDay)return{};let e=100/Math.min(this.overlaps.length+1,this.overlapsStreak),t=100/(this.overlaps.length+1)*this.eventPosition;this.vuecal.minEventWidth&&e<this.vuecal.minEventWidth&&(e=this.vuecal.minEventWidth,t=(100-this.vuecal.minEventWidth)/this.overlaps.length*this.eventPosition);const{top:s,height:a}=this.eventDimensions;return{top:`${s}px`,height:`${a}px`,width:`${e}%`,left:this.event.left&&`${this.event.left}px`||`${t}%`}},eventClasses(){const{isFirstDay:e,isLastDay:t}=this.segment||{};return{[this.event.class]:!!this.event.class,"vuecal__event--focus":this.event.focused,"vuecal__event--resizing":this.event.resizing,"vuecal__event--background":this.event.background,"vuecal__event--deletable":this.event.deleting,"vuecal__event--all-day":this.event.allDay,"vuecal__event--dragging":!this.event.draggingStatic&&this.event.dragging,"vuecal__event--static":this.event.dragging&&this.event.draggingStatic,"vuecal__event--multiple-days":!!this.segment,"event-start":this.segment&&e&&!t,"event-middle":this.segment&&!e&&!t,"event-end":this.segment&&t&&!e}},segment(){return this.event.segments&&this.event.segments[this.cellFormattedDate]||null},draggable(){const{draggable:e,background:t,daysCount:s}=this.event;return this.vuecal.editEvents.drag&&e&&!t&&s===1},resizable(){const{editEvents:e,time:t}=this.vuecal;return e.resize&&this.event.resizable&&t&&!this.allDay&&(!this.segment||this.segment&&this.segment.isLastDay)&&this.view.id!=="month"},dnd(){return this.modules.dnd}}},Br=ss($r,[["render",Ur]]),zr=["data-split","aria-label","onTouchstart","onMousedown","onDragover","onDrop"],Gr={key:0,class:"cell-time-labels"},Zr=["innerHTML"],qr={key:2,class:"vuecal__cell-events"},Jr=["title"];function Kr(e,t,s,a,l,i){const d=Yt("event");return h(),Te(ml,{class:B(["vuecal__cell",i.cellClasses]),name:`slide-fade--${i.transitionDirection}`,tag:"div",appear:s.options.transitions,style:Fe(i.cellStyles)},{default:T(()=>[(h(!0),m(I,null,$(i.splitsCount?i.splits:1,(u,f)=>(h(),m("div",{class:B(["vuecal__flex vuecal__cell-content",i.splitsCount&&i.splitClasses(u)]),key:s.options.transitions?`${i.view.id}-${s.data.content}-${f}`:f,"data-split":i.splitsCount?u.id:!1,column:"",tabindex:"0","aria-label":s.data.content,onFocus:t[0]||(t[0]=c=>i.onCellFocus(c)),onKeypress:t[1]||(t[1]=Mi(c=>i.onCellkeyPressEnter(c),["enter"])),onTouchstart:c=>!i.isDisabled&&i.onCellTouchStart(c,i.splitsCount?u.id:null),onMousedown:c=>!i.isDisabled&&i.onCellMouseDown(c,i.splitsCount?u.id:null),onClick:t[2]||(t[2]=c=>!i.isDisabled&&i.onCellClick(c)),onDblclick:t[3]||(t[3]=c=>!i.isDisabled&&i.onCellDblClick(c)),onContextmenu:t[4]||(t[4]=c=>!i.isDisabled&&s.options.cellContextmenu&&i.onCellContextMenu(c)),onDragenter:t[5]||(t[5]=c=>!i.isDisabled&&s.editEvents.drag&&i.dnd&&i.dnd.cellDragEnter(c,e.$data,s.data.startDate)),onDragover:c=>!i.isDisabled&&s.editEvents.drag&&i.dnd&&i.dnd.cellDragOver(c,e.$data,s.data.startDate,i.splitsCount?u.id:null),onDragleave:t[6]||(t[6]=c=>!i.isDisabled&&s.editEvents.drag&&i.dnd&&i.dnd.cellDragLeave(c,e.$data,s.data.startDate)),onDrop:c=>!i.isDisabled&&s.editEvents.drag&&i.dnd&&i.dnd.cellDragDrop(c,e.$data,s.data.startDate,i.splitsCount?u.id:null)},[s.options.showTimeInCells&&s.options.time&&i.isWeekOrDayView&&!s.allDay?(h(),m("div",Gr,[(h(!0),m(I,null,$(i.vuecal.timeCells,(c,g)=>(h(),m("span",{class:"cell-time-label",key:g},p(c.label),1))),128))])):_("",!0),i.isWeekOrDayView&&!s.allDay&&i.specialHours.length?(h(!0),m(I,{key:1},$(i.specialHours,(c,g)=>(h(),m("div",{class:B(["vuecal__special-hours",`vuecal__special-hours--day${c.day} ${c.class}`]),style:Fe(`height: ${c.height}px;top: ${c.top}px`)},[c.label?(h(),m("div",{key:0,class:"special-hours-label",innerHTML:c.label},null,8,Zr)):_("",!0)],6))),256)):_("",!0),q(e.$slots,"cell-content",{events:i.events,selectCell:c=>i.selectCell(c,!0),split:i.splitsCount?u:!1}),i.eventsCount&&(i.isWeekOrDayView||i.view.id==="month"&&s.options.eventsOnMonthView)?(h(),m("div",qr,[(h(!0),m(I,null,$(i.splitsCount?u.events:i.events,(c,g)=>(h(),Te(d,{key:g,"cell-formatted-date":s.data.formattedDate,event:c,"all-day":s.allDay,"cell-events":i.splitsCount?u.events:i.events,overlaps:((i.splitsCount?u.overlaps[c._eid]:e.cellOverlaps[c._eid])||[]).overlaps,"event-position":((i.splitsCount?u.overlaps[c._eid]:e.cellOverlaps[c._eid])||[]).position,"overlaps-streak":i.splitsCount?u.overlapsStreak:e.cellOverlapsStreak},{event:T(({event:k,view:w})=>[q(e.$slots,"event",{view:w,event:k})]),_:2},1032,["cell-formatted-date","event","all-day","cell-events","overlaps","event-position","overlaps-streak"]))),128))])):_("",!0)],42,zr))),128)),i.timelineVisible?(h(),m("div",{class:"vuecal__now-line",style:Fe(`top: ${i.todaysTimePosition}px`),key:s.options.transitions?`${i.view.id}-now-line`:"now-line",title:i.utils.date.formatTime(i.vuecal.now)},null,12,Jr)):_("",!0)]),_:3},8,["class","name","appear","style"])}const Qr={inject:["vuecal","utils","modules","view","domEvents"],components:{Event:Br},props:{options:{type:Object,default:()=>({})},editEvents:{type:Object,required:!0},data:{type:Object,required:!0},cellSplits:{type:Array,default:()=>[]},minTimestamp:{type:[Number,null],default:null},maxTimestamp:{type:[Number,null],default:null},cellWidth:{type:[Number,Boolean],default:!1},allDay:{type:Boolean,default:!1}},data:()=>({cellOverlaps:{},cellOverlapsStreak:1,timeAtCursor:null,highlighted:!1,highlightedSplit:null}),methods:{getSplitAtCursor({target:e}){let s=e.classList.contains("vuecal__cell-split")?e:this.vuecal.findAncestor(e,"vuecal__cell-split");return s&&(s=s.attributes["data-split"].value,parseInt(s).toString()===s.toString()&&(s=parseInt(s))),s||null},splitClasses(e){return{"vuecal__cell-split":!0,"vuecal__cell-split--highlighted":this.highlightedSplit===e.id,[e.class]:!!e.class}},checkCellOverlappingEvents(){this.options.time&&this.eventsCount&&!this.splitsCount&&(this.eventsCount===1?(this.cellOverlaps=[],this.cellOverlapsStreak=1):[this.cellOverlaps,this.cellOverlapsStreak]=this.utils.event.checkCellOverlappingEvents(this.events,this.options))},isDOMElementAnEvent(e){return this.vuecal.isDOMElementAnEvent(e)},selectCell(e,t=!1){const s=this.splitsCount?this.getSplitAtCursor(e):null;this.utils.cell.selectCell(t,this.timeAtCursor,s),this.timeAtCursor=null},onCellkeyPressEnter(e){this.isSelected||this.onCellFocus(e);const t=this.splitsCount?this.getSplitAtCursor(e):null;this.utils.cell.keyPressEnterCell(this.timeAtCursor,t),this.timeAtCursor=null},onCellFocus(e){if(!this.isSelected&&!this.isDisabled){this.isSelected=this.data.startDate;const t=this.splitsCount?this.getSplitAtCursor(e):null,s=this.timeAtCursor||this.data.startDate;this.vuecal.$emit("cell-focus",t?{date:s,split:t}:s)}},onCellMouseDown(e,t=null,s=!1){if("ontouchstart"in window&&!s)return!1;this.isSelected||this.onCellFocus(e);const{clickHoldACell:a,focusAnEvent:l}=this.domEvents;this.domEvents.cancelClickEventCreation=!1,a.eventCreated=!1,this.timeAtCursor=new Date(this.data.startDate);const{minutes:i,cursorCoords:{y:d}}=this.vuecal.minutesAtCursor(e);this.timeAtCursor.setMinutes(i);const u=this.isDOMElementAnEvent(e.target);!u&&l._eid&&((this.view.events.find(f=>f._eid===l._eid)||{}).focused=!1),this.editEvents.create&&!u&&this.setUpEventCreation(e,d)},setUpEventCreation(e,t){if(this.options.dragToCreateEvent&&["week","day"].includes(this.view.id)){const{dragCreateAnEvent:s}=this.domEvents;if(s.startCursorY=t,s.split=this.splitsCount?this.getSplitAtCursor(e):null,s.start=this.timeAtCursor,this.options.snapToTime){let a=this.timeAtCursor.getHours()*60+this.timeAtCursor.getMinutes();const l=a+this.options.snapToTime/2;a=l-l%this.options.snapToTime,s.start.setHours(0,a,0,0)}}else this.options.cellClickHold&&["month","week","day"].includes(this.view.id)&&this.setUpCellHoldTimer(e)},setUpCellHoldTimer(e){const{clickHoldACell:t}=this.domEvents;t.cellId=`${this.vuecal._.uid}_${this.data.formattedDate}`,t.split=this.splitsCount?this.getSplitAtCursor(e):null,t.timeoutId=setTimeout(()=>{if(t.cellId&&!this.domEvents.cancelClickEventCreation){const{_eid:s}=this.utils.event.createAnEvent(this.timeAtCursor,null,t.split?{split:t.split}:{});t.eventCreated=s}},t.timeout)},onCellTouchStart(e,t=null){this.onCellMouseDown(e,t,!0)},onCellClick(e){this.isDOMElementAnEvent(e.target)||this.selectCell(e)},onCellDblClick(e){const t=new Date(this.data.startDate);t.setMinutes(this.vuecal.minutesAtCursor(e).minutes);const s=this.splitsCount?this.getSplitAtCursor(e):null;this.vuecal.$emit("cell-dblclick",s?{date:t,split:s}:t),this.options.dblclickToNavigate&&this.vuecal.switchToNarrowerView()},onCellContextMenu(e){e.stopPropagation(),e.preventDefault();const t=new Date(this.data.startDate),{cursorCoords:s,minutes:a}=this.vuecal.minutesAtCursor(e);t.setMinutes(a);const l=this.splitsCount?this.getSplitAtCursor(e):null;this.vuecal.$emit("cell-contextmenu",{date:t,...s,...l||{},e})}},computed:{dnd(){return this.modules.dnd},nowInMinutes(){return this.utils.date.dateToMinutes(this.vuecal.now)},isBeforeMinDate(){return this.minTimestamp!==null&&this.minTimestamp>this.data.endDate.getTime()},isAfterMaxDate(){return this.maxTimestamp&&this.maxTimestamp<this.data.startDate.getTime()},isDisabled(){const{disableDays:e}=this.options,{isYearsOrYearView:t}=this.vuecal;return e.length&&e.includes(this.data.formattedDate)&&!t?!0:this.isBeforeMinDate||this.isAfterMaxDate},isSelected:{get(){let e=!1;const{selectedDate:t}=this.view;return this.view.id==="years"?e=t.getFullYear()===this.data.startDate.getFullYear():this.view.id==="year"?e=t.getFullYear()===this.data.startDate.getFullYear()&&t.getMonth()===this.data.startDate.getMonth():e=t.getTime()===this.data.startDate.getTime(),e},set(e){this.view.selectedDate=e,this.vuecal.$emit("update:selected-date",this.view.selectedDate)}},isWeekOrDayView(){return["week","day"].includes(this.view.id)},transitionDirection(){return this.vuecal.transitionDirection},specialHours(){return this.data.specialHours.map(e=>{let{from:t,to:s}=e;return t=Math.max(t,this.options.timeFrom),s=Math.min(s,this.options.timeTo),{...e,height:(s-t)*this.timeScale,top:(t-this.options.timeFrom)*this.timeScale}})},events(){const{startDate:e,endDate:t}=this.data;let s=[];if(!(["years","year"].includes(this.view.id)&&!this.options.eventsCountOnYearView)){if(s=this.view.events.slice(0),this.view.id==="month"&&s.push(...this.view.outOfScopeEvents),s=s.filter(a=>this.utils.event.eventInRange(a,e,t)),this.options.showAllDayEvents&&this.view.id!=="month"&&(s=s.filter(a=>!!a.allDay===this.allDay)),this.options.time&&this.isWeekOrDayView&&!this.allDay){const{timeFrom:a,timeTo:l}=this.options;s=s.filter(i=>{const d=i.daysCount>1&&i.segments[this.data.formattedDate]||{},u=i.daysCount===1&&i.startTimeMinutes<l&&i.endTimeMinutes>a,f=i.daysCount>1&&d.startTimeMinutes<l&&d.endTimeMinutes>a;return i.allDay||u||f||!1})}this.options.time&&this.isWeekOrDayView&&!(this.options.showAllDayEvents&&this.allDay)&&s.sort((a,l)=>a.start<l.start?-1:1),this.cellSplits.length||this.$nextTick(this.checkCellOverlappingEvents)}return s},eventsCount(){return this.events.length},splits(){return this.cellSplits.map((e,t)=>{const s=this.events.filter(i=>i.split===e.id),[a,l]=this.utils.event.checkCellOverlappingEvents(s.filter(i=>!i.background&&!i.allDay),this.options);return{...e,overlaps:a,overlapsStreak:l,events:s}})},splitsCount(){return this.splits.length},cellClasses(){return{[this.data.class]:!!this.data.class,"vuecal__cell--current":this.data.current,"vuecal__cell--today":this.data.today,"vuecal__cell--out-of-scope":this.data.outOfScope,"vuecal__cell--before-min":this.isDisabled&&this.isBeforeMinDate,"vuecal__cell--after-max":this.isDisabled&&this.isAfterMaxDate,"vuecal__cell--disabled":this.isDisabled,"vuecal__cell--selected":this.isSelected,"vuecal__cell--highlighted":this.highlighted,"vuecal__cell--has-splits":this.splitsCount,"vuecal__cell--has-events":this.eventsCount}},cellStyles(){return{...this.cellWidth?{width:`${this.cellWidth}%`}:{}}},timelineVisible(){const{time:e,timeTo:t}=this.options;return this.data.today&&this.isWeekOrDayView&&e&&!this.allDay&&this.nowInMinutes<=t},todaysTimePosition(){if(!this.data.today||!this.options.time)return;const e=this.nowInMinutes-this.options.timeFrom;return Math.round(e*this.timeScale)},timeScale(){return this.options.timeCellHeight/this.options.timeStep}}},Ei=ss(Qr,[["render",Kr]]),Xr={key:0,class:"vuecal__all-day-text",style:{width:"3em"}};function eo(e,t,s,a,l,i){const d=Yt("vuecal-cell");return h(),m("div",{class:"vuecal__flex vuecal__all-day",style:Fe(s.cellOrSplitMinWidth&&{height:s.height})},[s.cellOrSplitMinWidth?_("",!0):(h(),m("div",Xr,[n("span",null,p(s.label),1)])),n("div",{class:B(["vuecal__flex vuecal__cells",`${i.view.id}-view`]),grow:"",style:Fe(s.cellOrSplitMinWidth?`min-width: ${s.cellOrSplitMinWidth}px`:"")},[(h(!0),m(I,null,$(s.cells,(u,f)=>(h(),Te(d,{key:f,options:s.options,"edit-events":i.editEvents,data:u,"all-day":!0,"cell-width":s.options.hideWeekdays.length&&(i.vuecal.isWeekView||i.vuecal.isMonthView)&&i.vuecal.cellWidth,"min-timestamp":s.options.minTimestamp,"max-timestamp":s.options.maxTimestamp,"cell-splits":s.daySplits},{event:T(({event:c,view:g})=>[q(e.$slots,"event",{view:g,event:c})]),_:2},1032,["options","edit-events","data","cell-width","min-timestamp","max-timestamp","cell-splits"]))),128))],6)],4)}const to={inject:["vuecal","view","editEvents"],components:{"vuecal-cell":Ei},props:{options:{type:Object,required:!0},cells:{type:Array,required:!0},label:{type:String,required:!0},daySplits:{type:Array,default:()=>[]},shortEvents:{type:Boolean,default:!0},height:{type:String,default:""},cellOrSplitMinWidth:{type:Number,default:null}},computed:{hasCellOrSplitWidth(){return!!(this.options.minCellWidth||this.daySplits.length&&this.options.minSplitWidth)}}},so=ss(to,[["render",eo]]),ao=["lang"],io={class:"default"},no={key:0,class:"vuecal__flex vuecal__body",grow:""},lo=["onBlur","innerHTML"],ro=["innerHTML"],oo=["innerHTML"],uo={class:"vuecal__flex",row:"",grow:""},co={key:0,class:"vuecal__time-column"},ho={class:"vuecal__time-cell-label"},mo={key:1,class:"vuecal__flex vuecal__week-numbers",column:""},vo=["wrap","column"],fo=["onBlur","innerHTML"],po=["innerHTML"],go=["innerHTML"],yo=["wrap"],_o=["innerHTML"],wo=["innerHTML"],bo={key:2,class:"vuecal__cell-events-count"},ko={key:3,class:"vuecal__no-event"},xo=["onBlur","innerHTML"],Do=["innerHTML"],Mo={key:2,class:"vuecal__event-time"},So={key:0},To={key:1,class:"days-to-end"},Co=["innerHTML"],Eo={key:0,class:"vuecal__scrollbar-check"};function Oo(e,t,s,a,l,i){const d=Yt("vuecal-header"),u=Yt("all-day-bar"),f=Yt("weekdays-headings"),c=Yt("vuecal-cell");return h(),m("div",{class:B(["vuecal__flex vuecal",i.cssClasses]),column:"",ref:"vuecal",lang:s.locale},[y(d,{options:e.$props,"edit-events":i.editEvents,"view-props":{views:i.views,weekDaysInHeader:i.weekDaysInHeader},"week-days":i.weekDays,"has-splits":i.hasSplits,"day-splits":i.daySplits,"switch-to-narrower-view":i.switchToNarrowerView},ya({"arrow-prev":T(()=>[q(e.$slots,"arrow-prev",{},()=>[t[0]||(t[0]=O("Â ")),t[1]||(t[1]=n("i",{class:"angle"},null,-1)),t[2]||(t[2]=O("Â "))])]),"arrow-next":T(()=>[q(e.$slots,"arrow-next",{},()=>[t[3]||(t[3]=O("Â ")),t[4]||(t[4]=n("i",{class:"angle"},null,-1)),t[5]||(t[5]=O("Â "))])]),"today-button":T(()=>[q(e.$slots,"today-button",{},()=>[n("span",io,p(l.texts.today),1)])]),title:T(()=>[q(e.$slots,"title",{title:i.viewTitle,view:l.view},()=>[O(p(i.viewTitle),1)])]),_:2},[e.$slots["weekday-heading"]?{name:"weekday-heading",fn:T(({heading:g,view:k})=>[q(e.$slots,"weekday-heading",{heading:g,view:k})]),key:"0"}:void 0,e.$slots["split-label"]?{name:"split-label",fn:T(({split:g})=>[q(e.$slots,"split-label",{split:g,view:l.view.id})]),key:"1"}:void 0]),1032,["options","edit-events","view-props","week-days","has-splits","day-splits","switch-to-narrower-view"]),s.hideBody?_("",!0):(h(),m("div",no,[y(Hs,{name:`slide-fade--${l.transitionDirection}`,appear:s.transitions},{default:T(()=>[(h(),m("div",{class:"vuecal__flex",style:{"min-width":"100%"},key:s.transitions?l.view.id:!1,column:""},[s.showAllDayEvents&&i.hasTimeColumn&&(!i.cellOrSplitMinWidth||i.isDayView&&!s.minSplitWidth)?(h(),Te(u,hi(mi({key:0},i.allDayBar)),{event:T(({event:g,view:k})=>[q(e.$slots,"event",{view:k,event:g},()=>[i.editEvents.title&&g.titleEditable?(h(),m("div",{key:0,class:"vuecal__event-title vuecal__event-title--edit",contenteditable:"",onBlur:w=>i.onEventTitleBlur(w,g),innerHTML:g.title},null,40,lo)):g.title?(h(),m("div",{key:1,class:"vuecal__event-title",innerHTML:g.title},null,8,ro)):_("",!0),g.content&&!i.hasShortEvents&&!i.isShortMonthView?(h(),m("div",{key:2,class:"vuecal__event-content",innerHTML:g.content},null,8,oo)):_("",!0)])]),_:3},16)):_("",!0),n("div",{class:B(["vuecal__bg",{vuecal__flex:!i.hasTimeColumn}]),column:""},[n("div",uo,[i.hasTimeColumn?(h(),m("div",co,[s.showAllDayEvents&&i.cellOrSplitMinWidth&&!(i.isDayView&&!s.minSplitWidth)?(h(),m("div",{key:0,class:"vuecal__all-day-text",style:Fe({height:i.allDayBar.height})},[n("span",null,p(l.texts.allDay),1)],4)):_("",!0),(h(!0),m(I,null,$(i.timeCells,(g,k)=>(h(),m("div",{class:"vuecal__time-cell",key:k,style:Fe(`height: ${s.timeCellHeight}px`)},[q(e.$slots,"time-cell",{hours:g.hours,minutes:g.minutes},()=>[t[6]||(t[6]=n("span",{class:"vuecal__time-cell-line"},null,-1)),n("span",ho,p(g.label),1)])],4))),128))])):_("",!0),s.showWeekNumbers&&i.isMonthView?(h(),m("div",mo,[(h(),m(I,null,$(6,g=>n("div",{class:"vuecal__flex vuecal__week-number-cell",key:g,grow:""},[q(e.$slots,"week-number-cell",{week:i.getWeekNumber(g-1)},()=>[O(p(i.getWeekNumber(g-1)),1)])])),64))])):_("",!0),n("div",{class:B(["vuecal__flex vuecal__cells",`${l.view.id}-view`]),grow:"",wrap:!i.cellOrSplitMinWidth||!i.isWeekView,column:!!i.cellOrSplitMinWidth},[i.cellOrSplitMinWidth&&i.isWeekView?(h(),Te(f,{key:0,"transition-direction":l.transitionDirection,"week-days":i.weekDays,"switch-to-narrower-view":i.switchToNarrowerView,style:Fe(i.cellOrSplitMinWidth?`min-width: ${i.cellOrSplitMinWidth}px`:"")},ya({_:2},[e.$slots["weekday-heading"]?{name:"weekday-heading",fn:T(({heading:g,view:k})=>[q(e.$slots,"weekday-heading",{heading:g,view:k})]),key:"0"}:void 0,e.$slots["split-label"]?{name:"split-label",fn:T(({split:g})=>[q(e.$slots,"split-label",{split:g,view:l.view.id})]),key:"1"}:void 0]),1032,["transition-direction","week-days","switch-to-narrower-view","style"])):i.hasSplits&&s.stickySplitLabels&&s.minSplitWidth?(h(),m("div",{key:1,class:"vuecal__flex vuecal__split-days-headers",style:Fe(i.cellOrSplitMinWidth?`min-width: ${i.cellOrSplitMinWidth}px`:"")},[(h(!0),m(I,null,$(i.daySplits,(g,k)=>(h(),m("div",{class:B(["day-split-header",g.class||!1]),key:k},[q(e.$slots,"split-label",{split:g,view:l.view.id},()=>[O(p(g.label),1)])],2))),128))],4)):_("",!0),s.showAllDayEvents&&i.hasTimeColumn&&(i.isWeekView&&i.cellOrSplitMinWidth||i.isDayView&&i.hasSplits&&s.minSplitWidth)?(h(),Te(u,hi(mi({key:2},i.allDayBar)),{event:T(({event:g,view:k})=>[q(e.$slots,"event",{view:k,event:g},()=>[i.editEvents.title&&g.titleEditable?(h(),m("div",{key:0,class:"vuecal__event-title vuecal__event-title--edit",contenteditable:"",onBlur:w=>i.onEventTitleBlur(w,g),innerHTML:g.title},null,40,fo)):g.title?(h(),m("div",{key:1,class:"vuecal__event-title",innerHTML:g.title},null,8,po)):_("",!0),g.content&&!i.hasShortEvents&&!i.isShortMonthView?(h(),m("div",{key:2,class:"vuecal__event-content",innerHTML:g.content},null,8,go)):_("",!0)])]),_:3},16)):_("",!0),n("div",{class:"vuecal__flex",ref:g=>l.cellsEl=g,grow:"",wrap:!i.cellOrSplitMinWidth||!i.isWeekView,style:Fe(i.cellOrSplitMinWidth?`min-width: ${i.cellOrSplitMinWidth}px`:"")},[(h(!0),m(I,null,$(i.viewCells,(g,k)=>(h(),Te(c,{key:k,options:e.$props,"edit-events":i.editEvents,data:g,"cell-width":s.hideWeekdays.length&&(i.isWeekView||i.isMonthView)&&i.cellWidth,"min-timestamp":i.minTimestamp,"max-timestamp":i.maxTimestamp,"cell-splits":i.hasSplits&&i.daySplits||[]},{"cell-content":T(({events:w,split:C,selectCell:A})=>[q(e.$slots,"cell-content",{cell:g,view:l.view,goNarrower:A,events:w},()=>[C&&!s.stickySplitLabels?(h(),m("div",{key:0,class:"split-label",innerHTML:C.label},null,8,_o)):_("",!0),g.content?(h(),m("div",{key:1,class:"vuecal__cell-date",innerHTML:g.content},null,8,wo)):_("",!0),(i.isMonthView&&!s.eventsOnMonthView||i.isYearsOrYearView&&s.eventsCountOnYearView)&&w.length?(h(),m("div",bo,[q(e.$slots,"events-count",{view:l.view,events:w},()=>[O(p(w.length),1)])])):_("",!0),!i.cellOrSplitHasEvents(w,C)&&i.isWeekOrDayView?(h(),m("div",ko,[q(e.$slots,"no-event",{},()=>[O(p(l.texts.noEvent),1)])])):_("",!0)])]),event:T(({event:w,view:C})=>[q(e.$slots,"event",{view:C,event:w},()=>[i.editEvents.title&&w.titleEditable?(h(),m("div",{key:0,class:"vuecal__event-title vuecal__event-title--edit",contenteditable:"",onBlur:A=>i.onEventTitleBlur(A,w),innerHTML:w.title},null,40,xo)):w.title?(h(),m("div",{key:1,class:"vuecal__event-title",innerHTML:w.title},null,8,Do)):_("",!0),s.time&&!w.allDay&&!(i.isMonthView&&(w.allDay||s.showAllDayEvents==="short"))&&!i.isShortMonthView?(h(),m("div",Mo,[O(p(l.utils.date.formatTime(w.start,i.TimeFormat)),1),w.endTimeMinutes?(h(),m("span",So,"Â - "+p(l.utils.date.formatTime(w.end,i.TimeFormat,null,!0)),1)):_("",!0),w.daysCount>1&&(w.segments[g.formattedDate]||{}).isFirstDay?(h(),m("small",To,"Â +"+p(w.daysCount-1)+p((l.texts.day[0]||"").toLowerCase()),1)):_("",!0)])):_("",!0),w.content&&!(i.isMonthView&&w.allDay&&s.showAllDayEvents==="short")&&!i.isShortMonthView?(h(),m("div",{key:3,class:"vuecal__event-content",innerHTML:w.content},null,8,Co)):_("",!0)])]),"no-event":T(()=>[q(e.$slots,"no-event",{},()=>[O(p(l.texts.noEvent),1)])]),_:2},1032,["options","edit-events","data","cell-width","min-timestamp","max-timestamp","cell-splits"]))),128))],12,yo)],10,vo)])],2)]))]),_:3},8,["name","appear"]),l.ready?_("",!0):(h(),m("div",Eo,t[7]||(t[7]=[n("div",null,null,-1)])))]))],10,ao)}const gs=1440,Ns={weekDays:Array(7).fill(""),weekDaysShort:[],months:Array(12).fill(""),years:"",year:"",month:"",week:"",day:"",today:"",noEvent:"",allDay:"",deleteEvent:"",createEvent:"",dateFormat:"dddd MMMM D, YYYY",am:"am",pm:"pm"},gi=["years","year","month","week","day"],yi=new pr(Ns),jo={name:"vue-cal",components:{"vuecal-cell":Ei,"vuecal-header":Ir,WeekdaysHeadings:Ci,AllDayBar:so},provide(){return{vuecal:this,utils:this.utils,modules:this.modules,previous:this.previous,next:this.next,switchView:this.switchView,updateSelectedDate:this.updateSelectedDate,editEvents:this.editEvents,view:this.view,domEvents:this.domEvents}},props:{activeView:{type:String,default:"week"},allDayBarHeight:{type:[String,Number],default:"25px"},cellClickHold:{type:Boolean,default:!0},cellContextmenu:{type:Boolean,default:!1},clickToNavigate:{type:Boolean,default:!1},dblclickToNavigate:{type:Boolean,default:!0},disableDatePrototypes:{type:Boolean,default:!1},disableDays:{type:Array,default:()=>[]},disableViews:{type:Array,default:()=>[]},dragToCreateEvent:{type:Boolean,default:!0},dragToCreateThreshold:{type:Number,default:15},editableEvents:{type:[Boolean,Object],default:!1},events:{type:Array,default:()=>[]},eventsCountOnYearView:{type:Boolean,default:!1},eventsOnMonthView:{type:[Boolean,String],default:!1},hideBody:{type:Boolean,default:!1},hideTitleBar:{type:Boolean,default:!1},hideViewSelector:{type:Boolean,default:!1},hideWeekdays:{type:Array,default:()=>[]},hideWeekends:{type:Boolean,default:!1},locale:{type:[String,Object],default:"en"},maxDate:{type:[String,Date],default:""},minCellWidth:{type:Number,default:0},minDate:{type:[String,Date],default:""},minEventWidth:{type:Number,default:0},minSplitWidth:{type:Number,default:0},onEventClick:{type:[Function,null],default:null},onEventCreate:{type:[Function,null],default:null},onEventDblclick:{type:[Function,null],default:null},overlapsPerTimeStep:{type:Boolean,default:!1},resizeX:{type:Boolean,default:!1},selectedDate:{type:[String,Date],default:""},showAllDayEvents:{type:[Boolean,String],default:!1},showTimeInCells:{type:Boolean,default:!1},showWeekNumbers:{type:[Boolean,String],default:!1},snapToTime:{type:Number,default:0},small:{type:Boolean,default:!1},specialHours:{type:Object,default:()=>({})},splitDays:{type:Array,default:()=>[]},startWeekOnSunday:{type:Boolean,default:!1},stickySplitLabels:{type:Boolean,default:!1},time:{type:Boolean,default:!0},timeCellHeight:{type:Number,default:40},timeFormat:{type:String,default:""},timeFrom:{type:Number,default:0},timeStep:{type:Number,default:60},timeTo:{type:Number,default:gs},todayButton:{type:Boolean,default:!1},transitions:{type:Boolean,default:!0},twelveHour:{type:Boolean,default:!1},watchRealTime:{type:Boolean,default:!1},xsmall:{type:Boolean,default:!1}},data(){return{ready:!1,texts:{...Ns},utils:{date:(this.disableDatePrototypes?yi.removePrototypes():!1)||yi,cell:null,event:null},modules:{dnd:null},cellsEl:null,view:{id:"",title:"",startDate:null,endDate:null,firstCellDate:null,lastCellDate:null,selectedDate:null,events:[]},eventIdIncrement:1,now:new Date,timeTickerIds:[null,null],domEvents:{resizeAnEvent:{_eid:null,start:null,split:null,segment:null,originalEndTimeMinutes:0,originalEnd:null,end:null,startCell:null,endCell:null},dragAnEvent:{_eid:null},dragCreateAnEvent:{startCursorY:null,start:null,split:null,event:null},focusAnEvent:{_eid:null,mousedUp:!1},clickHoldAnEvent:{_eid:null,timeout:1200,timeoutId:null},dblTapACell:{taps:0,timeout:500},clickHoldACell:{cellId:null,split:null,timeout:1200,timeoutId:null,eventCreated:!1},cancelClickEventCreation:!1},mutableEvents:[],transitionDirection:"right"}},methods:{async loadLocale(e){if(typeof this.locale=="object"){this.texts=Object.assign({},Ns,e),this.utils.date.updateTexts(this.texts);return}const t=await fr(Object.assign({"./i18n/ar.json":()=>P(()=>import("./ar.es-bitOgb9K.js"),[]),"./i18n/bg.json":()=>P(()=>import("./bg.es-5tp0KQRo.js"),[]),"./i18n/bn.json":()=>P(()=>import("./bn.es-C_qR0y0-.js"),[]),"./i18n/bs.json":()=>P(()=>import("./bs.es-DduooXS8.js"),[]),"./i18n/ca.json":()=>P(()=>import("./ca.es-DYDNDJFJ.js"),[]),"./i18n/cs.json":()=>P(()=>import("./cs.es-CvnAvfoI.js"),[]),"./i18n/da.json":()=>P(()=>import("./da.es-C_eJXDX3.js"),[]),"./i18n/de.json":()=>P(()=>import("./de.es-Cp-R9E16.js"),[]),"./i18n/el.json":()=>P(()=>import("./el.es-BZ44a1Tb.js"),[]),"./i18n/en.json":()=>P(()=>import("./en.es-DwVNOttH.js"),[]),"./i18n/es.json":()=>P(()=>import("./es.es-DO8PaQ_q.js"),[]),"./i18n/et.json":()=>P(()=>import("./et.es-DdRIcUrz.js"),[]),"./i18n/fa.json":()=>P(()=>import("./fa.es-XN0av8Tx.js"),[]),"./i18n/fi.json":()=>P(()=>import("./fi.es-B0Iy6aas.js"),[]),"./i18n/fr.json":()=>P(()=>import("./fr.es-B7WXlprl.js"),[]),"./i18n/he.json":()=>P(()=>import("./he.es-BWEk5prp.js"),[]),"./i18n/hr.json":()=>P(()=>import("./hr.es-B_iqHQyr.js"),[]),"./i18n/hu.json":()=>P(()=>import("./hu.es-D_t4Ibxf.js"),[]),"./i18n/id.json":()=>P(()=>import("./id.es-CzHAK-XV.js"),[]),"./i18n/is.json":()=>P(()=>import("./is.es-DChRpym4.js"),[]),"./i18n/it.json":()=>P(()=>import("./it.es-CquQA5xx.js"),[]),"./i18n/ja.json":()=>P(()=>import("./ja.es-B19gsG6H.js"),[]),"./i18n/ka.json":()=>P(()=>import("./ka.es-CuOe65jc.js"),[]),"./i18n/ko.json":()=>P(()=>import("./ko.es-CsMl2USK.js"),[]),"./i18n/lt.json":()=>P(()=>import("./lt.es-vqgjGyMx.js"),[]),"./i18n/mn.json":()=>P(()=>import("./mn.es-BmdwFdas.js"),[]),"./i18n/nl.json":()=>P(()=>import("./nl.es-CFxVMCWy.js"),[]),"./i18n/no.json":()=>P(()=>import("./no.es-qRcuRMwl.js"),[]),"./i18n/pl.json":()=>P(()=>import("./pl.es-BQ3a0ltx.js"),[]),"./i18n/pt-br.json":()=>P(()=>import("./pt-br.es-U9bVHsgs.js"),[]),"./i18n/pt-pt.json":()=>P(()=>import("./pt-pt.es-U9bVHsgs.js"),[]),"./i18n/ro.json":()=>P(()=>import("./ro.es-ldjMjt3l.js"),[]),"./i18n/ru.json":()=>P(()=>import("./ru.es-CS-QKsYL.js"),[]),"./i18n/sk.json":()=>P(()=>import("./sk.es-CAe8sEvL.js"),[]),"./i18n/sl.json":()=>P(()=>import("./sl.es-rdzOxu_X.js"),[]),"./i18n/sq.json":()=>P(()=>import("./sq.es-BY5E06HI.js"),[]),"./i18n/sr.json":()=>P(()=>import("./sr.es-QPseRVBy.js"),[]),"./i18n/sv.json":()=>P(()=>import("./sv.es-BfPUYcV1.js"),[]),"./i18n/tr.json":()=>P(()=>import("./tr.es-Cl6kz_IH.js"),[]),"./i18n/uk.json":()=>P(()=>import("./uk.es-DBEtNQnZ.js"),[]),"./i18n/vi.json":()=>P(()=>import("./vi.es-Bx2g_1jx.js"),[]),"./i18n/zh-cn.json":()=>P(()=>import("./zh-cn.es-BWMmCH-R.js"),[]),"./i18n/zh-hk.json":()=>P(()=>import("./zh-hk.es-DFZ0bKvi.js"),[])}),`./i18n/${e}.json`,3);this.texts=Object.assign({},Ns,t),this.utils.date.updateTexts(this.texts)},loadDragAndDrop(){P(()=>import("./drag-and-drop.es-CbCm7IHa.js"),[]).then(e=>{const{DragAndDrop:t}=e;this.modules.dnd=new t(this)}).catch(()=>console.warn("Vue Cal: Missing drag & drop module."))},validateView(e){return gi.includes(e)||(console.error(`Vue Cal: invalid active-view parameter provided: "${e}".
A valid view must be one of: ${gi.join(", ")}.`),e="week"),this.enabledViews.includes(e)||(console.warn(`Vue Cal: the provided active-view "${e}" is disabled. Using the "${this.enabledViews[0]}" view instead.`),e=this.enabledViews[0]),e},switchToNarrowerView(e=null){this.transitionDirection="right";const t=this.enabledViews[this.enabledViews.indexOf(this.view.id)+1];t&&this.switchView(t,e)},switchView(e,t=null,s=!1){e=this.validateView(e);const a=this.utils.date,l=this.view.startDate&&this.view.startDate.getTime();if(this.transitions&&s){if(this.view.id===e)return;const u=this.enabledViews;this.transitionDirection=u.indexOf(this.view.id)>u.indexOf(e)?"left":"right"}const i=this.view.id;switch(this.view.events=[],this.view.id=e,this.view.firstCellDate=null,this.view.lastCellDate=null,t||(t=this.view.selectedDate||this.view.startDate),e){case"years":{this.view.startDate=new Date(Math.floor(t.getFullYear()/25)*25||2e3,0,1),this.view.endDate=new Date(this.view.startDate.getFullYear()+25,0,1),this.view.endDate.setSeconds(-1);break}case"year":{this.view.startDate=new Date(t.getFullYear(),0,1),this.view.endDate=new Date(t.getFullYear()+1,0,1),this.view.endDate.setSeconds(-1);break}case"month":{this.view.startDate=new Date(t.getFullYear(),t.getMonth(),1),this.view.endDate=new Date(t.getFullYear(),t.getMonth()+1,1),this.view.endDate.setSeconds(-1);let u=new Date(this.view.startDate);if(u.getDay()!==(this.startWeekOnSunday?0:1)&&(u=a.getPreviousFirstDayOfWeek(u,this.startWeekOnSunday)),this.view.firstCellDate=u,this.view.lastCellDate=a.addDays(u,41),this.view.lastCellDate.setHours(23,59,59,0),this.hideWeekends){if([0,6].includes(this.view.firstCellDate.getDay())){const f=this.view.firstCellDate.getDay()===6&&!this.startWeekOnSunday?2:1;this.view.firstCellDate=a.addDays(this.view.firstCellDate,f)}if([0,6].includes(this.view.startDate.getDay())){const f=this.view.startDate.getDay()===6?2:1;this.view.startDate=a.addDays(this.view.startDate,f)}if([0,6].includes(this.view.lastCellDate.getDay())){const f=this.view.lastCellDate.getDay()===0&&!this.startWeekOnSunday?2:1;this.view.lastCellDate=a.subtractDays(this.view.lastCellDate,f)}if([0,6].includes(this.view.endDate.getDay())){const f=this.view.endDate.getDay()===0?2:1;this.view.endDate=a.subtractDays(this.view.endDate,f)}}break}case"week":{t=a.getPreviousFirstDayOfWeek(t,this.startWeekOnSunday);const u=this.hideWeekends?5:7;this.view.startDate=this.hideWeekends&&this.startWeekOnSunday?a.addDays(t,1):t,this.view.startDate.setHours(0,0,0,0),this.view.endDate=a.addDays(t,u),this.view.endDate.setSeconds(-1);break}case"day":{this.view.startDate=t,this.view.startDate.setHours(0,0,0,0),this.view.endDate=new Date(t),this.view.endDate.setHours(23,59,59,0);break}}this.addEventsToView();const d=this.view.startDate&&this.view.startDate.getTime();if(!(i===e&&d===l)&&(this.$emit("update:activeView",e),this.ready)){const u=this.view.startDate,f={view:e,startDate:u,endDate:this.view.endDate,...this.isMonthView?{firstCellDate:this.view.firstCellDate,lastCellDate:this.view.lastCellDate,outOfScopeEvents:this.view.outOfScopeEvents.map(this.cleanupEvent)}:{},events:this.view.events.map(this.cleanupEvent),...this.isWeekView?{week:a.getWeek(this.startWeekOnSunday?a.addDays(u,1):u)}:{}};this.$emit("view-change",f)}},previous(){this.previousNext(!1)},next(){this.previousNext()},previousNext(e=!0){const t=this.utils.date;this.transitionDirection=e?"right":"left";const s=e?1:-1;let a=null;const{startDate:l,id:i}=this.view;switch(i){case"years":a=new Date(l.getFullYear()+25*s,0,1);break;case"year":a=new Date(l.getFullYear()+1*s,1,1);break;case"month":a=new Date(l.getFullYear(),l.getMonth()+1*s,1);break;case"week":a=t[e?"addDays":"subtractDays"](t.getPreviousFirstDayOfWeek(l,this.startWeekOnSunday),7);break;case"day":a=t[e?"addDays":"subtractDays"](l,1);const d=a.getDay(),u=this.startWeekOnSunday?d:(d||7)-1;if(this.weekDays[u].hide){const c=this.weekDays.map((k,w)=>({...k,i:w}));let g=0;e?([...c.slice(u),...c].find(k=>(g++,!k.hide)).i,g--):[...c,...c.slice(0,u)].reverse().find(k=>(g++,!k.hide)).i,a=t[e?"addDays":"subtractDays"](a,g)}break}a&&this.switchView(i,a)},addEventsToView(e=[]){const t=this.utils.event,{startDate:s,endDate:a,firstCellDate:l,lastCellDate:i}=this.view;if(e.length||(this.view.events=[]),e=e.length?e:[...this.mutableEvents],!e||this.isYearsOrYearView&&!this.eventsCountOnYearView)return;let d=e.filter(u=>t.eventInRange(u,s,a));!this.isYearsOrYearView&&!(this.isMonthView&&!this.eventsOnMonthView)&&(d=d.map(u=>u.daysCount>1?t.createEventSegments(u,l||s,i||a):u)),this.view.events.push(...d),this.isMonthView&&(this.view.outOfScopeEvents=[],e.forEach(u=>{(t.eventInRange(u,l,s)||t.eventInRange(u,a,i))&&(this.view.events.some(f=>f._eid===u._eid)||this.view.outOfScopeEvents.push(u))}))},findAncestor(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},isDOMElementAnEvent(e){return e.classList.contains("vuecal__event")||this.findAncestor(e,"vuecal__event")},onMouseMove(e){const{resizeAnEvent:t,dragAnEvent:s,dragCreateAnEvent:a}=this.domEvents;t._eid===null&&s._eid===null&&!a.start||(e.preventDefault(),t._eid?this.eventResizing(e):this.dragToCreateEvent&&a.start&&this.eventDragCreation(e))},onMouseUp(e){const{focusAnEvent:t,resizeAnEvent:s,clickHoldAnEvent:a,clickHoldACell:l,dragCreateAnEvent:i}=this.domEvents,{_eid:d}=a,{_eid:u}=s;let f=!1;const{event:c,start:g}=i,k=this.isDOMElementAnEvent(e.target),w=t.mousedUp;if(t.mousedUp=!1,k&&(this.domEvents.cancelClickEventCreation=!0),l.eventCreated)return;if(u){const{originalEnd:A,originalEndTimeMinutes:K,endTimeMinutes:pe}=s,N=this.view.events.find(V=>V._eid===s._eid);if(f=pe&&pe!==K,N&&N.end.getTime()!==A.getTime()){const V=this.mutableEvents.find(ke=>ke._eid===s._eid);V.endTimeMinutes=N.endTimeMinutes,V.end=N.end;const L=this.cleanupEvent(N),Ee={...this.cleanupEvent(N),end:A,endTimeMinutes:N.originalEndTimeMinutes};this.$emit("event-duration-change",{event:L,oldDate:s.originalEnd,originalEvent:Ee}),this.$emit("event-change",{event:L,originalEvent:Ee})}N&&(N.resizing=!1),s._eid=null,s.start=null,s.split=null,s.segment=null,s.originalEndTimeMinutes=null,s.originalEnd=null,s.endTimeMinutes=null,s.startCell=null,s.endCell=null}else g&&(c&&(this.emitWithEvent("event-drag-create",c),i.event.resizing=!1),i.start=null,i.split=null,i.event=null);!k&&!u&&this.unfocusEvent(),a.timeoutId&&!d&&(clearTimeout(a.timeoutId),a.timeoutId=null),l.timeoutId&&(clearTimeout(l.timeoutId),l.timeoutId=null);const C=typeof this.onEventClick=="function";if(w&&!f&&!d&&!c&&C){let A=this.view.events.find(K=>K._eid===t._eid);return!A&&this.isMonthView&&(A=this.view.outOfScopeEvents.find(K=>K._eid===t._eid)),A&&this.onEventClick(A,e)}},onKeyUp(e){e.keyCode===27&&this.cancelDelete()},eventResizing(e){const{resizeAnEvent:t}=this.domEvents,s=this.view.events.find(c=>c._eid===t._eid)||{segments:{}},{minutes:a,cursorCoords:l}=this.minutesAtCursor(e),i=s.segments&&s.segments[t.segment],{date:d,event:u}=this.utils,f=Math.max(a,this.timeFrom+1,(i||s).startTimeMinutes+1);if(s.endTimeMinutes=t.endTimeMinutes=f,this.snapToTime){const c=s.endTimeMinutes+this.snapToTime/2;s.endTimeMinutes=c-c%this.snapToTime}if(i&&(i.endTimeMinutes=s.endTimeMinutes),s.end.setHours(0,s.endTimeMinutes,s.endTimeMinutes===gs?-1:0,0),this.resizeX&&this.isWeekView){s.daysCount=d.countDays(s.start,s.end);const c=this.cellsEl,g=c.offsetWidth/c.childElementCount,k=Math.floor(l.x/g);if(t.startCell===null&&(t.startCell=k-(s.daysCount-1)),t.endCell!==k){t.endCell=k;const w=d.addDays(s.start,k-t.startCell),C=Math.max(d.countDays(s.start,w),1);if(C!==s.daysCount){let A=null;C>s.daysCount?A=u.addEventSegment(s):A=u.removeEventSegment(s),t.segment=A,s.endTimeMinutes+=.001}}}this.$emit("event-resizing",{_eid:s._eid,end:s.end,endTimeMinutes:s.endTimeMinutes})},eventDragCreation(e){const{dragCreateAnEvent:t}=this.domEvents,{start:s,startCursorY:a,split:l}=t,i=new Date(s),{minutes:d,cursorCoords:{y:u}}=this.minutesAtCursor(e);if(!(!t.event&&Math.abs(a-u)<this.dragToCreateThreshold))if(t.event){if(i.setHours(0,d,d===gs?-1:0,0),this.snapToTime){let g=i.getHours()*60+i.getMinutes();const k=g+this.snapToTime/2;g=k-k%this.snapToTime,i.setHours(0,g,0,0)}const f=s<i,{event:c}=t;c.start=f?s:i,c.end=f?i:s,c.startTimeMinutes=c.start.getHours()*60+c.start.getMinutes(),c.endTimeMinutes=c.end.getHours()*60+c.end.getMinutes()}else{if(t.event=this.utils.event.createAnEvent(s,1,{split:l}),!t.event){t.start=null,t.split=null,t.event=null;return}t.event.resizing=!0}},unfocusEvent(){const{focusAnEvent:e,clickHoldAnEvent:t}=this.domEvents,s=this.view.events.find(a=>a._eid===(e._eid||t._eid));e._eid=null,t._eid=null,s&&(s.focused=!1,s.deleting=!1)},cancelDelete(){const{clickHoldAnEvent:e}=this.domEvents;if(e._eid){const t=this.view.events.find(s=>s._eid===e._eid);t&&(t.deleting=!1),e._eid=null,e.timeoutId=null}},onEventTitleBlur(e,t){if(t.title===e.target.innerHTML)return;const s=t.title;t.title=e.target.innerHTML;const a=this.cleanupEvent(t);this.$emit("event-title-change",{event:a,oldTitle:s}),this.$emit("event-change",{event:a,originalEvent:{...a,title:s}})},updateMutableEvents(){const e=this.utils.date;this.mutableEvents=[],this.events.forEach(t=>{const s=typeof t.start=="string"?e.stringToDate(t.start):t.start,a=e.formatDateLite(s),l=e.dateToMinutes(s);let i=null;typeof t.end=="string"&&t.end.includes("24:00")?(i=new Date(t.end.replace(" 24:00","")),i.setHours(23,59,59,0)):i=typeof t.end=="string"?e.stringToDate(t.end):t.end;let d=e.formatDateLite(i),u=e.dateToMinutes(i);(!u||u===gs)&&(!this.time||typeof t.end=="string"&&t.end.length===10?i.setHours(23,59,59,0):i.setSeconds(i.getSeconds()-1),d=e.formatDateLite(i),u=gs);const f=a!==d;t=Object.assign({...this.utils.event.eventDefaults},t,{_eid:`${this._.uid}_${this.eventIdIncrement++}`,segments:f?{}:null,start:s,startTimeMinutes:l,end:i,endTimeMinutes:u,daysCount:f?e.countDays(s,i):1,class:t.class}),this.mutableEvents.push(t)})},minutesAtCursor(e){return this.utils.cell.minutesAtCursor(e)},createEvent(e,t,s={}){return this.utils.event.createAnEvent(e,t,s)},cleanupEvent(e){return e={...e},["segments","deletable","deleting","titleEditable","resizable","resizing","draggable","dragging","draggingStatic","focused"].forEach(s=>{s in e&&delete e[s]}),e.repeat||delete e.repeat,e},emitWithEvent(e,t){this.$emit(e,this.cleanupEvent(t))},updateSelectedDate(e){if(e&&typeof e=="string"?e=this.utils.date.stringToDate(e):e=new Date(e),e&&e instanceof Date){const{selectedDate:t}=this.view;t&&(this.transitionDirection=t.getTime()>e.getTime()?"left":"right"),e.setHours(0,0,0,0),(!t||t.getTime()!==e.getTime())&&(this.view.selectedDate=e),this.switchView(this.view.id)}this.$emit("update:selected-date",this.view.selectedDate)},getWeekNumber(e){const t=this.utils.date,a=this.firstCellDateWeekNumber+e,l=this.startWeekOnSunday?1:0;return a>52?t.getWeek(t.addDays(this.view.firstCellDate,7*e+l)):a},timeTick(){this.now=new Date,this.timeTickerIds[1]=setTimeout(this.timeTick,60*1e3)},updateDateTexts(){this.utils.date.updateTexts(this.texts)},alignWithScrollbar(){if(document.getElementById("vuecal-align-with-scrollbar"))return;const e=this.$refs.vuecal.getElementsByClassName("vuecal__scrollbar-check")[0],t=e.offsetWidth-e.children[0].offsetWidth;if(t){const s=document.createElement("style");s.id="vuecal-align-with-scrollbar",s.type="text/css",s.innerHTML=`.vuecal--view-with-time .vuecal__weekdays-headings,.vuecal--view-with-time .vuecal__all-day {padding-right: ${t}px}`,document.head.appendChild(s)}},cellOrSplitHasEvents(e,t=null){return e.length&&(!t&&e.length||t&&e.some(s=>s.split===t.id))}},created(){this.utils.cell=new yr(this),this.utils.event=new wr(this,this.utils.date),this.loadLocale(this.locale),this.editEvents.drag&&this.loadDragAndDrop(),this.updateMutableEvents(this.events),this.view.id=this.currentView,this.selectedDate?this.updateSelectedDate(this.selectedDate):(this.view.selectedDate=new Date,this.switchView(this.currentView)),this.time&&this.watchRealTime&&(this.timeTickerIds[0]=setTimeout(this.timeTick,(60-this.now.getSeconds())*1e3))},mounted(){const e=this.utils.date,t="ontouchstart"in window,{resize:s,drag:a,create:l,delete:i,title:d}=this.editEvents,u=this.onEventClick&&typeof this.onEventClick=="function";(s||a||l||i||d||u)&&window.addEventListener(t?"touchend":"mouseup",this.onMouseUp),(s||a||l&&this.dragToCreateEvent)&&window.addEventListener(t?"touchmove":"mousemove",this.onMouseMove,{passive:!1}),d&&window.addEventListener("keyup",this.onKeyUp),t&&(this.$refs.vuecal.oncontextmenu=function(g){g.preventDefault(),g.stopPropagation()}),this.hideBody||this.alignWithScrollbar();const f=this.view.startDate,c={view:this.view.id,startDate:f,endDate:this.view.endDate,...this.isMonthView?{firstCellDate:this.view.firstCellDate,lastCellDate:this.view.lastCellDate}:{},events:this.view.events.map(this.cleanupEvent),...this.isWeekView?{week:e.getWeek(this.startWeekOnSunday?e.addDays(f,1):f)}:{}};this.$emit("ready",c),this.ready=!0},beforeUnmount(){const e="ontouchstart"in window;window.removeEventListener(e?"touchmove":"mousemove",this.onMouseMove,{passive:!1}),window.removeEventListener(e?"touchend":"mouseup",this.onMouseUp),window.removeEventListener("keyup",this.onKeyUp),this.timeTickerIds[0]&&clearTimeout(this.timeTickerIds[0]),this.timeTickerIds[1]&&clearTimeout(this.timeTickerIds[1]),this.timeTickerIds=[null,null]},computed:{editEvents(){return this.editableEvents&&typeof this.editableEvents=="object"?{title:!!this.editableEvents.title,drag:!!this.editableEvents.drag,resize:!!this.editableEvents.resize,create:!!this.editableEvents.create,delete:!!this.editableEvents.delete}:{title:!!this.editableEvents,drag:!!this.editableEvents,resize:!!this.editableEvents,create:!!this.editableEvents,delete:!!this.editableEvents}},views(){return{years:{label:this.texts.years,enabled:!this.disableViews.includes("years")},year:{label:this.texts.year,enabled:!this.disableViews.includes("year")},month:{label:this.texts.month,enabled:!this.disableViews.includes("month")},week:{label:this.texts.week,enabled:!this.disableViews.includes("week")},day:{label:this.texts.day,enabled:!this.disableViews.includes("day")}}},currentView(){return this.validateView(this.activeView)},enabledViews(){return Object.keys(this.views).filter(e=>this.views[e].enabled)},hasTimeColumn(){return this.time&&this.isWeekOrDayView},isShortMonthView(){return this.isMonthView&&this.eventsOnMonthView==="short"},firstCellDateWeekNumber(){const e=this.utils.date,t=this.view.firstCellDate;return e.getWeek(this.startWeekOnSunday?e.addDays(t,1):t)},timeCells(){const e=[];for(let t=this.timeFrom,s=this.timeTo;t<s;t+=this.timeStep)e.push({hours:Math.floor(t/60),minutes:t%60,label:this.utils.date.formatTime(t,this.TimeFormat),value:t});return e},TimeFormat(){return this.timeFormat||(this.twelveHour?"h:mm{am}":"HH:mm")},daySplits(){return(this.splitDays.filter(e=>!e.hide)||[]).map((e,t)=>({...e,id:e.id||t+1}))},hasSplits(){return this.daySplits.length&&this.isWeekOrDayView},hasShortEvents(){return this.showAllDayEvents==="short"},cellOrSplitMinWidth(){let e=null;return this.hasSplits&&this.minSplitWidth?e=this.visibleDaysCount*this.minSplitWidth*this.daySplits.length:this.minCellWidth&&this.isWeekView&&(e=this.visibleDaysCount*this.minCellWidth),e},allDayBar(){let e=this.allDayBarHeight||null;return e&&!isNaN(e)&&(e+="px"),{cells:this.viewCells,options:this.$props,label:this.texts.allDay,shortEvents:this.hasShortEvents,daySplits:this.hasSplits&&this.daySplits||[],cellOrSplitMinWidth:this.cellOrSplitMinWidth,height:e}},minTimestamp(){let e=null;return this.minDate&&typeof this.minDate=="string"?e=this.utils.date.stringToDate(this.minDate):this.minDate&&this.minDate instanceof Date&&(e=this.minDate),e?e.getTime():null},maxTimestamp(){let e=null;return this.maxDate&&typeof this.maxDate=="string"?e=this.utils.date.stringToDate(this.maxDate):this.maxDate&&this.maxDate instanceof Date&&(e=this.maxDate),e?e.getTime():null},weekDays(){let{weekDays:e,weekDaysShort:t=[]}=this.texts;return e=e.slice(0).map((s,a)=>({label:s,...t.length?{short:t[a]}:{},hide:this.hideWeekends&&a>=5||this.hideWeekdays.length&&this.hideWeekdays.includes(a+1)})),this.startWeekOnSunday&&e.unshift(e.pop()),e},weekDaysInHeader(){return this.isMonthView||this.isWeekView&&!this.minCellWidth&&!(this.hasSplits&&this.minSplitWidth)},months(){return this.texts.months.map(e=>({label:e}))},specialDayHours(){return!this.specialHours||!Object.keys(this.specialHours).length?{}:Array(7).fill("").map((e,t)=>{let s=this.specialHours[t+1]||[];return Array.isArray(s)||(s=[s]),e=[],s.forEach(({from:a,to:l,class:i,label:d},u)=>{e[u]={day:t+1,from:[null,void 0].includes(a)?null:a*1,to:[null,void 0].includes(l)?null:l*1,class:i||"",label:d||""}}),e})},viewTitle(){const e=this.utils.date;let t="";const s=this.view.startDate,a=s.getFullYear(),l=s.getMonth();switch(this.view.id){case"years":{t=this.texts.years;break}case"year":{t=a;break}case"month":{t=`${this.months[l].label} ${a}`;break}case"week":{const i=this.view.endDate,d=s.getFullYear();let u=this.texts.months[s.getMonth()];this.xsmall&&(u=u.substring(0,3));let f=`${u} ${d}`;if(i.getMonth()!==s.getMonth()){const c=i.getFullYear();let g=this.texts.months[i.getMonth()];this.xsmall&&(g=g.substring(0,3)),d===c?f=`${u} - ${g} ${d}`:this.small?f=`${u.substring(0,3)} ${d} - ${g.substring(0,3)} ${c}`:f=`${u} ${d} - ${g} ${c}`}t=`${this.texts.week} ${e.getWeek(this.startWeekOnSunday?e.addDays(s,1):s)} (${f})`;break}case"day":{t=this.utils.date.formatDate(s,this.texts.dateFormat,this.texts);break}}return t},viewCells(){const e=this.utils.date;let t=[],s=null,a=!1;this.watchRealTime||(this.now=new Date);const l=this.now;switch(this.view.id){case"years":{s=this.view.startDate.getFullYear(),t=Array.apply(null,Array(25)).map((i,d)=>{const u=new Date(s+d,0,1),f=new Date(s+d+1,0,1);return f.setSeconds(-1),{startDate:u,formattedDate:e.formatDateLite(u),endDate:f,content:s+d,current:s+d===l.getFullYear()}});break}case"year":{s=this.view.startDate.getFullYear(),t=Array.apply(null,Array(12)).map((i,d)=>{const u=new Date(s,d,1),f=new Date(s,d+1,1);return f.setSeconds(-1),{startDate:u,formattedDate:e.formatDateLite(u),endDate:f,content:this.xsmall?this.months[d].label.substr(0,3):this.months[d].label,current:d===l.getMonth()&&s===l.getFullYear()}});break}case"month":{const i=this.view.startDate.getMonth(),d=new Date(this.view.firstCellDate);a=!1,t=Array.apply(null,Array(42)).map((u,f)=>{const c=e.addDays(d,f),g=new Date(c);g.setHours(23,59,59,0);const k=!a&&e.isToday(c)&&!a++;return{startDate:c,formattedDate:e.formatDateLite(c),endDate:g,content:c.getDate(),today:k,outOfScope:c.getMonth()!==i,class:`vuecal__cell--day${c.getDay()||7}`}}),(this.hideWeekends||this.hideWeekdays.length)&&(t=t.filter(u=>{const f=u.startDate.getDay()||7;return!(this.hideWeekends&&f>=6||this.hideWeekdays.length&&this.hideWeekdays.includes(f))}));break}case"week":{a=!1;const i=this.view.startDate,d=this.weekDays;t=d.map((u,f)=>{const c=e.addDays(i,this.startWeekOnSunday&&this.hideWeekends?f-1:f),g=new Date(c);g.setHours(23,59,59,0);const k=(c.getDay()||7)-1;return{startDate:c,formattedDate:e.formatDateLite(c),endDate:g,today:!a&&e.isToday(c)&&!a++,specialHours:this.specialDayHours[k]||[]}}).filter((u,f)=>!d[f].hide);break}case"day":{const i=this.view.startDate,d=new Date(this.view.startDate);d.setHours(23,59,59,0);const u=(i.getDay()||7)-1;t=[{startDate:i,formattedDate:e.formatDateLite(i),endDate:d,today:e.isToday(i),specialHours:this.specialDayHours[u]||[]}];break}}return t},visibleDaysCount(){return this.isDayView?1:7-this.weekDays.reduce((e,t)=>e+t.hide,0)},cellWidth(){return 100/this.visibleDaysCount},cssClasses(){const{resizeAnEvent:e,dragAnEvent:t,dragCreateAnEvent:s}=this.domEvents;return{[`vuecal--${this.view.id}-view`]:!0,[`vuecal--${this.locale}`]:this.locale,"vuecal--no-time":!this.time,"vuecal--view-with-time":this.hasTimeColumn,"vuecal--week-numbers":this.showWeekNumbers&&this.isMonthView,"vuecal--twelve-hour":this.twelveHour,"vuecal--click-to-navigate":this.clickToNavigate,"vuecal--hide-weekends":this.hideWeekends,"vuecal--split-days":this.hasSplits,"vuecal--sticky-split-labels":this.hasSplits&&this.stickySplitLabels,"vuecal--overflow-x":this.minCellWidth&&this.isWeekView||this.hasSplits&&this.minSplitWidth,"vuecal--small":this.small,"vuecal--xsmall":this.xsmall,"vuecal--resizing-event":e._eid,"vuecal--drag-creating-event":s.event,"vuecal--dragging-event":t._eid,"vuecal--events-on-month-view":this.eventsOnMonthView,"vuecal--short-events":this.isMonthView&&this.eventsOnMonthView==="short","vuecal--has-touch":typeof window<"u"&&"ontouchstart"in window}},isYearsOrYearView(){return["years","year"].includes(this.view.id)},isYearsView(){return this.view.id==="years"},isYearView(){return this.view.id==="year"},isMonthView(){return this.view.id==="month"},isWeekOrDayView(){return["week","day"].includes(this.view.id)},isWeekView(){return this.view.id==="week"},isDayView(){return this.view.id==="day"}},watch:{events:{handler(e,t){this.updateMutableEvents(e),this.addEventsToView()},deep:!0},locale(e){this.loadLocale(e)},selectedDate(e){this.updateSelectedDate(e)},activeView(e){this.switchView(e)}}},Yo=ss(jo,[["render",Oo]]);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Oi;function x(){return Oi.apply(null,arguments)}function Ao(e){Oi=e}function Je(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Vt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ta(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(G(e,t))return!1;return!0}function Ye(e){return e===void 0}function mt(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ms(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function ji(e,t){var s=[],a,l=e.length;for(a=0;a<l;++a)s.push(t(e[a],a));return s}function bt(e,t){for(var s in t)G(t,s)&&(e[s]=t[s]);return G(t,"toString")&&(e.toString=t.toString),G(t,"valueOf")&&(e.valueOf=t.valueOf),e}function it(e,t,s,a){return en(e,t,s,a,!0).utc()}function Vo(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function F(e){return e._pf==null&&(e._pf=Vo()),e._pf}var _a;Array.prototype.some?_a=Array.prototype.some:_a=function(e){var t=Object(this),s=t.length>>>0,a;for(a=0;a<s;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function Ca(e){var t=null,s=!1,a=e._d&&!isNaN(e._d.getTime());if(a&&(t=F(e),s=_a.call(t.parsedDateParts,function(l){return l!=null}),a=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&s),e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a;return e._isValid}function Zs(e){var t=it(NaN);return e!=null?bt(F(t),e):F(t).userInvalidated=!0,t}var _i=x.momentProperties=[],va=!1;function Ea(e,t){var s,a,l,i=_i.length;if(Ye(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ye(t._i)||(e._i=t._i),Ye(t._f)||(e._f=t._f),Ye(t._l)||(e._l=t._l),Ye(t._strict)||(e._strict=t._strict),Ye(t._tzm)||(e._tzm=t._tzm),Ye(t._isUTC)||(e._isUTC=t._isUTC),Ye(t._offset)||(e._offset=t._offset),Ye(t._pf)||(e._pf=F(t)),Ye(t._locale)||(e._locale=t._locale),i>0)for(s=0;s<i;s++)a=_i[s],l=t[a],Ye(l)||(e[a]=l);return e}function Ss(e){Ea(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),va===!1&&(va=!0,x.updateOffset(this),va=!1)}function Ke(e){return e instanceof Ss||e!=null&&e._isAMomentObject!=null}function Yi(e){x.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Re(e,t){var s=!0;return bt(function(){if(x.deprecationHandler!=null&&x.deprecationHandler(null,e),s){var a=[],l,i,d,u=arguments.length;for(i=0;i<u;i++){if(l="",typeof arguments[i]=="object"){l+=`
[`+i+"] ";for(d in arguments[0])G(arguments[0],d)&&(l+=d+": "+arguments[0][d]+", ");l=l.slice(0,-2)}else l=arguments[i];a.push(l)}Yi(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),s=!1}return t.apply(this,arguments)},t)}var wi={};function Ai(e,t){x.deprecationHandler!=null&&x.deprecationHandler(e,t),wi[e]||(Yi(t),wi[e]=!0)}x.suppressDeprecationWarnings=!1;x.deprecationHandler=null;function nt(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Wo(e){var t,s;for(s in e)G(e,s)&&(t=e[s],nt(t)?this[s]=t:this["_"+s]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function wa(e,t){var s=bt({},e),a;for(a in t)G(t,a)&&(Vt(e[a])&&Vt(t[a])?(s[a]={},bt(s[a],e[a]),bt(s[a],t[a])):t[a]!=null?s[a]=t[a]:delete s[a]);for(a in e)G(e,a)&&!G(t,a)&&Vt(e[a])&&(s[a]=bt({},s[a]));return s}function Oa(e){e!=null&&this.set(e)}var ba;Object.keys?ba=Object.keys:ba=function(e){var t,s=[];for(t in e)G(e,t)&&s.push(t);return s};var Lo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Po(e,t,s){var a=this._calendar[e]||this._calendar.sameElse;return nt(a)?a.call(t,s):a}function at(e,t,s){var a=""+Math.abs(e),l=t-a.length,i=e>=0;return(i?s?"+":"":"-")+Math.pow(10,Math.max(0,l)).toString().substr(1)+a}var ja=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ls=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fa={},Qt={};function W(e,t,s,a){var l=a;typeof a=="string"&&(l=function(){return this[a]()}),e&&(Qt[e]=l),t&&(Qt[t[0]]=function(){return at(l.apply(this,arguments),t[1],t[2])}),s&&(Qt[s]=function(){return this.localeData().ordinal(l.apply(this,arguments),e)})}function No(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Fo(e){var t=e.match(ja),s,a;for(s=0,a=t.length;s<a;s++)Qt[t[s]]?t[s]=Qt[t[s]]:t[s]=No(t[s]);return function(l){var i="",d;for(d=0;d<a;d++)i+=nt(t[d])?t[d].call(l,e):t[d];return i}}function Fs(e,t){return e.isValid()?(t=Vi(t,e.localeData()),fa[t]=fa[t]||Fo(t),fa[t](e)):e.localeData().invalidDate()}function Vi(e,t){var s=5;function a(l){return t.longDateFormat(l)||l}for(Ls.lastIndex=0;s>=0&&Ls.test(e);)e=e.replace(Ls,a),Ls.lastIndex=0,s-=1;return e}var Ro={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Io(e){var t=this._longDateFormat[e],s=this._longDateFormat[e.toUpperCase()];return t||!s?t:(this._longDateFormat[e]=s.match(ja).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var Ho="Invalid date";function Uo(){return this._invalidDate}var $o="%d",Bo=/\d{1,2}/;function zo(e){return this._ordinal.replace("%d",e)}var Go={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Zo(e,t,s,a){var l=this._relativeTime[s];return nt(l)?l(e,t,s,a):l.replace(/%d/i,e)}function qo(e,t){var s=this._relativeTime[e>0?"future":"past"];return nt(s)?s(t):s.replace(/%s/i,t)}var bi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ie(e){return typeof e=="string"?bi[e]||bi[e.toLowerCase()]:void 0}function Ya(e){var t={},s,a;for(a in e)G(e,a)&&(s=Ie(a),s&&(t[s]=e[a]));return t}var Jo={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ko(e){var t=[],s;for(s in e)G(e,s)&&t.push({unit:s,priority:Jo[s]});return t.sort(function(a,l){return a.priority-l.priority}),t}var Wi=/\d/,We=/\d\d/,Li=/\d{3}/,Aa=/\d{4}/,qs=/[+-]?\d{6}/,se=/\d\d?/,Pi=/\d\d\d\d?/,Ni=/\d\d\d\d\d\d?/,Js=/\d{1,3}/,Va=/\d{1,4}/,Ks=/[+-]?\d{1,6}/,as=/\d+/,Qs=/[+-]?\d+/,Qo=/Z|[+-]\d\d:?\d\d/gi,Xs=/Z|[+-]\d\d(?::?\d\d)?/gi,Xo=/[+-]?\d+(\.\d{1,3})?/,Ts=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,is=/^[1-9]\d?/,Wa=/^([1-9]\d|\d)/,Us;Us={};function E(e,t,s){Us[e]=nt(t)?t:function(a,l){return a&&s?s:t}}function ed(e,t){return G(Us,e)?Us[e](t._strict,t._locale):new RegExp(td(e))}function td(e){return ct(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,s,a,l,i){return s||a||l||i}))}function ct(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ne(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function U(e){var t=+e,s=0;return t!==0&&isFinite(t)&&(s=Ne(t)),s}var ka={};function J(e,t){var s,a=t,l;for(typeof e=="string"&&(e=[e]),mt(t)&&(a=function(i,d){d[t]=U(i)}),l=e.length,s=0;s<l;s++)ka[e[s]]=a}function Cs(e,t){J(e,function(s,a,l,i){l._w=l._w||{},t(s,l._w,l,i)})}function sd(e,t,s){t!=null&&G(ka,e)&&ka[e](t,s._a,s,e)}function ea(e){return e%4===0&&e%100!==0||e%400===0}var Ce=0,dt=1,st=2,_e=3,qe=4,ut=5,At=6,ad=7,id=8;W("Y",0,0,function(){var e=this.year();return e<=9999?at(e,4):"+"+e});W(0,["YY",2],0,function(){return this.year()%100});W(0,["YYYY",4],0,"year");W(0,["YYYYY",5],0,"year");W(0,["YYYYYY",6,!0],0,"year");E("Y",Qs);E("YY",se,We);E("YYYY",Va,Aa);E("YYYYY",Ks,qs);E("YYYYYY",Ks,qs);J(["YYYYY","YYYYYY"],Ce);J("YYYY",function(e,t){t[Ce]=e.length===2?x.parseTwoDigitYear(e):U(e)});J("YY",function(e,t){t[Ce]=x.parseTwoDigitYear(e)});J("Y",function(e,t){t[Ce]=parseInt(e,10)});function ws(e){return ea(e)?366:365}x.parseTwoDigitYear=function(e){return U(e)+(U(e)>68?1900:2e3)};var Fi=ns("FullYear",!0);function nd(){return ea(this.year())}function ns(e,t){return function(s){return s!=null?(Ri(this,e,s),x.updateOffset(this,t),this):bs(this,e)}}function bs(e,t){if(!e.isValid())return NaN;var s=e._d,a=e._isUTC;switch(t){case"Milliseconds":return a?s.getUTCMilliseconds():s.getMilliseconds();case"Seconds":return a?s.getUTCSeconds():s.getSeconds();case"Minutes":return a?s.getUTCMinutes():s.getMinutes();case"Hours":return a?s.getUTCHours():s.getHours();case"Date":return a?s.getUTCDate():s.getDate();case"Day":return a?s.getUTCDay():s.getDay();case"Month":return a?s.getUTCMonth():s.getMonth();case"FullYear":return a?s.getUTCFullYear():s.getFullYear();default:return NaN}}function Ri(e,t,s){var a,l,i,d,u;if(!(!e.isValid()||isNaN(s))){switch(a=e._d,l=e._isUTC,t){case"Milliseconds":return void(l?a.setUTCMilliseconds(s):a.setMilliseconds(s));case"Seconds":return void(l?a.setUTCSeconds(s):a.setSeconds(s));case"Minutes":return void(l?a.setUTCMinutes(s):a.setMinutes(s));case"Hours":return void(l?a.setUTCHours(s):a.setHours(s));case"Date":return void(l?a.setUTCDate(s):a.setDate(s));case"FullYear":break;default:return}i=s,d=e.month(),u=e.date(),u=u===29&&d===1&&!ea(i)?28:u,l?a.setUTCFullYear(i,d,u):a.setFullYear(i,d,u)}}function ld(e){return e=Ie(e),nt(this[e])?this[e]():this}function rd(e,t){if(typeof e=="object"){e=Ya(e);var s=Ko(e),a,l=s.length;for(a=0;a<l;a++)this[s[a].unit](e[s[a].unit])}else if(e=Ie(e),nt(this[e]))return this[e](t);return this}function od(e,t){return(e%t+t)%t}var de;Array.prototype.indexOf?de=Array.prototype.indexOf:de=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function La(e,t){if(isNaN(e)||isNaN(t))return NaN;var s=od(t,12);return e+=(t-s)/12,s===1?ea(e)?29:28:31-s%7%2}W("M",["MM",2],"Mo",function(){return this.month()+1});W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});W("MMMM",0,0,function(e){return this.localeData().months(this,e)});E("M",se,is);E("MM",se,We);E("MMM",function(e,t){return t.monthsShortRegex(e)});E("MMMM",function(e,t){return t.monthsRegex(e)});J(["M","MM"],function(e,t){t[dt]=U(e)-1});J(["MMM","MMMM"],function(e,t,s,a){var l=s._locale.monthsParse(e,a,s._strict);l!=null?t[dt]=l:F(s).invalidMonth=e});var dd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ii="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Hi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ud=Ts,cd=Ts;function hd(e,t){return e?Je(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Hi).test(t)?"format":"standalone"][e.month()]:Je(this._months)?this._months:this._months.standalone}function md(e,t){return e?Je(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Hi.test(t)?"format":"standalone"][e.month()]:Je(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function vd(e,t,s){var a,l,i,d=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)i=it([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(i,"").toLocaleLowerCase();return s?t==="MMM"?(l=de.call(this._shortMonthsParse,d),l!==-1?l:null):(l=de.call(this._longMonthsParse,d),l!==-1?l:null):t==="MMM"?(l=de.call(this._shortMonthsParse,d),l!==-1?l:(l=de.call(this._longMonthsParse,d),l!==-1?l:null)):(l=de.call(this._longMonthsParse,d),l!==-1?l:(l=de.call(this._shortMonthsParse,d),l!==-1?l:null))}function fd(e,t,s){var a,l,i;if(this._monthsParseExact)return vd.call(this,e,t,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(l=it([2e3,a]),s&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(l,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(l,"").replace(".","")+"$","i")),!s&&!this._monthsParse[a]&&(i="^"+this.months(l,"")+"|^"+this.monthsShort(l,""),this._monthsParse[a]=new RegExp(i.replace(".",""),"i")),s&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(s&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!s&&this._monthsParse[a].test(e))return a}}function Ui(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=U(t);else if(t=e.localeData().monthsParse(t),!mt(t))return e}var s=t,a=e.date();return a=a<29?a:Math.min(a,La(e.year(),s)),e._isUTC?e._d.setUTCMonth(s,a):e._d.setMonth(s,a),e}function $i(e){return e!=null?(Ui(this,e),x.updateOffset(this,!0),this):bs(this,"Month")}function pd(){return La(this.year(),this.month())}function gd(e){return this._monthsParseExact?(G(this,"_monthsRegex")||Bi.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(G(this,"_monthsShortRegex")||(this._monthsShortRegex=ud),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function yd(e){return this._monthsParseExact?(G(this,"_monthsRegex")||Bi.call(this),e?this._monthsStrictRegex:this._monthsRegex):(G(this,"_monthsRegex")||(this._monthsRegex=cd),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Bi(){function e(f,c){return c.length-f.length}var t=[],s=[],a=[],l,i,d,u;for(l=0;l<12;l++)i=it([2e3,l]),d=ct(this.monthsShort(i,"")),u=ct(this.months(i,"")),t.push(d),s.push(u),a.push(u),a.push(d);t.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function _d(e,t,s,a,l,i,d){var u;return e<100&&e>=0?(u=new Date(e+400,t,s,a,l,i,d),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,s,a,l,i,d),u}function ks(e){var t,s;return e<100&&e>=0?(s=Array.prototype.slice.call(arguments),s[0]=e+400,t=new Date(Date.UTC.apply(null,s)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function $s(e,t,s){var a=7+t-s,l=(7+ks(e,0,a).getUTCDay()-t)%7;return-l+a-1}function zi(e,t,s,a,l){var i=(7+s-a)%7,d=$s(e,a,l),u=1+7*(t-1)+i+d,f,c;return u<=0?(f=e-1,c=ws(f)+u):u>ws(e)?(f=e+1,c=u-ws(e)):(f=e,c=u),{year:f,dayOfYear:c}}function xs(e,t,s){var a=$s(e.year(),t,s),l=Math.floor((e.dayOfYear()-a-1)/7)+1,i,d;return l<1?(d=e.year()-1,i=l+ht(d,t,s)):l>ht(e.year(),t,s)?(i=l-ht(e.year(),t,s),d=e.year()+1):(d=e.year(),i=l),{week:i,year:d}}function ht(e,t,s){var a=$s(e,t,s),l=$s(e+1,t,s);return(ws(e)-a+l)/7}W("w",["ww",2],"wo","week");W("W",["WW",2],"Wo","isoWeek");E("w",se,is);E("ww",se,We);E("W",se,is);E("WW",se,We);Cs(["w","ww","W","WW"],function(e,t,s,a){t[a.substr(0,1)]=U(e)});function wd(e){return xs(e,this._week.dow,this._week.doy).week}var bd={dow:0,doy:6};function kd(){return this._week.dow}function xd(){return this._week.doy}function Dd(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Md(e){var t=xs(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}W("d",0,"do","day");W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});W("e",0,0,"weekday");W("E",0,0,"isoWeekday");E("d",se);E("e",se);E("E",se);E("dd",function(e,t){return t.weekdaysMinRegex(e)});E("ddd",function(e,t){return t.weekdaysShortRegex(e)});E("dddd",function(e,t){return t.weekdaysRegex(e)});Cs(["dd","ddd","dddd"],function(e,t,s,a){var l=s._locale.weekdaysParse(e,a,s._strict);l!=null?t.d=l:F(s).invalidWeekday=e});Cs(["d","e","E"],function(e,t,s,a){t[a]=U(e)});function Sd(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Td(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pa(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Cd="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Gi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ed="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Od=Ts,jd=Ts,Yd=Ts;function Ad(e,t){var s=Je(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Pa(s,this._week.dow):e?s[e.day()]:s}function Vd(e){return e===!0?Pa(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Wd(e){return e===!0?Pa(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ld(e,t,s){var a,l,i,d=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)i=it([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(i,"").toLocaleLowerCase();return s?t==="dddd"?(l=de.call(this._weekdaysParse,d),l!==-1?l:null):t==="ddd"?(l=de.call(this._shortWeekdaysParse,d),l!==-1?l:null):(l=de.call(this._minWeekdaysParse,d),l!==-1?l:null):t==="dddd"?(l=de.call(this._weekdaysParse,d),l!==-1||(l=de.call(this._shortWeekdaysParse,d),l!==-1)?l:(l=de.call(this._minWeekdaysParse,d),l!==-1?l:null)):t==="ddd"?(l=de.call(this._shortWeekdaysParse,d),l!==-1||(l=de.call(this._weekdaysParse,d),l!==-1)?l:(l=de.call(this._minWeekdaysParse,d),l!==-1?l:null)):(l=de.call(this._minWeekdaysParse,d),l!==-1||(l=de.call(this._weekdaysParse,d),l!==-1)?l:(l=de.call(this._shortWeekdaysParse,d),l!==-1?l:null))}function Pd(e,t,s){var a,l,i;if(this._weekdaysParseExact)return Ld.call(this,e,t,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(l=it([2e3,1]).day(a),s&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(l,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(l,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(l,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(i="^"+this.weekdays(l,"")+"|^"+this.weekdaysShort(l,"")+"|^"+this.weekdaysMin(l,""),this._weekdaysParse[a]=new RegExp(i.replace(".",""),"i")),s&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(s&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(s&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!s&&this._weekdaysParse[a].test(e))return a}}function Nd(e){if(!this.isValid())return e!=null?this:NaN;var t=bs(this,"Day");return e!=null?(e=Sd(e,this.localeData()),this.add(e-t,"d")):t}function Fd(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Rd(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Td(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Id(e){return this._weekdaysParseExact?(G(this,"_weekdaysRegex")||Na.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(G(this,"_weekdaysRegex")||(this._weekdaysRegex=Od),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Hd(e){return this._weekdaysParseExact?(G(this,"_weekdaysRegex")||Na.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(G(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jd),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ud(e){return this._weekdaysParseExact?(G(this,"_weekdaysRegex")||Na.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(G(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yd),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Na(){function e(g,k){return k.length-g.length}var t=[],s=[],a=[],l=[],i,d,u,f,c;for(i=0;i<7;i++)d=it([2e3,1]).day(i),u=ct(this.weekdaysMin(d,"")),f=ct(this.weekdaysShort(d,"")),c=ct(this.weekdays(d,"")),t.push(u),s.push(f),a.push(c),l.push(u),l.push(f),l.push(c);t.sort(e),s.sort(e),a.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Fa(){return this.hours()%12||12}function $d(){return this.hours()||24}W("H",["HH",2],0,"hour");W("h",["hh",2],0,Fa);W("k",["kk",2],0,$d);W("hmm",0,0,function(){return""+Fa.apply(this)+at(this.minutes(),2)});W("hmmss",0,0,function(){return""+Fa.apply(this)+at(this.minutes(),2)+at(this.seconds(),2)});W("Hmm",0,0,function(){return""+this.hours()+at(this.minutes(),2)});W("Hmmss",0,0,function(){return""+this.hours()+at(this.minutes(),2)+at(this.seconds(),2)});function Zi(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Zi("a",!0);Zi("A",!1);function qi(e,t){return t._meridiemParse}E("a",qi);E("A",qi);E("H",se,Wa);E("h",se,is);E("k",se,is);E("HH",se,We);E("hh",se,We);E("kk",se,We);E("hmm",Pi);E("hmmss",Ni);E("Hmm",Pi);E("Hmmss",Ni);J(["H","HH"],_e);J(["k","kk"],function(e,t,s){var a=U(e);t[_e]=a===24?0:a});J(["a","A"],function(e,t,s){s._isPm=s._locale.isPM(e),s._meridiem=e});J(["h","hh"],function(e,t,s){t[_e]=U(e),F(s).bigHour=!0});J("hmm",function(e,t,s){var a=e.length-2;t[_e]=U(e.substr(0,a)),t[qe]=U(e.substr(a)),F(s).bigHour=!0});J("hmmss",function(e,t,s){var a=e.length-4,l=e.length-2;t[_e]=U(e.substr(0,a)),t[qe]=U(e.substr(a,2)),t[ut]=U(e.substr(l)),F(s).bigHour=!0});J("Hmm",function(e,t,s){var a=e.length-2;t[_e]=U(e.substr(0,a)),t[qe]=U(e.substr(a))});J("Hmmss",function(e,t,s){var a=e.length-4,l=e.length-2;t[_e]=U(e.substr(0,a)),t[qe]=U(e.substr(a,2)),t[ut]=U(e.substr(l))});function Bd(e){return(e+"").toLowerCase().charAt(0)==="p"}var zd=/[ap]\.?m?\.?/i,Gd=ns("Hours",!0);function Zd(e,t,s){return e>11?s?"pm":"PM":s?"am":"AM"}var Ji={calendar:Lo,longDateFormat:Ro,invalidDate:Ho,ordinal:$o,dayOfMonthOrdinalParse:Bo,relativeTime:Go,months:dd,monthsShort:Ii,week:bd,weekdays:Cd,weekdaysMin:Ed,weekdaysShort:Gi,meridiemParse:zd},ie={},ys={},Ds;function qd(e,t){var s,a=Math.min(e.length,t.length);for(s=0;s<a;s+=1)if(e[s]!==t[s])return s;return a}function ki(e){return e&&e.toLowerCase().replace("_","-")}function Jd(e){for(var t=0,s,a,l,i;t<e.length;){for(i=ki(e[t]).split("-"),s=i.length,a=ki(e[t+1]),a=a?a.split("-"):null;s>0;){if(l=ta(i.slice(0,s).join("-")),l)return l;if(a&&a.length>=s&&qd(i,a)>=s-1)break;s--}t++}return Ds}function Kd(e){return!!(e&&e.match("^[^/\\\\]*$"))}function ta(e){var t=null,s;if(ie[e]===void 0&&typeof module<"u"&&module&&module.exports&&Kd(e))try{t=Ds._abbr,s=require,s("./locale/"+e),xt(t)}catch{ie[e]=null}return ie[e]}function xt(e,t){var s;return e&&(Ye(t)?s=vt(e):s=Ra(e,t),s?Ds=s:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ds._abbr}function Ra(e,t){if(t!==null){var s,a=Ji;if(t.abbr=e,ie[e]!=null)Ai("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=ie[e]._config;else if(t.parentLocale!=null)if(ie[t.parentLocale]!=null)a=ie[t.parentLocale]._config;else if(s=ta(t.parentLocale),s!=null)a=s._config;else return ys[t.parentLocale]||(ys[t.parentLocale]=[]),ys[t.parentLocale].push({name:e,config:t}),null;return ie[e]=new Oa(wa(a,t)),ys[e]&&ys[e].forEach(function(l){Ra(l.name,l.config)}),xt(e),ie[e]}else return delete ie[e],null}function Qd(e,t){if(t!=null){var s,a,l=Ji;ie[e]!=null&&ie[e].parentLocale!=null?ie[e].set(wa(ie[e]._config,t)):(a=ta(e),a!=null&&(l=a._config),t=wa(l,t),a==null&&(t.abbr=e),s=new Oa(t),s.parentLocale=ie[e],ie[e]=s),xt(e)}else ie[e]!=null&&(ie[e].parentLocale!=null?(ie[e]=ie[e].parentLocale,e===xt()&&xt(e)):ie[e]!=null&&delete ie[e]);return ie[e]}function vt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ds;if(!Je(e)){if(t=ta(e),t)return t;e=[e]}return Jd(e)}function Xd(){return ba(ie)}function Ia(e){var t,s=e._a;return s&&F(e).overflow===-2&&(t=s[dt]<0||s[dt]>11?dt:s[st]<1||s[st]>La(s[Ce],s[dt])?st:s[_e]<0||s[_e]>24||s[_e]===24&&(s[qe]!==0||s[ut]!==0||s[At]!==0)?_e:s[qe]<0||s[qe]>59?qe:s[ut]<0||s[ut]>59?ut:s[At]<0||s[At]>999?At:-1,F(e)._overflowDayOfYear&&(t<Ce||t>st)&&(t=st),F(e)._overflowWeeks&&t===-1&&(t=ad),F(e)._overflowWeekday&&t===-1&&(t=id),F(e).overflow=t),e}var eu=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tu=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,su=/Z|[+-]\d\d(?::?\d\d)?/,Ps=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pa=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],au=/^\/?Date\((-?\d+)/i,iu=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,nu={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ki(e){var t,s,a=e._i,l=eu.exec(a)||tu.exec(a),i,d,u,f,c=Ps.length,g=pa.length;if(l){for(F(e).iso=!0,t=0,s=c;t<s;t++)if(Ps[t][1].exec(l[1])){d=Ps[t][0],i=Ps[t][2]!==!1;break}if(d==null){e._isValid=!1;return}if(l[3]){for(t=0,s=g;t<s;t++)if(pa[t][1].exec(l[3])){u=(l[2]||" ")+pa[t][0];break}if(u==null){e._isValid=!1;return}}if(!i&&u!=null){e._isValid=!1;return}if(l[4])if(su.exec(l[4]))f="Z";else{e._isValid=!1;return}e._f=d+(u||"")+(f||""),Ua(e)}else e._isValid=!1}function lu(e,t,s,a,l,i){var d=[ru(e),Ii.indexOf(t),parseInt(s,10),parseInt(a,10),parseInt(l,10)];return i&&d.push(parseInt(i,10)),d}function ru(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ou(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function du(e,t,s){if(e){var a=Gi.indexOf(e),l=new Date(t[0],t[1],t[2]).getDay();if(a!==l)return F(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function uu(e,t,s){if(e)return nu[e];if(t)return 0;var a=parseInt(s,10),l=a%100,i=(a-l)/100;return i*60+l}function Qi(e){var t=iu.exec(ou(e._i)),s;if(t){if(s=lu(t[4],t[3],t[2],t[5],t[6],t[7]),!du(t[1],s,e))return;e._a=s,e._tzm=uu(t[8],t[9],t[10]),e._d=ks.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),F(e).rfc2822=!0}else e._isValid=!1}function cu(e){var t=au.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Ki(e),e._isValid===!1)delete e._isValid;else return;if(Qi(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:x.createFromInputFallback(e)}x.createFromInputFallback=Re("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Jt(e,t,s){return e??t??s}function hu(e){var t=new Date(x.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ha(e){var t,s,a=[],l,i,d;if(!e._d){for(l=hu(e),e._w&&e._a[st]==null&&e._a[dt]==null&&mu(e),e._dayOfYear!=null&&(d=Jt(e._a[Ce],l[Ce]),(e._dayOfYear>ws(d)||e._dayOfYear===0)&&(F(e)._overflowDayOfYear=!0),s=ks(d,0,e._dayOfYear),e._a[dt]=s.getUTCMonth(),e._a[st]=s.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=l[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[_e]===24&&e._a[qe]===0&&e._a[ut]===0&&e._a[At]===0&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?ks:_d).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(F(e).weekdayMismatch=!0)}}function mu(e){var t,s,a,l,i,d,u,f,c;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,d=4,s=Jt(t.GG,e._a[Ce],xs(te(),1,4).year),a=Jt(t.W,1),l=Jt(t.E,1),(l<1||l>7)&&(f=!0)):(i=e._locale._week.dow,d=e._locale._week.doy,c=xs(te(),i,d),s=Jt(t.gg,e._a[Ce],c.year),a=Jt(t.w,c.week),t.d!=null?(l=t.d,(l<0||l>6)&&(f=!0)):t.e!=null?(l=t.e+i,(t.e<0||t.e>6)&&(f=!0)):l=i),a<1||a>ht(s,i,d)?F(e)._overflowWeeks=!0:f!=null?F(e)._overflowWeekday=!0:(u=zi(s,a,l,i,d),e._a[Ce]=u.year,e._dayOfYear=u.dayOfYear)}x.ISO_8601=function(){};x.RFC_2822=function(){};function Ua(e){if(e._f===x.ISO_8601){Ki(e);return}if(e._f===x.RFC_2822){Qi(e);return}e._a=[],F(e).empty=!0;var t=""+e._i,s,a,l,i,d,u=t.length,f=0,c,g;for(l=Vi(e._f,e._locale).match(ja)||[],g=l.length,s=0;s<g;s++)i=l[s],a=(t.match(ed(i,e))||[])[0],a&&(d=t.substr(0,t.indexOf(a)),d.length>0&&F(e).unusedInput.push(d),t=t.slice(t.indexOf(a)+a.length),f+=a.length),Qt[i]?(a?F(e).empty=!1:F(e).unusedTokens.push(i),sd(i,a,e)):e._strict&&!a&&F(e).unusedTokens.push(i);F(e).charsLeftOver=u-f,t.length>0&&F(e).unusedInput.push(t),e._a[_e]<=12&&F(e).bigHour===!0&&e._a[_e]>0&&(F(e).bigHour=void 0),F(e).parsedDateParts=e._a.slice(0),F(e).meridiem=e._meridiem,e._a[_e]=vu(e._locale,e._a[_e],e._meridiem),c=F(e).era,c!==null&&(e._a[Ce]=e._locale.erasConvertYear(c,e._a[Ce])),Ha(e),Ia(e)}function vu(e,t,s){var a;return s==null?t:e.meridiemHour!=null?e.meridiemHour(t,s):(e.isPM!=null&&(a=e.isPM(s),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function fu(e){var t,s,a,l,i,d,u=!1,f=e._f.length;if(f===0){F(e).invalidFormat=!0,e._d=new Date(NaN);return}for(l=0;l<f;l++)i=0,d=!1,t=Ea({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[l],Ua(t),Ca(t)&&(d=!0),i+=F(t).charsLeftOver,i+=F(t).unusedTokens.length*10,F(t).score=i,u?i<a&&(a=i,s=t):(a==null||i<a||d)&&(a=i,s=t,d&&(u=!0));bt(e,s||t)}function pu(e){if(!e._d){var t=Ya(e._i),s=t.day===void 0?t.date:t.day;e._a=ji([t.year,t.month,s,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),Ha(e)}}function gu(e){var t=new Ss(Ia(Xi(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Xi(e){var t=e._i,s=e._f;return e._locale=e._locale||vt(e._l),t===null||s===void 0&&t===""?Zs({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ke(t)?new Ss(Ia(t)):(Ms(t)?e._d=t:Je(s)?fu(e):s?Ua(e):yu(e),Ca(e)||(e._d=null),e))}function yu(e){var t=e._i;Ye(t)?e._d=new Date(x.now()):Ms(t)?e._d=new Date(t.valueOf()):typeof t=="string"?cu(e):Je(t)?(e._a=ji(t.slice(0),function(s){return parseInt(s,10)}),Ha(e)):Vt(t)?pu(e):mt(t)?e._d=new Date(t):x.createFromInputFallback(e)}function en(e,t,s,a,l){var i={};return(t===!0||t===!1)&&(a=t,t=void 0),(s===!0||s===!1)&&(a=s,s=void 0),(Vt(e)&&Ta(e)||Je(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=l,i._l=s,i._i=e,i._f=t,i._strict=a,gu(i)}function te(e,t,s,a){return en(e,t,s,a,!1)}var _u=Re("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=te.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Zs()}),wu=Re("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=te.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Zs()});function tn(e,t){var s,a;if(t.length===1&&Je(t[0])&&(t=t[0]),!t.length)return te();for(s=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](s))&&(s=t[a]);return s}function bu(){var e=[].slice.call(arguments,0);return tn("isBefore",e)}function ku(){var e=[].slice.call(arguments,0);return tn("isAfter",e)}var xu=function(){return Date.now?Date.now():+new Date},_s=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Du(e){var t,s=!1,a,l=_s.length;for(t in e)if(G(e,t)&&!(de.call(_s,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<l;++a)if(e[_s[a]]){if(s)return!1;parseFloat(e[_s[a]])!==U(e[_s[a]])&&(s=!0)}return!0}function Mu(){return this._isValid}function Su(){return Qe(NaN)}function sa(e){var t=Ya(e),s=t.year||0,a=t.quarter||0,l=t.month||0,i=t.week||t.isoWeek||0,d=t.day||0,u=t.hour||0,f=t.minute||0,c=t.second||0,g=t.millisecond||0;this._isValid=Du(t),this._milliseconds=+g+c*1e3+f*6e4+u*1e3*60*60,this._days=+d+i*7,this._months=+l+a*3+s*12,this._data={},this._locale=vt(),this._bubble()}function Rs(e){return e instanceof sa}function xa(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Tu(e,t,s){var a=Math.min(e.length,t.length),l=Math.abs(e.length-t.length),i=0,d;for(d=0;d<a;d++)U(e[d])!==U(t[d])&&i++;return i+l}function sn(e,t){W(e,0,0,function(){var s=this.utcOffset(),a="+";return s<0&&(s=-s,a="-"),a+at(~~(s/60),2)+t+at(~~s%60,2)})}sn("Z",":");sn("ZZ","");E("Z",Xs);E("ZZ",Xs);J(["Z","ZZ"],function(e,t,s){s._useUTC=!0,s._tzm=$a(Xs,e)});var Cu=/([\+\-]|\d\d)/gi;function $a(e,t){var s=(t||"").match(e),a,l,i;return s===null?null:(a=s[s.length-1]||[],l=(a+"").match(Cu)||["-",0,0],i=+(l[1]*60)+U(l[2]),i===0?0:l[0]==="+"?i:-i)}function Ba(e,t){var s,a;return t._isUTC?(s=t.clone(),a=(Ke(e)||Ms(e)?e.valueOf():te(e).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+a),x.updateOffset(s,!1),s):te(e).local()}function Da(e){return-Math.round(e._d.getTimezoneOffset())}x.updateOffset=function(){};function Eu(e,t,s){var a=this._offset||0,l;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=$a(Xs,e),e===null)return this}else Math.abs(e)<16&&!s&&(e=e*60);return!this._isUTC&&t&&(l=Da(this)),this._offset=e,this._isUTC=!0,l!=null&&this.add(l,"m"),a!==e&&(!t||this._changeInProgress?ln(this,Qe(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,x.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:Da(this)}function Ou(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ju(e){return this.utcOffset(0,e)}function Yu(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Da(this),"m")),this}function Au(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=$a(Qo,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Vu(e){return this.isValid()?(e=e?te(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Wu(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Lu(){if(!Ye(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Ea(e,this),e=Xi(e),e._a?(t=e._isUTC?it(e._a):te(e._a),this._isDSTShifted=this.isValid()&&Tu(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Pu(){return this.isValid()?!this._isUTC:!1}function Nu(){return this.isValid()?this._isUTC:!1}function an(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Fu=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ru=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Qe(e,t){var s=e,a=null,l,i,d;return Rs(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:mt(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=Fu.exec(e))?(l=a[1]==="-"?-1:1,s={y:0,d:U(a[st])*l,h:U(a[_e])*l,m:U(a[qe])*l,s:U(a[ut])*l,ms:U(xa(a[At]*1e3))*l}):(a=Ru.exec(e))?(l=a[1]==="-"?-1:1,s={y:Ot(a[2],l),M:Ot(a[3],l),w:Ot(a[4],l),d:Ot(a[5],l),h:Ot(a[6],l),m:Ot(a[7],l),s:Ot(a[8],l)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(d=Iu(te(s.from),te(s.to)),s={},s.ms=d.milliseconds,s.M=d.months),i=new sa(s),Rs(e)&&G(e,"_locale")&&(i._locale=e._locale),Rs(e)&&G(e,"_isValid")&&(i._isValid=e._isValid),i}Qe.fn=sa.prototype;Qe.invalid=Su;function Ot(e,t){var s=e&&parseFloat(e.replace(",","."));return(isNaN(s)?0:s)*t}function xi(e,t){var s={};return s.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(s.months,"M").isAfter(t)&&--s.months,s.milliseconds=+t-+e.clone().add(s.months,"M"),s}function Iu(e,t){var s;return e.isValid()&&t.isValid()?(t=Ba(t,e),e.isBefore(t)?s=xi(e,t):(s=xi(t,e),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function nn(e,t){return function(s,a){var l,i;return a!==null&&!isNaN(+a)&&(Ai(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=s,s=a,a=i),l=Qe(s,a),ln(this,l,e),this}}function ln(e,t,s,a){var l=t._milliseconds,i=xa(t._days),d=xa(t._months);e.isValid()&&(a=a??!0,d&&Ui(e,bs(e,"Month")+d*s),i&&Ri(e,"Date",bs(e,"Date")+i*s),l&&e._d.setTime(e._d.valueOf()+l*s),a&&x.updateOffset(e,i||d))}var Hu=nn(1,"add"),Uu=nn(-1,"subtract");function rn(e){return typeof e=="string"||e instanceof String}function $u(e){return Ke(e)||Ms(e)||rn(e)||mt(e)||zu(e)||Bu(e)||e===null||e===void 0}function Bu(e){var t=Vt(e)&&!Ta(e),s=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l,i,d=a.length;for(l=0;l<d;l+=1)i=a[l],s=s||G(e,i);return t&&s}function zu(e){var t=Je(e),s=!1;return t&&(s=e.filter(function(a){return!mt(a)&&rn(e)}).length===0),t&&s}function Gu(e){var t=Vt(e)&&!Ta(e),s=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],l,i;for(l=0;l<a.length;l+=1)i=a[l],s=s||G(e,i);return t&&s}function Zu(e,t){var s=e.diff(t,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function qu(e,t){arguments.length===1&&(arguments[0]?$u(arguments[0])?(e=arguments[0],t=void 0):Gu(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var s=e||te(),a=Ba(s,this).startOf("day"),l=x.calendarFormat(this,a)||"sameElse",i=t&&(nt(t[l])?t[l].call(this,s):t[l]);return this.format(i||this.localeData().calendar(l,this,te(s)))}function Ju(){return new Ss(this)}function Ku(e,t){var s=Ke(e)?e:te(e);return this.isValid()&&s.isValid()?(t=Ie(t)||"millisecond",t==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(t).valueOf()):!1}function Qu(e,t){var s=Ke(e)?e:te(e);return this.isValid()&&s.isValid()?(t=Ie(t)||"millisecond",t==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(t).valueOf()<s.valueOf()):!1}function Xu(e,t,s,a){var l=Ke(e)?e:te(e),i=Ke(t)?t:te(t);return this.isValid()&&l.isValid()&&i.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(l,s):!this.isBefore(l,s))&&(a[1]===")"?this.isBefore(i,s):!this.isAfter(i,s))):!1}function ec(e,t){var s=Ke(e)?e:te(e),a;return this.isValid()&&s.isValid()?(t=Ie(t)||"millisecond",t==="millisecond"?this.valueOf()===s.valueOf():(a=s.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function tc(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function sc(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ac(e,t,s){var a,l,i;if(!this.isValid())return NaN;if(a=Ba(e,this),!a.isValid())return NaN;switch(l=(a.utcOffset()-this.utcOffset())*6e4,t=Ie(t),t){case"year":i=Is(this,a)/12;break;case"month":i=Is(this,a);break;case"quarter":i=Is(this,a)/3;break;case"second":i=(this-a)/1e3;break;case"minute":i=(this-a)/6e4;break;case"hour":i=(this-a)/36e5;break;case"day":i=(this-a-l)/864e5;break;case"week":i=(this-a-l)/6048e5;break;default:i=this-a}return s?i:Ne(i)}function Is(e,t){if(e.date()<t.date())return-Is(t,e);var s=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(s,"months"),l,i;return t-a<0?(l=e.clone().add(s-1,"months"),i=(t-a)/(a-l)):(l=e.clone().add(s+1,"months"),i=(t-a)/(l-a)),-(s+i)||0}x.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";x.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ic(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function nc(e){if(!this.isValid())return null;var t=e!==!0,s=t?this.clone().utc():this;return s.year()<0||s.year()>9999?Fs(s,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):nt(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Fs(s,"Z")):Fs(s,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function lc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",s,a,l,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),s="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",l="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(s+a+l+i)}function rc(e){e||(e=this.isUtc()?x.defaultFormatUtc:x.defaultFormat);var t=Fs(this,e);return this.localeData().postformat(t)}function oc(e,t){return this.isValid()&&(Ke(e)&&e.isValid()||te(e).isValid())?Qe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function dc(e){return this.from(te(),e)}function uc(e,t){return this.isValid()&&(Ke(e)&&e.isValid()||te(e).isValid())?Qe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cc(e){return this.to(te(),e)}function on(e){var t;return e===void 0?this._locale._abbr:(t=vt(e),t!=null&&(this._locale=t),this)}var dn=Re("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function un(){return this._locale}var Bs=1e3,Xt=60*Bs,zs=60*Xt,cn=(365*400+97)*24*zs;function es(e,t){return(e%t+t)%t}function hn(e,t,s){return e<100&&e>=0?new Date(e+400,t,s)-cn:new Date(e,t,s).valueOf()}function mn(e,t,s){return e<100&&e>=0?Date.UTC(e+400,t,s)-cn:Date.UTC(e,t,s)}function hc(e){var t,s;if(e=Ie(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?mn:hn,e){case"year":t=s(this.year(),0,1);break;case"quarter":t=s(this.year(),this.month()-this.month()%3,1);break;case"month":t=s(this.year(),this.month(),1);break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=s(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=es(t+(this._isUTC?0:this.utcOffset()*Xt),zs);break;case"minute":t=this._d.valueOf(),t-=es(t,Xt);break;case"second":t=this._d.valueOf(),t-=es(t,Bs);break}return this._d.setTime(t),x.updateOffset(this,!0),this}function mc(e){var t,s;if(e=Ie(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?mn:hn,e){case"year":t=s(this.year()+1,0,1)-1;break;case"quarter":t=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=s(this.year(),this.month()+1,1)-1;break;case"week":t=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=zs-es(t+(this._isUTC?0:this.utcOffset()*Xt),zs)-1;break;case"minute":t=this._d.valueOf(),t+=Xt-es(t,Xt)-1;break;case"second":t=this._d.valueOf(),t+=Bs-es(t,Bs)-1;break}return this._d.setTime(t),x.updateOffset(this,!0),this}function vc(){return this._d.valueOf()-(this._offset||0)*6e4}function fc(){return Math.floor(this.valueOf()/1e3)}function pc(){return new Date(this.valueOf())}function gc(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function yc(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _c(){return this.isValid()?this.toISOString():null}function wc(){return Ca(this)}function bc(){return bt({},F(this))}function kc(){return F(this).overflow}function xc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}W("N",0,0,"eraAbbr");W("NN",0,0,"eraAbbr");W("NNN",0,0,"eraAbbr");W("NNNN",0,0,"eraName");W("NNNNN",0,0,"eraNarrow");W("y",["y",1],"yo","eraYear");W("y",["yy",2],0,"eraYear");W("y",["yyy",3],0,"eraYear");W("y",["yyyy",4],0,"eraYear");E("N",za);E("NN",za);E("NNN",za);E("NNNN",Vc);E("NNNNN",Wc);J(["N","NN","NNN","NNNN","NNNNN"],function(e,t,s,a){var l=s._locale.erasParse(e,a,s._strict);l?F(s).era=l:F(s).invalidEra=e});E("y",as);E("yy",as);E("yyy",as);E("yyyy",as);E("yo",Lc);J(["y","yy","yyy","yyyy"],Ce);J(["yo"],function(e,t,s,a){var l;s._locale._eraYearOrdinalRegex&&(l=e.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?t[Ce]=s._locale.eraYearOrdinalParse(e,l):t[Ce]=parseInt(e,10)});function Dc(e,t){var s,a,l,i=this._eras||vt("en")._eras;for(s=0,a=i.length;s<a;++s){switch(typeof i[s].since){case"string":l=x(i[s].since).startOf("day"),i[s].since=l.valueOf();break}switch(typeof i[s].until){case"undefined":i[s].until=1/0;break;case"string":l=x(i[s].until).startOf("day").valueOf(),i[s].until=l.valueOf();break}}return i}function Mc(e,t,s){var a,l,i=this.eras(),d,u,f;for(e=e.toUpperCase(),a=0,l=i.length;a<l;++a)if(d=i[a].name.toUpperCase(),u=i[a].abbr.toUpperCase(),f=i[a].narrow.toUpperCase(),s)switch(t){case"N":case"NN":case"NNN":if(u===e)return i[a];break;case"NNNN":if(d===e)return i[a];break;case"NNNNN":if(f===e)return i[a];break}else if([d,u,f].indexOf(e)>=0)return i[a]}function Sc(e,t){var s=e.since<=e.until?1:-1;return t===void 0?x(e.since).year():x(e.since).year()+(t-e.offset)*s}function Tc(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].name;return""}function Cc(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].narrow;return""}function Ec(){var e,t,s,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(s=this.clone().startOf("day").valueOf(),a[e].since<=s&&s<=a[e].until||a[e].until<=s&&s<=a[e].since)return a[e].abbr;return""}function Oc(){var e,t,s,a,l=this.localeData().eras();for(e=0,t=l.length;e<t;++e)if(s=l[e].since<=l[e].until?1:-1,a=this.clone().startOf("day").valueOf(),l[e].since<=a&&a<=l[e].until||l[e].until<=a&&a<=l[e].since)return(this.year()-x(l[e].since).year())*s+l[e].offset;return this.year()}function jc(e){return G(this,"_erasNameRegex")||Ga.call(this),e?this._erasNameRegex:this._erasRegex}function Yc(e){return G(this,"_erasAbbrRegex")||Ga.call(this),e?this._erasAbbrRegex:this._erasRegex}function Ac(e){return G(this,"_erasNarrowRegex")||Ga.call(this),e?this._erasNarrowRegex:this._erasRegex}function za(e,t){return t.erasAbbrRegex(e)}function Vc(e,t){return t.erasNameRegex(e)}function Wc(e,t){return t.erasNarrowRegex(e)}function Lc(e,t){return t._eraYearOrdinalRegex||as}function Ga(){var e=[],t=[],s=[],a=[],l,i,d,u,f,c=this.eras();for(l=0,i=c.length;l<i;++l)d=ct(c[l].name),u=ct(c[l].abbr),f=ct(c[l].narrow),t.push(d),e.push(u),s.push(f),a.push(d),a.push(u),a.push(f);this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}W(0,["gg",2],0,function(){return this.weekYear()%100});W(0,["GG",2],0,function(){return this.isoWeekYear()%100});function aa(e,t){W(0,[e,e.length],0,t)}aa("gggg","weekYear");aa("ggggg","weekYear");aa("GGGG","isoWeekYear");aa("GGGGG","isoWeekYear");E("G",Qs);E("g",Qs);E("GG",se,We);E("gg",se,We);E("GGGG",Va,Aa);E("gggg",Va,Aa);E("GGGGG",Ks,qs);E("ggggg",Ks,qs);Cs(["gggg","ggggg","GGGG","GGGGG"],function(e,t,s,a){t[a.substr(0,2)]=U(e)});Cs(["gg","GG"],function(e,t,s,a){t[a]=x.parseTwoDigitYear(e)});function Pc(e){return vn.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Nc(e){return vn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Fc(){return ht(this.year(),1,4)}function Rc(){return ht(this.isoWeekYear(),1,4)}function Ic(){var e=this.localeData()._week;return ht(this.year(),e.dow,e.doy)}function Hc(){var e=this.localeData()._week;return ht(this.weekYear(),e.dow,e.doy)}function vn(e,t,s,a,l){var i;return e==null?xs(this,a,l).year:(i=ht(e,a,l),t>i&&(t=i),Uc.call(this,e,t,s,a,l))}function Uc(e,t,s,a,l){var i=zi(e,t,s,a,l),d=ks(i.year,0,i.dayOfYear);return this.year(d.getUTCFullYear()),this.month(d.getUTCMonth()),this.date(d.getUTCDate()),this}W("Q",0,"Qo","quarter");E("Q",Wi);J("Q",function(e,t){t[dt]=(U(e)-1)*3});function $c(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}W("D",["DD",2],"Do","date");E("D",se,is);E("DD",se,We);E("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});J(["D","DD"],st);J("Do",function(e,t){t[st]=U(e.match(se)[0])});var fn=ns("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear");E("DDD",Js);E("DDDD",Li);J(["DDD","DDDD"],function(e,t,s){s._dayOfYear=U(e)});function Bc(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}W("m",["mm",2],0,"minute");E("m",se,Wa);E("mm",se,We);J(["m","mm"],qe);var zc=ns("Minutes",!1);W("s",["ss",2],0,"second");E("s",se,Wa);E("ss",se,We);J(["s","ss"],ut);var Gc=ns("Seconds",!1);W("S",0,0,function(){return~~(this.millisecond()/100)});W(0,["SS",2],0,function(){return~~(this.millisecond()/10)});W(0,["SSS",3],0,"millisecond");W(0,["SSSS",4],0,function(){return this.millisecond()*10});W(0,["SSSSS",5],0,function(){return this.millisecond()*100});W(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});W(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});W(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});W(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});E("S",Js,Wi);E("SS",Js,We);E("SSS",Js,Li);var kt,pn;for(kt="SSSS";kt.length<=9;kt+="S")E(kt,as);function Zc(e,t){t[At]=U(("0."+e)*1e3)}for(kt="S";kt.length<=9;kt+="S")J(kt,Zc);pn=ns("Milliseconds",!1);W("z",0,0,"zoneAbbr");W("zz",0,0,"zoneName");function qc(){return this._isUTC?"UTC":""}function Jc(){return this._isUTC?"Coordinated Universal Time":""}var D=Ss.prototype;D.add=Hu;D.calendar=qu;D.clone=Ju;D.diff=ac;D.endOf=mc;D.format=rc;D.from=oc;D.fromNow=dc;D.to=uc;D.toNow=cc;D.get=ld;D.invalidAt=kc;D.isAfter=Ku;D.isBefore=Qu;D.isBetween=Xu;D.isSame=ec;D.isSameOrAfter=tc;D.isSameOrBefore=sc;D.isValid=wc;D.lang=dn;D.locale=on;D.localeData=un;D.max=wu;D.min=_u;D.parsingFlags=bc;D.set=rd;D.startOf=hc;D.subtract=Uu;D.toArray=gc;D.toObject=yc;D.toDate=pc;D.toISOString=nc;D.inspect=lc;typeof Symbol<"u"&&Symbol.for!=null&&(D[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});D.toJSON=_c;D.toString=ic;D.unix=fc;D.valueOf=vc;D.creationData=xc;D.eraName=Tc;D.eraNarrow=Cc;D.eraAbbr=Ec;D.eraYear=Oc;D.year=Fi;D.isLeapYear=nd;D.weekYear=Pc;D.isoWeekYear=Nc;D.quarter=D.quarters=$c;D.month=$i;D.daysInMonth=pd;D.week=D.weeks=Dd;D.isoWeek=D.isoWeeks=Md;D.weeksInYear=Ic;D.weeksInWeekYear=Hc;D.isoWeeksInYear=Fc;D.isoWeeksInISOWeekYear=Rc;D.date=fn;D.day=D.days=Nd;D.weekday=Fd;D.isoWeekday=Rd;D.dayOfYear=Bc;D.hour=D.hours=Gd;D.minute=D.minutes=zc;D.second=D.seconds=Gc;D.millisecond=D.milliseconds=pn;D.utcOffset=Eu;D.utc=ju;D.local=Yu;D.parseZone=Au;D.hasAlignedHourOffset=Vu;D.isDST=Wu;D.isLocal=Pu;D.isUtcOffset=Nu;D.isUtc=an;D.isUTC=an;D.zoneAbbr=qc;D.zoneName=Jc;D.dates=Re("dates accessor is deprecated. Use date instead.",fn);D.months=Re("months accessor is deprecated. Use month instead",$i);D.years=Re("years accessor is deprecated. Use year instead",Fi);D.zone=Re("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ou);D.isDSTShifted=Re("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Lu);function Kc(e){return te(e*1e3)}function Qc(){return te.apply(null,arguments).parseZone()}function gn(e){return e}var Z=Oa.prototype;Z.calendar=Po;Z.longDateFormat=Io;Z.invalidDate=Uo;Z.ordinal=zo;Z.preparse=gn;Z.postformat=gn;Z.relativeTime=Zo;Z.pastFuture=qo;Z.set=Wo;Z.eras=Dc;Z.erasParse=Mc;Z.erasConvertYear=Sc;Z.erasAbbrRegex=Yc;Z.erasNameRegex=jc;Z.erasNarrowRegex=Ac;Z.months=hd;Z.monthsShort=md;Z.monthsParse=fd;Z.monthsRegex=yd;Z.monthsShortRegex=gd;Z.week=wd;Z.firstDayOfYear=xd;Z.firstDayOfWeek=kd;Z.weekdays=Ad;Z.weekdaysMin=Wd;Z.weekdaysShort=Vd;Z.weekdaysParse=Pd;Z.weekdaysRegex=Id;Z.weekdaysShortRegex=Hd;Z.weekdaysMinRegex=Ud;Z.isPM=Bd;Z.meridiem=Zd;function Gs(e,t,s,a){var l=vt(),i=it().set(a,t);return l[s](i,e)}function yn(e,t,s){if(mt(e)&&(t=e,e=void 0),e=e||"",t!=null)return Gs(e,t,s,"month");var a,l=[];for(a=0;a<12;a++)l[a]=Gs(e,a,s,"month");return l}function Za(e,t,s,a){typeof e=="boolean"?(mt(t)&&(s=t,t=void 0),t=t||""):(t=e,s=t,e=!1,mt(t)&&(s=t,t=void 0),t=t||"");var l=vt(),i=e?l._week.dow:0,d,u=[];if(s!=null)return Gs(t,(s+i)%7,a,"day");for(d=0;d<7;d++)u[d]=Gs(t,(d+i)%7,a,"day");return u}function Xc(e,t){return yn(e,t,"months")}function eh(e,t){return yn(e,t,"monthsShort")}function th(e,t,s){return Za(e,t,s,"weekdays")}function sh(e,t,s){return Za(e,t,s,"weekdaysShort")}function ah(e,t,s){return Za(e,t,s,"weekdaysMin")}xt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,s=U(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+s}});x.lang=Re("moment.lang is deprecated. Use moment.locale instead.",xt);x.langData=Re("moment.langData is deprecated. Use moment.localeData instead.",vt);var lt=Math.abs;function ih(){var e=this._data;return this._milliseconds=lt(this._milliseconds),this._days=lt(this._days),this._months=lt(this._months),e.milliseconds=lt(e.milliseconds),e.seconds=lt(e.seconds),e.minutes=lt(e.minutes),e.hours=lt(e.hours),e.months=lt(e.months),e.years=lt(e.years),this}function _n(e,t,s,a){var l=Qe(t,s);return e._milliseconds+=a*l._milliseconds,e._days+=a*l._days,e._months+=a*l._months,e._bubble()}function nh(e,t){return _n(this,e,t,1)}function lh(e,t){return _n(this,e,t,-1)}function Di(e){return e<0?Math.floor(e):Math.ceil(e)}function rh(){var e=this._milliseconds,t=this._days,s=this._months,a=this._data,l,i,d,u,f;return e>=0&&t>=0&&s>=0||e<=0&&t<=0&&s<=0||(e+=Di(Ma(s)+t)*864e5,t=0,s=0),a.milliseconds=e%1e3,l=Ne(e/1e3),a.seconds=l%60,i=Ne(l/60),a.minutes=i%60,d=Ne(i/60),a.hours=d%24,t+=Ne(d/24),f=Ne(wn(t)),s+=f,t-=Di(Ma(f)),u=Ne(s/12),s%=12,a.days=t,a.months=s,a.years=u,this}function wn(e){return e*4800/146097}function Ma(e){return e*146097/4800}function oh(e){if(!this.isValid())return NaN;var t,s,a=this._milliseconds;if(e=Ie(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,s=this._months+wn(t),e){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(t=this._days+Math.round(Ma(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function ft(e){return function(){return this.as(e)}}var bn=ft("ms"),dh=ft("s"),uh=ft("m"),ch=ft("h"),hh=ft("d"),mh=ft("w"),vh=ft("M"),fh=ft("Q"),ph=ft("y"),gh=bn;function yh(){return Qe(this)}function _h(e){return e=Ie(e),this.isValid()?this[e+"s"]():NaN}function Wt(e){return function(){return this.isValid()?this._data[e]:NaN}}var wh=Wt("milliseconds"),bh=Wt("seconds"),kh=Wt("minutes"),xh=Wt("hours"),Dh=Wt("days"),Mh=Wt("months"),Sh=Wt("years");function Th(){return Ne(this.days()/7)}var rt=Math.round,Kt={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ch(e,t,s,a,l){return l.relativeTime(t||1,!!s,e,a)}function Eh(e,t,s,a){var l=Qe(e).abs(),i=rt(l.as("s")),d=rt(l.as("m")),u=rt(l.as("h")),f=rt(l.as("d")),c=rt(l.as("M")),g=rt(l.as("w")),k=rt(l.as("y")),w=i<=s.ss&&["s",i]||i<s.s&&["ss",i]||d<=1&&["m"]||d<s.m&&["mm",d]||u<=1&&["h"]||u<s.h&&["hh",u]||f<=1&&["d"]||f<s.d&&["dd",f];return s.w!=null&&(w=w||g<=1&&["w"]||g<s.w&&["ww",g]),w=w||c<=1&&["M"]||c<s.M&&["MM",c]||k<=1&&["y"]||["yy",k],w[2]=t,w[3]=+e>0,w[4]=a,Ch.apply(null,w)}function Oh(e){return e===void 0?rt:typeof e=="function"?(rt=e,!0):!1}function jh(e,t){return Kt[e]===void 0?!1:t===void 0?Kt[e]:(Kt[e]=t,e==="s"&&(Kt.ss=t-1),!0)}function Yh(e,t){if(!this.isValid())return this.localeData().invalidDate();var s=!1,a=Kt,l,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(s=e),typeof t=="object"&&(a=Object.assign({},Kt,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),l=this.localeData(),i=Eh(this,!s,a,l),s&&(i=l.pastFuture(+this,i)),l.postformat(i)}var ga=Math.abs;function qt(e){return(e>0)-(e<0)||+e}function ia(){if(!this.isValid())return this.localeData().invalidDate();var e=ga(this._milliseconds)/1e3,t=ga(this._days),s=ga(this._months),a,l,i,d,u=this.asSeconds(),f,c,g,k;return u?(a=Ne(e/60),l=Ne(a/60),e%=60,a%=60,i=Ne(s/12),s%=12,d=e?e.toFixed(3).replace(/\.?0+$/,""):"",f=u<0?"-":"",c=qt(this._months)!==qt(u)?"-":"",g=qt(this._days)!==qt(u)?"-":"",k=qt(this._milliseconds)!==qt(u)?"-":"",f+"P"+(i?c+i+"Y":"")+(s?c+s+"M":"")+(t?g+t+"D":"")+(l||a||e?"T":"")+(l?k+l+"H":"")+(a?k+a+"M":"")+(e?k+d+"S":"")):"P0D"}var z=sa.prototype;z.isValid=Mu;z.abs=ih;z.add=nh;z.subtract=lh;z.as=oh;z.asMilliseconds=bn;z.asSeconds=dh;z.asMinutes=uh;z.asHours=ch;z.asDays=hh;z.asWeeks=mh;z.asMonths=vh;z.asQuarters=fh;z.asYears=ph;z.valueOf=gh;z._bubble=rh;z.clone=yh;z.get=_h;z.milliseconds=wh;z.seconds=bh;z.minutes=kh;z.hours=xh;z.days=Dh;z.weeks=Th;z.months=Mh;z.years=Sh;z.humanize=Yh;z.toISOString=ia;z.toString=ia;z.toJSON=ia;z.locale=on;z.localeData=un;z.toIsoString=Re("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ia);z.lang=dn;W("X",0,0,"unix");W("x",0,0,"valueOf");E("x",Qs);E("X",Xo);J("X",function(e,t,s){s._d=new Date(parseFloat(e)*1e3)});J("x",function(e,t,s){s._d=new Date(U(e))});//! moment.js
x.version="2.30.1";Ao(te);x.fn=D;x.min=bu;x.max=ku;x.now=xu;x.utc=it;x.unix=Kc;x.months=Xc;x.isDate=Ms;x.locale=xt;x.invalid=Zs;x.duration=Qe;x.isMoment=Ke;x.weekdays=th;x.parseZone=Qc;x.localeData=vt;x.isDuration=Rs;x.monthsShort=eh;x.weekdaysMin=ah;x.defineLocale=Ra;x.updateLocale=Qd;x.locales=Xd;x.weekdaysShort=sh;x.normalizeUnits=Ie;x.relativeTimeRounding=Oh;x.relativeTimeThreshold=jh;x.calendarFormat=Zu;x.prototype=D;x.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Ah={class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow"},Vh={class:"flex justify-between items-center mb-4"},Wh={class:"flex gap-3"},Lh={class:"flex rounded-md shadow-sm mr-3"},Ph={key:0,class:"mb-4 bg-gray-50 p-4 rounded-lg"},Nh={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Fh=["value"],Rh={class:"mt-1 relative rounded-md shadow-sm"},Ih={key:1,class:"text-center text-gray-600 text-sm animate-pulse py-4"},Hh={key:2,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md"},Uh={key:3},$h={key:0,class:"space-y-4"},Bh={key:0,class:"flex justify-between"},zh={class:"flex-grow"},Gh={class:"text-sm text-red-500 italic"},Zh={class:"flex items-center mt-1"},qh={class:"text-xs text-gray-500"},Jh={key:1},Kh={class:"flex-grow"},Qh={class:"flex justify-between items-center mb-3"},Xh={class:"text-sm text-gray-600 bg-blue-100 px-2 py-1 rounded-full"},em={class:"mb-3"},tm={class:"text-sm text-gray-700 ml-6"},sm={class:"mb-3"},am={class:"text-sm text-gray-700 ml-6"},im={class:"mb-2"},nm={class:"text-sm text-gray-700 ml-6"},lm={class:"flex items-center mt-3 pt-2 border-t border-blue-200"},rm={class:"text-xs text-gray-500"},om={key:1,class:"text-gray-400 text-sm"},dm={key:4,class:"mt-4"},um={class:"flex justify-between items-center mb-6"},cm={class:"text-lg font-medium text-gray-900"},hm=["innerHTML"],mm=["innerHTML"],vm={key:0,class:"mt-1 text-xs p-1 rounded bg-red-50 border-l-2 border-red-500 text-red-700"},fm={class:"mt-6 bg-white rounded-lg shadow p-4"},pm={key:0},gm={class:"font-medium text-gray-800 mb-2"},ym={class:"font-medium text-blue-800"},_m={class:"text-sm text-gray-600 mt-1"},wm={key:1,class:"text-gray-500 text-sm"},bm={__name:"DailyStandups",props:{projectId:{type:Number,required:!0},users:{type:Array,default:()=>[]}},emits:["standupAdded"],setup(e,{emit:t}){const s=e,a=S("list"),l=S(!1),i=S(!1),d=S(""),u=S([]),f=S(""),c=jt({startDate:"",endDate:"",search:"",userId:""}),g=Y=>{const b=x(Y);return b.isValid()?{start:b.clone().startOf("month").format("YYYY-MM-DD"),end:b.clone().endOf("month").format("YYYY-MM-DD")}:(console.warn("getMonthRange received an invalid input, defaulting to current date:",Y),{start:x().startOf("month").format("YYYY-MM-DD"),end:x().endOf("month").format("YYYY-MM-DD")})};let k=null;const w=()=>{clearTimeout(k),k=setTimeout(()=>{A()},500)},C=async()=>{i.value=!0,d.value="";try{const Y=new URLSearchParams;c.startDate&&Y.append("start_date",c.startDate),c.endDate&&Y.append("end_date",c.endDate),c.search&&Y.append("search",c.search),c.userId&&Y.append("user_id",String(c.userId));const b=Y.toString(),j=`/api/projects/${s.projectId}/sections/notes?type=standup${b?`&${b}`:""}`,ee=await window.axios.get(j);u.value=ee.data.filter(xe=>xe.type==="standup")}catch(Y){console.error("Error fetching project standups:",Y),d.value="Failed to load standups. Please try again."}finally{i.value=!1}},A=()=>{C()},K=()=>{c.search="",c.userId="",c.startDate="",c.endDate="",C()},pe=()=>{f.value=x(f.value).subtract(1,"month").format("YYYY-MM-DD")},N=()=>{f.value=x(f.value).add(1,"month").format("YYYY-MM-DD")};ts(()=>f.value,Y=>{if(a.value==="calendar"&&Y){const b=g(Y);c.startDate=b.start,c.endDate=b.end,C()}}),ts(()=>a.value,Y=>{Y==="calendar"?(c.search="",c.userId="",f.value=g(new Date).start):(c.startDate="",c.endDate="",C())});const V=X(()=>(u.value||[]).map(Y=>{var ee;if(!(Y!=null&&Y.created_at))return null;const b=x(Y.created_at);if(!b.isValid())return null;const j=je(Y.content);return{start:b.format("YYYY-MM-DD HH:mm"),end:b.format("YYYY-MM-DD HH:mm"),title:`${((ee=Y.user)==null?void 0:ee.name)||"Unknown"} - Standup`,content:`Yesterday: ${j.yesterday}
Today: ${j.today}
Blockers: ${j.blockers}`,class:"standup-event",standupData:Y}}).filter(Boolean));Sa(()=>{C()});const L=X(()=>{if(!u.value)return[];let Y=[...u.value];if(c.startDate&&(Y=Y.filter(b=>b.created_at&&x(b.created_at).isSameOrAfter(c.startDate,"day"))),c.endDate&&(Y=Y.filter(b=>b.created_at&&x(b.created_at).isSameOrBefore(c.endDate,"day"))),c.userId&&(Y=Y.filter(b=>b.user_id===parseInt(c.userId))),c.search){const b=c.search.toLowerCase();Y=Y.filter(j=>j.content&&j.content!=="[Encrypted content could not be decrypted]"&&j.content.toLowerCase().includes(b))}return Y.sort((b,j)=>x(j.created_at).valueOf()-x(b.created_at).valueOf())}),Ee=Y=>{const b=x(Y).day();return b>=1&&b<=5},ke=Y=>x(Y).isBefore(x(),"day"),pt=(Y,b)=>x(Y).isSame(b,"day"),je=Y=>{var Le,et,Lt,gt;if(!Y||typeof Y!="string"||Y==="[Encrypted content could not be decrypted]"||Y.trim()==="")return{yesterday:"N/A",today:"N/A",blockers:"N/A",date:"N/A"};const b=((Le=Y.match(/\*\*Yesterday:\*\* ([^\n]+)/))==null?void 0:Le[1].trim())||"Nothing",j=((et=Y.match(/\*\*Today:\*\* ([^\n]+)/))==null?void 0:et[1].trim())||"Nothing",ee=((Lt=Y.match(/\*\*Blockers:\*\* ([^\n]+)/))==null?void 0:Lt[1].trim())||"None",xe=((gt=Y.match(/\*\*Daily Standup - ([^*]+)\*\*/))==null?void 0:gt[1].trim())||x().format("L");return{yesterday:b,today:j,blockers:ee,date:xe}},Xe=X(()=>{const Y={};return(u.value||[]).forEach(b=>{if(!(b!=null&&b.created_at))return;const j=x(b.created_at).format("YYYY-MM-DD");Y[j]||(Y[j]=[]),Y[j].push(b)}),Y});return(Y,b)=>(h(),m("div",Ah,[n("div",Vh,[b[11]||(b[11]=n("h4",{class:"text-lg font-semibold text-gray-900"},"Daily Standups",-1)),n("div",Wh,[n("div",Lh,[n("button",{type:"button",onClick:b[0]||(b[0]=j=>a.value="list"),class:B([a.value==="list"?"bg-indigo-100 text-indigo-700":"bg-white text-gray-700 hover:text-gray-500","px-4 py-2 text-sm font-medium rounded-l-md border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500"])},b[8]||(b[8]=[n("span",{class:"flex items-center"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})]),O(" List ")],-1)]),2),n("button",{type:"button",onClick:b[1]||(b[1]=j=>a.value="calendar"),class:B([a.value==="calendar"?"bg-indigo-100 text-indigo-700":"bg-white text-gray-700 hover:text-gray-500","px-4 py-2 text-sm font-medium rounded-r-md border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-indigo-500"])},b[9]||(b[9]=[n("span",{class:"flex items-center"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),O(" Calendar ")],-1)]),2)]),y(oe,{class:"bg-blue-600 hover:bg-blue-700 transition-colors",onClick:b[2]||(b[2]=j=>l.value=!0)},{default:T(()=>b[10]||(b[10]=[O(" Submit Standup ",-1)])),_:1,__:[10]})])]),a.value==="list"?(h(),m("div",Ph,[n("div",Nh,[n("div",null,[b[12]||(b[12]=n("label",{for:"standupStartDate",class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),H(n("input",{type:"date",id:"standupStartDate","onUpdate:modelValue":b[3]||(b[3]=j=>c.startDate=j),class:"mt-1 block w-full border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:A},null,544),[[ve,c.startDate]])]),n("div",null,[b[13]||(b[13]=n("label",{for:"standupEndDate",class:"block text-sm font-medium text-gray-700 mb-1"},"To Date",-1)),H(n("input",{type:"date",id:"standupEndDate","onUpdate:modelValue":b[4]||(b[4]=j=>c.endDate=j),class:"mt-1 block w-full border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:A},null,544),[[ve,c.endDate]])]),n("div",null,[b[15]||(b[15]=n("label",{for:"standupUserFilter",class:"block text-sm font-medium text-gray-700 mb-1"},"User",-1)),H(n("select",{id:"standupUserFilter","onUpdate:modelValue":b[5]||(b[5]=j=>c.userId=j),class:"mt-1 block w-full border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:A},[b[14]||(b[14]=n("option",{value:""},"All Users",-1)),(h(!0),m(I,null,$(s.users,j=>(h(),m("option",{key:j.id,value:j.id},p(j.name),9,Fh))),128))],544),[[Ae,c.userId]])]),n("div",null,[b[17]||(b[17]=n("label",{for:"standupSearchFilter",class:"block text-sm font-medium text-gray-700 mb-1"},"Search Content",-1)),n("div",Rh,[H(n("input",{type:"text",id:"standupSearchFilter","onUpdate:modelValue":b[6]||(b[6]=j=>c.search=j),class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search in standup content...",onInput:w},null,544),[[ve,c.search]]),b[16]||(b[16]=n("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1))])])]),n("div",{class:"mt-3 flex justify-end"},[n("button",{type:"button",class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:K}," Reset Filters ")])])):_("",!0),i.value?(h(),m("div",Ih,"Loading standups...")):d.value?(h(),m("div",Hh,p(d.value),1)):a.value==="list"?(h(),m("div",Uh,[L.value.length?(h(),m("div",$h,[(h(!0),m(I,null,$(L.value,j=>{var ee,xe;return h(),m("div",{key:j.id,class:"p-4 bg-blue-50 rounded-md shadow-sm hover:bg-blue-100 transition-colors border-l-4 border-blue-500"},[j.content==="[Encrypted content could not be decrypted]"?(h(),m("div",Bh,[n("div",zh,[n("p",Gh,[O(p(j.content),1),b[18]||(b[18]=n("span",{class:"text-xs text-red-400 block mt-1"},"(There was an issue decrypting this standup. Please contact an administrator.)",-1))]),n("div",Zh,[n("p",qh,"Submitted by "+p(((ee=j.user)==null?void 0:ee.name)||"Unknown")+" on "+p(Me(x)(j.created_at).format("L")),1)])])])):(h(),m("div",Jh,[n("div",Kh,[n("div",Qh,[b[19]||(b[19]=n("h3",{class:"text-md font-bold text-gray-800"},"Daily Standup",-1)),n("span",Xh,p(je(j.content).date),1)]),n("div",em,[b[20]||(b[20]=n("div",{class:"flex items-center mb-1"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),n("span",{class:"font-semibold text-sm text-gray-700"},"Yesterday:")],-1)),n("p",tm,p(je(j.content).yesterday),1)]),n("div",sm,[b[21]||(b[21]=n("div",{class:"flex items-center mb-1"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-green-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),n("span",{class:"font-semibold text-sm text-gray-700"},"Today:")],-1)),n("p",am,p(je(j.content).today),1)]),n("div",im,[b[22]||(b[22]=n("div",{class:"flex items-center mb-1"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-red-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),n("span",{class:"font-semibold text-sm text-gray-700"},"Blockers:")],-1)),n("p",nm,p(je(j.content).blockers),1)]),n("div",lm,[n("p",rm,"Submitted by "+p(((xe=j.user)==null?void 0:xe.name)||"Unknown")+" on "+p(Me(x)(j.created_at).format("L")),1)])])]))])}),128))])):(h(),m("p",om,"No daily standups found for the selected criteria."))])):a.value==="calendar"?(h(),m("div",dm,[n("div",um,[n("button",{onClick:pe,class:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors"},b[23]||(b[23]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),n("h3",cm,p(f.value?Me(x)(f.value).format("MMMM YYYY"):"Loading..."),1),n("button",{onClick:N,class:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors"},b[24]||(b[24]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),y(Me(Yo),{class:"vuecal--blue-theme","active-view":"month",events:V.value,"selected-date":f.value,"hide-weekends":"","hide-title-bar":"","disable-views":["week","day","years","year"],twelveHour:!0,"time-from":480,"time-to":1200,"time-step":30,"events-on-month-view":"short"},{event:T(({event:j})=>[n("div",{class:"vuecal__event-title",innerHTML:j.title},null,8,hm),n("div",{class:"vuecal__event-content",innerHTML:j.content},null,8,mm)]),"cell-content":T(({view:j,date:ee})=>[j.id==="month"?(h(),m(I,{key:0},[ee&&Ee(ee)&&ke(ee)&&!V.value.some(xe=>pt(xe.start,ee))?(h(),m("div",vm," No standups ")):_("",!0)],64)):_("",!0)]),_:1},8,["events","selected-date"]),b[26]||(b[26]=vl('<div class="mt-4 flex items-center space-x-4 text-sm"><div class="flex items-center"><span class="inline-block w-3 h-3 bg-blue-50 border-l-2 border-blue-500 mr-1"></span><span>Standup submitted</span></div><div class="flex items-center"><span class="inline-block w-3 h-3 bg-red-50 border-l-2 border-red-500 mr-1"></span><span>Missing standup</span></div></div>',1)),n("div",fm,[b[25]||(b[25]=n("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Standups Outside Current Month View",-1)),Object.entries(Xe.value).some(([j])=>!Me(x)(j).isSame(f.value,"month"))?(h(),m("div",pm,[(h(!0),m(I,null,$(Object.entries(Xe.value).filter(([j])=>!Me(x)(j).isSame(f.value,"month")).sort((j,ee)=>Me(x)(j[0]).valueOf()-Me(x)(ee[0]).valueOf()),([j,ee])=>(h(),m("div",{key:j,class:"mb-4"},[n("div",gm,p(Me(x)(j).format("dddd, MMMM Do YYYY")),1),(h(!0),m(I,null,$(ee,xe=>{var Le;return h(),m("div",{key:xe.id,class:"p-2 mb-2 rounded bg-blue-50 border-l-2 border-blue-500"},[n("div",ym,p(((Le=xe.user)==null?void 0:Le.name)||"Unknown"),1),n("div",_m,p(Me(x)(xe.created_at).format("LT")),1)])}),128))]))),128))])):(h(),m("div",wm,"No standups outside the current month view."))])])):_("",!0),y(Ti,{show:l.value,onClose:b[7]||(b[7]=j=>l.value=!1),onStandupAdded:C,projectId:e.projectId},null,8,["show","projectId"])]))}},km={class:"py-8 max-w-full mx-auto px-4 sm:px-6 lg:px-8"},xm={key:0,class:"text-center text-gray-600 text-lg animate-pulse"},Dm={key:1,class:"text-center text-red-600 text-lg font-medium"},Mm={key:2,class:"space-y-8"},Sm={class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow mb-6"},Tm={class:"flex justify-between items-center mb-4"},Cm={class:"flex gap-3"},Em={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Om={class:"text-2xl font-bold text-gray-900 tracking-tight mb-2"},jm={class:"text-gray-600 text-base"},Ym={class:"space-y-3 text-sm text-gray-700"},Am={class:"flex flex-wrap gap-2 mt-2 items-center"},Vm=["href"],Wm=["href"],Lm=["href"],Pm={key:3,class:"text-gray-500 text-sm"},Nm={class:"relative"},Fm=["onClick"],Rm={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Im={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Hm={key:0,class:"resource-tooltip absolute left-0 bottom-full mb-2 w-48 z-10"},Um={class:"bg-white rounded-md shadow-lg p-3 text-sm border border-gray-200"},$m={class:"flex justify-between items-center mb-2"},Bm={class:"font-medium text-gray-900"},zm={key:0,class:"text-gray-600 text-xs mb-2"},Gm={class:"flex justify-between mt-2 pt-2 border-t border-gray-100"},Zm=["href"],qm={class:"flex space-x-2"},Jm=["onClick"],Km=["onClick"],Qm={class:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6"},Xm={class:"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow"},ev={class:"text-2xl font-bold text-indigo-600"},tv={class:"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow"},sv={class:"text-2xl font-bold text-indigo-600"},av={class:"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow"},iv={class:"text-2xl font-bold text-indigo-600"},nv={class:"bg-white p-4 rounded-xl shadow-md hover:shadow-lg transition-shadow"},lv={class:"text-2xl font-bold text-indigo-600"},rv={class:"bg-white p-4 rounded-xl shadow-md mb-6"},ov={class:"border-b border-gray-200"},dv={class:"-mb-px flex space-x-8"},uv={key:0},cv={key:0,class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow mb-6"},hv={class:"flex justify-between items-center mb-4"},mv={class:"overflow-x-auto"},vv={class:"min-w-full divide-y divide-gray-200"},fv={class:"bg-white divide-y divide-gray-200"},pv={class:"px-4 py-3 text-sm text-gray-900"},gv={class:"px-4 py-3 text-sm text-gray-700"},yv={class:"px-4 py-3 text-sm text-gray-700"},_v={class:"px-4 py-3 text-right"},wv={class:"flex justify-end space-x-2"},bv=["onClick"],kv=["onClick"],xv={key:1,class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow mb-6"},Dv={class:"flex justify-between items-center mb-4"},Mv={key:2,class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow mb-6"},Sv={class:"flex justify-between items-center mb-4"},Tv={key:0,class:"text-center text-gray-600 text-sm animate-pulse py-4"},Cv={key:1,class:"text-center text-red-600 text-sm font-medium py-4"},Ev={key:2,class:"overflow-x-auto"},Ov={class:"min-w-full divide-y divide-gray-200"},jv={class:"bg-white divide-y divide-gray-200"},Yv={class:"px-4 py-3 text-sm text-gray-900"},Av={class:"px-4 py-3 text-sm text-gray-700"},Vv={class:"px-4 py-3 text-sm text-gray-700"},Wv={class:"px-4 py-3 text-right"},Lv={key:3,class:"text-gray-400 text-sm"},Pv={key:3,class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow mb-6"},Nv={class:"flex justify-between items-center mb-4"},Fv={class:"flex items-center gap-4"},Rv={key:0},Iv={key:0,class:"space-y-4"},Hv={class:"flex justify-between"},Uv={class:"flex-grow"},$v={key:0,class:"text-xs text-red-400 block mt-1"},Bv={class:"flex items-center mt-1"},zv={class:"text-xs text-gray-500"},Gv={key:0,class:"ml-2 px-2 py-0.5 bg-indigo-100 text-indigo-800 text-xs rounded-full"},Zv={key:0},qv={key:1,class:"text-gray-400 text-sm"},Jv={key:1,class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow"},Kv={class:"flex justify-between items-center mb-4"},Qv={class:"flex gap-2"},Xv={key:0},ef={key:1},tf={class:"mb-6 overflow-x-auto"},sf={key:0,class:"text-center text-gray-600 text-sm animate-pulse py-4"},af={key:1,class:"text-center py-4"},nf={key:2,class:"relative py-8"},lf={class:"relative flex justify-between"},rf={key:0,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},of={key:1,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},df={key:2,class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},uf={key:3,class:"w-2 h-2 bg-white rounded-full"},cf={class:"absolute -top-8 transform -translate-x-1/2 left-1/2 w-32"},hf=["title"],mf={class:"absolute top-8 transform -translate-x-1/2 left-1/2"},vf={class:"text-xs text-gray-500 whitespace-nowrap"},ff={class:"mb-6 bg-gray-50 p-4 rounded-lg"},pf={class:"flex flex-wrap items-center gap-4"},gf={class:"flex-1 min-w-[200px]"},yf={class:"flex-1 min-w-[200px]"},_f=["value"],wf={class:"flex-1 min-w-[200px]"},bf=["value"],kf={class:"flex-1 min-w-[200px]"},xf=["value"],Df={key:0,class:"mt-3 text-sm text-gray-600"},Mf={key:0,class:"text-red-600 font-medium"},Sf={key:0,class:"text-center text-gray-600 text-sm animate-pulse py-4"},Tf={key:1,class:"text-center py-4"},Cf={class:"text-red-600 text-sm font-medium"},Ef={key:2,class:"overflow-x-auto"},Of={class:"min-w-full divide-y divide-gray-200"},jf={class:"bg-white divide-y divide-gray-200"},Yf={class:"px-4 py-3 text-sm text-gray-900"},Af={class:"px-4 py-3 text-sm text-gray-700"},Vf={class:"px-4 py-3 text-sm text-gray-700"},Wf={class:"px-4 py-3 text-sm text-gray-700"},Lf={class:"px-4 py-3 text-sm text-gray-700"},Pf={class:"px-4 py-3 text-right"},Nf={class:"flex justify-end space-x-2"},Ff=["onClick"],Rf=["onClick"],If=["onClick"],Hf=["onClick"],Uf={key:3,class:"text-center py-4"},$f={key:2,class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow"},Bf={class:"flex justify-between items-center mb-4"},zf={key:0,class:"flex gap-3"},Gf={key:1,class:"mt-2 bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded relative",role:"alert"},Zf={class:"block sm:inline"},qf={class:"mb-4 bg-gray-50 p-4 rounded-lg"},Jf={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Kf={class:"mt-1 relative rounded-md shadow-sm"},Qf={key:0,class:"text-center text-gray-600 text-sm animate-pulse py-4"},Xf={key:1,class:"text-center text-red-600 text-sm font-medium py-4"},e0={key:2,class:"overflow-x-auto"},t0={class:"min-w-full divide-y divide-gray-200"},s0={class:"bg-white divide-y divide-gray-200"},a0={class:"px-4 py-3 text-sm text-gray-900"},i0={class:"px-4 py-3 text-sm text-gray-700"},n0={class:"px-4 py-3 text-sm text-gray-700"},l0={class:"px-4 py-3 text-sm text-gray-700"},r0={class:"px-4 py-3 text-sm text-gray-700"},o0={class:"px-4 py-3 text-right"},d0={key:3,class:"text-gray-400 text-sm"},u0={key:3},c0={key:4,class:"bg-white p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow"},h0={class:"flex justify-between items-center mb-4"},m0={class:"flex gap-3"},v0={class:"mb-4 bg-gray-50 p-4 rounded-lg"},f0={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},p0={class:"mt-1 relative rounded-md shadow-sm"},g0={class:"mb-8 p-4 bg-blue-50 rounded-md"},y0={class:"flex items-center"},_0={class:"text-sm text-blue-800"},w0={key:0,class:"space-y-4"},b0={class:"flex justify-between"},k0={class:"flex-grow"},x0={key:0,class:"text-xs text-red-400 block mt-1"},D0={class:"flex items-center mt-1"},M0={class:"text-xs text-gray-500"},S0={key:0,class:"ml-2 px-2 py-0.5 bg-indigo-100 text-indigo-800 text-xs rounded-full"},T0={key:0},C0={key:1,class:"text-gray-400 text-sm"},E0={class:"p-6"},O0={class:"flex justify-between items-center mb-4"},j0={key:0,class:"space-y-4"},Y0={class:"border-b pb-4"},A0={class:"text-xl font-medium text-gray-900 mb-2"},V0={class:"grid grid-cols-2 gap-4 text-sm"},W0={class:"text-gray-600"},L0={class:"text-gray-900"},P0={class:"text-gray-600 mt-1"},N0={class:"text-gray-600"},F0={class:"text-gray-900"},R0={class:"prose max-w-none"},I0=["innerHTML"],H0={key:0,class:"mt-4 p-4 bg-red-50 rounded-md"},U0={class:"text-red-700"},$0={key:1,class:"mt-4 text-sm text-gray-600"},B0={key:0},z0={key:2,class:"mt-6 flex justify-end space-x-2"},G0={class:"p-6"},Z0={class:"flex justify-between items-center mb-4"},q0={key:0,class:"space-y-4"},J0={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},K0={class:"block sm:inline"},Q0={class:"mb-4"},X0={class:"mb-6"},ep={class:"mt-6 flex justify-end space-x-2"},tp={class:"p-6"},sp={class:"flex justify-between items-center mb-4"},ap={key:0,class:"space-y-4"},ip={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},np={class:"block sm:inline"},lp={class:"mb-6"},rp={class:"mt-6 flex justify-end space-x-2"},op={class:"p-6"},dp={class:"flex justify-between items-center mb-4"},up={key:0,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},cp={class:"block sm:inline"},hp={class:"mb-4"},mp={class:"multiselect__tag"},vp=["onClick"],fp={class:"mb-4"},pp={class:"mb-6"},gp={class:"flex items-center justify-end"},yp={class:"p-6"},_p={class:"flex justify-between items-center mb-4"},wp={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},bp={class:"text-sm text-gray-700"},kp={class:"text-xs text-gray-500 mt-1"},xp={key:1,class:"mb-4"},Dp={key:0,class:"text-center py-4"},Mp={key:1,class:"space-y-3 max-h-60 overflow-y-auto"},Sp={class:"text-sm text-gray-700"},Tp={class:"text-xs text-gray-500 mt-1"},Cp={key:2,class:"text-center py-3"},Ep={key:2,class:"mb-4"},Op={key:0,class:"mt-2 text-sm text-red-600"},jp={key:3,class:"mt-6 flex justify-end"},Yp={class:"p-6"},Ap={class:"flex justify-between items-center mb-4"},Vp={class:"text-lg font-semibold text-gray-900"},Wp={key:0,class:"mt-1 text-sm text-red-600"},Lp={key:0,class:"mt-1 text-sm text-red-600"},Pp={key:0,class:"mt-1 text-sm text-red-600"},Np={key:0,class:"mt-1 text-sm text-red-600"},Fp=["value"],Rp={key:0,class:"mt-1 text-sm text-red-600"},Ip={key:0,class:"text-sm text-gray-500"},Hp=["value"],Up={key:2,class:"mt-1 text-sm text-red-600"},$p={key:0,class:"text-sm text-gray-500"},Bp=["value"],zp={key:2,class:"mt-1 text-sm text-red-600"},Gp={class:"mt-6 flex justify-end space-x-3"},Zp={class:"p-6"},qp={class:"flex justify-between items-center mb-4"},Jp={key:0,class:"mt-1 text-sm text-red-600"},Kp={key:0,class:"mt-1 text-sm text-red-600"},Qp={key:0,class:"mt-1 text-sm text-red-600"},Xp={key:0,class:"mt-1 text-sm text-red-600"},eg={class:"mt-6 flex justify-end space-x-3"},tg={class:"p-6"},sg={class:"flex justify-between items-center mb-4"},ag={key:0,class:"mb-4 p-3 bg-gray-100 rounded-md"},ig={class:"text-sm font-medium text-gray-900"},ng={class:"text-xs text-gray-500 mt-1"},lg={class:"mb-4"},rg={key:0,class:"mt-2 text-sm text-red-600"},og={class:"mt-6 flex justify-end"},dg={class:"p-6"},ug={class:"flex justify-between items-center mb-4"},cg={key:0,class:"mb-4 p-3 bg-green-100 text-green-800 rounded-md"},hg={key:1,class:"mb-4 p-3 bg-red-100 text-red-800 rounded-md"},mg={class:"mb-4"},vg=["value"],fg={class:"mt-6 flex justify-end space-x-3"},pg={__name:"Show",setup(e){const t=fl(),s=Ge().props.id,{permissions:a,loading:l,error:i}=pl(),{permissions:d,loading:u,error:f}=gl(s),c=S({}),g=S([]),k=S([]),w=S(!0),C=S(""),A=S(!1),K=S(!1),pe=S(!1),N=S(!1),V=S(!1),L=S(!1),Ee=S(!1),ke=S(null),pt=S(null),je=S(""),Xe=S(""),Y=S([]),b=S(!1),j=S(!1),ee=S(""),xe=S(""),Le=S(""),et=S([]),Lt=S(!1),gt=S(null),na=S(null);S(null);const ce=S(null),Es=X(()=>c.value.notes?c.value.notes.filter(v=>v.type==="note"||!v.type):[]),qa=X(()=>Es.value?[...Es.value].slice(0,3):[]),Ja=X(()=>_t.value?[..._t.value].slice(0,3):[]),Ka=X(()=>{if(!He.value)return[];const v=new Date;return v.setHours(0,0,0,0),He.value.filter(r=>r.due_date?new Date(r.due_date).toDateString()===v.toDateString():!1)}),Qa=()=>{K.value=!0},kn=async()=>{var v,r;if(!ee.value){Le.value="Please select a client email";return}j.value=!0,xe.value="",Le.value="";try{const o=await window.axios.post(`/api/projects/${c.value.id}/magic-link`,{email:ee.value});o.data.success?(xe.value=o.data.message,ee.value=""):Le.value=o.data.message||"Failed to send magic link"}catch(o){console.error("Error sending magic link:",o),Le.value=((r=(v=o.response)==null?void 0:v.data)==null?void 0:r.message)||"An error occurred while sending the magic link"}finally{j.value=!1}},Xa=async v=>{ke.value=v,je.value="",Xe.value="",Y.value=[],b.value=!0,pe.value=!0;try{const r=await window.axios.get(`/api/projects/${c.value.id}/notes/${v.id}/replies`);r.data.success?Y.value=r.data.replies:console.error("Failed to fetch replies:",r.data.message)}catch(r){console.error("Error fetching replies:",r)}finally{b.value=!1}},xn=async()=>{var v,r;if(!ke.value||!je.value.trim()){Xe.value="Reply content is required";return}Xe.value="";try{const o=await window.axios.post(`/api/projects/${c.value.id}/notes/${ke.value.id}/reply`,{content:je.value});if(o.data.success){je.value="";try{b.value=!0;const M=await window.axios.get(`/api/projects/${c.value.id}/notes/${ke.value.id}/replies`);M.data.success&&(Y.value=M.data.replies)}catch(M){console.error("Error fetching updated replies:",M)}finally{b.value=!1}await rs()}else Xe.value=o.data.message||"Failed to send reply"}catch(o){console.error("Error sending reply:",o),Xe.value=((r=(v=o.response)==null?void 0:v.data)==null?void 0:r.message)||"An error occurred while sending the reply"}},Dn=[{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"on_hold",label:"On Hold"},{value:"archived",label:"Archived"}],Mn=[{value:"Website Designing",label:"Website Designing"},{value:"SEO",label:"SEO"},{value:"Social Media",label:"Social Media"},{value:"Content Writing",label:"Content Writing"},{value:"Graphic Design",label:"Graphic Design"}],Sn=[{value:"UpWork",label:"UpWork"},{value:"Direct",label:"Direct Client"},{value:"Wix Marketplace",label:"Wix Marketplace"},{value:"Referral",label:"Referral"}],Tn=[{value:"Primary",label:"Primary"},{value:"Accountant",label:"Accountant"},{value:"Other",label:"Other"}],Cn=[{value:"Manager",label:"Manager"},{value:"Developer",label:"Developer"},{value:"QA",label:"QA"},{value:"Other",label:"Other"}],En=[{value:"one_off",label:"One-Off"},{value:"monthly",label:"Monthly"}],re=yl(c),ei=X(()=>!!re.value),ti=X(()=>{if(!re.value)return!1;const v=re.value.name,r=re.value.slug;return v==="Manager"||v==="Project Manager"||r==="manager"||r==="project-manager"}),{canDo:Pt,canView:Dt}=_l(s),yt=X(()=>t.value?t.value.role_data&&t.value.role_data.slug==="super-admin"||t.value.role==="super_admin"||t.value.role==="super-admin":!1);X(()=>t.value?t.value.role_data&&t.value.role_data.slug==="manager"||t.value.role==="manager"||t.value.role==="manager-role"||t.value.role==="manager_role"||ti.value:!1),X(()=>!t.value||ei.value&&!ti.value?!1:t.value.role_data&&t.value.role_data.slug==="employee"||t.value.role==="employee"||t.value.role==="employee-role"),X(()=>!t.value||ei.value?!1:t.value.role_data&&t.value.role_data.slug==="contractor"||t.value.role==="contractor"||t.value.role==="contractor-role");const ls=X(()=>{console.log("userProjectRole in canManageProjects:",re.value);const v=re.value&&re.value.permissions&&re.value.permissions.some(ye=>ye.slug==="manage_projects");console.log("Has project-specific manage_projects permission:",v);const r=t.value&&t.value.global_permissions&&t.value.global_permissions.some(ye=>ye.slug==="manage_projects");console.log("Has global manage_projects permission:",r);const o=t.value&&t.value.role&&t.value.role.permissions&&t.value.role.permissions.some(ye=>ye.slug==="manage_projects");console.log("Has role manage_projects permission:",o);const M=Pt("manage_projects",re).value;console.log("canDo result for manage_projects:",M);const R=M||yt.value;return console.log("Final canManageProjects result:",R),R}),On=X(()=>Dt("project_financial",re).value||yt.value),jn=X(()=>Dt("project_transactions",re).value||yt.value);X(()=>Dt("client_contacts",re).value||yt.value);const Yn=X(()=>Dt("client_financial",re).value||yt.value);X(()=>Dt("users",re).value||yt.value);const la=X(()=>Dt("emails",re).value||!1),An=X(()=>Pt("compose_emails",re).value||!1),Vn=X(()=>Pt("approve_emails",re).value||!1),Nt=X(()=>Dt("project_notes",re).value||!1),si=X(()=>Pt("project_notes",re).value||!1),Oe=jt({startDate:"",endDate:"",search:""}),Os=async()=>{try{const v=Ge().props.id,r=new URLSearchParams;Oe.startDate&&r.append("start_date",Oe.startDate),Oe.endDate&&r.append("end_date",Oe.endDate),Oe.search&&r.append("search",Oe.search);const o=r.toString(),M=`/api/projects/${v}/sections/notes${o?`?${o}`:""}`,R=await window.axios.get(M);c.value.notes=R.data}catch(v){console.error("Error fetching project notes:",v)}},ra=()=>{Os()},Wn=()=>{Oe.startDate="",Oe.endDate="",Oe.search="",Os()};let ai=null;const Ln=()=>{clearTimeout(ai),ai=setTimeout(()=>{ra()},500)},Pn=async()=>{Lt.value=!0;try{const v=Ge().props.id,r=await window.axios.get(`/api/projects/${v}/resources`);r.data.success?et.value=r.data.resources:console.error("Failed to fetch resources:",r.data.message)}catch(v){console.error("Error fetching resources:",v)}finally{Lt.value=!1}},Nn=()=>{pt.value=null,L.value=!0},Fn=v=>{pt.value=v,L.value=!0},Rn=async v=>{if(confirm("Are you sure you want to delete this resource?"))try{const r=Ge().props.id,o=await window.axios.delete(`/api/projects/${r}/resources/${v}`);o.data.success?et.value=et.value.filter(M=>M.id!==v):console.error("Failed to delete resource:",o.data.message)}catch(r){console.error("Error deleting resource:",r)}},In=v=>{if(pt.value){const r=et.value.findIndex(o=>o.id===v.id);r!==-1&&(et.value[r]=v)}else et.value.push(v)},Hn=v=>{gt.value!==v&&(gt.value=v)},ii=()=>{gt.value=null},ni=v=>{if(gt.value!==null){const r=v.target.closest(".resource-tooltip"),o=v.target.closest(".resource-button");!r&&!o&&ii()}},rs=async()=>{w.value=!0,C.value="";try{const v=Ge().props.id;console.log("Fetching project data for ID:",v);const r=await window.axios.get(`/api/projects/${v}/sections/basic`);console.log("Basic project data received:",r.data),c.value=r.data;try{const o=await window.axios.get(`/api/projects/${v}/sections/clients-users`);if(console.log("Clients and users data received:",o.data),o.data.clients&&(c.value.clients=o.data.clients),o.data.users){if(c.value.users=o.data.users,console.log("Project users:",c.value.users.length),c.value.users.length>0){const M=c.value.users[0];console.log("First user structure:",{id:M.id,name:M.name,hasPivot:!!M.pivot,pivotData:M.pivot?{hasRoleId:!!M.pivot.role_id,hasRoleData:!!M.pivot.role_data,roleDataStructure:M.pivot.role_data}:"No pivot data"});const R=c.value.users.find(ye=>ye.id===t.value.id);console.log("Current user in project:",R?{name:R.name,hasPivot:!!R.pivot,pivotData:R.pivot?{hasRoleId:!!R.pivot.role_id,hasRoleData:!!R.pivot.role_data,roleDataStructure:R.pivot.role_data}:"No pivot data"}:"Not found")}}else console.log("No users array in project data")}catch(o){console.error("Error fetching clients and users:",o)}if(On.value)try{const o=await window.axios.get(`/api/projects/${v}/sections/services-payment`);console.log("Financial data received:",o.data),c.value.services=o.data.services,c.value.service_details=o.data.service_details,c.value.total_amount=o.data.total_amount,c.value.payment_type=o.data.payment_type}catch(o){console.error("Error fetching financial information:",o)}if(jn.value)try{const o=await window.axios.get(`/api/projects/${v}/sections/transactions`);console.log("Transactions data received:",o.data),c.value.transactions=o.data}catch(o){console.error("Error fetching transactions:",o)}try{const o=await window.axios.get(`/api/projects/${v}/sections/documents`);console.log("Documents data received:",o.data),c.value.documents=o.data}catch(o){console.error("Error fetching documents:",o)}if(Yn.value)try{const o=await window.axios.get(`/api/projects/${v}/contract-details`);console.log("Contract details received:",o.data),c.value.contract_details=o.data}catch(o){console.error("Error fetching contract details:",o)}if(console.log("Project value after assignment:",c.value),console.log("userProjectRole after project set:",re.value),ls.value){console.log("User can manage projects, fetching additional data");const o=await window.axios.get("/api/clients");g.value=o.data;const M=await window.axios.get("/api/users");k.value=M.data.filter(R=>R.role==="contractor")}else console.log("User cannot manage projects, skipping additional data fetch")}catch(v){C.value="Failed to load project data.",console.error("Error fetching project data:",v),v.response&&(v.response.status===401||v.response.status===403)&&(C.value="You are not authorized to view this project or your session expired. Please log in.")}finally{w.value=!1}},Un=()=>{A.value=!0},$n=v=>{c.value=v,A.value=!1,alert("Project updated successfully!"),rs()},He=S([]),os=S(!1),ds=S(""),Mt=S(!1),Ft=S(null),he=S({name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,tags:[]}),we=S({}),us=S([]),Ue=S([]),js=S(!1),cs=S(!1),be=S({status:"",assigned_to_user_id:"",milestone_id:"",due_date_range:""}),Bn=[{value:"",label:"All Dates"},{value:"today",label:"Due Today"},{value:"this_week",label:"Due This Week"},{value:"next_week",label:"Due Next Week"},{value:"overdue",label:"Overdue"},{value:"no_date",label:"No Due Date"}],oa=X(()=>!Ue.value||!Ue.value.length?[]:[...Ue.value].sort((v,r)=>v.completion_date?r.completion_date?new Date(v.completion_date)-new Date(r.completion_date):-1:1)),da=X(()=>He.value.length?He.value.filter(v=>{var r;if(be.value.status&&v.status!==be.value.status)return!1;if(be.value.assigned_to_user_id){const o=parseInt(be.value.assigned_to_user_id);if(o===-1){if(v.assigned_to!=="Unassigned")return!1}else{const M=(r=c.value.users)==null?void 0:r.find(R=>R.id===o);if(M&&v.assigned_to!==M.name)return!1}}if(be.value.milestone_id){const o=parseInt(be.value.milestone_id);if(o===-1){if(v.milestone)return!1}else{const M=Ue.value.find(R=>R.id===o);if(M&&v.milestone!==M.name&&v.milestone_id!==o)return!1}}if(be.value.due_date_range){const o=new Date;o.setHours(0,0,0,0);const M=v.due_date?new Date(v.due_date):null;switch(be.value.due_date_range){case"today":if(!M||M.toDateString()!==o.toDateString())return!1;break;case"this_week":{if(!M)return!1;const R=new Date(o);if(R.setDate(o.getDate()+(6-o.getDay())),M<o||M>R)return!1;break}case"next_week":{if(!M)return!1;const R=new Date(o);R.setDate(o.getDate()+(7-o.getDay()));const ye=new Date(R);if(ye.setDate(R.getDate()+6),M<R||M>ye)return!1;break}case"overdue":{if(!M||M>=o)return!1;break}case"no_date":{if(M)return!1;break}}}return!0}):[]),zn=()=>{be.value={status:"",assigned_to_user_id:"",milestone_id:"",due_date_range:""}},Rt=S(!1),It=S(null),Ht=S(""),St=S(""),Ys=S(!1),Ut=S(!1),tt=S({name:"",description:"",completion_date:null,status:"Not Started",project_id:Ge().props.id}),$e=S({}),As=S(!1),$t=async()=>{os.value=!0,ds.value="";try{const v=Ge().props.id,r=await window.axios.get(`/api/projects/${v}/tasks`);He.value=r.data,console.log("Tasks fetched:",He.value)}catch(v){ds.value="Failed to load tasks data.",console.error("Error fetching project tasks:",v),v.response&&v.response.data&&v.response.data.message&&(ds.value=v.response.data.message)}finally{os.value=!1}},ua=async()=>{js.value=!0;try{const v=await window.axios.get("/api/task-types");us.value=v.data}catch(v){console.error("Error fetching task types:",v)}finally{js.value=!1}},ca=async()=>{cs.value=!0;try{const v=Ge().props.id,r=await window.axios.get(`/api/projects/${v}/milestones`);Ue.value=r.data}catch(v){console.error("Error fetching milestones:",v)}finally{cs.value=!1}},Gn=()=>{tt.value={name:"",description:"",completion_date:null,status:"Not Started",project_id:Ge().props.id},$e.value={},Ut.value=!0},Zn=async()=>{$e.value={},As.value=!0;try{const v=await window.axios.post("/api/milestones",tt.value);Ue.value.push(v.data),he.value.milestone_id=v.data.id,Ut.value=!1,alert("Milestone created successfully!")}catch(v){console.error("Error creating milestone:",v),v.response&&v.response.data&&v.response.data.errors?$e.value=v.response.data.errors:alert("Failed to create milestone. Please try again.")}finally{As.value=!1}},qn=async()=>{Ft.value=null,he.value={name:"",description:"",assigned_to_user_id:null,due_date:null,status:"To Do",task_type_id:null,milestone_id:null,tags:[]},we.value={},us.value.length===0&&await ua(),Ue.value.length===0&&await ca(),Mt.value=!0},li=async v=>{var R;Ft.value=v,us.value.length===0&&await ua(),Ue.value.length===0&&await ca();let r=null;if(v.milestone){const ye=Ue.value.find(vs=>vs.name===v.milestone);ye&&(r=ye.id)}let o=null;if(v.task_type){const ye=us.value.find(vs=>vs.name===v.task_type);ye&&(o=ye.id)}let M=null;if(v.assigned_to&&v.assigned_to!=="Unassigned"){const ye=(R=c.value.users)==null?void 0:R.find(vs=>vs.name===v.assigned_to);ye&&(M=ye.id)}he.value={name:v.title,description:v.description||"",assigned_to_user_id:M||v.assigned_to_id||null,due_date:v.due_date||null,status:v.status,task_type_id:o||v.task_type_id||null,milestone_id:r,tags:v.tags||[]},we.value={},Mt.value=!0},Jn=async v=>{try{await window.axios.post(`/api/tasks/${v.id}/complete`),await $t()}catch(r){console.error("Error marking task as completed:",r),alert("Failed to mark task as completed. Please try again.")}},Kn=async v=>{try{await window.axios.post(`/api/tasks/${v.id}/start`),await $t()}catch(r){console.error("Error starting task:",r),alert("Failed to start task. Please try again.")}},ri=v=>{It.value=v,Ht.value="",St.value="",Rt.value=!0},Qn=async()=>{if(!Ht.value.trim()){St.value="Note content is required";return}St.value="",Ys.value=!0;try{await window.axios.post(`/api/tasks/${It.value.id}/notes`,{note:Ht.value}),Rt.value=!1,Ht.value="",It.value=null,await $t(),alert("Note added successfully!")}catch(v){console.error("Error adding note to task:",v),v.response&&v.response.data&&v.response.data.message?St.value=v.response.data.message:St.value="Failed to add note. Please try again."}finally{Ys.value=!1}},Xn=async()=>{we.value={};try{let v;Ft.value?v=await window.axios.put(`/api/tasks/${Ft.value.id}`,he.value):v=await window.axios.post("/api/tasks",{...he.value,milestone_id:he.value.milestone_id||null}),Mt.value=!1,await $t()}catch(v){console.error("Error submitting task form:",v),v.response&&v.response.data&&v.response.data.errors?we.value=v.response.data.errors:alert("Failed to save task. Please try again.")}},_t=S([]),Vs=S(!1),ae=S(""),Q=S(null),Tt=S(!1),me=jt({type:"",startDate:"",endDate:"",search:""});let oi=null;const Ws=()=>{Et()},el=()=>{me.type="",me.startDate="",me.endDate="",me.search="",Et()},tl=()=>{clearTimeout(oi),oi=setTimeout(()=>{Ws()},500)},Bt=S(!1),zt=S(!1),wt=jt({subject:"",body:""}),Ct=S({}),hs=jt({rejection_reason:""}),ms=S({}),Be=S(""),Gt=S(!1),ge=jt({project_id:"",client_ids:[],subject:"",body:""}),ze=S({}),Et=async()=>{Vs.value=!0,ae.value="";try{const v=Ge().props.id,r=new URLSearchParams;me.type&&r.append("type",me.type),me.startDate&&r.append("start_date",me.startDate),me.endDate&&r.append("end_date",me.endDate),me.search&&r.append("search",me.search);const o=r.toString(),M=`/api/projects/${v}/emails-simplified${o?`?${o}`:""}`,R=await window.axios.get(M);_t.value=R.data}catch(v){ae.value="Failed to load email data.",console.error("Error fetching project emails:",v)}finally{Vs.value=!1}},sl=()=>{N.value=!0},al=()=>{V.value=!0},il=v=>{na.value&&na.value.fetchMeetings()},di=v=>{Q.value=v,Tt.value=!0},nl=async v=>{Be.value="",ae.value="";try{await window.axios.post(`/api/emails/${v.id}/approve`),Be.value="Email approved successfully!",await Et(),Tt.value=!1}catch(r){r.response&&r.response.data.message?ae.value=r.response.data.message:(ae.value="Failed to approve email.",console.error("Error approving email:",r))}},ll=v=>{Q.value=v,wt.subject=v.subject,wt.body=v.body,Ct.value={},Bt.value=!0,Tt.value=!1},rl=async()=>{Ct.value={},ae.value="",Be.value="";try{const v={subject:wt.subject,body:wt.body};await window.axios.post(`/api/emails/${Q.value.id}/edit-and-approve`,v),Be.value="Email updated and approved successfully!",Bt.value=!1,await Et()}catch(v){v.response&&v.response.status===422?Ct.value=v.response.data.errors:v.response&&v.response.data.message?ae.value=v.response.data.message:(ae.value="Failed to update and approve email.",console.error("Error updating and approving email:",v))}},ol=v=>{Q.value=v,hs.rejection_reason="",ms.value={},zt.value=!0,Tt.value=!1},dl=async()=>{ms.value={},ae.value="",Be.value="";try{await window.axios.post(`/api/emails/${Q.value.id}/reject`,{rejection_reason:hs.rejection_reason}),Be.value="Email rejected successfully!",hs.rejection_reason="",zt.value=!1,await Et()}catch(v){v.response&&v.response.status===422?ms.value=v.response.data.errors:v.response&&v.response.data.message?ae.value=v.response.data.message:(ae.value="Failed to reject email.",console.error("Error rejecting email:",v))}},ul=()=>{ge.project_id=c.value.id,ge.client_ids=[],ge.subject="",ge.body="",ze.value={},Be.value="",Gt.value=!0},cl=async()=>{if(ze.value={},ae.value="",Be.value="",!ge.client_ids||ge.client_ids.length===0){ze.value.client_ids=["Please select at least one client."];return}try{const v=ge.client_ids.map(o=>typeof o=="object"&&o!==null?{id:o.id}:{id:o}),r={project_id:ge.project_id,client_ids:v,subject:ge.subject,body:ge.body,status:"pending_approval"};await window.axios.post("/api/emails",r),Be.value="Email submitted for approval successfully!",ge.client_ids=[],ge.subject="",ge.body="",ze.value={},Gt.value=!1,await Et()}catch(v){v.response&&v.response.status===422?ze.value=v.response.data.errors:v.response&&v.response.data.message?ae.value=v.response.data.message:(ae.value="Failed to submit email. An unexpected error occurred.",console.error("Error submitting email:",v))}};return Sa(async()=>{console.log("Component mounted, fetching data...");try{const v=Ge().props.id,r=await wl(v);console.log("Project permissions fetched (includes global):",r)}catch(v){console.error(`Error fetching permissions for project ${s}:`,v)}await rs(),await Os(),await Et(),await $t(),await Pn();try{await ua(),await ca(),console.log("Task types and milestones fetched successfully")}catch(v){console.error("Error fetching task types or milestones:",v)}document.addEventListener("click",ni),console.log("All data loaded, permission status:"),console.log("- Global permissions:",a.value),console.log("- Global permissions loading:",l.value),console.log("- Global permissions error:",i.value),console.log("- Project permissions:",d.value),console.log("- Project permissions loading:",u.value),console.log("- Project permissions error:",f.value),console.log("- User project role:",re.value),console.log("- Can manage projects:",ls.value)}),bl(()=>{document.removeEventListener("click",ni)}),(v,r)=>(h(),m(I,null,[y(Me(kl),{title:c.value.name||"Project Details"},null,8,["title"]),y(Dl,null,{default:T(()=>[n("div",km,[w.value?(h(),m("div",xm," Loading project details... ")):C.value?(h(),m("div",Dm,p(C.value),1)):(h(),m("div",Mm,[n("div",Sm,[n("div",Tm,[r[79]||(r[79]=n("h4",{class:"text-lg font-semibold text-gray-900"},"General Information",-1)),n("div",Cm,[y(oe,{class:"bg-blue-600 hover:bg-blue-700 transition-colors mr-2",onClick:al},{default:T(()=>r[76]||(r[76]=[O(" Daily Standup ",-1)])),_:1,__:[76]}),ls.value||yt.value?(h(),Te(oe,{key:0,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors mr-2",onClick:Un},{default:T(()=>r[77]||(r[77]=[O(" Edit Project ",-1)])),_:1,__:[77]})):_("",!0),ls.value||yt.value?(h(),Te(oe,{key:1,class:"bg-green-600 hover:bg-green-700 transition-colors mr-2",onClick:sl},{default:T(()=>r[78]||(r[78]=[O(" Schedule Meeting ",-1)])),_:1,__:[78]})):_("",!0)])]),n("div",Em,[n("div",null,[n("h3",Om,p(c.value.name),1),n("p",jm,p(c.value.description||"No description provided"),1)]),n("div",Ym,[n("p",null,[r[80]||(r[80]=n("strong",{class:"text-gray-900"},"Status:",-1)),O(" "+p(c.value.status.replace("_"," ").toUpperCase()),1)]),n("p",null,[r[81]||(r[81]=n("strong",{class:"text-gray-900"},"Project Type:",-1)),O(" "+p(c.value.project_type||"N/A"),1)]),n("p",null,[r[82]||(r[82]=n("strong",{class:"text-gray-900"},"Source:",-1)),O(" "+p(c.value.source||"N/A"),1)]),n("div",Am,[n("button",{onClick:Nn,class:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",title:"Add Resource"},r[83]||(r[83]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)])),c.value.website?(h(),m("a",{key:0,href:c.value.website,target:"_blank",class:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",title:"Visit Website"},r[84]||(r[84]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})],-1)]),8,Vm)):_("",!0),c.value.social_media_link?(h(),m("a",{key:1,href:c.value.social_media_link,target:"_blank",class:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",title:"Social Media"},r[85]||(r[85]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})],-1)]),8,Wm)):_("",!0),c.value.google_drive_link?(h(),m("a",{key:2,href:c.value.google_drive_link,target:"_blank",class:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",title:"Google Drive"},r[86]||(r[86]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)]),8,Lm)):_("",!0),Lt.value?(h(),m("div",Pm," Loading resources... ")):(h(!0),m(I,{key:4},$(et.value,o=>(h(),m("div",{key:o.id,class:"relative"},[n("div",Nm,[n("button",{onClick:Se(M=>Hn(o.id),["prevent"]),class:"resource-button p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors block"},[o.type==="link"?(h(),m("svg",Rm,r[87]||(r[87]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101"},null,-1),n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.172 13.828a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.102 1.101"},null,-1)]))):(h(),m("svg",Im,r[88]||(r[88]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])))],8,Fm),gt.value===o.id?(h(),m("div",Hm,[n("div",Um,[n("div",$m,[n("h4",Bm,p(o.name),1),n("button",{onClick:Se(ii,["prevent"]),class:"text-gray-400 hover:text-gray-600"},r[89]||(r[89]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),o.description?(h(),m("p",zm,p(o.description),1)):_("",!0),n("div",Gm,[n("a",{href:o.url,target:"_blank",class:"text-xs text-indigo-600 hover:text-indigo-800"}," Open Link ",8,Zm),n("div",qm,[n("button",{onClick:Se(M=>Fn(o),["prevent"]),class:"p-1 text-gray-500 hover:text-indigo-600",title:"Edit"},r[90]||(r[90]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,Jm),n("button",{onClick:Se(M=>Rn(o.id),["prevent"]),class:"p-1 text-gray-500 hover:text-red-600",title:"Delete"},r[91]||(r[91]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Km)])])]),r[92]||(r[92]=n("div",{class:"absolute left-5 bottom-0 transform translate-y-1/2 rotate-45 w-2 h-2 bg-white border-r border-b border-gray-200"},null,-1))])):_("",!0)])]))),128))])])])]),y(hr,{"project-id":Me(s),ref_key:"meetingsListComponent",ref:na},null,8,["project-id"]),n("div",Qm,[n("div",Xm,[r[93]||(r[93]=n("h4",{class:"text-sm font-semibold text-gray-500 mb-1"},"Pending Tasks",-1)),n("p",ev,p(He.value.filter(o=>o.status!=="Done").length),1)]),n("div",tv,[r[94]||(r[94]=n("h4",{class:"text-sm font-semibold text-gray-500 mb-1"},"Received Emails",-1)),n("p",sv,p(_t.value.filter(o=>o.type==="received").length),1)]),n("div",av,[r[95]||(r[95]=n("h4",{class:"text-sm font-semibold text-gray-500 mb-1"},"Last Email Received",-1)),n("p",iv,p(_t.value.filter(o=>o.status==="Received").length?_t.value.filter(o=>o.status==="Received")[0].date:"N/A"),1)]),n("div",nv,[r[96]||(r[96]=n("h4",{class:"text-sm font-semibold text-gray-500 mb-1"},"Next Task Deadline",-1)),n("p",lv,p(He.value.filter(o=>o.status!=="Completed").length?He.value.filter(o=>o.status!=="Completed").sort((o,M)=>new Date(o.due_date)-new Date(M.due_date))[0].due_date:"N/A"),1)])]),n("div",rv,[n("div",ov,[n("nav",dv,[n("button",{onClick:r[0]||(r[0]=o=>ce.value=null),class:B([ce.value===null?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Overview ",2),n("button",{onClick:r[1]||(r[1]=o=>ce.value="tasks"),class:B([ce.value==="tasks"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Project Tasks ",2),la.value?(h(),m("button",{key:0,onClick:r[2]||(r[2]=o=>ce.value="emails"),class:B([ce.value==="emails"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Email Communication ",2)):_("",!0),Nt.value?(h(),m("button",{key:1,onClick:r[3]||(r[3]=o=>ce.value="notes"),class:B([ce.value==="notes"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Notes ",2)):_("",!0),Nt.value?(h(),m("button",{key:2,onClick:r[4]||(r[4]=o=>ce.value="standups"),class:B([ce.value==="standups"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Daily Standups ",2)):_("",!0)])])]),ce.value===null?(h(),m("div",uv,[Ka.value.length>0?(h(),m("div",cv,[n("div",hv,[r[97]||(r[97]=n("h4",{class:"text-lg font-semibold text-gray-900"},"Tasks Due Today",-1)),n("button",{onClick:r[5]||(r[5]=o=>ce.value="tasks"),class:"text-sm text-indigo-600 hover:text-indigo-800 font-medium"}," View All Tasks â ")]),n("div",mv,[n("table",vv,[r[98]||(r[98]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Assigned To"),n("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),n("tbody",fv,[(h(!0),m(I,null,$(Ka.value,o=>(h(),m("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[n("td",pv,p(o.title),1),n("td",gv,[n("span",{class:B({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-yellow-100 text-yellow-800":o.status==="To Do","bg-blue-100 text-blue-800":o.status==="In Progress","bg-green-100 text-green-800":o.status==="Done","bg-red-100 text-red-800":o.status==="Blocked","bg-gray-100 text-gray-800":o.status==="Archived"})},p(o.status),3)]),n("td",yv,p(o.assigned_to),1),n("td",_v,[n("div",wv,[n("button",{onClick:M=>li(o),class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium"}," Edit ",8,bv),n("button",{onClick:M=>ri(o),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," Add Note ",8,kv)])])]))),128))])])])])):(h(),m("div",xv,[n("div",Dv,[r[99]||(r[99]=n("h4",{class:"text-lg font-semibold text-gray-900"},"Tasks Due Today",-1)),n("button",{onClick:r[6]||(r[6]=o=>ce.value="tasks"),class:"text-sm text-indigo-600 hover:text-indigo-800 font-medium"}," View All Tasks â ")]),r[100]||(r[100]=n("p",{class:"text-gray-400 text-sm"},"No tasks due today.",-1))])),la.value?(h(),m("div",Mv,[n("div",Sv,[r[101]||(r[101]=n("h4",{class:"text-lg font-semibold text-gray-900"},"Latest Emails",-1)),n("button",{onClick:r[7]||(r[7]=o=>ce.value="emails"),class:"text-sm text-indigo-600 hover:text-indigo-800 font-medium"}," View All Emails â ")]),Vs.value?(h(),m("div",Tv," Loading email data... ")):ae.value?(h(),m("div",Cv,p(ae.value),1)):Ja.value.length?(h(),m("div",Ev,[n("table",Ov,[r[103]||(r[103]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"From"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),n("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),n("tbody",jv,[(h(!0),m(I,null,$(Ja.value,o=>{var M;return h(),m("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[n("td",Yv,p(o.subject),1),n("td",Av,p(((M=o.sender)==null?void 0:M.name)||"N/A"),1),n("td",Vv,p(new Date(o.created_at).toLocaleDateString()),1),n("td",Wv,[y(De,{class:"text-indigo-600 hover:text-indigo-800",onClick:R=>di(o)},{default:T(()=>r[102]||(r[102]=[O(" View ",-1)])),_:2,__:[102]},1032,["onClick"])])])}),128))])])])):(h(),m("p",Lv,"No email communication found."))])):_("",!0),Nt.value?(h(),m("div",Pv,[n("div",Nv,[r[105]||(r[105]=n("h4",{class:"text-lg font-semibold text-gray-900"},"Latest Notes",-1)),n("div",Fv,[n("button",{onClick:r[8]||(r[8]=o=>ce.value="notes"),class:"text-sm text-indigo-600 hover:text-indigo-800 font-medium"}," View All Notes â "),Me(Pt)("add_project_notes")?(h(),m("div",Rv,[y(oe,{class:"bg-indigo-600 hover:bg-indigo-700 transition-colors",onClick:Qa},{default:T(()=>r[104]||(r[104]=[O(" Add Note ",-1)])),_:1,__:[104]})])):_("",!0)])]),qa.value.length?(h(),m("div",Iv,[(h(!0),m(I,null,$(qa.value,o=>{var M;return h(),m("div",{key:o.id,class:"p-4 bg-gray-50 rounded-md shadow-sm hover:bg-gray-100 transition-colors"},[n("div",Hv,[n("div",Uv,[n("p",{class:B(["text-sm",{"text-gray-700":o.content!=="[Encrypted content could not be decrypted]","text-red-500 italic":o.content==="[Encrypted content could not be decrypted]"}])},[O(p(o.content)+" ",1),o.content==="[Encrypted content could not be decrypted]"?(h(),m("span",$v," (There was an issue decrypting this note. Please contact an administrator.) ")):_("",!0)],2),n("div",Bv,[n("p",zv,"Added by "+p(((M=o.user)==null?void 0:M.name)||"Unknown")+" on "+p(new Date(o.created_at).toLocaleDateString()),1),o.reply_count>0?(h(),m("span",Gv,p(o.reply_count)+" "+p(o.reply_count===1?"reply":"replies"),1)):_("",!0)])]),Nt.value&&o.chat_message_id&&c.value.google_chat_id?(h(),m("div",Zv,[y(De,{class:"text-sm text-indigo-600 hover:text-indigo-800",onClick:R=>Xa(o)},{default:T(()=>r[106]||(r[106]=[O(" View ",-1)])),_:2,__:[106]},1032,["onClick"])])):_("",!0)])])}),128))])):(h(),m("p",qv,"No notes available."))])):_("",!0)])):_("",!0),ce.value==="tasks"?(h(),m("div",Jv,[n("div",Kv,[r[108]||(r[108]=n("h4",{class:"text-lg font-semibold text-gray-900"},"Project Tasks",-1)),n("div",Qv,[y(De,{onClick:$t,disabled:os.value,class:"text-indigo-600 hover:text-indigo-800"},{default:T(()=>[os.value?(h(),m("span",ef,"Loading...")):(h(),m("span",Xv,"Refresh"))]),_:1},8,["disabled"]),ls.value?(h(),Te(oe,{key:0,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors",onClick:qn},{default:T(()=>r[107]||(r[107]=[O(" Add Task ",-1)])),_:1,__:[107]})):_("",!0)])]),n("div",tf,[cs.value?(h(),m("div",sf," Loading milestones... ")):oa.value.length?(h(),m("div",nf,[r[113]||(r[113]=n("div",{class:"absolute h-1 bg-gray-200 top-1/2 left-0 right-0 transform -translate-y-1/2"},null,-1)),n("div",lf,[(h(!0),m(I,null,$(oa.value,(o,M)=>(h(),m("div",{key:o.id,class:B(["flex flex-col items-center relative z-10",{"ml-4":M===0,"mr-4":M===oa.value.length-1}])},[n("div",{class:B(["w-6 h-6 rounded-full shadow-lg flex items-center justify-center",{"bg-gray-300":o.status==="Not Started","bg-blue-500":o.status==="In Progress","bg-green-500":o.status==="Completed","bg-red-500":o.status==="Overdue"}])},[o.status==="Completed"?(h(),m("svg",rf,r[110]||(r[110]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):o.status==="In Progress"?(h(),m("svg",of,r[111]||(r[111]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)]))):o.status==="Overdue"?(h(),m("svg",df,r[112]||(r[112]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(h(),m("span",uf))],2),n("div",cf,[n("p",{class:"text-xs font-medium text-gray-700 text-center truncate",title:o.name},p(o.name),9,hf)]),n("div",mf,[n("p",vf,p(o.completion_date?new Date(o.completion_date).toLocaleDateString():"No date"),1)])],2))),128))])])):(h(),m("div",af,r[109]||(r[109]=[n("p",{class:"text-gray-400 text-sm"},"No milestones found for this project.",-1)])))]),n("div",ff,[n("div",pf,[n("div",gf,[r[115]||(r[115]=n("label",{for:"status-filter",class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),H(n("select",{id:"status-filter","onUpdate:modelValue":r[9]||(r[9]=o=>be.value.status=o),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm"},r[114]||(r[114]=[n("option",{value:""},"All Statuses",-1),n("option",{value:"To Do"},"To Do",-1),n("option",{value:"In Progress"},"In Progress",-1),n("option",{value:"Done"},"Done",-1),n("option",{value:"Blocked"},"Blocked",-1),n("option",{value:"Archived"},"Archived",-1)]),512),[[Ae,be.value.status]])]),n("div",yf,[r[118]||(r[118]=n("label",{for:"assigned-filter",class:"block text-sm font-medium text-gray-700 mb-1"},"Assigned To",-1)),H(n("select",{id:"assigned-filter","onUpdate:modelValue":r[10]||(r[10]=o=>be.value.assigned_to_user_id=o),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm"},[r[116]||(r[116]=n("option",{value:""},"All Users",-1)),r[117]||(r[117]=n("option",{value:"-1"},"Unassigned",-1)),(h(!0),m(I,null,$(c.value.users,o=>(h(),m("option",{key:o.id,value:o.id},p(o.name),9,_f))),128))],512),[[Ae,be.value.assigned_to_user_id]])]),n("div",wf,[r[121]||(r[121]=n("label",{for:"milestone-filter",class:"block text-sm font-medium text-gray-700 mb-1"},"Milestone",-1)),H(n("select",{id:"milestone-filter","onUpdate:modelValue":r[11]||(r[11]=o=>be.value.milestone_id=o),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm"},[r[119]||(r[119]=n("option",{value:""},"All Milestones",-1)),r[120]||(r[120]=n("option",{value:"-1"},"No Milestone",-1)),(h(!0),m(I,null,$(Ue.value,o=>(h(),m("option",{key:o.id,value:o.id},p(o.name),9,bf))),128))],512),[[Ae,be.value.milestone_id]])]),n("div",kf,[r[122]||(r[122]=n("label",{for:"due-date-filter",class:"block text-sm font-medium text-gray-700 mb-1"},"Due Date",-1)),H(n("select",{id:"due-date-filter","onUpdate:modelValue":r[12]||(r[12]=o=>be.value.due_date_range=o),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm"},[(h(),m(I,null,$(Bn,o=>n("option",{key:o.value,value:o.value},p(o.label),9,xf)),64))],512),[[Ae,be.value.due_date_range]])]),n("div",{class:"flex items-end"},[n("button",{onClick:zn,class:"px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors"}," Clear Filters ")])]),Object.values(be.value).some(o=>o!=="")?(h(),m("div",Df,[n("p",null,[O(" Showing "+p(da.value.length)+" of "+p(He.value.length)+" tasks ",1),da.value.length===0?(h(),m("span",Mf," (No tasks match the current filters) ")):_("",!0)])])):_("",!0)]),os.value?(h(),m("div",Sf," Loading tasks... ")):ds.value?(h(),m("div",Tf,[n("p",Cf,p(ds.value),1)])):He.value.length?(h(),m("div",Ef,[n("table",Of,[r[123]||(r[123]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Assigned To"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Due Date"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Milestone"),n("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),n("tbody",jf,[(h(!0),m(I,null,$(da.value,o=>(h(),m("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[n("td",Yf,p(o.title),1),n("td",Af,[n("span",{class:B({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-yellow-100 text-yellow-800":o.status==="To Do","bg-blue-100 text-blue-800":o.status==="In Progress","bg-green-100 text-green-800":o.status==="Done","bg-red-100 text-red-800":o.status==="Blocked","bg-gray-100 text-gray-800":o.status==="Archived"})},p(o.status),3)]),n("td",Vf,p(o.assigned_to),1),n("td",Wf,p(o.due_date?o.due_date:"N/A"),1),n("td",Lf,p(o.milestone||"N/A"),1),n("td",Pf,[n("div",Nf,[n("button",{onClick:M=>li(o),class:"text-indigo-600 hover:text-indigo-800 text-sm font-medium"}," Edit ",8,Ff),n("button",{onClick:M=>ri(o),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," Add Note ",8,Rf),o.status==="To Do"?(h(),m("button",{key:0,onClick:M=>Kn(o),class:"text-blue-600 hover:text-blue-800 text-sm font-medium"}," Start ",8,If)):_("",!0),o.status!=="Done"?(h(),m("button",{key:1,onClick:M=>Jn(o),class:"text-green-600 hover:text-green-800 text-sm font-medium"}," Complete ",8,Hf)):_("",!0)])])]))),128))])])])):(h(),m("div",Uf,r[124]||(r[124]=[n("p",{class:"text-gray-400 text-sm"},"No tasks found for this project.",-1),n("p",{class:"text-gray-500 text-sm mt-2"},' Click the "Add Task" button to create a new task. ',-1)])))])):_("",!0),la.value&&ce.value==="emails"?(h(),m("div",$f,[n("div",Bf,[r[126]||(r[126]=n("h4",{class:"text-lg font-semibold text-gray-900"},"Email Communication",-1)),An.value?(h(),m("div",zf,[y(oe,{class:"bg-indigo-600 hover:bg-indigo-700 transition-colors",onClick:ul},{default:T(()=>r[125]||(r[125]=[O(" Compose Email ",-1)])),_:1,__:[125]})])):_("",!0),Be.value?(h(),m("div",Gf,[n("span",Zf,p(Be.value),1)])):_("",!0)]),n("div",qf,[n("div",Jf,[n("div",null,[r[128]||(r[128]=n("label",{for:"typeFilter",class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),H(n("select",{id:"typeFilter","onUpdate:modelValue":r[13]||(r[13]=o=>me.type=o),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:Ws},r[127]||(r[127]=[n("option",{value:""},"All Types",-1),n("option",{value:"sent"},"Sent",-1),n("option",{value:"received"},"Received",-1)]),544),[[Ae,me.type]])]),n("div",null,[r[129]||(r[129]=n("label",{for:"startDate",class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),H(n("input",{type:"date",id:"startDate","onUpdate:modelValue":r[14]||(r[14]=o=>me.startDate=o),class:"mt-1 block w-full border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:Ws},null,544),[[ve,me.startDate]])]),n("div",null,[r[130]||(r[130]=n("label",{for:"endDate",class:"block text-sm font-medium text-gray-700 mb-1"},"To Date",-1)),H(n("input",{type:"date",id:"endDate","onUpdate:modelValue":r[15]||(r[15]=o=>me.endDate=o),class:"mt-1 block w-full border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:Ws},null,544),[[ve,me.endDate]])]),n("div",null,[r[132]||(r[132]=n("label",{for:"searchFilter",class:"block text-sm font-medium text-gray-700 mb-1"},"Search Content",-1)),n("div",Kf,[H(n("input",{type:"text",id:"searchFilter","onUpdate:modelValue":r[16]||(r[16]=o=>me.search=o),class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search in email content...",onInput:tl},null,544),[[ve,me.search]]),r[131]||(r[131]=n("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1))])])]),n("div",{class:"mt-3 flex justify-end"},[n("button",{type:"button",class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:el}," Reset Filters ")])]),Vs.value?(h(),m("div",Qf," Loading email data... ")):ae.value?(h(),m("div",Xf,p(ae.value),1)):_t.value.length?(h(),m("div",e0,[n("table",t0,[r[134]||(r[134]=n("thead",{class:"bg-gray-50"},[n("tr",null,[n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"From"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),n("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),n("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),n("tbody",s0,[(h(!0),m(I,null,$(_t.value,o=>{var M;return h(),m("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[n("td",a0,p(o.subject),1),n("td",i0,p(((M=o.sender)==null?void 0:M.name)||"N/A"),1),n("td",n0,p(new Date(o.created_at).toLocaleDateString()),1),n("td",l0,[n("span",{class:B({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-blue-100 text-blue-800":o.type==="sent","bg-purple-100 text-purple-800":o.type==="received"})},p(o.type?o.type.toUpperCase():"N/A"),3)]),n("td",r0,[n("span",{class:B({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800":o.status==="sent","bg-yellow-100 text-yellow-800":o.status==="pending_approval","bg-red-100 text-red-800":o.status==="rejected","bg-gray-100 text-gray-800":o.status==="draft"})},p(o.status.replace("_"," ").toUpperCase()),3)]),n("td",o0,[y(De,{class:"text-indigo-600 hover:text-indigo-800",onClick:R=>di(o)},{default:T(()=>r[133]||(r[133]=[O(" View ",-1)])),_:2,__:[133]},1032,["onClick"])])])}),128))])])])):(h(),m("p",d0,"No email communication found."))])):_("",!0),Nt.value&&ce.value==="standups"?(h(),m("div",u0,[y(bm,{projectId:Me(s),users:c.value.users||[],onStandupAdded:rs},null,8,["projectId","users"])])):_("",!0),Nt.value&&ce.value==="notes"?(h(),m("div",c0,[n("div",h0,[r[136]||(r[136]=n("h4",{class:"text-lg font-semibold text-gray-900"},"Project Notes",-1)),n("div",m0,[Me(Pt)("add_project_notes")?(h(),Te(oe,{key:0,class:"bg-indigo-600 hover:bg-indigo-700 transition-colors",onClick:Qa},{default:T(()=>r[135]||(r[135]=[O(" Add Note ",-1)])),_:1,__:[135]})):_("",!0)])]),n("div",v0,[n("div",f0,[n("div",null,[r[137]||(r[137]=n("label",{for:"noteStartDate",class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),H(n("input",{type:"date",id:"noteStartDate","onUpdate:modelValue":r[17]||(r[17]=o=>Oe.startDate=o),class:"mt-1 block w-full border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:ra},null,544),[[ve,Oe.startDate]])]),n("div",null,[r[138]||(r[138]=n("label",{for:"noteEndDate",class:"block text-sm font-medium text-gray-700 mb-1"},"To Date",-1)),H(n("input",{type:"date",id:"noteEndDate","onUpdate:modelValue":r[18]||(r[18]=o=>Oe.endDate=o),class:"mt-1 block w-full border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",onChange:ra},null,544),[[ve,Oe.endDate]])]),n("div",null,[r[140]||(r[140]=n("label",{for:"noteSearchFilter",class:"block text-sm font-medium text-gray-700 mb-1"},"Search Content",-1)),n("div",p0,[H(n("input",{type:"text",id:"noteSearchFilter","onUpdate:modelValue":r[19]||(r[19]=o=>Oe.search=o),class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Search in note content...",onInput:Ln},null,544),[[ve,Oe.search]]),r[139]||(r[139]=n("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[n("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[n("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1))])])]),n("div",{class:"mt-3 flex justify-end"},[n("button",{type:"button",class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:Wn}," Reset Filters ")])]),n("div",g0,[n("div",y0,[r[142]||(r[142]=n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),n("p",_0,[r[141]||(r[141]=O(" Daily Standups are now available in their own dedicated tab. ",-1)),n("button",{onClick:r[20]||(r[20]=o=>ce.value="standups"),class:"text-blue-600 hover:text-blue-800 font-medium underline"}," Click here to view Daily Standups ")])])]),n("div",null,[r[144]||(r[144]=n("h5",{class:"text-md font-semibold text-gray-900 mb-4 border-b pb-2"},"Notes",-1)),Es.value.length?(h(),m("div",w0,[(h(!0),m(I,null,$(Es.value,o=>{var M;return h(),m("div",{key:o.id,class:"p-4 bg-gray-50 rounded-md shadow-sm hover:bg-gray-100 transition-colors"},[n("div",b0,[n("div",k0,[n("p",{class:B(["text-sm",{"text-gray-700":o.content!=="[Encrypted content could not be decrypted]","text-red-500 italic":o.content==="[Encrypted content could not be decrypted]"}])},[O(p(o.content)+" ",1),o.content==="[Encrypted content could not be decrypted]"?(h(),m("span",x0," (There was an issue decrypting this note. Please contact an administrator.) ")):_("",!0)],2),n("div",D0,[n("p",M0,"Added by "+p(((M=o.user)==null?void 0:M.name)||"Unknown")+" on "+p(new Date(o.created_at).toLocaleDateString()),1),o.reply_count>0?(h(),m("span",S0,p(o.reply_count)+" "+p(o.reply_count===1?"reply":"replies"),1)):_("",!0)])]),o.chat_message_id&&c.value.google_chat_id?(h(),m("div",T0,[y(De,{class:"text-sm text-indigo-600 hover:text-indigo-800",onClick:R=>Xa(o)},{default:T(()=>r[143]||(r[143]=[O(" View ",-1)])),_:2,__:[143]},1032,["onClick"])])):_("",!0)])])}),128))])):(h(),m("p",C0,"No notes available."))])])):_("",!0)]))]),y(Ve,{show:A.value,onClose:r[22]||(r[22]=o=>A.value=!1)},{default:T(()=>[y(Ml,{show:A.value,project:c.value,statusOptions:Dn,departmentOptions:Mn,sourceOptions:Sn,clientRoleOptions:Tn,userRoleOptions:Cn,paymentTypeOptions:En,onClose:r[21]||(r[21]=o=>A.value=!1),onSubmit:$n},null,8,["show","project"])]),_:1},8,["show"]),y(Ve,{show:Tt.value,onClose:r[27]||(r[27]=o=>Tt.value=!1)},{default:T(()=>{var o;return[n("div",E0,[n("div",O0,[r[146]||(r[146]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Email Details",-1)),n("button",{onClick:r[23]||(r[23]=M=>Tt.value=!1),class:"text-gray-400 hover:text-gray-500"},r[145]||(r[145]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),Q.value?(h(),m("div",j0,[n("div",Y0,[n("h4",A0,p(Q.value.subject),1),n("div",V0,[n("div",null,[n("p",W0,[r[147]||(r[147]=O("From: ",-1)),n("span",L0,p(((o=Q.value.sender)==null?void 0:o.name)||"N/A"),1)]),n("p",P0,[r[148]||(r[148]=O("Status: ",-1)),n("span",{class:B({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800":Q.value.status==="sent","bg-yellow-100 text-yellow-800":Q.value.status==="pending_approval","bg-red-100 text-red-800":Q.value.status==="rejected","bg-gray-100 text-gray-800":Q.value.status==="draft"})},p(Q.value.status.replace("_"," ").toUpperCase()),3)])]),n("div",null,[n("p",N0,[r[149]||(r[149]=O("Date: ",-1)),n("span",F0,p(new Date(Q.value.created_at).toLocaleString()),1)])])])]),n("div",R0,[n("div",{innerHTML:Q.value.body},null,8,I0)]),Q.value.rejection_reason?(h(),m("div",H0,[r[150]||(r[150]=n("h5",{class:"font-medium text-red-800"},"Rejection Reason:",-1)),n("p",U0,p(Q.value.rejection_reason),1)])):_("",!0),Q.value.approver?(h(),m("div",$0,[n("p",null,"Approved/Rejected by: "+p(Q.value.approver.name),1),Q.value.sent_at?(h(),m("p",B0,"Sent at: "+p(new Date(Q.value.sent_at).toLocaleString()),1)):_("",!0)])):_("",!0),Q.value.status==="pending_approval"&&Vn.value?(h(),m("div",z0,[y(oe,{onClick:r[24]||(r[24]=M=>nl(Q.value)),class:"bg-green-600 hover:bg-green-700"},{default:T(()=>r[151]||(r[151]=[O(" Approve ",-1)])),_:1,__:[151]}),y(oe,{onClick:r[25]||(r[25]=M=>ll(Q.value)),class:"bg-blue-600 hover:bg-blue-700"},{default:T(()=>r[152]||(r[152]=[O(" Edit & Approve ",-1)])),_:1,__:[152]}),y(De,{onClick:r[26]||(r[26]=M=>ol(Q.value)),class:"text-red-600 hover:text-red-800"},{default:T(()=>r[153]||(r[153]=[O(" Reject ",-1)])),_:1,__:[153]})])):_("",!0)])):_("",!0)])]}),_:1},8,["show"]),y(Sl,{show:K.value,"project-id":c.value.id,onClose:r[28]||(r[28]=o=>K.value=!1),onNoteAdded:rs},null,8,["show","project-id"]),y(Ve,{show:Bt.value,onClose:r[33]||(r[33]=o=>Bt.value=!1),"max-width":"3xl"},{default:T(()=>[n("div",G0,[n("div",Z0,[r[155]||(r[155]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Edit and Approve Email",-1)),n("button",{onClick:r[29]||(r[29]=o=>Bt.value=!1),class:"text-gray-400 hover:text-gray-500"},r[154]||(r[154]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),Q.value?(h(),m("div",q0,[n("form",{onSubmit:Se(rl,["prevent"])},[ae.value?(h(),m("div",J0,[n("span",K0,p(ae.value),1)])):_("",!0),n("div",Q0,[y(ue,{for:"subject",value:"Subject"}),y(Ze,{id:"subject",type:"text",class:"mt-1 block w-full",modelValue:wt.subject,"onUpdate:modelValue":r[30]||(r[30]=o=>wt.subject=o),required:""},null,8,["modelValue"]),y(fe,{message:Ct.value.subject?Ct.value.subject[0]:"",class:"mt-2"},null,8,["message"])]),n("div",X0,[y(ue,{for:"body",value:"Email Body"}),y(vi,{id:"body",modelValue:wt.body,"onUpdate:modelValue":r[31]||(r[31]=o=>wt.body=o),placeholder:"Edit your email here...",height:"300px"},null,8,["modelValue"]),y(fe,{message:Ct.value.body?Ct.value.body[0]:"",class:"mt-2"},null,8,["message"])]),n("div",ep,[y(De,{onClick:r[32]||(r[32]=o=>Bt.value=!1)},{default:T(()=>r[156]||(r[156]=[O("Cancel",-1)])),_:1,__:[156]}),y(oe,{type:"submit",class:"bg-green-600 hover:bg-green-700"},{default:T(()=>r[157]||(r[157]=[O("Save & Approve",-1)])),_:1,__:[157]})])],32)])):_("",!0)])]),_:1},8,["show"]),y(Ve,{show:zt.value,onClose:r[37]||(r[37]=o=>zt.value=!1),"max-width":"2xl"},{default:T(()=>[n("div",tp,[n("div",sp,[r[159]||(r[159]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Reject Email",-1)),n("button",{onClick:r[34]||(r[34]=o=>zt.value=!1),class:"text-gray-400 hover:text-gray-500"},r[158]||(r[158]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),Q.value?(h(),m("div",ap,[n("form",{onSubmit:Se(dl,["prevent"])},[ae.value?(h(),m("div",ip,[n("span",np,p(ae.value),1)])):_("",!0),n("div",lp,[y(ue,{for:"rejection_reason",value:"Rejection Reason"}),H(n("textarea",{id:"rejection_reason",rows:"5",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full","onUpdate:modelValue":r[35]||(r[35]=o=>hs.rejection_reason=o),required:"",placeholder:"Please provide a reason for rejecting this email (minimum 10 characters)"},null,512),[[ve,hs.rejection_reason]]),y(fe,{message:ms.value.rejection_reason?ms.value.rejection_reason[0]:"",class:"mt-2"},null,8,["message"])]),n("div",rp,[y(De,{onClick:r[36]||(r[36]=o=>zt.value=!1)},{default:T(()=>r[160]||(r[160]=[O("Cancel",-1)])),_:1,__:[160]}),y(oe,{type:"submit",class:"bg-red-600 hover:bg-red-700"},{default:T(()=>r[161]||(r[161]=[O("Reject Email",-1)])),_:1,__:[161]})])],32)])):_("",!0)])]),_:1},8,["show"]),y(Xl,{show:L.value,"project-id":c.value.id,resource:pt.value,onClose:r[38]||(r[38]=o=>L.value=!1),onSaved:In},null,8,["show","project-id","resource"]),y(Ve,{show:Gt.value,onClose:r[44]||(r[44]=o=>Gt.value=!1),"max-width":"3xl"},{default:T(()=>[n("div",op,[n("div",dp,[r[163]||(r[163]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Compose New Email",-1)),n("button",{onClick:r[39]||(r[39]=o=>Gt.value=!1),class:"text-gray-400 hover:text-gray-500"},r[162]||(r[162]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n("form",{onSubmit:Se(cl,["prevent"])},[ae.value?(h(),m("div",up,[n("span",cp,p(ae.value),1)])):_("",!0),n("div",hp,[y(ue,{for:"client_ids",value:"To (Clients)"}),y(Me(Si),{id:"client_ids",modelValue:ge.client_ids,"onUpdate:modelValue":r[40]||(r[40]=o=>ge.client_ids=o),options:c.value.clients||[],multiple:!0,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Select one or more clients",label:"name","track-by":"id",searchable:!0,"allow-empty":!0},{option:T(({option:o})=>[O(p(o.name),1)]),tag:T(({option:o,remove:M})=>[n("span",mp,[O(p(o.name)+" ",1),n("i",{class:"multiselect__tag-icon",onClick:R=>M(o)},null,8,vp)])]),_:1},8,["modelValue","options"]),y(fe,{message:ze.value.client_ids?ze.value.client_ids[0]:"",class:"mt-2"},null,8,["message"])]),n("div",fp,[y(ue,{for:"subject",value:"Subject"}),y(Ze,{id:"subject",type:"text",class:"mt-1 block w-full",modelValue:ge.subject,"onUpdate:modelValue":r[41]||(r[41]=o=>ge.subject=o),required:""},null,8,["modelValue"]),y(fe,{message:ze.value.subject?ze.value.subject[0]:"",class:"mt-2"},null,8,["message"])]),n("div",pp,[y(ue,{for:"body",value:"Email Body"}),y(vi,{id:"body",modelValue:ge.body,"onUpdate:modelValue":r[42]||(r[42]=o=>ge.body=o),placeholder:"Compose your email here...",height:"300px"},null,8,["modelValue"]),y(fe,{message:ze.value.body?ze.value.body[0]:"",class:"mt-2"},null,8,["message"])]),n("div",gp,[y(De,{onClick:r[43]||(r[43]=o=>Gt.value=!1),class:"mr-2"},{default:T(()=>r[164]||(r[164]=[O("Cancel",-1)])),_:1,__:[164]}),y(oe,{type:"submit"},{default:T(()=>r[165]||(r[165]=[O("Submit for Approval",-1)])),_:1,__:[165]})])],32)])]),_:1},8,["show"]),y(Ve,{show:pe.value,onClose:r[48]||(r[48]=o=>pe.value=!1)},{default:T(()=>{var o;return[n("div",yp,[n("div",_p,[r[167]||(r[167]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Reply to Note",-1)),n("button",{onClick:r[45]||(r[45]=M=>pe.value=!1),class:"text-gray-400 hover:text-gray-500"},r[166]||(r[166]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),ke.value?(h(),m("div",wp,[n("p",bp,p(ke.value.content),1),n("p",kp,"Added by "+p(((o=ke.value.user)==null?void 0:o.name)||"Unknown")+" on "+p(new Date(ke.value.created_at).toLocaleDateString()),1)])):_("",!0),ke.value?(h(),m("div",xp,[r[170]||(r[170]=n("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Replies",-1)),b.value?(h(),m("div",Dp,r[168]||(r[168]=[n("p",{class:"text-gray-500 text-sm"},"Loading replies...",-1)]))):Y.value.length?(h(),m("div",Mp,[(h(!0),m(I,null,$(Y.value,M=>{var R;return h(),m("div",{key:M.id,class:"p-2 bg-gray-50 rounded border-l-2 border-indigo-300"},[n("p",Sp,p(M.content),1),n("p",Tp,"Replied by "+p(((R=M.user)==null?void 0:R.name)||"Unknown")+" on "+p(new Date(M.created_at).toLocaleDateString()),1)])}),128))])):(h(),m("div",Cp,r[169]||(r[169]=[n("p",{class:"text-gray-500 text-sm"},"No replies yet. Be the first to reply!",-1)])))])):_("",!0),si.value?(h(),m("div",Ep,[r[171]||(r[171]=n("label",{for:"reply-content",class:"block text-sm font-medium text-gray-700 mb-1"},"Your Reply",-1)),H(n("textarea",{id:"reply-content","onUpdate:modelValue":r[46]||(r[46]=M=>je.value=M),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your reply..."},null,512),[[ve,je.value]]),Xe.value?(h(),m("p",Op,p(Xe.value),1)):_("",!0)])):_("",!0),si.value?(h(),m("div",jp,[y(De,{onClick:r[47]||(r[47]=M=>pe.value=!1),class:"mr-2"},{default:T(()=>r[172]||(r[172]=[O("Cancel",-1)])),_:1,__:[172]}),y(oe,{onClick:xn},{default:T(()=>r[173]||(r[173]=[O("Send Reply",-1)])),_:1,__:[173]})])):_("",!0)])]}),_:1},8,["show"]),y(Ve,{show:Mt.value,onClose:r[58]||(r[58]=o=>Mt.value=!1)},{default:T(()=>[n("div",Yp,[n("div",Ap,[n("h3",Vp,p(Ft.value?"Edit Task":"Add New Task"),1),n("button",{onClick:r[49]||(r[49]=o=>Mt.value=!1),class:"text-gray-400 hover:text-gray-500"},r[174]||(r[174]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n("form",{onSubmit:Se(Xn,["prevent"]),class:"space-y-4"},[n("div",null,[r[175]||(r[175]=n("label",{for:"task-name",class:"block text-sm font-medium text-gray-700"},"Task Name",-1)),H(n("input",{id:"task-name","onUpdate:modelValue":r[50]||(r[50]=o=>he.value.name=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter task name"},null,512),[[ve,he.value.name]]),we.value.name?(h(),m("p",Wp,p(we.value.name[0]),1)):_("",!0)]),n("div",null,[r[176]||(r[176]=n("label",{for:"task-description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),H(n("textarea",{id:"task-description","onUpdate:modelValue":r[51]||(r[51]=o=>he.value.description=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter task description"},null,512),[[ve,he.value.description]]),we.value.description?(h(),m("p",Lp,p(we.value.description[0]),1)):_("",!0)]),n("div",null,[r[178]||(r[178]=n("label",{for:"task-status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),H(n("select",{id:"task-status","onUpdate:modelValue":r[52]||(r[52]=o=>he.value.status=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},r[177]||(r[177]=[n("option",{value:"To Do"},"To Do",-1),n("option",{value:"In Progress"},"In Progress",-1),n("option",{value:"Done"},"Done",-1),n("option",{value:"Blocked"},"Blocked",-1),n("option",{value:"Archived"},"Archived",-1)]),512),[[Ae,he.value.status]]),we.value.status?(h(),m("p",Pp,p(we.value.status[0]),1)):_("",!0)]),n("div",null,[r[179]||(r[179]=n("label",{for:"task-due-date",class:"block text-sm font-medium text-gray-700"},"Due Date",-1)),H(n("input",{id:"task-due-date","onUpdate:modelValue":r[53]||(r[53]=o=>he.value.due_date=o),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[ve,he.value.due_date]]),we.value.due_date?(h(),m("p",Np,p(we.value.due_date[0]),1)):_("",!0)]),n("div",null,[r[181]||(r[181]=n("label",{for:"task-assigned-to",class:"block text-sm font-medium text-gray-700"},"Assigned To",-1)),H(n("select",{id:"task-assigned-to","onUpdate:modelValue":r[54]||(r[54]=o=>he.value.assigned_to_user_id=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[r[180]||(r[180]=n("option",{value:null},"Unassigned",-1)),(h(!0),m(I,null,$(c.value.users,o=>(h(),m("option",{key:o.id,value:o.id},p(o.name),9,Fp))),128))],512),[[Ae,he.value.assigned_to_user_id]]),we.value.assigned_to_user_id?(h(),m("p",Rp,p(we.value.assigned_to_user_id[0]),1)):_("",!0)]),n("div",null,[r[183]||(r[183]=n("label",{for:"task-type",class:"block text-sm font-medium text-gray-700"},"Task Type",-1)),js.value?(h(),m("div",Ip,"Loading task types...")):H((h(),m("select",{key:1,id:"task-type","onUpdate:modelValue":r[55]||(r[55]=o=>he.value.task_type_id=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[r[182]||(r[182]=n("option",{value:null},"Select a task type",-1)),(h(!0),m(I,null,$(us.value,o=>(h(),m("option",{key:o.id,value:o.id},p(o.name),9,Hp))),128))],512)),[[Ae,he.value.task_type_id]]),we.value.task_type_id?(h(),m("p",Up,p(we.value.task_type_id[0]),1)):_("",!0)]),n("div",null,[n("div",{class:"flex justify-between items-center"},[r[184]||(r[184]=n("label",{for:"task-milestone",class:"block text-sm font-medium text-gray-700"},"Milestone",-1)),n("button",{type:"button",onClick:Gn,class:"text-sm text-indigo-600 hover:text-indigo-800"}," + Create New Milestone ")]),cs.value?(h(),m("div",$p,"Loading milestones...")):H((h(),m("select",{key:1,id:"task-milestone","onUpdate:modelValue":r[56]||(r[56]=o=>he.value.milestone_id=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[r[185]||(r[185]=n("option",{value:null},"No milestone",-1)),(h(!0),m(I,null,$(Ue.value,o=>(h(),m("option",{key:o.id,value:o.id},p(o.name),9,Bp))),128))],512)),[[Ae,he.value.milestone_id]]),we.value.milestone_id?(h(),m("p",zp,p(we.value.milestone_id[0]),1)):_("",!0)]),n("div",Gp,[y(De,{onClick:r[57]||(r[57]=o=>Mt.value=!1)},{default:T(()=>r[186]||(r[186]=[O(" Cancel ",-1)])),_:1,__:[186]}),y(oe,{type:"submit",disabled:js.value||cs.value},{default:T(()=>[O(p(Ft.value?"Update Task":"Create Task"),1)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),y(Ve,{show:Ut.value,onClose:r[65]||(r[65]=o=>Ut.value=!1)},{default:T(()=>[n("div",Zp,[n("div",qp,[r[188]||(r[188]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Add New Milestone",-1)),n("button",{onClick:r[59]||(r[59]=o=>Ut.value=!1),class:"text-gray-400 hover:text-gray-500"},r[187]||(r[187]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n("form",{onSubmit:Se(Zn,["prevent"]),class:"space-y-4"},[n("div",null,[r[189]||(r[189]=n("label",{for:"milestone-name",class:"block text-sm font-medium text-gray-700"},"Milestone Name",-1)),H(n("input",{id:"milestone-name","onUpdate:modelValue":r[60]||(r[60]=o=>tt.value.name=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter milestone name"},null,512),[[ve,tt.value.name]]),$e.value.name?(h(),m("p",Jp,p($e.value.name[0]),1)):_("",!0)]),n("div",null,[r[190]||(r[190]=n("label",{for:"milestone-description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),H(n("textarea",{id:"milestone-description","onUpdate:modelValue":r[61]||(r[61]=o=>tt.value.description=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3",placeholder:"Enter milestone description"},null,512),[[ve,tt.value.description]]),$e.value.description?(h(),m("p",Kp,p($e.value.description[0]),1)):_("",!0)]),n("div",null,[r[191]||(r[191]=n("label",{for:"milestone-completion-date",class:"block text-sm font-medium text-gray-700"},"Completion Date",-1)),H(n("input",{id:"milestone-completion-date","onUpdate:modelValue":r[62]||(r[62]=o=>tt.value.completion_date=o),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[ve,tt.value.completion_date]]),$e.value.completion_date?(h(),m("p",Qp,p($e.value.completion_date[0]),1)):_("",!0)]),n("div",null,[r[193]||(r[193]=n("label",{for:"milestone-status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),H(n("select",{id:"milestone-status","onUpdate:modelValue":r[63]||(r[63]=o=>tt.value.status=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},r[192]||(r[192]=[n("option",{value:"Not Started"},"Not Started",-1),n("option",{value:"In Progress"},"In Progress",-1),n("option",{value:"Completed"},"Completed",-1),n("option",{value:"Overdue"},"Overdue",-1)]),512),[[Ae,tt.value.status]]),$e.value.status?(h(),m("p",Xp,p($e.value.status[0]),1)):_("",!0)]),n("div",eg,[y(De,{onClick:r[64]||(r[64]=o=>Ut.value=!1),type:"button"},{default:T(()=>r[194]||(r[194]=[O(" Cancel ",-1)])),_:1,__:[194]}),y(oe,{type:"submit",disabled:As.value},{default:T(()=>[O(p(As.value?"Creating...":"Create Milestone"),1)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"]),y(Ve,{show:Rt.value,onClose:r[69]||(r[69]=o=>Rt.value=!1)},{default:T(()=>[n("div",tg,[n("div",sg,[r[196]||(r[196]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Add Note to Task",-1)),n("button",{onClick:r[66]||(r[66]=o=>Rt.value=!1),class:"text-gray-400 hover:text-gray-500"},r[195]||(r[195]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),It.value?(h(),m("div",ag,[n("p",ig,p(It.value.title),1),n("p",ng,"Status: "+p(It.value.status),1)])):_("",!0),n("div",lg,[r[197]||(r[197]=n("label",{for:"task-note-content",class:"block text-sm font-medium text-gray-700 mb-1"},"Note Content",-1)),H(n("textarea",{id:"task-note-content","onUpdate:modelValue":r[67]||(r[67]=o=>Ht.value=o),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full h-32",placeholder:"Enter your note..."},null,512),[[ve,Ht.value]]),St.value?(h(),m("p",rg,p(St.value),1)):_("",!0)]),n("div",og,[y(De,{onClick:r[68]||(r[68]=o=>Rt.value=!1),class:"mr-2"},{default:T(()=>r[198]||(r[198]=[O("Cancel",-1)])),_:1,__:[198]}),y(oe,{onClick:Qn,disabled:Ys.value},{default:T(()=>[O(p(Ys.value?"Adding...":"Add Note"),1)]),_:1},8,["disabled"])])])]),_:1},8,["show"]),y(Ll,{show:N.value,onClose:r[70]||(r[70]=o=>N.value=!1),onSaved:il,projectId:c.value.id,projectUsers:c.value.users||[]},null,8,["show","projectId","projectUsers"]),y(Ti,{show:V.value,onClose:r[71]||(r[71]=o=>V.value=!1),onStandupAdded:Os,projectId:c.value.id},null,8,["show","projectId"]),y(Ve,{show:Ee.value,onClose:r[75]||(r[75]=o=>Ee.value=!1)},{default:T(()=>[n("div",dg,[n("div",ug,[r[200]||(r[200]=n("h3",{class:"text-lg font-semibold text-gray-900"},"Send Magic Link to Client",-1)),n("button",{onClick:r[72]||(r[72]=o=>Ee.value=!1),class:"text-gray-400 hover:text-gray-500"},r[199]||(r[199]=[n("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),xe.value?(h(),m("div",cg,p(xe.value),1)):_("",!0),Le.value?(h(),m("div",hg,p(Le.value),1)):_("",!0),n("div",mg,[r[202]||(r[202]=n("label",{for:"client-email",class:"block text-sm font-medium text-gray-700 mb-1"},"Select Client",-1)),H(n("select",{id:"client-email","onUpdate:modelValue":r[73]||(r[73]=o=>ee.value=o),class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full"},[r[201]||(r[201]=n("option",{value:""},"Select a client",-1)),(h(!0),m(I,null,$(c.value.clients,o=>(h(),m("option",{key:o.id,value:o.email},p(o.name)+" ("+p(o.email)+") ",9,vg))),128))],512),[[Ae,ee.value]]),r[203]||(r[203]=n("p",{class:"mt-2 text-sm text-gray-500"}," The magic link will be sent to the selected client's email address. ",-1))]),n("div",fg,[y(De,{onClick:r[74]||(r[74]=o=>Ee.value=!1),type:"button"},{default:T(()=>r[204]||(r[204]=[O(" Cancel ",-1)])),_:1,__:[204]}),y(oe,{onClick:kn,disabled:j.value||!ee.value,class:"bg-purple-600 hover:bg-purple-700"},{default:T(()=>[O(p(j.value?"Sending...":"Send Magic Link"),1)]),_:1},8,["disabled"])])])]),_:1},8,["show"])]),_:1})],64))}},Og=Tl(pg,[["__scopeId","data-v-4740bfde"]]);export{Og as default};
