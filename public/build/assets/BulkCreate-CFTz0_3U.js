import{r as k,u as C,w as V,c as v,o as a,a as m,b as e,d as B,e as i,f as g,g as x,h as r,i as l,F as b,j as _,t as u,v as S,k as N,l as $,m as p,n as E,p as P}from"./app-LVJx7_bI.js";import{_ as A}from"./AuthenticatedLayout-uIIuDcrP.js";import{_ as M,a as f}from"./InputError-BJ3-j-HB.js";import{_ as y}from"./InputLabel-CBNE2Wzj.js";import{P as U}from"./PrimaryButton-CAJgoEm1.js";import"./SecondaryButton-6J3uj4Gp.js";import"./Checkbox-Bti-hCmj.js";import"./ApplicationLogo-CSv8NqB_.js";import"./DangerButton-Bhib9ZFo.js";const q={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 bg-white border-b border-gray-200"},T={class:"mb-6"},z={class:"flex space-x-2"},L=["value"],O={class:"mb-6"},R={class:"mb-6"},G={class:"mt-2 max-h-60 overflow-y-auto p-2 border border-gray-300 rounded-md"},H={key:0,class:"text-gray-500 text-sm"},I={key:1,class:"space-y-2"},J={class:"flex items-center h-5"},K=["id","value"],Q={class:"ml-3 text-sm"},W=["for"],X={class:"text-xs text-gray-500"},Y={key:0,class:"text-gray-500"},Z={class:"flex items-center justify-end mt-4"},de={__name:"BulkCreate",props:{categories:Array,roles:Array},setup(d){const n=k(""),o=C({category:"",permissions:"",roles:[]});V(()=>o.category,c=>{c!=="new"&&(n.value="")});const w=()=>{o.category==="new"&&n.value&&(o.category=n.value),o.post(route("admin.permissions.bulk-store"),{onSuccess:()=>{o.reset(),n.value=""}})};return(c,s)=>(a(),v(A,null,{header:m(()=>s[4]||(s[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Bulk Create Permissions ",-1)])),default:m(()=>[e("div",q,[e("div",D,[e("div",F,[e("div",j,[e("form",{onSubmit:B(w,["prevent"])},[e("div",T,[i(y,{for:"category",value:"Category"}),e("div",z,[g(e("select",{id:"category",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":s[0]||(s[0]=t=>r(o).category=t),required:""},[s[5]||(s[5]=e("option",{value:"",disabled:""},"Select a category",-1)),(a(!0),l(b,null,_(d.categories,t=>(a(),l("option",{key:t,value:t},u(t),9,L))),128)),s[6]||(s[6]=e("option",{value:"new"},"+ Add New Category",-1))],512),[[S,r(o).category]]),r(o).category==="new"?(a(),v(M,{key:0,type:"text",class:"mt-1 block w-full",modelValue:n.value,"onUpdate:modelValue":s[1]||(s[1]=t=>n.value=t),placeholder:"Enter new category name",required:""},null,8,["modelValue"])):x("",!0)]),i(f,{class:"mt-2",message:r(o).errors.category},null,8,["message"])]),e("div",O,[i(y,{for:"permissions",value:"Permissions (one per line)"}),g(e("textarea",{id:"permissions",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm","onUpdate:modelValue":s[2]||(s[2]=t=>r(o).permissions=t),rows:"10",required:"",placeholder:`Enter one permission name per line, e.g.:
View Clients
Create Clients
Edit Clients
Delete Clients`},null,512),[[N,r(o).permissions]]),s[7]||(s[7]=e("p",{class:"mt-1 text-sm text-gray-500"}," Enter one permission name per line. Slugs will be automatically generated. ",-1)),i(f,{class:"mt-2",message:r(o).errors.permissions},null,8,["message"])]),e("div",R,[i(y,{for:"roles",value:"Assign to Roles (Optional)"}),e("div",G,[!d.roles||d.roles.length===0?(a(),l("div",H," No roles available. ")):(a(),l("div",I,[(a(!0),l(b,null,_(d.roles,t=>(a(),l("div",{key:t.id,class:"flex items-start"},[e("div",J,[g(e("input",{id:`role-${t.id}`,type:"checkbox",value:t.id,"onUpdate:modelValue":s[3]||(s[3]=h=>r(o).roles=h),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,8,K),[[$,r(o).roles]])]),e("div",Q,[e("label",{for:`role-${t.id}`,class:"font-medium text-gray-700"},[p(u(t.name)+" ",1),e("span",X,"("+u(t.type)+")",1)],8,W),t.description?(a(),l("p",Y,u(t.description),1)):x("",!0)])]))),128))]))]),s[8]||(s[8]=e("p",{class:"mt-1 text-sm text-gray-500"}," Select roles to automatically assign these permissions to them. ",-1)),i(f,{class:"mt-2",message:r(o).errors.roles},null,8,["message"])]),e("div",Z,[i(r(E),{href:c.route("admin.permissions.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-800 uppercase tracking-widest hover:bg-gray-400 active:bg-gray-500 focus:outline-none focus:border-gray-500 focus:ring focus:ring-gray-300 disabled:opacity-25 transition mr-2"},{default:m(()=>s[9]||(s[9]=[p(" Cancel ",-1)])),_:1,__:[9]},8,["href"]),i(U,{class:P(["ml-4",{"opacity-25":r(o).processing}]),disabled:r(o).processing},{default:m(()=>s[10]||(s[10]=[p(" Create Permissions ",-1)])),_:1,__:[10]},8,["class","disabled"])])],32)])])])])]),_:1}))}};export{de as default};
