import{c,a as f,o as _,b as e,d as i,u as l,t as d,m as y,s as x,j as S}from"./app-DbT8OS6U.js";import{u as v}from"./workflowStore-DZJsW282.js";import{c as k}from"./createLucideIcon-CcTmroC8.js";import{T as C}from"./trash-2-TxAo_pPz.js";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=k("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),w={class:"flex items-center gap-3"},D={class:"p-1 bg-blue-100 rounded-md"},T={class:"text-sm font-semibold text-gray-800"},A={class:"text-xs text-gray-500"},R={class:"font-medium text-gray-700"},O={__name:"ActionBlock",props:{step:{type:Object,required:!0}},emits:["select"],setup(a,{emit:p}){const t=a,u=p,s=v(),m=c(()=>s.selectedStep&&String(s.selectedStep.id)===String(t.step.id)),h=c(()=>{var n;const o=(n=t.step.step_config)==null?void 0:n.action_type;return o?{CREATE_RECORD:"Create Record",UPDATE_RECORD:"Update Record",SEND_EMAIL:"Send Email"}[o]||o:"Not configured"}),b=()=>u("select",t.step),g=()=>{s.showConfirm("Delete Step?","Are you sure you want to delete this step? This cannot be undone.",()=>s.deleteStep(t.step))};return(o,r)=>(_(),f("div",{class:S(["relative rounded-lg border bg-white shadow-sm p-3 cursor-pointer hover:border-blue-400 transition-colors drag-handle",{"border-blue-600 ring-2 ring-blue-200":m.value}]),onClick:b},[e("div",w,[e("div",D,[i(l(E),{class:"w-5 h-5 text-blue-600"})]),e("div",null,[e("h3",T,d(a.step.name||"Action"),1),e("p",A,[r[0]||(r[0]=y(" Type: ",-1)),e("span",R,d(h.value),1)])])]),e("button",{onClick:x(g,["stop"]),class:"absolute top-1 right-1 p-1 text-gray-400 hover:text-red-600 rounded-full hover:bg-red-100/50",title:"Delete Step"},[i(l(C),{class:"w-3 h-3"})])],2))}};export{O as default};
