import{_ as se}from"./AuthenticatedLayout-BFf7xTkD.js";import{D as ae,r as R,q as ne,c as v,e as I,f as re,a as b,o as c,d as l,u as s,h as ue,w as x,b as e,i as K,m as n,t as a,F as q,l as ie,g as G,p as H}from"./app-DolmfznG.js";import{_ as Y}from"./PrimaryButton-BgzXgDuT.js";import{D as j}from"./DangerButton-UumLLcOt.js";import{_ as de}from"./Modal-T6a1k2oM.js";import{_ as m}from"./InputLabel-Bh4DR2If.js";import{_ as p}from"./TextInput-CXPrOSRk.js";import{_ as g}from"./InputError-D1F_f22g.js";import{_ as me}from"./SecondaryButton-LmL9DseJ.js";import{B as J}from"./BaseFormModal-6yVAnSP5.js";import{S as z}from"./SelectDropdown-DhOYwl6i.js";import"./index-BN8xroOw.js";import"./debounce-C-hnF4Z3.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B53RC6Xz.js";import"./createLucideIcon-BFcFlxUt.js";import"./plus-ByrAaGH6.js";import"./moment-BLMuvzoS.js";import"./NoticeboardModal-DvaAWCmt.js";/* empty css                                                                       */const pe=2e4/35e3,_e=15e3/35e3,ce=1e4/2e4,ge=5e3/2e4,ye=2500/2e4,ve=2500/2e4,fe=5e3/15e3,be=(d,y)=>{if(typeof d=="string"&&d.endsWith("%")){const h=parseFloat(d)/100;return y*h}const P=parseFloat(d);return isNaN(P)?null:P},xe=(d,y,P,h)=>{const E=be(y,d);if(E!==null)return E;const f=P+h;return f>0?d/f*P:0},Pe=(d,y)=>d-y,we=d=>d*pe,ke=d=>d*_e,he=(d,y)=>d>0&&y>0?d/y:0,_={first_place_award:ce,second_place_award:ge,third_place_award:ye,most_improved_award:ve,contractor_of_the_month_award:fe},Ce={class:"py-12"},Re={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ee={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Ve={class:"p-6 text-gray-900"},Te={key:0,class:"mb-6"},Se={key:1,class:"text-gray-600"},Be={key:2,class:"text-red-600"},Ke={key:3,class:"text-gray-600"},Me={key:4},Ae={class:"min-w-full divide-y divide-gray-200"},Le={class:"bg-white divide-y divide-gray-200"},Ne={class:"px-6 py-4 whitespace-nowrap"},Fe={class:"px-6 py-4 whitespace-nowrap"},Oe={class:"px-6 py-4 whitespace-nowrap"},De={class:"px-6 py-4 whitespace-nowrap"},Ue={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},$e={class:"flex items-center space-x-2"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},qe={class:"mb-6"},Ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},He={class:"mb-6"},Ye={class:"p-4 border border-gray-200 rounded-lg bg-gray-50 mb-6"},je={class:"space-y-2 text-sm text-gray-700"},Je={class:"p-4 border border-gray-200 rounded-lg bg-gray-50 mb-6"},ze={class:"font-bold text-gray-800 text-lg mb-2"},We={class:"space-y-2 text-sm text-gray-700"},Qe={class:"ml-4 list-disc list-inside text-gray-600"},Xe={class:"p-4 border border-gray-200 rounded-lg bg-gray-50 mb-6"},Ze={class:"font-bold text-gray-800 text-lg mb-2"},et={class:"space-y-2 text-sm text-gray-700"},tt={class:"mb-4"},ot={class:"mb-4"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},st={class:"mb-6"},at={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},nt={class:"mb-6"},rt={class:"p-4 border border-gray-200 rounded-lg bg-gray-50 mb-6"},ut={class:"space-y-2 text-sm text-gray-700"},it={class:"p-4 border border-gray-200 rounded-lg bg-gray-50 mb-6"},dt={class:"font-bold text-gray-800 text-lg mb-2"},mt={class:"space-y-2 text-sm text-gray-700"},pt={class:"ml-4 list-disc list-inside text-gray-600"},_t={class:"p-4 border border-gray-200 rounded-lg bg-gray-50 mb-6"},ct={class:"font-bold text-gray-800 text-lg mb-2"},gt={class:"space-y-2 text-sm text-gray-700"},yt={class:"mb-4"},vt={class:"mb-4"},ft={class:"p-6"},bt={key:0,class:"mt-4 text-gray-800"},xt={key:1,class:"text-red-600 text-sm mb-4"},Pt={class:"mt-6 flex justify-end"},It={__name:"Index",setup(d){const{canDo:y}=ae();y("view_monthly_budgets");const P=y("manage_monthly_budgets"),h=R([]),E=R(!0),f=R(""),M=R(!1),A=R(!1),V=R(!1),o=ne({id:null,year:new Date().getFullYear(),month:new Date().getMonth()+1,total_budget_pkr:5e4,number_of_employees:0,number_of_contractors:0,employee_pool_input:"",team_total_points:0,employee_bonus_pool_pkr:0,contractor_bonus_pool_pkr:0,consistent_contributor_pool_pkr:0,high_achiever_pool_pkr:0,points_value_pkr:0,most_improved_award_pkr:0,first_place_award_pkr:0,second_place_award_pkr:0,third_place_award_pkr:0,contractor_of_the_month_award_pkr:0}),w=v(()=>xe(o.total_budget_pkr,o.employee_pool_input,o.number_of_employees,o.number_of_contractors)),k=v(()=>Pe(o.total_budget_pkr,w.value)),C=v(()=>we(w.value)),T=v(()=>ke(w.value)),W=v(()=>he(T.value,o.team_total_points)),N=v(()=>C.value*_.first_place_award),F=v(()=>C.value*_.second_place_award),O=v(()=>C.value*_.third_place_award),D=v(()=>C.value*_.most_improved_award),S=v(()=>k.value*_.contractor_of_the_month_award);I([()=>o.total_budget_pkr,()=>o.employee_pool_input,()=>o.number_of_employees,()=>o.number_of_contractors],()=>{o.employee_bonus_pool_pkr=w.value,o.contractor_bonus_pool_pkr=k.value,o.high_achiever_pool_pkr=C.value,o.consistent_contributor_pool_pkr=T.value,o.most_improved_award_pkr=D.value,o.first_place_award_pkr=N.value,o.second_place_award_pkr=F.value,o.third_place_award_pkr=O.value,o.contractor_of_the_month_award_pkr=S.value}),I([()=>o.team_total_points,()=>T.value],()=>{o.points_value_pkr=W.value});const B=R(null),$=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],Q=v(()=>{const u=new Date().getFullYear(),t=[];for(let r=u-5;r<=u+5;r++)t.push({value:r,label:r.toString()});return t}),U=u=>{var t;return((t=$.find(r=>r.value===u))==null?void 0:t.label)||""},L=async()=>{E.value=!0,f.value="";try{const u=await H.get("/admin/monthly-budgets/all");h.value=u.data}catch(u){f.value="Failed to fetch monthly budgets.",console.error("Error fetching monthly budgets:",u)}finally{E.value=!1}},X=()=>{o.reset(),o.clearErrors(),o.year=new Date().getFullYear(),o.month=new Date().getMonth()+1,o.total_budget_pkr=5e4,o.number_of_employees=0,o.number_of_contractors=0,o.employee_pool_input="",o.team_total_points=0,M.value=!0},Z=()=>{M.value=!1,L()},ee=u=>{o.reset(),o.clearErrors(),o.id=u.id,o.year=u.year,o.month=u.month,o.total_budget_pkr=u.total_budget_pkr,o.number_of_employees=u.number_of_employees,o.number_of_contractors=u.number_of_contractors,o.employee_pool_input=u.employee_pool_input,o.employee_bonus_pool_pkr=u.employee_bonus_pool_pkr,o.contractor_bonus_pool_pkr=u.contractor_bonus_pool_pkr,o.consistent_contributor_pool_pkr=u.consistent_contributor_pool_pkr,o.high_achiever_pool_pkr=u.high_achiever_pool_pkr,o.team_total_points=u.team_total_points,o.points_value_pkr=u.points_value_pkr,o.most_improved_award_pkr=u.most_improved_award_pkr,o.first_place_award_pkr=u.first_place_award_pkr,o.second_place_award_pkr=u.second_place_award_pkr,o.third_place_award_pkr=u.third_place_award_pkr,o.contractor_of_the_month_award_pkr=u.contractor_of_the_month_award_pkr,A.value=!0},te=()=>{A.value=!1,L()},oe=u=>{B.value=u,V.value=!0},le=()=>{H.delete(`/admin/monthly-budgets/${B.value.id}`).then(()=>{V.value=!1,L()}).catch(u=>{f.value="Failed to delete monthly budget.",console.error("Error deleting monthly budget:",u)})};return re(()=>{L()}),(u,t)=>(c(),b(q,null,[l(s(ue),{title:"Monthly Budgets"}),l(se,null,{header:x(()=>t[17]||(t[17]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Monthly Budgets",-1)])),default:x(()=>[e("div",Ce,[e("div",Re,[e("div",Ee,[e("div",Ve,[t[22]||(t[22]=e("h3",{class:"text-2xl font-bold mb-4"},"Manage Monthly Budgets",-1)),s(P)?(c(),b("div",Te,[l(Y,{onClick:X},{default:x(()=>t[18]||(t[18]=[n(" Create New Monthly Budget ",-1)])),_:1,__:[18]})])):K("",!0),E.value?(c(),b("div",Se,"Loading monthly budgets...")):f.value?(c(),b("div",Be,a(f.value),1)):h.value.length===0?(c(),b("div",Ke,"No monthly budgets found.")):(c(),b("div",Me,[e("table",Ae,[t[21]||(t[21]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Period"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Budget (PKR)"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Employee Pool (PKR)"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contractor Pool (PKR)"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Le,[(c(!0),b(q,null,ie(h.value,r=>(c(),b("tr",{key:r.id},[e("td",Ne,a(U(r.month))+" "+a(r.year),1),e("td",Fe,a(r.total_budget_pkr.toLocaleString()),1),e("td",Oe,a(r.employee_bonus_pool_pkr?r.employee_bonus_pool_pkr.toLocaleString():"N/A"),1),e("td",De,a(r.contractor_bonus_pool_pkr?r.contractor_bonus_pool_pkr.toLocaleString():"N/A"),1),e("td",Ue,[e("div",$e,[s(P)?(c(),G(Y,{key:0,onClick:i=>ee(r)},{default:x(()=>t[19]||(t[19]=[n(" Edit ",-1)])),_:2,__:[19]},1032,["onClick"])):K("",!0),s(P)?(c(),G(j,{key:1,onClick:i=>oe(r)},{default:x(()=>t[20]||(t[20]=[n(" Delete ",-1)])),_:2,__:[20]},1032,["onClick"])):K("",!0)])])]))),128))])])]))])])])]),l(J,{show:M.value,title:"Create New Monthly Budget","api-endpoint":"/admin/monthly-budgets","http-method":"post","form-data":s(o),"submit-button-text":"Create Budget","success-message":"Monthly budget created successfully!",onClose:t[7]||(t[7]=r=>M.value=!1),onSubmitted:Z},{default:x(({errors:r})=>[e("div",Ie,[e("div",null,[l(m,{for:"create_year",value:"Year"}),l(z,{id:"create_year",modelValue:s(o).year,"onUpdate:modelValue":t[0]||(t[0]=i=>s(o).year=i),options:Q.value,placeholder:"Select Year",class:"mt-1 block w-full"},null,8,["modelValue","options"]),l(g,{message:r.year,class:"mt-2"},null,8,["message"])]),e("div",null,[l(m,{for:"create_month",value:"Month"}),l(z,{id:"create_month",modelValue:s(o).month,"onUpdate:modelValue":t[1]||(t[1]=i=>s(o).month=i),options:$,placeholder:"Select Month",class:"mt-1 block w-full"},null,8,["modelValue"]),l(g,{message:r.month,class:"mt-2"},null,8,["message"])])]),e("div",qe,[l(m,{for:"create_total_budget",value:"Total Monthly Budget (PKR)"}),l(p,{id:"create_total_budget",type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",modelValue:s(o).total_budget_pkr,"onUpdate:modelValue":t[2]||(t[2]=i=>s(o).total_budget_pkr=i),required:""},null,8,["modelValue"]),l(g,{message:r.total_budget_pkr,class:"mt-2"},null,8,["message"])]),e("div",Ge,[e("div",null,[l(m,{for:"create_number_of_employees",value:"Number of Employees"}),l(p,{id:"create_number_of_employees",type:"number",min:"0",class:"mt-1 block w-full",modelValue:s(o).number_of_employees,"onUpdate:modelValue":t[3]||(t[3]=i=>s(o).number_of_employees=i),required:""},null,8,["modelValue"]),l(g,{message:r.number_of_employees,class:"mt-2"},null,8,["message"])]),e("div",null,[l(m,{for:"create_number_of_contractors",value:"Number of Contractors"}),l(p,{id:"create_number_of_contractors",type:"number",min:"0",class:"mt-1 block w-full",modelValue:s(o).number_of_contractors,"onUpdate:modelValue":t[4]||(t[4]=i=>s(o).number_of_contractors=i),required:""},null,8,["modelValue"]),l(g,{message:r.number_of_contractors,class:"mt-2"},null,8,["message"])])]),e("div",He,[l(m,{for:"create_employee_pool_input",value:"Employee Bonus Pool Amount or % (Optional Override)"}),t[23]||(t[23]=e("div",{class:"flex items-center space-x-2"},[e("p",{class:"text-sm text-gray-600"},"Enter a fixed amount (e.g., 20000) or a percentage (e.g., 40%) to override the headcount-based calculation.")],-1)),l(p,{id:"create_employee_pool_input",type:"text",class:"mt-1 block w-full",modelValue:s(o).employee_pool_input,"onUpdate:modelValue":t[5]||(t[5]=i=>s(o).employee_pool_input=i)},null,8,["modelValue"]),l(g,{message:r.employee_pool_input,class:"mt-2"},null,8,["message"])]),e("div",Ye,[t[28]||(t[28]=e("h4",{class:"font-bold text-gray-800 text-lg mb-2"},"Budget Breakdown (Calculated)",-1)),t[29]||(t[29]=e("p",{class:"text-sm text-gray-600 mb-4"},"Pools are calculated based on headcount or your override input.",-1)),e("ul",je,[e("li",null,[t[24]||(t[24]=e("strong",{class:"font-medium text-gray-900"},"Employee Bonus Pool:",-1)),t[25]||(t[25]=n()),e("span",null,"PKR "+a(w.value.toLocaleString()),1)]),e("li",null,[t[26]||(t[26]=e("strong",{class:"font-medium text-gray-900"},"Contractor Bonus Pool:",-1)),t[27]||(t[27]=n()),e("span",null,"PKR "+a(k.value.toLocaleString()),1)])])]),e("div",Je,[e("h4",ze,"Employee Pool Allocations (PKR "+a(w.value.toLocaleString())+")",1),e("ul",We,[e("li",null,[t[30]||(t[30]=e("strong",{class:"font-medium text-gray-900"},"High Achiever Pool:",-1)),t[31]||(t[31]=n()),e("span",null,"PKR "+a(C.value.toLocaleString()),1),e("ul",Qe,[e("li",null,[n("1st Place ("+a((s(_).first_place_award*100).toFixed(0))+"%): ",1),e("span",null,"PKR "+a(N.value.toLocaleString()),1)]),e("li",null,[n("2nd Place ("+a((s(_).second_place_award*100).toFixed(0))+"%): ",1),e("span",null,"PKR "+a(F.value.toLocaleString()),1)]),e("li",null,[n("3rd Place ("+a((s(_).third_place_award*100).toFixed(0))+"%): ",1),e("span",null,"PKR "+a(O.value.toLocaleString()),1)]),e("li",null,[n("Most Improved ("+a((s(_).most_improved_award*100).toFixed(0))+"%): ",1),e("span",null,"PKR "+a(D.value.toLocaleString()),1)])])]),e("li",null,[t[32]||(t[32]=e("strong",{class:"font-medium text-gray-900"},"Consistent Contributor Pool:",-1)),t[33]||(t[33]=n()),e("span",null,"PKR "+a(T.value.toLocaleString()),1),t[34]||(t[34]=e("ul",{class:"ml-4 list-disc list-inside text-gray-600"},[e("li",null,[n("Bronze Tier (1,000 - 1,499 pts): "),e("span",null,"PKR 500")]),e("li",null,[n("Silver Tier (1,500 - 1,999 pts): "),e("span",null,"PKR 1,000")]),e("li",null,[n("Gold Tier (2,000+ pts): "),e("span",null,"PKR 2,000")])],-1))])])]),e("div",Xe,[e("h4",Ze,"Contractor Pool Allocations (PKR "+a(k.value.toLocaleString())+")",1),e("ul",et,[e("li",null,[t[35]||(t[35]=e("strong",{class:"font-medium text-gray-900"},"Contractor of the Month:",-1)),t[36]||(t[36]=n()),e("span",null,"PKR "+a(S.value.toLocaleString()),1)]),e("li",null,[t[37]||(t[37]=e("strong",{class:"font-medium text-gray-900"},"Project Performance Bonus (Remaining):",-1)),t[38]||(t[38]=n()),e("span",null,"PKR "+a((k.value-S.value).toLocaleString()),1)]),t[39]||(t[39]=e("li",null,[e("strong",{class:"font-medium text-gray-900"},"Project Performance Bonus:"),n(" This is a separate bonus of "),e("span",null,"5%"),n(" of the contractor's agreed amount. ")],-1))])]),e("div",tt,[l(m,{for:"create_team_total_points",value:"Team Total Points"}),t[40]||(t[40]=e("div",{class:"flex items-center space-x-2"},[e("p",{class:"text-sm text-gray-600"},"The sum of all points earned by the entire team this month. This value is required to calculate the Points Value.")],-1)),l(p,{id:"create_team_total_points",type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",modelValue:s(o).team_total_points,"onUpdate:modelValue":t[6]||(t[6]=i=>s(o).team_total_points=i),required:""},null,8,["modelValue"]),l(g,{message:r.team_total_points,class:"mt-2"},null,8,["message"])]),e("div",ot,[l(m,{value:"Calculated Points Value (PKR)"}),t[41]||(t[41]=e("div",{class:"flex items-center space-x-2"},[e("p",{class:"text-sm text-gray-600"},"The cash value of a single point (Consistent Contributor Pool / Team Total Points).")],-1)),l(p,{type:"number",step:"0.0001",min:"0",class:"mt-1 block w-full bg-gray-100",value:s(o).points_value_pkr,disabled:""},null,8,["value"])])]),_:1},8,["show","form-data"]),l(J,{show:A.value,title:"Edit Monthly Budget","api-endpoint":`/admin/monthly-budgets/${s(o).id}`,"http-method":"put","form-data":s(o),"submit-button-text":"Update Budget","success-message":"Monthly budget updated successfully!",onClose:t[14]||(t[14]=r=>A.value=!1),onSubmitted:te},{default:x(({errors:r})=>[e("div",lt,[e("div",null,[l(m,{for:"edit_year",value:"Year"}),l(p,{id:"edit_year",type:"number",class:"mt-1 block w-full",modelValue:s(o).year,"onUpdate:modelValue":t[8]||(t[8]=i=>s(o).year=i),disabled:""},null,8,["modelValue"])]),e("div",null,[l(m,{for:"edit_month",value:"Month"}),l(p,{id:"edit_month",type:"text",class:"mt-1 block w-full",value:U(s(o).month),disabled:""},null,8,["value"])])]),e("div",st,[l(m,{for:"edit_total_budget",value:"Total Monthly Budget (PKR)"}),l(p,{id:"edit_total_budget",type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",modelValue:s(o).total_budget_pkr,"onUpdate:modelValue":t[9]||(t[9]=i=>s(o).total_budget_pkr=i),required:""},null,8,["modelValue"]),l(g,{message:r.total_budget_pkr,class:"mt-2"},null,8,["message"])]),e("div",at,[e("div",null,[l(m,{for:"edit_number_of_employees",value:"Number of Employees"}),l(p,{id:"edit_number_of_employees",type:"number",min:"0",class:"mt-1 block w-full",modelValue:s(o).number_of_employees,"onUpdate:modelValue":t[10]||(t[10]=i=>s(o).number_of_employees=i),required:""},null,8,["modelValue"]),l(g,{message:r.number_of_employees,class:"mt-2"},null,8,["message"])]),e("div",null,[l(m,{for:"edit_number_of_contractors",value:"Number of Contractors"}),l(p,{id:"edit_number_of_contractors",type:"number",min:"0",class:"mt-1 block w-full",modelValue:s(o).number_of_contractors,"onUpdate:modelValue":t[11]||(t[11]=i=>s(o).number_of_contractors=i),required:""},null,8,["modelValue"]),l(g,{message:r.number_of_contractors,class:"mt-2"},null,8,["message"])])]),e("div",nt,[l(m,{for:"edit_employee_pool_input",value:"Employee Bonus Pool Amount or % (Optional Override)"}),t[42]||(t[42]=e("div",{class:"flex items-center space-x-2"},[e("p",{class:"text-sm text-gray-600"},"Enter a fixed amount (e.g., 20000) or a percentage (e.g., 40%) to override the headcount-based calculation.")],-1)),l(p,{id:"edit_employee_pool_input",type:"text",class:"mt-1 block w-full",modelValue:s(o).employee_pool_input,"onUpdate:modelValue":t[12]||(t[12]=i=>s(o).employee_pool_input=i)},null,8,["modelValue"]),l(g,{message:r.employee_pool_input,class:"mt-2"},null,8,["message"])]),e("div",rt,[t[47]||(t[47]=e("h4",{class:"font-bold text-gray-800 text-lg mb-2"},"Budget Breakdown (Calculated)",-1)),t[48]||(t[48]=e("p",{class:"text-sm text-gray-600 mb-4"},"Pools are calculated based on headcount or your override input.",-1)),e("ul",ut,[e("li",null,[t[43]||(t[43]=e("strong",{class:"font-medium text-gray-900"},"Employee Bonus Pool:",-1)),t[44]||(t[44]=n()),e("span",null,"PKR "+a(w.value.toLocaleString()),1)]),e("li",null,[t[45]||(t[45]=e("strong",{class:"font-medium text-gray-900"},"Contractor Bonus Pool:",-1)),t[46]||(t[46]=n()),e("span",null,"PKR "+a(k.value.toLocaleString()),1)])])]),e("div",it,[e("h4",dt,"Employee Pool Allocations (PKR "+a(w.value.toLocaleString())+")",1),e("ul",mt,[e("li",null,[t[49]||(t[49]=e("strong",{class:"font-medium text-gray-900"},"High Achiever Pool:",-1)),t[50]||(t[50]=n()),e("span",null,"PKR "+a(C.value.toLocaleString()),1),e("ul",pt,[e("li",null,[n("1st Place ("+a((s(_).first_place_award*100).toFixed(0))+"%): ",1),e("span",null,"PKR "+a(N.value.toLocaleString()),1)]),e("li",null,[n("2nd Place ("+a((s(_).second_place_award*100).toFixed(0))+"%): ",1),e("span",null,"PKR "+a(F.value.toLocaleString()),1)]),e("li",null,[n("3rd Place ("+a((s(_).third_place_award*100).toFixed(0))+"%): ",1),e("span",null,"PKR "+a(O.value.toLocaleString()),1)]),e("li",null,[n("Most Improved ("+a((s(_).most_improved_award*100).toFixed(0))+"%): ",1),e("span",null,"PKR "+a(D.value.toLocaleString()),1)])])]),e("li",null,[t[51]||(t[51]=e("strong",{class:"font-medium text-gray-900"},"Consistent Contributor Pool:",-1)),t[52]||(t[52]=n()),e("span",null,"PKR "+a(T.value.toLocaleString()),1),t[53]||(t[53]=e("ul",{class:"ml-4 list-disc list-inside text-gray-600"},[e("li",null,[n("Bronze Tier (1,000 - 1,499 pts): "),e("span",null,"PKR 500")]),e("li",null,[n("Silver Tier (1,500 - 1,999 pts): "),e("span",null,"PKR 1,000")]),e("li",null,[n("Gold Tier (2,000+ pts): "),e("span",null,"PKR 2,000")])],-1))])])]),e("div",_t,[e("h4",ct,"Contractor Pool Allocations (PKR "+a(k.value.toLocaleString())+")",1),e("ul",gt,[e("li",null,[t[54]||(t[54]=e("strong",{class:"font-medium text-gray-900"},"Contractor of the Month:",-1)),t[55]||(t[55]=n()),e("span",null,"PKR "+a(S.value.toLocaleString()),1)]),e("li",null,[t[56]||(t[56]=e("strong",{class:"font-medium text-gray-900"},"Project Performance Bonus (Remaining):",-1)),t[57]||(t[57]=n()),e("span",null,"PKR "+a((k.value-S.value).toLocaleString()),1)]),t[58]||(t[58]=e("li",null,[e("strong",{class:"font-medium text-gray-900"},"Project Performance Bonus:"),n(" This is a separate bonus of "),e("span",null,"5%"),n(" of the contractor's agreed amount. ")],-1))])]),e("div",yt,[l(m,{for:"edit_team_total_points",value:"Team Total Points"}),t[59]||(t[59]=e("div",{class:"flex items-center space-x-2"},[e("p",{class:"text-sm text-gray-600"},"The sum of all points earned by the entire team this month. This value is required to calculate the Points Value.")],-1)),l(p,{id:"edit_team_total_points",type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",modelValue:s(o).team_total_points,"onUpdate:modelValue":t[13]||(t[13]=i=>s(o).team_total_points=i),required:""},null,8,["modelValue"]),l(g,{message:r.team_total_points,class:"mt-2"},null,8,["message"])]),e("div",vt,[l(m,{value:"Calculated Points Value (PKR)"}),t[60]||(t[60]=e("div",{class:"flex items-center space-x-2"},[e("p",{class:"text-sm text-gray-600"},"The cash value of a single point (Consistent Contributor Pool / Team Total Points).")],-1)),l(p,{type:"number",step:"0.0001",min:"0",class:"mt-1 block w-full bg-gray-100",value:s(o).points_value_pkr,disabled:""},null,8,["value"])])]),_:1},8,["show","api-endpoint","form-data"]),l(de,{show:V.value,onClose:t[16]||(t[16]=r=>V.value=!1)},{default:x(()=>[e("div",ft,[t[64]||(t[64]=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete this monthly budget? ",-1)),t[65]||(t[65]=e("p",{class:"mt-1 text-sm text-gray-600"}," This action cannot be undone. All points calculations based on this budget will be affected. ",-1)),B.value?(c(),b("div",bt,[t[61]||(t[61]=e("strong",null,"Period:",-1)),n(" "+a(U(B.value.month))+" "+a(B.value.year),1)])):K("",!0),f.value?(c(),b("div",xt,a(f.value),1)):K("",!0),e("div",Pt,[l(me,{onClick:t[15]||(t[15]=r=>V.value=!1)},{default:x(()=>t[62]||(t[62]=[n("Cancel",-1)])),_:1,__:[62]}),l(j,{class:"ms-3",onClick:le},{default:x(()=>t[63]||(t[63]=[n("Delete Budget",-1)])),_:1,__:[63]})])])]),_:1},8,["show"])]),_:1})],64))}};export{It as default};
