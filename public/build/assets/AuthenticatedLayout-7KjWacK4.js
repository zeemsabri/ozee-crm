import{A as q}from"./ApplicationLogo-C0WcFAYF.js";import{A as D,P as O,p as m,r as N,h as k,o as a,b as r,f as R,e as f,y as x,G as P,a as s,n as _,T as G,c as u,R as U,u as $,S as E,z as H,g as l,k as o,t as S}from"./app-BFd-8kIE.js";const F={class:"relative"},T={__name:"Dropdown",props:{align:{type:String,default:"right"},width:{type:String,default:"48"},contentClasses:{type:String,default:"py-1 bg-white"}},setup(d){const i=d,n=w=>{v.value&&w.key==="Escape"&&(v.value=!1)};D(()=>document.addEventListener("keydown",n)),O(()=>document.removeEventListener("keydown",n));const g=m(()=>({48:"w-48"})[i.width.toString()]),h=m(()=>i.align==="left"?"ltr:origin-top-left rtl:origin-top-right start-0":i.align==="right"?"ltr:origin-top-right rtl:origin-top-left end-0":"origin-top"),v=N(!1);return(w,c)=>(a(),k("div",F,[r("div",{onClick:c[0]||(c[0]=y=>v.value=!v.value)},[x(w.$slots,"trigger")]),R(r("div",{class:"fixed inset-0 z-40",onClick:c[1]||(c[1]=y=>v.value=!1)},null,512),[[P,v.value]]),f(G,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:s(()=>[R(r("div",{class:_(["absolute z-50 mt-2 rounded-md shadow-lg",[g.value,h.value]]),style:{display:"none"},onClick:c[2]||(c[2]=y=>v.value=!1)},[r("div",{class:_(["rounded-md ring-1 ring-black ring-opacity-5",d.contentClasses])},[x(w.$slots,"content")],2)],2),[[P,v.value]])]),_:3})]))}},b={__name:"DropdownLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(d){return(i,n)=>(a(),u($(E),U({href:d.href,method:d.method,as:d.as},i.$attrs,{class:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none"}),{default:s(()=>[x(i.$slots,"default")]),_:3},16,["href","method","as"]))}},C={__name:"NavLink",props:{href:{type:String,required:!0},active:{type:Boolean}},setup(d){const i=d,n=m(()=>i.active?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out");return(g,h)=>(a(),u($(E),{href:d.href,class:_(n.value)},{default:s(()=>[x(g.$slots,"default")]),_:3},8,["href","class"]))}},p={__name:"ResponsiveNavLink",props:{href:{type:String,required:!0},active:{type:Boolean},method:{type:String,default:"get"},as:{type:String,default:"a"}},setup(d){const i=d,n=m(()=>i.active?"block w-full ps-3 pe-4 py-2 border-l-4 border-indigo-400 text-start text-base font-medium text-indigo-700 bg-indigo-50 focus:outline-none focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700 transition duration-150 ease-in-out":"block w-full ps-3 pe-4 py-2 border-l-4 border-transparent text-start text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300 transition duration-150 ease-in-out");return(g,h)=>(a(),u($(E),U({href:d.href,method:d.method,as:d.as},g.$attrs,{class:n.value}),{default:s(()=>[x(g.$slots,"default")]),_:3},16,["href","method","as","class"]))}},J={class:"min-h-screen bg-gray-100"},K={class:"border-b border-gray-100 bg-white"},Q={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},W={class:"flex h-16 justify-between"},X={class:"flex"},Y={class:"flex shrink-0 items-center"},Z={class:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex"},ee={key:4,class:"hidden sm:flex sm:items-center"},te={class:"hidden sm:ms-6 sm:flex sm:items-center"},re={class:"relative ms-3"},se={class:"inline-flex rounded-md"},oe={type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},ae={class:"-me-2 flex items-center sm:hidden"},ne={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ie={class:"space-y-1 pb-3 pt-2"},le={key:6,class:"mt-3 space-y-1"},ue={class:"border-t border-gray-200 pb-1 pt-4"},de={class:"px-4"},fe={class:"text-base font-medium text-gray-800"},me={class:"text-sm font-medium text-gray-500"},ve={class:"text-sm font-medium text-gray-500 capitalize"},ge={class:"mt-3 space-y-1"},ce={key:0,class:"bg-white shadow"},pe={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8"},be={__name:"AuthenticatedLayout",setup(d){const i=N(!1),n=m(()=>H().props.auth.user);m(()=>{var e;return((e=n.value.role_data)==null?void 0:e.name)||""});const g=m(()=>{var e;return((e=n.value.role_data)==null?void 0:e.slug)==="super-admin"}),h=m(()=>{var e;return n.value?((e=n.value.role_data)==null?void 0:e.slug)==="manager":!1}),v=m(()=>{var e;return n.value?((e=n.value.role_data)==null?void 0:e.slug)==="employee":!1}),w=m(()=>{var e;return n.value?((e=n.value.role_data)==null?void 0:e.slug)==="contractor":!1}),c=m(()=>g.value||h.value),y=m(()=>g.value||h.value||w.value),j=m(()=>g.value||h.value),M=m(()=>g.value||h.value),L=m(()=>g.value),V=async()=>{const e=localStorage.getItem("authToken");e?window.axios.defaults.headers.common.Authorization=`Bearer ${e}`:delete window.axios.defaults.headers.common.Authorization};D(()=>{V()});const z=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),delete window.axios.defaults.headers.common.Authorization},I=e=>{localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("userEmail"),delete window.axios.defaults.headers.common.Authorization,window.location.href="/login"};return(e,t)=>{var B;return a(),k("div",null,[r("div",J,[r("nav",K,[r("div",Q,[r("div",W,[r("div",X,[r("div",Y,[f($(E),{href:e.route("dashboard")},{default:s(()=>[f(q,{class:"block h-9 w-auto fill-current text-gray-800"})]),_:1},8,["href"])]),r("div",Z,[f(C,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:s(()=>t[1]||(t[1]=[o(" Dashboard ")])),_:1,__:[1]},8,["href","active"]),c.value||v.value?(a(),u(C,{key:0,href:e.route("projects.index"),active:e.route().current("projects.index")},{default:s(()=>t[2]||(t[2]=[o(" Projects ")])),_:1,__:[2]},8,["href","active"])):l("",!0),y.value?(a(),u(C,{key:1,href:e.route("emails.compose"),active:e.route().current("emails.compose")},{default:s(()=>t[3]||(t[3]=[o(" Compose Email ")])),_:1,__:[3]},8,["href","active"])):l("",!0),j.value?(a(),u(C,{key:2,href:e.route("emails.pending"),active:e.route().current("emails.pending")},{default:s(()=>t[4]||(t[4]=[o(" Approve Emails ")])),_:1,__:[4]},8,["href","active"])):l("",!0),y.value?(a(),u(C,{key:3,href:e.route("emails.rejected"),active:e.route().current("emails.rejected")},{default:s(()=>t[5]||(t[5]=[o(" Rejected Emails ")])),_:1,__:[5]},8,["href","active"])):l("",!0),L.value?(a(),k("div",ee,[f(T,{align:"right",width:"48"},{trigger:s(()=>t[6]||(t[6]=[r("span",{class:"inline-flex rounded-md"},[r("button",{type:"button",class:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-gray-700 focus:outline-none"},[o(" Admin "),r("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1)])),content:s(()=>[c.value||v.value?(a(),u(b,{key:0,href:e.route("clients.index"),active:e.route().current("clients.index")},{default:s(()=>t[7]||(t[7]=[o(" Clients ")])),_:1,__:[7]},8,["href","active"])):l("",!0),M.value?(a(),u(b,{key:1,href:e.route("users.index"),active:e.route().current("users.index")},{default:s(()=>t[8]||(t[8]=[o(" Users ")])),_:1,__:[8]},8,["href","active"])):l("",!0),c.value?(a(),u(b,{key:2,href:e.route("task-types.index"),active:e.route().current("task-types.index")},{default:s(()=>t[9]||(t[9]=[o(" Task Types ")])),_:1,__:[9]},8,["href","active"])):l("",!0),f(b,{href:e.route("admin.roles.index")},{default:s(()=>t[10]||(t[10]=[o(" Manage Roles ")])),_:1,__:[10]},8,["href"]),f(b,{href:e.route("admin.permissions.index")},{default:s(()=>t[11]||(t[11]=[o(" Manage Permissions ")])),_:1,__:[11]},8,["href"])]),_:1})])):l("",!0)])]),r("div",te,[r("div",re,[f(T,{align:"right",width:"48"},{trigger:s(()=>{var A;return[r("span",se,[r("button",oe,[o(S(n.value.name)+" ("+S((A=n.value.role_data)==null?void 0:A.name)+") ",1),t[12]||(t[12]=r("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))])])]}),content:s(()=>[f(b,{href:e.route("profile.edit")},{default:s(()=>t[13]||(t[13]=[o(" Profile ")])),_:1,__:[13]},8,["href"]),f(b,{href:e.route("logout"),method:"post",as:"button",onSuccess:z,onError:I},{default:s(()=>t[14]||(t[14]=[o(" Log Out ")])),_:1,__:[14]},8,["href"])]),_:1})])]),r("div",ae,[r("button",{onClick:t[0]||(t[0]=A=>i.value=!i.value),class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none"},[(a(),k("svg",ne,[r("path",{class:_({hidden:i.value,"inline-flex":!i.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),r("path",{class:_({hidden:!i.value,"inline-flex":i.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),r("div",{class:_([{block:i.value,hidden:!i.value},"sm:hidden"])},[r("div",ie,[f(p,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:s(()=>t[15]||(t[15]=[o(" Dashboard ")])),_:1,__:[15]},8,["href","active"]),c.value||v.value?(a(),u(p,{key:0,href:e.route("clients.index"),active:e.route().current("clients.index")},{default:s(()=>t[16]||(t[16]=[o(" Clients ")])),_:1,__:[16]},8,["href","active"])):l("",!0),c.value||v.value?(a(),u(p,{key:1,href:e.route("projects.index"),active:e.route().current("projects.index")},{default:s(()=>t[17]||(t[17]=[o(" Projects ")])),_:1,__:[17]},8,["href","active"])):l("",!0),M.value?(a(),u(p,{key:2,href:e.route("users.index"),active:e.route().current("users.index")},{default:s(()=>t[18]||(t[18]=[o(" Users ")])),_:1,__:[18]},8,["href","active"])):l("",!0),y.value?(a(),u(p,{key:3,href:e.route("emails.compose"),active:e.route().current("emails.compose")},{default:s(()=>t[19]||(t[19]=[o(" Compose Email ")])),_:1,__:[19]},8,["href","active"])):l("",!0),j.value?(a(),u(p,{key:4,href:e.route("emails.pending"),active:e.route().current("emails.pending")},{default:s(()=>t[20]||(t[20]=[o(" Approve Emails ")])),_:1,__:[20]},8,["href","active"])):l("",!0),y.value?(a(),u(p,{key:5,href:e.route("emails.rejected"),active:e.route().current("emails.rejected")},{default:s(()=>t[21]||(t[21]=[o(" Rejected Emails ")])),_:1,__:[21]},8,["href","active"])):l("",!0),L.value?(a(),k("div",le,[t[24]||(t[24]=r("div",{class:"px-4 font-medium text-base text-gray-800"},"Admin",-1)),f(p,{href:e.route("admin.roles.index"),active:e.route().current("admin.roles.index")},{default:s(()=>t[22]||(t[22]=[o(" Manage Roles ")])),_:1,__:[22]},8,["href","active"]),f(p,{href:e.route("admin.permissions.index"),active:e.route().current("admin.permissions.index")},{default:s(()=>t[23]||(t[23]=[o(" Manage Permissions ")])),_:1,__:[23]},8,["href","active"])])):l("",!0)]),r("div",ue,[r("div",de,[r("div",fe,S(n.value.name),1),r("div",me,S(n.value.email),1),r("div",ve,S((B=n.value.role_data)==null?void 0:B.name),1)]),r("div",ge,[f(p,{href:e.route("profile.edit")},{default:s(()=>t[25]||(t[25]=[o(" Profile ")])),_:1,__:[25]},8,["href"]),f(p,{href:e.route("logout"),method:"post",as:"button",onSuccess:z,onError:I},{default:s(()=>t[26]||(t[26]=[o(" Log Out ")])),_:1,__:[26]},8,["href"])])])],2)]),e.$slots.header?(a(),k("header",ce,[r("div",pe,[x(e.$slots,"header")])])):l("",!0),r("main",null,[x(e.$slots,"default")])])])}}};export{be as _};
