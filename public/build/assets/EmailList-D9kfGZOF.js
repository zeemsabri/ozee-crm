import{_ as g}from"./SecondaryButton-l6dahQhg.js";import{h as m}from"./moment-BLMuvzoS.js";import{b as a,d as r,t as s,g as t,F as f,k as _,z as c,f as h,e as w,w as v,j as b}from"./app-U1HYzxwv.js";const k={key:0,class:"text-center text-gray-600 text-sm animate-pulse py-4"},N={key:1,class:"text-center text-red-600 text-sm font-medium py-4"},A={key:2,class:"overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200"},C={class:"bg-white divide-y divide-gray-200"},D={class:"px-4 py-3 text-sm text-gray-900"},S={class:"px-4 py-3 text-sm text-gray-700"},B={class:"px-4 py-3 text-sm text-gray-700"},L={class:"px-4 py-3 text-sm text-gray-700"},V={class:"px-4 py-3 text-sm text-gray-700"},Y={class:"px-4 py-3 text-sm text-gray-700"},E={class:"px-4 py-3 text-sm text-gray-700"},F={class:"px-4 py-3 text-right"},M={key:3,class:"text-gray-400 text-sm"},q={__name:"EmailList",props:{emails:{type:Array,required:!0},loading:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["view"],setup(o,{emit:l}){const y=l,u=n=>{y("view",n)};return(n,d)=>(r(),a("div",null,[o.loading?(r(),a("div",k," Loading email data... ")):o.error?(r(),a("div",N,s(o.error),1)):o.emails.length?(r(),a("div",A,[t("table",j,[d[1]||(d[1]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"From"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Project"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Read At"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",C,[(r(!0),a(f,null,_(o.emails,e=>{var x,i,p;return r(),a("tr",{key:e.id,class:"hover:bg-gray-50 transition-colors"},[t("td",D,s(e.subject),1),t("td",S,s(((x=e.sender)==null?void 0:x.name)||"N/A"),1),t("td",B,s(((p=(i=e.conversation)==null?void 0:i.project)==null?void 0:p.name)||"N/A"),1),t("td",L,s(new Date(e.created_at).toLocaleDateString()),1),t("td",V,[t("span",{class:c({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-blue-100 text-blue-800":e.type==="sent","bg-purple-100 text-purple-800":e.type==="received"})},s(e.type?e.type.toUpperCase():"N/A"),3)]),t("td",Y,[t("span",{class:c({"px-2 py-1 rounded-full text-xs font-medium":!0,"bg-green-100 text-green-800":e.status==="sent","bg-yellow-100 text-yellow-800":e.status==="pending_approval","bg-red-100 text-red-800":e.status==="rejected","bg-gray-100 text-gray-800":e.status==="draft","bg-purple-200 text-white-800":e.status==="pending_approval_received","bg-blue-100 text-white-800":e.status==="received"})},s(e.status?e.status.replace("_"," ").toUpperCase():"N/A"),3)]),t("td",E,s(e.read_at?h(m)(e.read_at).format("MMM D, YYYY h:mm A"):"Not read"),1),t("td",F,[w(g,{class:"text-indigo-600 hover:text-indigo-800",onClick:z=>u(e)},{default:v(()=>d[0]||(d[0]=[b(" View ",-1)])),_:2,__:[0]},1032,["onClick"])])])}),128))])])])):(r(),a("p",M,"No email communication found."))]))}};export{q as _};
