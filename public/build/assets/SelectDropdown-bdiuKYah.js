import{r,c as b,o as C,K as V,n as L,b as u,d as i,g as n,q as w,z as c,t as h,X as E,p as B,s as D,E as O,i as z,F as I,k as M,J as N}from"./app-U1HYzxwv.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T=["disabled"],H={class:"absolute z-50 mt-1 w-full rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5"},j={class:"p-2 border-b border-gray-200"},q=["onClick"],F={key:0,class:"block px-4 py-2 text-sm text-gray-500"},U={__name:"SelectDropdown",props:{modelValue:{type:[String,Number,Object,null],default:null},options:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select an option"},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},maxHeight:{type:String,default:"250px"},width:{type:String,default:"full"},labelClass:{type:String,default:"text-xs"}},emits:["update:modelValue","change"],setup(a,{emit:x}){const e=a,m=x,o=r(!1),s=r(""),f=r(null),v=r(null),y=b(()=>{if(!s.value)return e.options;const l=s.value.toLowerCase();return e.options.filter(t=>t[e.labelKey].toLowerCase().includes(l))}),p=l=>{f.value&&!f.value.contains(l.target)&&(o.value=!1,s.value="")},g=l=>{l.key==="Escape"&&o.value&&(o.value=!1,s.value="")};C(()=>{document.addEventListener("click",p),document.addEventListener("keydown",g)}),V(()=>{document.removeEventListener("click",p),document.removeEventListener("keydown",g)});const k=b(()=>{if(e.modelValue===null||e.modelValue===void 0||e.modelValue==="")return e.placeholder;const l=e.options.find(t=>t[e.valueKey]===e.modelValue);return l?l[e.labelKey]:e.placeholder}),S=l=>{m("update:modelValue",l[e.valueKey]),m("change",l[e.valueKey]),o.value=!1,s.value=""},K=()=>{e.disabled||(o.value=!o.value,o.value&&N(()=>{v.value&&v.value.focus()}))};return L(()=>e.modelValue,l=>{(l==null||l==="")&&(s.value="")}),(l,t)=>(i(),u("div",{ref_key:"dropdownRef",ref:f,class:c(["relative",{"w-full":a.width==="full"}])},[n("button",{type:"button",onClick:K,disabled:a.disabled,class:c(["border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm mt-1 block w-full text-left px-3 py-2 text-gray-700 bg-white relative flex items-center justify-between",{"opacity-50 cursor-not-allowed":a.disabled}])},[n("span",{class:c({"text-gray-500":!e.modelValue})},h(k.value),3),t[3]||(t[3]=n("svg",{class:"h-4 w-4 text-gray-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[n("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1))],10,T),w(n("div",H,[n("div",j,[w(n("input",{ref_key:"searchInputRef",ref:v,type:"text","onUpdate:modelValue":t[0]||(t[0]=d=>s.value=d),onInput:t[1]||(t[1]=d=>o.value=!0),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"Search...",onClick:t[2]||(t[2]=B(()=>{},["stop"]))},null,544),[[D,s.value]])]),n("div",{class:"py-1 overflow-y-auto",style:O({maxHeight:a.maxHeight})},[(i(!0),u(I,null,M(y.value,d=>(i(),u("div",{key:d[a.valueKey],onClick:$=>S(d),class:c(["block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",{"bg-gray-100":d[a.valueKey]===a.modelValue}])},h(d[a.labelKey]),11,q))),128)),y.value.length===0?(i(),u("div",F," No options available ")):z("",!0)],4)],512),[[E,o.value]])],2))}},X=R(U,[["__scopeId","data-v-d2f1cfa0"]]);export{X as S};
