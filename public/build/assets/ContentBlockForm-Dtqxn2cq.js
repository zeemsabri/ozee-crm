import{C as T,e as P,a,o as d,v as r,G as S,b as i,F as D,l as j,x as n,d as c,t as y}from"./app-CH-gkOrV.js";import{d as B}from"./debounce-C-hnF4Z3.js";import A from"./TiptapEditor-CZ6VcdsE.js";import F from"./IconPicker-CCGGwh-e.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"bg-white rounded-lg shadow-md p-6 space-y-4 transition-all duration-200"},H={key:0,class:"flex items-center gap-3"},$=["value"],E={key:1},G={key:2,class:"grid grid-cols-2 gap-4"},M={class:"col-span-2"},N={key:3,class:"space-y-4"},O={key:4,class:"space-y-4"},R={key:5,class:"space-y-4"},W={key:6,class:"space-y-4"},q={key:7,class:"space-y-4"},z={key:8,class:"space-y-4"},J={key:9,class:"space-y-4"},K={key:10,class:"space-y-4"},Q={key:11,class:"space-y-4"},X={key:12,class:"text-red-500 italic"},Y={__name:"ContentBlockForm",props:{block:{type:Object,required:!0}},emits:["update"],setup(u,{emit:f}){const b=u,m=f,t=T({});function g(o){const e=o||{};Object.assign(t,e),Array.isArray(e.payment_schedule)&&(t.payment_schedule=e.payment_schedule.join(`
`)),Array.isArray(e.timeline)&&(t.timeline=e.timeline.map(l=>`${l&&(l.phase??l.ph)||""} | ${l&&(l.duration??l.dur)||""}`).join(`
`)),Array.isArray(e.items)&&(b.block.block_type==="feature_list"?t.items=e.items.map(l=>`${l&&(l.title??l.t)||""} | ${l&&(l.description??l.dsc)||""}`).join(`
`):t.items=e.items.join(`
`))}g(b.block.content_data),P(()=>b.block.content_data,o=>{g(o)});function k(){const o={...t};switch(b.block.block_type){case"pricing_table":typeof o.payment_schedule=="string"&&(o.payment_schedule=o.payment_schedule.split(`
`).map(e=>e.trim()).filter(Boolean));break;case"timeline_table":typeof o.timeline=="string"&&(o.timeline=o.timeline.split(`
`).map(e=>{const l=e.split("|").map(p=>p.trim());return{phase:l[0],duration:l[1]}}).filter(e=>e.phase&&e.duration));break;case"details_list":case"list_with_icons":typeof o.items=="string"&&(o.items=o.items.split(`
`).map(e=>e.trim()).filter(Boolean));break;case"feature_list":typeof o.items=="string"&&(o.items=o.items.split(`
`).map(e=>{const l=e.split("|").map(p=>p.trim());return{title:l[0],description:l[1]}}).filter(e=>e.title&&e.description));break}return o}const x=B(()=>{m("update",k())},300);function s(){x()}function v(){const o=t.payment_schedule.split(`
`).map(e=>e.trim()).filter(Boolean);m("update",{...t,payment_schedule:o})}function U(){const o=t.timeline.split(`
`).map(e=>{const l=e.split("|").map(p=>p.trim());return{phase:l[0],duration:l[1]}}).filter(e=>e.phase&&e.duration);m("update",{...t,timeline:o})}function I(){const o=t.items.split(`
`).map(e=>e.trim()).filter(Boolean);m("update",{...t,items:o})}function V(){const o=t.items.split(`
`).map(e=>e.trim()).filter(Boolean);m("update",{...t,items:o})}function w(){const o=t.items.split(`
`).map(e=>{const l=e.split("|").map(p=>p.trim());return{title:l[0],description:l[1]}}).filter(e=>e.title&&e.description);m("update",{...t,items:o})}return(o,e)=>(d(),a("div",C,[u.block.block_type==="heading"?(d(),a("div",H,[r(i("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>t.level=l),onChange:s,class:"border border-gray-200 rounded-lg p-2 bg-gray-50 focus:ring-2 focus:ring-indigo-500","aria-label":"Heading level"},[(d(),a(D,null,j(3,l=>i("option",{key:l,value:l},"H"+y(l),9,$)),64))],544),[[S,t.level,void 0,{number:!0}]]),r(i("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>t.text=l),onInput:s,placeholder:"Heading text",class:"flex-1 border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Heading text"},null,544),[[n,t.text]])])):u.block.block_type==="paragraph"?(d(),a("div",E,[e[22]||(e[22]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Paragraph",-1)),c(A,{modelValue:t.text,"onUpdate:modelValue":[e[2]||(e[2]=l=>t.text=l),s],placeholder:"Type your paragraph...",class:"border border-gray-200 rounded-lg","aria-label":"Paragraph editor"},null,8,["modelValue"])])):u.block.block_type==="feature_card"?(d(),a("div",G,[i("div",null,[e[23]||(e[23]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Icon",-1)),c(F,{modelValue:t.icon,"onUpdate:modelValue":[e[3]||(e[3]=l=>t.icon=l),s],class:"border border-gray-200 rounded-lg p-2","aria-label":"Icon selector"},null,8,["modelValue"])]),i("div",null,[e[24]||(e[24]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Title",-1)),r(i("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>t.title=l),onInput:s,placeholder:"Feature title",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Feature title"},null,544),[[n,t.title]])]),i("div",M,[e[25]||(e[25]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Description",-1)),r(i("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>t.description=l),onInput:s,placeholder:"Feature description",class:"w-full border border-gray-200 rounded-lg p-2 h-24 focus:ring-2 focus:ring-indigo-500","aria-label":"Feature description"},null,544),[[n,t.description]])])])):u.block.block_type==="image"?(d(),a("div",N,[i("div",null,[e[26]||(e[26]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Image URL",-1)),r(i("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>t.url=l),onInput:s,placeholder:"e.g., https://example.com/image.jpg",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Image URL"},null,544),[[n,t.url]])]),i("div",null,[e[27]||(e[27]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Alternative Text",-1)),r(i("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>t.alt=l),onInput:s,placeholder:"Describe the image for accessibility",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Alternative text for image"},null,544),[[n,t.alt]])])])):u.block.block_type==="step_card"?(d(),a("div",O,[i("div",null,[e[28]||(e[28]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Step Number",-1)),r(i("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>t.step_number=l),onInput:s,type:"number",placeholder:"e.g., 1",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Step number"},null,544),[[n,t.step_number,void 0,{number:!0}]])]),i("div",null,[e[29]||(e[29]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Title",-1)),r(i("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>t.title=l),onInput:s,placeholder:"Step Title",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Step title"},null,544),[[n,t.title]])]),i("div",null,[e[30]||(e[30]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Description",-1)),r(i("textarea",{"onUpdate:modelValue":e[10]||(e[10]=l=>t.description=l),onInput:s,placeholder:"Step description",class:"w-full border border-gray-200 rounded-lg p-2 h-24 focus:ring-2 focus:ring-indigo-500","aria-label":"Step description"},null,544),[[n,t.description]])])])):u.block.block_type==="slogan"?(d(),a("div",R,[i("div",null,[e[31]||(e[31]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Slogan Text",-1)),r(i("input",{"onUpdate:modelValue":e[11]||(e[11]=l=>t.text=l),onInput:s,placeholder:"e.g., Innovate. Optimize. Grow.",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Slogan text"},null,544),[[n,t.text]])])])):u.block.block_type==="pricing_table"?(d(),a("div",W,[i("div",null,[e[32]||(e[32]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Title",-1)),r(i("input",{"onUpdate:modelValue":e[12]||(e[12]=l=>t.title=l),onInput:s,placeholder:"e.g., Pricing & Payment Schedule",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Pricing title"},null,544),[[n,t.title]])]),i("div",null,[e[33]||(e[33]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Price Text",-1)),r(i("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>t.price=l),onInput:s,placeholder:"e.g., AUD 7,500 (+GST)",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Price text"},null,544),[[n,t.price]])]),i("div",null,[e[34]||(e[34]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Payment Schedule (one per line)",-1)),r(i("textarea",{"onUpdate:modelValue":e[14]||(e[14]=l=>t.payment_schedule=l),onInput:v,placeholder:"e.g., 25% upon project confirmation",class:"w-full border border-gray-200 rounded-lg p-2 h-24 focus:ring-2 focus:ring-indigo-500","aria-label":"Payment schedule list"},null,544),[[n,t.payment_schedule]])])])):u.block.block_type==="timeline_table"?(d(),a("div",q,[i("div",null,[e[35]||(e[35]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Title",-1)),r(i("input",{"onUpdate:modelValue":e[15]||(e[15]=l=>t.title=l),onInput:s,placeholder:"e.g., Project Timeline",class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500","aria-label":"Timeline title"},null,544),[[n,t.title]])]),i("div",null,[e[36]||(e[36]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Timeline (Phase | Duration, one per line)",-1)),r(i("textarea",{"onUpdate:modelValue":e[16]||(e[16]=l=>t.timeline=l),onInput:U,placeholder:"e.g., Planning | 1-2 Weeks",class:"w-full border border-gray-200 rounded-lg p-2 h-24 focus:ring-2 focus:ring-indigo-500","aria-label":"Timeline list"},null,544),[[n,t.timeline]])])])):u.block.block_type==="details_list"?(d(),a("div",z,[i("div",null,[e[37]||(e[37]=i("label",{class:"block text-sm text-gray-600 mb-1"},"Details (one item per line)",-1)),r(i("textarea",{"onUpdate:modelValue":e[17]||(e[17]=l=>t.items=l),onInput:I,placeholder:"e.g., Prepared for: Benjamin Castledine",class:"w-full border border-gray-200 rounded-lg p-2 h-24 focus:ring-2 focus:ring-indigo-500","aria-label":"Details list"},null,544),[[n,t.items]])])])):u.block.block_type==="list_with_icons"?(d(),a("div",J,[e[38]||(e[38]=i("label",{class:"block text-sm font-semibold text-gray-700"},"List Items (one per line)",-1)),r(i("textarea",{"onUpdate:modelValue":e[18]||(e[18]=l=>t.items=l),onInput:V,class:"w-full border border-gray-200 rounded-lg p-2 h-32 focus:ring-2 focus:ring-indigo-500",placeholder:"Enter each list item on a new line."},null,544),[[n,t.items]])])):u.block.block_type==="feature_list"?(d(),a("div",K,[e[39]||(e[39]=i("label",{class:"block text-sm font-semibold text-gray-700"},"Feature Items (Title | Description, one per line)",-1)),r(i("textarea",{"onUpdate:modelValue":e[19]||(e[19]=l=>t.items=l),onInput:w,class:"w-full border border-gray-200 rounded-lg p-2 h-32 focus:ring-2 focus:ring-indigo-500",placeholder:"Title | Description of the feature."},null,544),[[n,t.items]])])):u.block.block_type==="image_block"?(d(),a("div",Q,[i("div",null,[e[40]||(e[40]=i("label",{class:"block text-sm font-semibold text-gray-700"},"Title",-1)),r(i("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>t.title=l),onInput:s,class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500",placeholder:"Image Title"},null,544),[[n,t.title]])]),i("div",null,[e[41]||(e[41]=i("label",{class:"block text-sm font-semibold text-gray-700"},"Image URL",-1)),r(i("input",{"onUpdate:modelValue":e[21]||(e[21]=l=>t.url=l),onInput:s,class:"w-full border border-gray-200 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., https://example.com/image.jpg"},null,544),[[n,t.url]])])])):(d(),a("div",X,"Unsupported block type: "+y(u.block.block_type),1))]))}},te=L(Y,[["__scopeId","data-v-d2fc6118"]]);export{te as default};
