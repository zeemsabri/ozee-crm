import{_ as k}from"./AuthenticatedLayout-CvJcdJCK.js";import{a as n,o as d,d as l,u as c,h as C,w as u,b as e,i as h,F as x,l as y,t as i,j as p,A as m,m as o,g as S,I as f,M as N}from"./app-DbT8OS6U.js";import"./PrimaryButton-CNNIkbnD.js";import"./Modal-xyQrtzGU.js";import"./InputLabel-5o6j5_z2.js";import"./InputError-BhMxgrrh.js";import"./SecondaryButton-Dwoi8T9i.js";import"./index-DwcGlpZZ.js";import"./BaseFormModal-EMcFl8Zi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TextInput-VBinc-HC.js";import"./SelectDropdown-CHW2wT9H.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./ApplicationLogo-Caz4HoWe.js";import"./createLucideIcon-CcTmroC8.js";import"./plus-Cqbd8Y22.js";import"./DangerButton-Dz0HnA5Q.js";import"./moment-BLMuvzoS.js";import"./NoticeboardModal-ukaQCEyF.js";import"./save-Dz7hmyY3.js";const T={class:"flex items-center justify-between w-full"},A={class:"py-6"},B={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},L={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg"},j={class:"p-6 text-gray-900"},D={class:"overflow-x-auto"},I={class:"min-w-full divide-y divide-gray-200"},V={class:"bg-white divide-y divide-gray-200"},M={class:"px-3 py-2 whitespace-nowrap"},R={class:"text-sm font-medium text-gray-900"},$={key:0,class:"text-xs text-gray-500"},E={class:"px-3 py-2 whitespace-nowrap"},F={class:"text-sm text-gray-900"},H={class:"text-xs text-gray-500"},q={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},z={class:"text-xs text-gray-500"},O={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},P={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},G={class:"px-3 py-2 whitespace-nowrap"},J={class:"px-3 py-2 whitespace-nowrap text-sm"},K={class:"flex items-center gap-2"},Q=["onClick"],U=["onClick"],W={key:0,class:"mt-4 flex items-center justify-between"},X={class:"text-sm text-gray-500"},Y={class:"font-medium"},Z={class:"font-medium"},ee={class:"font-medium"},te={class:"flex space-x-2"},ke={__name:"Index",props:{schedules:{type:Object,required:!0}},setup(a){function _(r){return r?"inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20":"inline-flex items-center rounded-md bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10"}function v(r){f.patch(route("schedules.toggle",r))}async function b(r){await N("Are you sure you want to delete this schedule? This action cannot be undone.",{confirmText:"Delete",cancelText:"Cancel",type:"warning"})&&f.delete(route("schedules.destroy",r))}return(r,s)=>(d(),n(x,null,[l(c(C),{title:"Schedules"}),l(k,null,{header:u(()=>[e("div",T,[s[1]||(s[1]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Schedules",-1)),l(c(m),{href:r.route("schedules.create"),class:"inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500"},{default:u(()=>s[0]||(s[0]=[o(" Create Schedule ",-1)])),_:1,__:[0]},8,["href"])])]),default:u(()=>[e("div",A,[e("div",B,[e("div",L,[e("div",j,[e("div",D,[e("table",I,[s[3]||(s[3]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Linked Item"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Recurrence"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Next Run"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Last Run"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",V,[(d(!0),n(x,null,y(a.schedules.data,t=>{var g;return d(),n("tr",{key:t.id},[e("td",M,[e("div",R,i(t.name),1),t.description?(d(),n("div",$,i(t.description),1)):h("",!0)]),e("td",E,[e("div",F,i(((g=t.scheduled_item)==null?void 0:g.name)||"-"),1),e("div",H,i(t.scheduled_item?t.scheduled_item.type+" #"+t.scheduled_item.id:""),1)]),e("td",q,[e("div",null,i(t.recurrence_summary),1),e("div",z,i(t.recurrence_pattern),1)]),e("td",O,i(t.next_run_at||"-"),1),e("td",P,i(t.last_run_at||"-"),1),e("td",G,[e("span",{class:p(_(t.is_active))},i(t.is_active?"Active":"Inactive"),3)]),e("td",J,[e("div",K,[l(c(m),{href:r.route("schedules.edit",t.id),class:"px-2 py-1 border rounded hover:bg-gray-50"},{default:u(()=>s[2]||(s[2]=[o("Edit",-1)])),_:2,__:[2]},1032,["href"]),e("button",{onClick:w=>v(t.id),class:p(["px-2 py-1 border rounded",t.is_active?"text-amber-700 border-amber-300 hover:bg-amber-50":"text-green-700 border-green-300 hover:bg-green-50"])},i(t.is_active?"Deactivate":"Activate"),11,Q),e("button",{onClick:w=>b(t.id),class:"px-2 py-1 border rounded text-red-700 border-red-300 hover:bg-red-50"},"Delete",8,U)])])])}),128))])])]),a.schedules.links?(d(),n("div",W,[e("div",X,[s[4]||(s[4]=o(" Showing ",-1)),e("span",Y,i(a.schedules.from),1),s[5]||(s[5]=o(" to ",-1)),e("span",Z,i(a.schedules.to),1),s[6]||(s[6]=o(" of ",-1)),e("span",ee,i(a.schedules.total),1),s[7]||(s[7]=o(" results ",-1))]),e("div",te,[(d(!0),n(x,null,y(a.schedules.links,t=>(d(),S(c(m),{key:t.url+t.label,href:t.url||"#",innerHTML:t.label,class:p(["px-3 py-1 rounded border text-sm",{"bg-indigo-600 text-white border-indigo-600":t.active,"text-gray-700 bg-white border-gray-300 hover:bg-gray-50":!t.active,"opacity-50 pointer-events-none":!t.url}])},null,8,["href","innerHTML","class"]))),128))])])):h("",!0)])])])])]),_:1})],64))}};export{ke as default};
