import{c as i,o as n,a as e,r as h,l as X,b as de,e as m,u as x,h as le,w as J,f as k,g as f,v as ce,n as D,k as b,t as l,F as _,i as v,L as S,q as ee,K as ue,H as pe}from"./app-nAqQJsbR.js";import{b as ge,_ as me}from"./AuthenticatedLayout-xY_DmKWf.js";import{_ as xe}from"./MultiSelectDropdown-BvFQZe28.js";import{R as he}from"./RightSidebar-CP9mncM7.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as P}from"./SparklesIcon-Bdoa-ERx.js";import{r as _e}from"./MagnifyingGlassIcon-ilQNhzKy.js";import{r as te}from"./CheckCircleIcon-BgKrCrjZ.js";import{r as ve}from"./BriefcaseIcon-6YOwXx1m.js";import{r as be,a as ye}from"./PrinterIcon-DWTqzzDF.js";import{r as we}from"./ChevronDownIcon-DjG8uP_b.js";import{r as ke}from"./CalendarIcon-B2LMat3g.js";import{r as De}from"./ArrowPathIcon-BXiz89zL.js";import"./PrimaryButton-yJM6lm_0.js";import"./Modal-DhbO6a4Q.js";import"./InputLabel-D-9b_EvI.js";import"./InputError-Dtq2oRc3.js";import"./SecondaryButton-CWcCkJJP.js";import"./index-CEM64rK8.js";import"./BaseFormModal-D6fLUGFx.js";import"./TextInput-CQd22ZsB.js";import"./SelectDropdown-C_0VCa5k.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./ApplicationLogo-tQZvHTWH.js";import"./createLucideIcon-5puRqNY3.js";import"./plus-Djkg5stV.js";import"./DangerButton-BoUJgTYa.js";import"./moment-BLMuvzoS.js";import"./taskState-DGvI4lqK.js";import"./NoticeboardModal-BqMQX20H.js";import"./x-P1eR8_mO.js";function Ce(N,y){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})])}function se(N,y){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function Se(N,y){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}function $e(N,y){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"})])}function je(N,y){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const Ne={class:"flex justify-between items-center print:hidden"},Ae={class:"flex gap-3"},Te=["disabled"],Me={class:"py-6 bg-gray-50 min-h-screen print:bg-white print:py-0"},Ue={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},Ve={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 print:hidden"},Pe={class:"grid grid-cols-1 md:grid-cols-4 gap-6 items-end"},Be={class:"md:col-span-1"},Ee={class:"text-[10px] font-black text-indigo-600 uppercase mb-2 block flex items-center gap-1"},Ie={class:"md:col-span-2"},Le={class:"flex bg-gray-100 p-1 rounded-xl"},Oe={class:"animate-in fade-in duration-500 space-y-6"},Fe={class:"flex items-center justify-between px-2"},Re={class:"text-lg font-black text-gray-800 flex items-center gap-2"},Je={class:"text-xs font-bold text-gray-400 uppercase tracking-widest"},Ze={key:0,class:"bg-white p-16 rounded-[2.5rem] border-2 border-dashed border-gray-200 text-center"},He={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ze={class:"p-6 bg-gray-50/50 border-b border-gray-100 flex items-center gap-4"},qe={class:"h-12 w-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white font-black text-lg shadow-sm"},Ge={class:"font-black text-gray-900 leading-tight text-lg"},Ke={class:"p-6 space-y-6 flex-1"},We={key:0},Ye={class:"text-[10px] font-black text-orange-500 uppercase tracking-widest mb-3 flex items-center gap-1"},Qe={class:"text-[9px] font-black mt-2 text-orange-400 uppercase"},Xe={key:1},et={class:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-3 flex items-center gap-1"},tt={class:"space-y-2"},st=["onClick"],ot={class:"text-xs font-bold text-gray-800"},at={class:"text-[9px] text-gray-400 font-bold uppercase tracking-tight"},rt={key:2},nt={class:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-3 flex items-center gap-1"},it={class:"text-xs font-bold text-gray-800 truncate"},dt={class:"text-[9px] text-purple-400 font-black uppercase"},lt={class:"animate-in fade-in duration-500 space-y-6"},ct=["onClick"],ut={class:"flex items-center space-x-5"},pt={class:"h-14 w-14 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600 shadow-inner"},gt={class:"font-black text-xl text-gray-900 leading-none"},mt={class:"flex items-center gap-3 mt-2"},xt={class:"px-2 py-0.5 rounded-lg text-[10px] font-black uppercase tracking-widest bg-gray-100 text-gray-600"},ht={key:0,class:"flex items-center text-[10px] text-indigo-500 font-bold uppercase"},ft={class:"flex items-center gap-3"},_t=["onClick"],vt={class:"border-t border-gray-100 bg-gray-50/10"},bt={class:"px-8 py-4 bg-white border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4"},yt={class:"flex items-center gap-3 w-full md:w-auto"},wt=["onUpdate:modelValue"],kt=["value"],Dt={class:"flex space-x-1 p-1 bg-gray-100 rounded-xl overflow-x-auto scrollbar-hide"},Ct=["onClick"],St={class:"p-8"},$t={class:"space-y-4"},jt=["onClick"],Nt={class:"flex justify-between items-start"},At={class:"font-black text-gray-900 group-hover:text-indigo-600 transition"},Tt={class:"flex items-center gap-4 mt-2"},Mt={class:"text-[10px] font-bold text-gray-400 flex items-center gap-1 uppercase tracking-tighter"},Ut={class:"text-[10px] font-bold text-gray-400 flex items-center gap-1 uppercase tracking-tighter"},Vt={class:"bg-amber-50 text-amber-600 px-2 py-1 rounded-lg text-[10px] font-black uppercase"},Pt={key:0,class:"mt-4 p-4 bg-gray-50 rounded-2xl text-xs text-gray-600 whitespace-pre-wrap border border-gray-100"},Bt={key:0,class:"text-center text-gray-400 text-xs italic"},Et={class:"space-y-4"},It={class:"flex items-start gap-4"},Lt={class:"font-black text-gray-900"},Ot={class:"text-[10px] font-bold text-gray-400 mt-1 uppercase tracking-tighter"},Ft={key:0,class:"mt-3 p-3 bg-gray-50 rounded-xl text-xs text-gray-500 border border-gray-100"},Rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Jt={key:0,class:"absolute -top-2 -right-2 bg-indigo-600 text-white text-[8px] font-black uppercase px-2 py-1 rounded-full shadow-lg"},Zt={class:"text-sm text-gray-700 leading-relaxed mb-6 whitespace-pre-wrap italic"},Ht={class:"mt-auto pt-4 border-t border-gray-50 flex items-center justify-between"},zt={class:"flex items-center gap-2"},qt={class:"h-8 w-8 rounded-xl bg-gray-100 flex items-center justify-center text-[10px] font-black"},Gt={class:"text-xs font-bold text-gray-600"},Kt={class:"text-[10px] text-gray-400 font-bold"},Wt={class:"space-y-6"},Yt={class:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-6"},Qt={class:"flex items-center gap-4"},Xt={class:"font-black text-gray-900 text-lg leading-none"},es={class:"text-[10px] font-bold text-gray-400 uppercase mt-2 tracking-widest"},ts={class:"text-[11px] font-bold text-gray-400 bg-gray-50 px-3 py-1.5 rounded-xl"},ss={key:0,class:"space-y-4"},os={class:"flex items-center gap-2 mb-3 text-purple-600"},as={class:"text-sm text-gray-700 leading-relaxed font-medium"},rs={__name:"ProjectIndex",setup(N){const y=h([]),Z=h([]),M=h(!1),B=h(!1),E=h({}),I=h([]),H=h(""),z=h(""),$=h(""),A=h({}),w=h({}),L=h({}),U=h(!1),O=h(null),F=h(null),q=h([]),j=h("summary"),oe=a=>{A.value[a]=!A.value[a]},ae=(a,t)=>{w.value[a]=t},C=a=>{if(!$.value||!a)return!1;const t=$.value.split("T")[0],s=a.split("T")[0];return t===s},G=X(()=>{const a={},t=s=>{const u=s||"Unassigned";return a[u]||(a[u]={tasksDone:[],standups:[],meetings:[],emails:[],notes:[]}),a[u]};return y.value.forEach(s=>{var u,c,g;(u=s.tasks)==null||u.forEach(p=>{C(p.updated_at)&&p.status==="Done"&&t(p.assigned_to).tasksDone.push({...p,projectName:s.name})}),(c=s.project_notes)==null||c.forEach(p=>{if(C(p.created_at)){const o=t(p.creator_name);p.type==="standup"?o.standups.push({...p,projectName:s.name}):p.type==="meeting_minutes"?o.meetings.push({...p,projectName:s.name}):o.notes.push({...p,projectName:s.name})}}),(g=s.emails)==null||g.forEach(p=>{C(p.created_at)&&t(p.sender).emails.push({...p,projectName:s.name})})}),a}),K=X(()=>Object.keys(G.value).length),re=a=>{var s,u,c;const t=new Set;return(s=a.tasks)==null||s.forEach(g=>g.assigned_to&&t.add(g.assigned_to)),(u=a.project_notes)==null||u.forEach(g=>g.creator_name&&t.add(g.creator_name)),(c=a.emails)==null||c.forEach(g=>g.sender&&t.add(g.sender)),Array.from(t).sort()},V=(a,t,s)=>{const u=L.value[t];return!u||u==="all"?a:a.filter(c=>c[s]===u)},W=async a=>{if(!(!a||!a.id)){O.value=a.id,F.value=a.project_id||0;try{const t=await window.axios.get(`/api/projects/${F.value}/sections/clients-users`);q.value=t.data.users||[]}catch(t){console.error(t)}U.value=!0}},Y=async()=>{M.value=!0;try{const a=await window.axios.get("/api/productivity/project-report",{params:{project_ids:I.value.join(","),date_start:H.value,date_end:z.value}});y.value=a.data.reportData,Z.value=a.data.projects,y.value.forEach(t=>{t.has_activity&&(A.value[t.id]=!0,w.value[t.id]="todo")})}catch(a){console.error(a)}finally{M.value=!1}},ne=()=>{const a=y.value.map(t=>{var s,u,c,g,p,o;return{projectName:t.name,status:t.status,notes:(s=t.project_notes)==null?void 0:s.filter(r=>!r.type||r.type==="note").map(r=>({author:r.creator_name,content:r.content,date:r.created_at})),standups:(u=t.project_notes)==null?void 0:u.filter(r=>r.type==="standup").map(r=>({author:r.creator_name,content:r.content,date:r.created_at})),meetingMinutes:(c=t.project_notes)==null?void 0:c.filter(r=>r.type==="meeting_minutes").map(r=>({author:r.creator_name,content:r.content,date:r.created_at})),tasksTodo:(g=t.tasks)==null?void 0:g.filter(r=>r.status!=="Done").map(r=>({name:r.name,assignee:r.assigned_to,status:r.status})),tasksDone:(p=t.tasks)==null?void 0:p.filter(r=>r.status==="Done").map(r=>({name:r.name,assignee:r.assigned_to,finishedAt:r.updated_at})),communications:(o=t.emails)==null?void 0:o.map(r=>{var d,T;return{subject:r.subject,sender:r.sender,date:r.created_at,aiContext:(T=(d=r.contexts)==null?void 0:d[0])==null?void 0:T.summary}})}});navigator.clipboard.writeText(JSON.stringify(a,null,2)).then(()=>{B.value=!0,setTimeout(()=>B.value=!1,3e3)})},ie=(a,t)=>{var u,c,g,p,o,r;t&&t.stopPropagation();const s={projectName:a.name,status:a.status,notes:(u=a.project_notes)==null?void 0:u.filter(d=>!d.type||d.type==="note").map(d=>({author:d.creator_name,content:d.content,date:d.created_at})),standups:(c=a.project_notes)==null?void 0:c.filter(d=>d.type==="standup").map(d=>({author:d.creator_name,content:d.content,date:d.created_at})),meetingMinutes:(g=a.project_notes)==null?void 0:g.filter(d=>d.type==="meeting_minutes").map(d=>({author:d.creator_name,content:d.content,date:d.created_at})),tasksTodo:(p=a.tasks)==null?void 0:p.filter(d=>d.status!=="Done").map(d=>({name:d.name,assignee:d.assigned_to})),tasksDone:(o=a.tasks)==null?void 0:o.filter(d=>d.status==="Done").map(d=>({name:d.name,assignee:d.assigned_to})),communications:(r=a.emails)==null?void 0:r.map(d=>{var T,Q;return{subject:d.subject,aiContext:(Q=(T=d.contexts)==null?void 0:T[0])==null?void 0:Q.summary}})};navigator.clipboard.writeText(JSON.stringify(s,null,2)).then(()=>{E.value[a.id]=!0,setTimeout(()=>E.value[a.id]=!1,3e3)})},R=a=>a?new Date(a).toLocaleDateString("en-AU",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"";return de(()=>{const a=new Date;$.value=a.toISOString().split("T")[0];const t=new Date(a.getFullYear(),a.getMonth(),1);H.value=t.toISOString().split("T")[0],z.value=a.toISOString().split("T")[0],Y()}),(a,t)=>(n(),i(_,null,[m(x(le),{title:"Morning Briefing Report"}),m(me,null,{header:J(()=>[e("div",Ne,[t[9]||(t[9]=e("div",null,[e("h2",{class:"font-black text-2xl text-gray-900 tracking-tight"},"Morning Briefing"),e("p",{class:"text-sm text-gray-500 font-medium"},"Daily action point & productivity generator")],-1)),e("div",Ae,[e("button",{onClick:ne,class:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl text-sm font-bold hover:shadow-lg transition"},[m(x(P),{class:"h-4 w-4 mr-2"}),f(" "+l(B.value?"Copied JSON!":"AI Export (Global)"),1)]),e("button",{onClick:Y,disabled:M.value,class:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition disabled:opacity-50"},[m(x(De),{class:D(["h-4 w-4 mr-2",{"animate-spin":M.value}])},null,8,["class"]),t[7]||(t[7]=f(" Refresh ",-1))],8,Te),e("button",{onClick:t[0]||(t[0]=s=>a.window.print()),class:"flex items-center px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-700 hover:bg-gray-50 transition"},[m(x(ye),{class:"h-4 w-4 mr-2"}),t[8]||(t[8]=f(" PDF ",-1))])])])]),default:J(()=>[e("div",Me,[e("div",Ue,[e("div",Ve,[e("div",Pe,[e("div",Be,[e("label",Ee,[m(x(P),{class:"h-3 w-3"}),t[10]||(t[10]=f(" Focus Date",-1))]),k(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=s=>$.value=s),class:"w-full rounded-xl border-indigo-200 bg-indigo-50 text-indigo-900 font-bold text-sm focus:ring-indigo-500"},null,512),[[ce,$.value]])]),e("div",Ie,[t[11]||(t[11]=e("label",{class:"text-[10px] font-bold text-gray-400 uppercase mb-2 block tracking-widest"},"Selected Projects",-1)),m(xe,{modelValue:I.value,"onUpdate:modelValue":t[2]||(t[2]=s=>I.value=s),options:Z.value,"is-multi":!0,placeholder:"Analyze All Projects"},null,8,["modelValue","options"])]),e("div",Le,[e("button",{onClick:t[3]||(t[3]=s=>j.value="summary"),class:D([j.value==="summary"?"bg-white shadow-sm text-indigo-600":"text-gray-500","flex-1 py-1.5 rounded-lg text-xs font-black uppercase transition"])},"User Summary",2),e("button",{onClick:t[4]||(t[4]=s=>j.value="projects"),class:D([j.value==="projects"?"bg-white shadow-sm text-indigo-600":"text-gray-500","flex-1 py-1.5 rounded-lg text-xs font-black uppercase transition"])},"Portfolio View",2)])])]),k(e("section",Oe,[e("div",Fe,[e("h3",Re,[m(x(Ce),{class:"h-5 w-5 text-amber-500"}),t[12]||(t[12]=f(" Daily Activity Stream",-1))]),e("span",Je,l(K.value)+" Contributors on "+l($.value),1)]),K.value===0?(n(),i("div",Ze,[m(x(_e),{class:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t[13]||(t[13]=e("p",{class:"text-gray-600 font-bold text-xl"},"No specific logs found for this focus date.",-1)),t[14]||(t[14]=e("p",{class:"text-sm text-gray-400 mt-1"},"Try selecting a different date or checking the detailed portfolio view.",-1))])):b("",!0),e("div",He,[(n(!0),i(_,null,v(G.value,(s,u)=>(n(),i("div",{key:u,class:"bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden flex flex-col transition hover:shadow-lg"},[e("div",ze,[e("div",qe,l(u.substring(0,2).toUpperCase()),1),e("div",null,[e("h4",Ge,l(u),1),t[15]||(t[15]=e("p",{class:"text-[10px] text-indigo-500 font-bold uppercase tracking-tighter"},"Daily Impact",-1))])]),e("div",Ke,[s.standups.length>0?(n(),i("div",We,[e("h5",Ye,[m(x($e),{class:"h-3 w-3"}),t[16]||(t[16]=f(" Standup Context",-1))]),(n(!0),i(_,null,v(s.standups,c=>(n(),i("div",{key:c.id,class:"text-xs text-gray-600 bg-orange-50/50 p-4 rounded-2xl border border-orange-100 mb-2 italic"},[f('"'+l(c.content)+'" ',1),e("p",Qe,l(c.projectName),1)]))),128))])):b("",!0),s.tasksDone.length>0?(n(),i("div",Xe,[e("h5",et,[m(x(te),{class:"h-3 w-3"}),t[17]||(t[17]=f(" Accomplishments",-1))]),e("ul",tt,[(n(!0),i(_,null,v(s.tasksDone,c=>(n(),i("li",{key:c.id,onClick:g=>W(c),class:"p-3 bg-green-50/30 rounded-xl border border-green-100 cursor-pointer hover:bg-white transition"},[e("p",ot,l(c.name),1),e("p",at,l(c.projectName),1)],8,st))),128))])])):b("",!0),s.emails.length>0?(n(),i("div",rt,[e("h5",nt,[m(x(se),{class:"h-3 w-3"}),t[18]||(t[18]=f(" Communications",-1))]),(n(!0),i(_,null,v(s.emails,c=>(n(),i("div",{key:c.id,class:"p-3 bg-purple-50/30 rounded-xl border border-purple-100 mb-2"},[e("p",it,l(c.subject),1),e("p",dt,l(c.projectName),1)]))),128))])):b("",!0)])]))),128))])],512),[[S,j.value==="summary"]]),k(e("section",lt,[t[22]||(t[22]=e("div",{class:"flex items-center justify-between px-2"},[e("h3",{class:"text-sm font-black text-gray-400 uppercase tracking-[0.2em]"},"Portfolio Deep Dive")],-1)),(n(!0),i(_,null,v(y.value,s=>{var u,c,g,p;return n(),i("div",{key:s.id,class:"bg-white rounded-[2rem] border border-gray-200 shadow-sm overflow-hidden mb-8 transition hover:shadow-md"},[e("div",{onClick:o=>oe(s.id),class:"p-6 flex flex-col md:flex-row md:items-center justify-between cursor-pointer hover:bg-gray-50 transition gap-4"},[e("div",ut,[e("div",pt,[m(x(ve),{class:"h-8 w-8"})]),e("div",null,[e("h4",gt,l(s.name),1),e("div",mt,[e("span",xt,l(s.status),1),s.has_activity?(n(),i("span",ht,t[19]||(t[19]=[e("div",{class:"h-1.5 w-1.5 bg-indigo-500 rounded-full mr-1.5 animate-pulse"},null,-1),f(" Recent Activity",-1)]))):b("",!0)])])]),e("div",ft,[e("button",{onClick:o=>ie(s,o),class:"px-4 py-2 border border-indigo-200 text-indigo-600 rounded-xl text-xs font-bold hover:bg-indigo-50 transition flex items-center gap-2"},[m(x(P),{class:"h-3.5 w-3.5"}),f(" "+l(E.value[s.id]?"Copied!":"Export JSON"),1)],8,_t),(n(),ee(ue(A.value[s.id]?x(be):x(we)),{class:"h-6 w-6 text-gray-300"}))])],8,ct),k(e("div",vt,[e("div",bt,[e("div",yt,[m(x(Se),{class:"h-4 w-4 text-gray-400"}),k(e("select",{"onUpdate:modelValue":o=>L.value[s.id]=o,class:"rounded-xl border-gray-200 text-xs font-bold text-gray-600 focus:ring-indigo-500 py-1.5 pr-8 pl-3"},[t[20]||(t[20]=e("option",{value:"all"},"Show All Contributors",-1)),(n(!0),i(_,null,v(re(s),o=>(n(),i("option",{key:o,value:o},l(o),9,kt))),128))],8,wt),[[pe,L.value[s.id]]])]),e("nav",Dt,[(n(),i(_,null,v(["todo","done","notes","standups","meetings","emails"],o=>e("button",{key:o,onClick:r=>ae(s.id,o),class:D([w.value[s.id]===o?"bg-white shadow-sm text-indigo-600":"text-gray-500","py-1.5 px-4 rounded-lg text-[10px] font-black uppercase transition whitespace-nowrap"])},l(o),11,Ct)),64))])]),e("div",St,[k(e("div",$t,[(n(!0),i(_,null,v(V((u=s.tasks)==null?void 0:u.filter(o=>o.status!=="Done"),s.id,"assigned_to"),o=>(n(),i("div",{key:o.id,onClick:r=>W(o),class:D(["group p-5 bg-white border rounded-[1.5rem] cursor-pointer hover:border-indigo-400 transition",C(o.updated_at)?"border-indigo-300 ring-2 ring-indigo-50 shadow-md":"border-gray-100"])},[e("div",Nt,[e("div",null,[e("h6",At,l(o.name),1),e("div",Tt,[e("span",Mt,[m(x(je),{class:"h-3 w-3"}),f(" "+l(o.assigned_to||"Unassigned"),1)]),e("span",Ut,[m(x(ke),{class:"h-3 w-3"}),f(" "+l(o.due_date||"No Date"),1)])])]),e("span",Vt,l(o.status),1)]),o.description?(n(),i("div",Pt,l(o.description),1)):b("",!0)],10,jt))),128)),(c=s.tasks)!=null&&c.length?b("",!0):(n(),i("p",Bt,"No active tasks found."))],512),[[S,w.value[s.id]==="todo"]]),k(e("div",Et,[(n(!0),i(_,null,v(V((g=s.tasks)==null?void 0:g.filter(o=>o.status==="Done"),s.id,"assigned_to"),o=>(n(),i("div",{key:o.id,class:D(["p-5 bg-white border border-gray-100 rounded-[1.5rem]",C(o.updated_at)?"ring-2 ring-green-100 border-green-200":""])},[e("div",It,[m(x(te),{class:"h-6 w-6 text-green-500 mt-1"}),e("div",null,[e("h6",Lt,l(o.name),1),e("p",Ot,l(o.assigned_to)+" • Done "+l(R(o.updated_at)),1),o.description?(n(),i("div",Ft,l(o.description),1)):b("",!0)])])],2))),128))],512),[[S,w.value[s.id]==="done"]]),k(e("div",Rt,[(n(!0),i(_,null,v(V((p=s.project_notes)==null?void 0:p.filter(o=>w.value[s.id]==="notes"&&(!o.type||o.type==="note")||w.value[s.id]==="standups"&&o.type==="standup"||w.value[s.id]==="meetings"&&o.type==="meeting_minutes"),s.id,"creator_name"),o=>{var r;return n(),i("div",{key:o.id,class:D(["p-6 bg-white border border-gray-100 rounded-[2rem] shadow-sm flex flex-col relative",C(o.created_at)?"ring-2 ring-indigo-50 border-indigo-200":""])},[C(o.created_at)?(n(),i("div",Jt,"New Log")):b("",!0),e("div",Zt,'"'+l(o.content)+'"',1),e("div",Ht,[e("div",zt,[e("div",qt,l((r=o.creator_name)==null?void 0:r.substring(0,2)),1),e("span",Gt,l(o.creator_name),1)]),e("span",Kt,l(R(o.created_at)),1)])],2)}),128))],512),[[S,["notes","standups","meetings"].includes(w.value[s.id])]]),k(e("div",Wt,[(n(!0),i(_,null,v(V(s.emails,s.id,"sender"),o=>{var r;return n(),i("div",{key:o.id,class:D(["bg-white rounded-[2rem] p-6 border border-gray-100 shadow-sm",C(o.created_at)?"ring-2 ring-purple-100 border-purple-200":""])},[e("div",Yt,[e("div",Qt,[e("div",{class:D([o.type==="Received"?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600","p-3 rounded-2xl shadow-inner"])},[m(x(se),{class:"h-6 w-6"})],2),e("div",null,[e("h6",Xt,l(o.subject),1),e("p",es,l(o.type)+" • "+l(o.sender),1)])]),e("span",ts,l(R(o.created_at)),1)]),(r=o.contexts)!=null&&r.length?(n(),i("div",ss,[(n(!0),i(_,null,v(o.contexts,d=>(n(),i("div",{key:d.id,class:"p-5 bg-purple-50/50 rounded-[1.5rem] border border-purple-100"},[e("div",os,[m(x(P),{class:"h-4 w-4"}),t[21]||(t[21]=e("span",{class:"text-[10px] font-black uppercase tracking-widest"},"AI Summary",-1))]),e("p",as,l(d.summary),1)]))),128))])):b("",!0)],2)}),128))],512),[[S,w.value[s.id]==="emails"]])])],512),[[S,A.value[s.id]]])])}),128))],512),[[S,j.value==="projects"]])])]),m(he,{show:U.value,"onUpdate:show":t[6]||(t[6]=s=>U.value=s),title:"Morning Review Detail",initialWidth:40},{content:J(()=>[O.value?(n(),ee(ge,{key:0,"task-id":O.value,"project-id":F.value,"project-users":q.value,onClose:t[5]||(t[5]=s=>U.value=!1)},null,8,["task-id","project-id","project-users"])):b("",!0)]),_:1},8,["show"])]),_:1})],64))}},Is=fe(rs,[["__scopeId","data-v-febdf393"]]);export{Is as default};
