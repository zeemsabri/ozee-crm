import{c as i,o as r,a as t,r as w,b as xt,d as wt,f as g,u as m,h as kt,w as ot,g as S,v as nt,i as v,n as M,l as b,t as l,F as f,j as y,L as F,q as _t,K as Dt,H as Ct}from"./app-Cac_F2Ek.js";import{b as At,_ as $t}from"./AuthenticatedLayout-CRUn8Mjb.js";import{_ as St}from"./MultiSelectDropdown-B6HIbSdJ.js";import{R as Tt}from"./RightSidebar-BvOdp4CA.js";import{_ as Nt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as Z}from"./SparklesIcon-o-biIX-C.js";import{r as Mt}from"./MagnifyingGlassIcon-BJIPf0lX.js";import{r as W}from"./CheckCircleIcon-Dy7StOph.js";import{r as Ut}from"./BriefcaseIcon-Db_OSRsF.js";import{r as Vt,a as Pt}from"./PrinterIcon-DAr3l0bs.js";import{r as It}from"./ChevronDownIcon-DoU1GJSC.js";import{r as Bt}from"./CalendarIcon-BsIfPxf5.js";import{r as Et}from"./ArrowPathIcon-Db96tWxV.js";import"./PrimaryButton-s0LLA_zq.js";import"./Modal-BUM9gTnU.js";import"./InputLabel-CIRpkHDv.js";import"./InputError-T9J3K9xW.js";import"./SecondaryButton-dXnWi67E.js";import"./index-RTdmJsaA.js";import"./BaseFormModal-C6iKL--z.js";import"./TextInput-BkFkKbbu.js";import"./SelectDropdown-BAh_w6Vu.js";/* empty css                                                                       */import"./debounce-C-hnF4Z3.js";import"./ApplicationLogo-D6QW-2w9.js";import"./createLucideIcon-B6FE2Bwl.js";import"./plus-iZJD0OsM.js";import"./DangerButton-DcCT0gAs.js";import"./moment-BLMuvzoS.js";import"./taskState-BCtt1CuX.js";import"./NoticeboardModal-BDWIF9rK.js";import"./x-Bx6otA2x.js";function Ft(H,T){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})])}function Ht(H,T){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function rt(H,T){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function Lt(H,T){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}function Rt(H,T){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"})])}function it(H,T){return r(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const jt={class:"flex justify-between items-center print:hidden"},Ot={class:"flex gap-3"},Zt=["disabled"],Jt={class:"py-6 bg-gray-50 min-h-screen print:bg-white print:py-0"},zt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},qt={class:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 print:hidden"},Gt={class:"grid grid-cols-1 md:grid-cols-5 gap-6 items-end"},Kt={class:"md:col-span-2"},Wt={class:"text-[10px] font-black text-indigo-600 uppercase mb-2 block flex items-center gap-1"},Yt={class:"mt-6 flex bg-gray-100 p-1 rounded-xl w-full max-w-md mx-auto"},Qt={class:"animate-in fade-in duration-500 space-y-6"},Xt={class:"flex items-center justify-between px-2"},te={class:"text-lg font-black text-gray-800 flex items-center gap-2"},ee={class:"text-xs font-bold text-gray-400 uppercase tracking-widest"},se={key:0,class:"bg-white p-16 rounded-[2.5rem] border-2 border-dashed border-gray-200 text-center"},ae={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},oe={class:"p-6 bg-gray-50/50 border-b border-gray-100 flex items-center gap-4"},ne={class:"h-12 w-12 rounded-2xl bg-indigo-600 flex items-center justify-center text-white font-black text-lg shadow-sm"},re={class:"font-black text-gray-900 leading-tight text-lg"},ie={class:"p-6 space-y-6 flex-1"},de={key:0},le={class:"text-[10px] font-black text-orange-500 uppercase tracking-widest mb-3 flex items-center gap-1"},ce={class:"text-[9px] font-black mt-2 text-orange-400 uppercase"},ue={key:1},pe={class:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-3 flex items-center gap-1"},ge={class:"space-y-2"},me=["onClick"],xe={class:"text-xs font-bold text-gray-800"},_e={class:"text-[9px] text-gray-400 font-bold uppercase tracking-tight"},he={key:2},fe={class:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-3 flex items-center gap-1"},be={class:"text-xs font-bold text-gray-800 truncate"},ye={class:"text-[9px] text-purple-400 font-black uppercase"},ve={class:"animate-in fade-in duration-500 space-y-6"},we=["onClick"],ke={class:"flex items-center space-x-5"},De={class:"h-14 w-14 rounded-2xl bg-indigo-50 flex items-center justify-center text-indigo-600 shadow-inner"},Ce={class:"font-black text-xl text-gray-900 leading-none"},Ae={class:"flex items-center gap-3 mt-2"},$e={class:"px-2 py-0.5 rounded-lg text-[10px] font-black uppercase tracking-widest bg-gray-100 text-gray-600"},Se={key:0,class:"flex items-center text-[10px] text-indigo-500 font-bold uppercase"},Te={class:"flex items-center gap-3"},Ne=["onClick"],Me={class:"border-t border-gray-100 bg-gray-50/10"},Ue={class:"px-8 py-4 bg-white border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4"},Ve={class:"flex items-center gap-3 w-full md:w-auto"},Pe=["onUpdate:modelValue"],Ie=["value"],Be={class:"flex space-x-1 p-1 bg-gray-100 rounded-xl overflow-x-auto scrollbar-hide"},Ee=["onClick"],Fe={class:"p-8"},He={class:"space-y-6"},Le={key:0,class:"space-y-6"},Re={key:0,class:"space-y-3"},je={class:"text-[10px] font-black tracking-widest text-indigo-500 uppercase flex items-center gap-1"},Oe=["onClick"],Ze={class:"flex justify-between items-start"},Je={class:"font-bold text-gray-900"},ze={class:"text-[10px] font-bold text-gray-500 flex items-center gap-1"},qe={key:1,class:"space-y-3"},Ge={class:"text-[10px] font-black tracking-widest text-green-500 uppercase flex items-center gap-1"},Ke=["onClick"],We={class:"flex items-center gap-3"},Ye={class:"font-bold text-gray-900 text-sm"},Qe={class:"ml-auto text-[10px] text-gray-400 font-bold uppercase"},Xe={key:2,class:"space-y-3"},ts={class:"text-[10px] font-black tracking-widest text-blue-500 uppercase flex items-center gap-1"},es={class:"text-[9px] font-black text-gray-400 uppercase tracking-widest mb-2 block"},ss={class:"text-sm text-gray-700 italic mb-3"},as={class:"flex items-center gap-2 text-[10px] font-bold text-gray-500"},os={key:3,class:"space-y-3"},ns={class:"text-[10px] font-black tracking-widest text-purple-500 uppercase flex items-center gap-1"},rs={class:"text-sm font-bold text-gray-800"},is={class:"text-[10px] text-gray-500 font-bold uppercase"},ds={key:1,class:"text-center py-8"},ls={class:"space-y-8"},cs={key:0,class:"space-y-4"},us={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 border-b border-gray-100 pb-2"},ps=["onClick"],gs={class:"flex justify-between items-start"},ms={class:"font-black text-gray-900 group-hover:text-indigo-600 transition"},xs={class:"flex items-center gap-4 mt-2"},_s={class:"text-[10px] font-bold text-gray-400 flex items-center gap-1 uppercase tracking-tighter"},hs={class:"text-[10px] font-bold text-gray-400 flex items-center gap-1 uppercase tracking-tighter"},fs={class:"bg-amber-50 text-amber-600 px-2 py-1 rounded-lg text-[10px] font-black uppercase"},bs={key:0,class:"mt-4 p-4 bg-gray-50 rounded-2xl text-xs text-gray-600 whitespace-pre-wrap border border-gray-100"},ys={key:0,class:"text-center text-gray-400 text-xs italic"},vs={class:"space-y-8"},ws={key:0,class:"space-y-4"},ks={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 border-b border-gray-100 pb-2"},Ds={class:"flex items-start gap-4"},Cs={class:"font-black text-gray-900"},As={class:"text-[10px] font-bold text-gray-400 mt-1 uppercase tracking-tighter"},$s={key:0,class:"mt-3 p-3 bg-gray-50 rounded-xl text-xs text-gray-500 border border-gray-100"},Ss={key:0,class:"text-center text-gray-400 text-xs italic"},Ts={class:"space-y-8"},Ns={key:0},Ms={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-4 border-b border-gray-100 pb-2"},Us={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Vs={key:0,class:"absolute -top-2 -right-2 bg-indigo-600 text-white text-[8px] font-black uppercase px-2 py-1 rounded-full shadow-lg"},Ps={class:"text-sm text-gray-700 leading-relaxed mb-6 whitespace-pre-wrap italic"},Is={class:"mt-auto pt-4 border-t border-gray-50 flex items-center justify-between"},Bs={class:"flex items-center gap-2"},Es={class:"h-8 w-8 rounded-xl bg-gray-100 flex items-center justify-center text-[10px] font-black"},Fs={class:"text-xs font-bold text-gray-600"},Hs={class:"text-[10px] text-gray-400 font-bold"},Ls={class:"space-y-8"},Rs={key:0,class:"space-y-6"},js={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-2 border-b border-gray-100 pb-2"},Os={class:"flex flex-col md:flex-row justify-between md:items-center gap-4 mb-6"},Zs={class:"flex items-center gap-4"},Js={class:"font-black text-gray-900 text-lg leading-none"},zs={class:"text-[10px] font-bold text-gray-400 uppercase mt-2 tracking-widest"},qs={class:"text-[11px] font-bold text-gray-400 bg-gray-50 px-3 py-1.5 rounded-xl"},Gs={key:0,class:"space-y-4"},Ks={class:"flex items-center gap-2 mb-3 text-purple-600"},Ws={class:"text-sm text-gray-700 leading-relaxed font-medium"},Ys={__name:"ProjectIndex",setup(H){const T=w([]),dt=w([]),J=w(!1),Y=w(!1),Q=w({}),X=w([]),z=w(""),q=w(""),L=w(""),O=w({}),D=w({}),tt=w({}),G=w(!1),et=w(null),st=w(null),lt=w([]),R=w("summary"),ht=d=>{O.value[d]=!O.value[d]},ft=(d,e)=>{D.value[d]=e},N=d=>{if(!L.value||!d)return!1;const e=L.value.split("T")[0],s=d.split("T")[0];return e===s},ct=xt(()=>{const d={},e=s=>{const x=s||"Unassigned";return d[x]||(d[x]={tasksDone:[],standups:[],meetings:[],emails:[],notes:[]}),d[x]};return T.value.forEach(s=>{var x,u,h;(x=s.tasks)==null||x.forEach(_=>{N(_.updated_at)&&_.status==="Done"&&e(_.assigned_to).tasksDone.push({..._,projectName:s.name})}),(u=s.project_notes)==null||u.forEach(_=>{if(N(_.created_at)){const $=e(_.creator_name);_.type==="standup"?$.standups.push({..._,projectName:s.name}):_.type==="meeting_minutes"?$.meetings.push({..._,projectName:s.name}):$.notes.push({..._,projectName:s.name})}}),(h=s.emails)==null||h.forEach(_=>{N(_.created_at)&&e(_.sender).emails.push({..._,projectName:s.name})})}),d}),ut=xt(()=>Object.keys(ct.value).length),bt=d=>{var s,x,u;const e=new Set;return(s=d.tasks)==null||s.forEach(h=>h.assigned_to&&e.add(h.assigned_to)),(x=d.project_notes)==null||x.forEach(h=>h.creator_name&&e.add(h.creator_name)),(u=d.emails)==null||u.forEach(h=>h.sender&&e.add(h.sender)),Array.from(e).sort()},U=(d,e,s)=>{const x=tt.value[e];return!x||x==="all"?d:d.filter(u=>u[s]===x)},K=async d=>{if(!(!d||!d.id)){et.value=d.id,st.value=d.project_id||0;try{const e=await window.axios.get(`/api/projects/${st.value}/sections/clients-users`);lt.value=e.data.users||[]}catch(e){console.error(e)}G.value=!0}},pt=async()=>{J.value=!0;try{const d=await window.axios.get("/api/productivity/project-report",{params:{project_ids:X.value.join(","),date_start:z.value,date_end:q.value}});T.value=d.data.reportData,dt.value=d.data.projects,T.value.forEach(e=>{e.has_activity&&(O.value[e.id]=!0,D.value[e.id]="today")})}catch(d){console.error(d)}finally{J.value=!1}},p=(d,e)=>d?d.filter(s=>N(s[e])):[],k=(d,e)=>d?d.filter(s=>!N(s[e])):[],yt=()=>{const d=T.value.map(e=>{var s,x,u,h,_,$,V,P,I,B;return{projectName:e.name,status:e.status,highlightedActivity:{notes:p((s=e.project_notes)==null?void 0:s.filter(o=>!o.type||o.type==="note"),"created_at").map(o=>({author:o.creator_name,content:o.content,date:o.created_at})),standups:p((x=e.project_notes)==null?void 0:x.filter(o=>o.type==="standup"),"created_at").map(o=>({author:o.creator_name,content:o.content,date:o.created_at})),meetingMinutes:p((u=e.project_notes)==null?void 0:u.filter(o=>o.type==="meeting_minutes"),"created_at").map(o=>({author:o.creator_name,content:o.content,date:o.created_at})),tasksTodo:p((h=e.tasks)==null?void 0:h.filter(o=>o.status!=="Done"),"updated_at").map(o=>({name:o.name,assignee:o.assigned_to,status:o.status})),tasksDone:p((_=e.tasks)==null?void 0:_.filter(o=>o.status==="Done"),"updated_at").map(o=>({name:o.name,assignee:o.assigned_to,finishedAt:o.updated_at})),communications:p(e.emails,"created_at").map(o=>{var n,C;return{subject:o.subject,sender:o.sender,date:o.created_at,aiContext:(C=(n=o.contexts)==null?void 0:n[0])==null?void 0:C.summary}})},archivedActivity:{notes:k(($=e.project_notes)==null?void 0:$.filter(o=>!o.type||o.type==="note"),"created_at").map(o=>({author:o.creator_name,content:o.content,date:o.created_at})),standups:k((V=e.project_notes)==null?void 0:V.filter(o=>o.type==="standup"),"created_at").map(o=>({author:o.creator_name,content:o.content,date:o.created_at})),meetingMinutes:k((P=e.project_notes)==null?void 0:P.filter(o=>o.type==="meeting_minutes"),"created_at").map(o=>({author:o.creator_name,content:o.content,date:o.created_at})),tasksTodo:k((I=e.tasks)==null?void 0:I.filter(o=>o.status!=="Done"),"updated_at").map(o=>({name:o.name,assignee:o.assigned_to,status:o.status})),tasksDone:k((B=e.tasks)==null?void 0:B.filter(o=>o.status==="Done"),"updated_at").map(o=>({name:o.name,assignee:o.assigned_to,finishedAt:o.updated_at})),communications:k(e.emails,"created_at").map(o=>{var n,C;return{subject:o.subject,sender:o.sender,date:o.created_at,aiContext:(C=(n=o.contexts)==null?void 0:n[0])==null?void 0:C.summary}})}}});navigator.clipboard.writeText(JSON.stringify(d,null,2)).then(()=>{Y.value=!0,setTimeout(()=>Y.value=!1,3e3)})},vt=(d,e)=>{var x,u,h,_,$,V,P,I,B,o;e&&e.stopPropagation();const s={projectName:d.name,status:d.status,highlightedActivity:{notes:p((x=d.project_notes)==null?void 0:x.filter(n=>!n.type||n.type==="note"),"created_at").map(n=>({author:n.creator_name,content:n.content,date:n.created_at})),standups:p((u=d.project_notes)==null?void 0:u.filter(n=>n.type==="standup"),"created_at").map(n=>({author:n.creator_name,content:n.content,date:n.created_at})),meetingMinutes:p((h=d.project_notes)==null?void 0:h.filter(n=>n.type==="meeting_minutes"),"created_at").map(n=>({author:n.creator_name,content:n.content,date:n.created_at})),tasksTodo:p((_=d.tasks)==null?void 0:_.filter(n=>n.status!=="Done"),"updated_at").map(n=>({name:n.name,assignee:n.assigned_to})),tasksDone:p(($=d.tasks)==null?void 0:$.filter(n=>n.status==="Done"),"updated_at").map(n=>({name:n.name,assignee:n.assigned_to})),communications:p(d.emails,"created_at").map(n=>{var C,E;return{subject:n.subject,aiContext:(E=(C=n.contexts)==null?void 0:C[0])==null?void 0:E.summary}})},archivedActivity:{notes:k((V=d.project_notes)==null?void 0:V.filter(n=>!n.type||n.type==="note"),"created_at").map(n=>({author:n.creator_name,content:n.content,date:n.created_at})),standups:k((P=d.project_notes)==null?void 0:P.filter(n=>n.type==="standup"),"created_at").map(n=>({author:n.creator_name,content:n.content,date:n.created_at})),meetingMinutes:k((I=d.project_notes)==null?void 0:I.filter(n=>n.type==="meeting_minutes"),"created_at").map(n=>({author:n.creator_name,content:n.content,date:n.created_at})),tasksTodo:k((B=d.tasks)==null?void 0:B.filter(n=>n.status!=="Done"),"updated_at").map(n=>({name:n.name,assignee:n.assigned_to})),tasksDone:k((o=d.tasks)==null?void 0:o.filter(n=>n.status==="Done"),"updated_at").map(n=>({name:n.name,assignee:n.assigned_to})),communications:k(d.emails,"created_at").map(n=>{var C,E;return{subject:n.subject,aiContext:(E=(C=n.contexts)==null?void 0:C[0])==null?void 0:E.summary}})}};navigator.clipboard.writeText(JSON.stringify(s,null,2)).then(()=>{Q.value[d.id]=!0,setTimeout(()=>Q.value[d.id]=!1,3e3)})},at=d=>d?new Date(d).toLocaleDateString("en-AU",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"";return wt(()=>{const d=new Date;L.value=d.toISOString().split("T")[0];const e=new Date(d.getFullYear(),d.getMonth(),1);z.value=e.toISOString().split("T")[0],q.value=d.toISOString().split("T")[0],pt()}),(d,e)=>(r(),i(f,null,[g(m(kt),{title:"Morning Briefing Report"}),g($t,null,{header:ot(()=>[t("div",jt,[e[11]||(e[11]=t("div",null,[t("h2",{class:"font-black text-2xl text-gray-900 tracking-tight"},"Morning Briefing"),t("p",{class:"text-sm text-gray-500 font-medium"},"Daily action point & productivity generator")],-1)),t("div",Ot,[t("button",{onClick:yt,class:"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl text-sm font-bold hover:shadow-lg transition"},[g(m(Z),{class:"h-4 w-4 mr-2"}),v(" "+l(Y.value?"Copied JSON!":"AI Export (Global)"),1)]),t("button",{onClick:pt,disabled:J.value,class:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-indigo-700 transition disabled:opacity-50"},[g(m(Et),{class:M(["h-4 w-4 mr-2",{"animate-spin":J.value}])},null,8,["class"]),e[9]||(e[9]=v(" Refresh ",-1))],8,Zt),t("button",{onClick:e[0]||(e[0]=s=>d.window.print()),class:"flex items-center px-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold text-gray-700 hover:bg-gray-50 transition"},[g(m(Pt),{class:"h-4 w-4 mr-2"}),e[10]||(e[10]=v(" PDF ",-1))])])])]),default:ot(()=>[t("div",Jt,[t("div",zt,[t("div",qt,[t("div",Gt,[t("div",Kt,[e[12]||(e[12]=t("label",{class:"text-[10px] font-bold text-gray-400 uppercase mb-2 block tracking-widest"},"Selected Projects",-1)),g(St,{modelValue:X.value,"onUpdate:modelValue":e[1]||(e[1]=s=>X.value=s),options:dt.value,"is-multi":!0,placeholder:"Analyze All Projects"},null,8,["modelValue","options"])]),t("div",null,[e[13]||(e[13]=t("label",{class:"text-[10px] font-bold text-gray-400 uppercase mb-2 block tracking-widest"},"Range Start",-1)),S(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=s=>z.value=s),class:"w-full rounded-xl border-gray-200 text-sm focus:ring-indigo-500 font-bold text-gray-700"},null,512),[[nt,z.value]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"text-[10px] font-bold text-gray-400 uppercase mb-2 block tracking-widest"},"Range End",-1)),S(t("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=s=>q.value=s),class:"w-full rounded-xl border-gray-200 text-sm focus:ring-indigo-500 font-bold text-gray-700"},null,512),[[nt,q.value]])]),t("div",null,[t("label",Wt,[g(m(Z),{class:"h-3 w-3"}),e[15]||(e[15]=v(" Focus Date",-1))]),S(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=s=>L.value=s),class:"w-full rounded-xl border-indigo-200 bg-indigo-50 text-indigo-900 font-bold text-sm focus:ring-indigo-500"},null,512),[[nt,L.value]])])]),t("div",Yt,[t("button",{onClick:e[5]||(e[5]=s=>R.value="summary"),class:M([R.value==="summary"?"bg-white shadow-sm text-indigo-600":"text-gray-500","flex-1 py-1.5 rounded-lg text-xs font-black uppercase transition"])},"User Summary",2),t("button",{onClick:e[6]||(e[6]=s=>R.value="projects"),class:M([R.value==="projects"?"bg-white shadow-sm text-indigo-600":"text-gray-500","flex-1 py-1.5 rounded-lg text-xs font-black uppercase transition"])},"Portfolio View",2)])]),S(t("section",Qt,[t("div",Xt,[t("h3",te,[g(m(Ft),{class:"h-5 w-5 text-amber-500"}),e[16]||(e[16]=v(" Daily Activity Stream",-1))]),t("span",ee,l(ut.value)+" Contributors on "+l(L.value),1)]),ut.value===0?(r(),i("div",se,[g(m(Mt),{class:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e[17]||(e[17]=t("p",{class:"text-gray-600 font-bold text-xl"},"No specific logs found for this focus date.",-1)),e[18]||(e[18]=t("p",{class:"text-sm text-gray-400 mt-1"},"Try selecting a different date or checking the detailed portfolio view.",-1))])):b("",!0),t("div",ae,[(r(!0),i(f,null,y(ct.value,(s,x)=>(r(),i("div",{key:x,class:"bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden flex flex-col transition hover:shadow-lg"},[t("div",oe,[t("div",ne,l(x.substring(0,2).toUpperCase()),1),t("div",null,[t("h4",re,l(x),1),e[19]||(e[19]=t("p",{class:"text-[10px] text-indigo-500 font-bold uppercase tracking-tighter"},"Daily Impact",-1))])]),t("div",ie,[s.standups.length>0?(r(),i("div",de,[t("h5",le,[g(m(Rt),{class:"h-3 w-3"}),e[20]||(e[20]=v(" Standup Context",-1))]),(r(!0),i(f,null,y(s.standups,u=>(r(),i("div",{key:u.id,class:"text-xs text-gray-600 bg-orange-50/50 p-4 rounded-2xl border border-orange-100 mb-2 italic"},[v('"'+l(u.content)+'" ',1),t("p",ce,l(u.projectName),1)]))),128))])):b("",!0),s.tasksDone.length>0?(r(),i("div",ue,[t("h5",pe,[g(m(W),{class:"h-3 w-3"}),e[21]||(e[21]=v(" Accomplishments",-1))]),t("ul",ge,[(r(!0),i(f,null,y(s.tasksDone,u=>(r(),i("li",{key:u.id,onClick:h=>K(u),class:"p-3 bg-green-50/30 rounded-xl border border-green-100 cursor-pointer hover:bg-white transition"},[t("p",xe,l(u.name),1),t("p",_e,l(u.projectName),1)],8,me))),128))])])):b("",!0),s.emails.length>0?(r(),i("div",he,[t("h5",fe,[g(m(rt),{class:"h-3 w-3"}),e[22]||(e[22]=v(" Communications",-1))]),(r(!0),i(f,null,y(s.emails,u=>(r(),i("div",{key:u.id,class:"p-3 bg-purple-50/30 rounded-xl border border-purple-100 mb-2"},[t("p",be,l(u.subject),1),t("p",ye,l(u.projectName),1)]))),128))])):b("",!0)])]))),128))])],512),[[F,R.value==="summary"]]),S(t("section",ve,[e[31]||(e[31]=t("div",{class:"flex items-center justify-between px-2"},[t("h3",{class:"text-sm font-black text-gray-400 uppercase tracking-[0.2em]"},"Portfolio Deep Dive")],-1)),(r(!0),i(f,null,y(T.value,s=>{var x,u,h,_,$,V,P,I,B,o,n,C,E,gt;return r(),i("div",{key:s.id,class:"bg-white rounded-[2rem] border border-gray-200 shadow-sm overflow-hidden mb-8 transition hover:shadow-md"},[t("div",{onClick:a=>ht(s.id),class:"p-6 flex flex-col md:flex-row md:items-center justify-between cursor-pointer hover:bg-gray-50 transition gap-4"},[t("div",ke,[t("div",De,[g(m(Ut),{class:"h-8 w-8"})]),t("div",null,[t("h4",Ce,l(s.name),1),t("div",Ae,[t("span",$e,l(s.status),1),s.has_activity?(r(),i("span",Se,e[23]||(e[23]=[t("div",{class:"h-1.5 w-1.5 bg-indigo-500 rounded-full mr-1.5 animate-pulse"},null,-1),v(" Recent Activity",-1)]))):b("",!0)])])]),t("div",Te,[t("button",{onClick:a=>vt(s,a),class:"px-4 py-2 border border-indigo-200 text-indigo-600 rounded-xl text-xs font-bold hover:bg-indigo-50 transition flex items-center gap-2"},[g(m(Z),{class:"h-3.5 w-3.5"}),v(" "+l(Q.value[s.id]?"Copied!":"Export JSON"),1)],8,Ne),(r(),_t(Dt(O.value[s.id]?m(Vt):m(It)),{class:"h-6 w-6 text-gray-300"}))])],8,we),S(t("div",Me,[t("div",Ue,[t("div",Ve,[g(m(Lt),{class:"h-4 w-4 text-gray-400"}),S(t("select",{"onUpdate:modelValue":a=>tt.value[s.id]=a,class:"rounded-xl border-gray-200 text-xs font-bold text-gray-600 focus:ring-indigo-500 py-1.5 pr-8 pl-3"},[e[24]||(e[24]=t("option",{value:"all"},"Show All Contributors",-1)),(r(!0),i(f,null,y(bt(s),a=>(r(),i("option",{key:a,value:a},l(a),9,Ie))),128))],8,Pe),[[Ct,tt.value[s.id]]])]),t("nav",Be,[(r(),i(f,null,y(["today","todo","done","notes","standups","meetings","emails"],a=>t("button",{key:a,onClick:A=>ft(s.id,a),class:M([D.value[s.id]===a?"bg-white shadow-sm text-indigo-600":"text-gray-500","py-1.5 px-4 rounded-lg text-[10px] font-black uppercase transition whitespace-nowrap"])},l(a),11,Ee)),64))])]),t("div",Fe,[S(t("div",He,[p((x=s.tasks)==null?void 0:x.filter(a=>a.status!=="Done"),"updated_at").length||p((u=s.tasks)==null?void 0:u.filter(a=>a.status==="Done"),"updated_at").length||p(s.project_notes,"created_at").length||p(s.emails,"created_at").length?(r(),i("div",Le,[p((h=s.tasks)==null?void 0:h.filter(a=>a.status!=="Done"),"updated_at").length?(r(),i("div",Re,[t("h5",je,[g(m(Z),{class:"h-3 w-3"}),e[25]||(e[25]=v(" Focus Tasks (Todo)",-1))]),(r(!0),i(f,null,y(p((_=s.tasks)==null?void 0:_.filter(a=>a.status!=="Done"),"updated_at"),a=>(r(),i("div",{key:a.id,onClick:A=>K(a),class:"p-4 bg-indigo-50/50 border border-indigo-100 rounded-xl cursor-pointer hover:bg-white transition"},[t("div",Ze,[t("h6",Je,l(a.name),1),t("span",ze,[g(m(it),{class:"h-3 w-3"}),v(" "+l(a.assigned_to||"Unassigned"),1)])])],8,Oe))),128))])):b("",!0),p(($=s.tasks)==null?void 0:$.filter(a=>a.status==="Done"),"updated_at").length?(r(),i("div",qe,[t("h5",Ge,[g(m(W),{class:"h-3 w-3"}),e[26]||(e[26]=v(" Accomplished Today",-1))]),(r(!0),i(f,null,y(p((V=s.tasks)==null?void 0:V.filter(a=>a.status==="Done"),"updated_at"),a=>(r(),i("div",{key:a.id,onClick:A=>K(a),class:"p-4 bg-green-50/50 border border-green-100 rounded-xl"},[t("div",We,[g(m(W),{class:"h-5 w-5 text-green-500"}),t("h6",Ye,l(a.name),1),t("span",Qe,l(a.assigned_to),1)])],8,Ke))),128))])):b("",!0),p(s.project_notes,"created_at").length?(r(),i("div",Xe,[t("h5",ts,[g(m(Ht),{class:"h-3 w-3"}),e[27]||(e[27]=v(" Today's Logs",-1))]),(r(!0),i(f,null,y(p(s.project_notes,"created_at"),a=>(r(),i("div",{key:a.id,class:"p-4 bg-gray-50 border border-gray-100 rounded-xl"},[t("span",es,l(a.type||"Note"),1),t("div",ss,'"'+l(a.content)+'"',1),t("div",as,[g(m(it),{class:"h-3 w-3"}),v(" "+l(a.creator_name),1)])]))),128))])):b("",!0),p(s.emails,"created_at").length?(r(),i("div",os,[t("h5",ns,[g(m(rt),{class:"h-3 w-3"}),e[28]||(e[28]=v(" Today's Comms",-1))]),(r(!0),i(f,null,y(p(s.emails,"created_at"),a=>(r(),i("div",{key:a.id,class:"p-4 bg-purple-50/30 border border-purple-100 rounded-xl flex items-center justify-between"},[t("p",rs,l(a.subject),1),t("p",is,l(a.sender),1)]))),128))])):b("",!0)])):(r(),i("div",ds,e[29]||(e[29]=[t("p",{class:"text-gray-400 text-sm font-bold"},"No activity recorded for this focus date.",-1)])))],512),[[F,D.value[s.id]==="today"]]),S(t("div",ls,[(r(!0),i(f,null,y({"Highlighted (Focus Date)":p(U((P=s.tasks)==null?void 0:P.filter(a=>a.status!=="Done"),s.id,"assigned_to"),"updated_at"),Archive:k(U((I=s.tasks)==null?void 0:I.filter(a=>a.status!=="Done"),s.id,"assigned_to"),"updated_at")},(a,A)=>(r(),i("div",{key:A},[a.length>0?(r(),i("div",cs,[t("h5",us,l(A),1),(r(!0),i(f,null,y(a,c=>(r(),i("div",{key:c.id,onClick:j=>K(c),class:M(["group p-5 bg-white border rounded-[1.5rem] cursor-pointer hover:border-indigo-400 transition",N(c.updated_at)?"border-indigo-300 ring-2 ring-indigo-50 shadow-md":"border-gray-100"])},[t("div",gs,[t("div",null,[t("h6",ms,l(c.name),1),t("div",xs,[t("span",_s,[g(m(it),{class:"h-3 w-3"}),v(" "+l(c.assigned_to||"Unassigned"),1)]),t("span",hs,[g(m(Bt),{class:"h-3 w-3"}),v(" "+l(c.due_date||"No Date"),1)])])]),t("span",fs,l(c.status),1)]),c.description?(r(),i("div",bs,l(c.description),1)):b("",!0)],10,ps))),128))])):b("",!0)]))),128)),(B=s.tasks)!=null&&B.filter(a=>a.status!=="Done").length?b("",!0):(r(),i("p",ys,"No active tasks found."))],512),[[F,D.value[s.id]==="todo"]]),S(t("div",vs,[(r(!0),i(f,null,y({"Highlighted (Focus Date)":p(U((o=s.tasks)==null?void 0:o.filter(a=>a.status==="Done"),s.id,"assigned_to"),"updated_at"),Archive:k(U((n=s.tasks)==null?void 0:n.filter(a=>a.status==="Done"),s.id,"assigned_to"),"updated_at")},(a,A)=>(r(),i("div",{key:A},[a.length>0?(r(),i("div",ws,[t("h5",ks,l(A),1),(r(!0),i(f,null,y(a,c=>(r(),i("div",{key:c.id,class:M(["p-5 bg-white border border-gray-100 rounded-[1.5rem]",N(c.updated_at)?"ring-2 ring-green-100 border-green-200":""])},[t("div",Ds,[g(m(W),{class:"h-6 w-6 text-green-500 mt-1"}),t("div",null,[t("h6",Cs,l(c.name),1),t("p",As,l(c.assigned_to)+" • Done "+l(at(c.updated_at)),1),c.description?(r(),i("div",$s,l(c.description),1)):b("",!0)])])],2))),128))])):b("",!0)]))),128)),(C=s.tasks)!=null&&C.filter(a=>a.status==="Done").length?b("",!0):(r(),i("p",Ss,"No done tasks found."))],512),[[F,D.value[s.id]==="done"]]),S(t("div",Ts,[(r(!0),i(f,null,y({"Highlighted (Focus Date)":p(U((E=s.project_notes)==null?void 0:E.filter(a=>D.value[s.id]==="notes"&&(!a.type||a.type==="note")||D.value[s.id]==="standups"&&a.type==="standup"||D.value[s.id]==="meetings"&&a.type==="meeting_minutes"),s.id,"creator_name"),"created_at"),Archive:k(U((gt=s.project_notes)==null?void 0:gt.filter(a=>D.value[s.id]==="notes"&&(!a.type||a.type==="note")||D.value[s.id]==="standups"&&a.type==="standup"||D.value[s.id]==="meetings"&&a.type==="meeting_minutes"),s.id,"creator_name"),"created_at")},(a,A)=>(r(),i("div",{key:A},[a.length>0?(r(),i("div",Ns,[t("h5",Ms,l(A),1),t("div",Us,[(r(!0),i(f,null,y(a,c=>{var j;return r(),i("div",{key:c.id,class:M(["p-6 bg-white border border-gray-100 rounded-[2rem] shadow-sm flex flex-col relative",N(c.created_at)?"ring-2 ring-indigo-50 border-indigo-200":""])},[N(c.created_at)?(r(),i("div",Vs,"New Log")):b("",!0),t("div",Ps,'"'+l(c.content)+'"',1),t("div",Is,[t("div",Bs,[t("div",Es,l((j=c.creator_name)==null?void 0:j.substring(0,2)),1),t("span",Fs,l(c.creator_name),1)]),t("span",Hs,l(at(c.created_at)),1)])],2)}),128))])])):b("",!0)]))),128))],512),[[F,["notes","standups","meetings"].includes(D.value[s.id])]]),S(t("div",Ls,[(r(!0),i(f,null,y({"Highlighted (Focus Date)":p(U(s.emails,s.id,"sender"),"created_at"),Archive:k(U(s.emails,s.id,"sender"),"created_at")},(a,A)=>(r(),i("div",{key:A},[a.length>0?(r(),i("div",Rs,[t("h5",js,l(A),1),(r(!0),i(f,null,y(a,c=>{var j;return r(),i("div",{key:c.id,class:M(["bg-white rounded-[2rem] p-6 border border-gray-100 shadow-sm",N(c.created_at)?"ring-2 ring-purple-100 border-purple-200":""])},[t("div",Os,[t("div",Zs,[t("div",{class:M([c.type==="Received"?"bg-orange-100 text-orange-600":"bg-green-100 text-green-600","p-3 rounded-2xl shadow-inner"])},[g(m(rt),{class:"h-6 w-6"})],2),t("div",null,[t("h6",Js,l(c.subject),1),t("p",zs,l(c.type)+" • "+l(c.sender),1)])]),t("span",qs,l(at(c.created_at)),1)]),(j=c.contexts)!=null&&j.length?(r(),i("div",Gs,[(r(!0),i(f,null,y(c.contexts,mt=>(r(),i("div",{key:mt.id,class:"p-5 bg-purple-50/50 rounded-[1.5rem] border border-purple-100"},[t("div",Ks,[g(m(Z),{class:"h-4 w-4"}),e[30]||(e[30]=t("span",{class:"text-[10px] font-black uppercase tracking-widest"},"AI Summary",-1))]),t("p",Ws,l(mt.summary),1)]))),128))])):b("",!0)],2)}),128))])):b("",!0)]))),128))],512),[[F,D.value[s.id]==="emails"]])])],512),[[F,O.value[s.id]]])])}),128))],512),[[F,R.value==="projects"]])])]),g(Tt,{show:G.value,"onUpdate:show":e[8]||(e[8]=s=>G.value=s),title:"Morning Review Detail",initialWidth:40},{content:ot(()=>[et.value?(r(),_t(At,{key:0,"task-id":et.value,"project-id":st.value,"project-users":lt.value,onClose:e[7]||(e[7]=s=>G.value=!1)},null,8,["task-id","project-id","project-users"])):b("",!0)]),_:1},8,["show"])]),_:1})],64))}},Na=Nt(Ys,[["__scopeId","data-v-76ac107b"]]);export{Na as default};
