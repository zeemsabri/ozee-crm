import x from"./StepCard-Conr1-HA.js";import y from"./DataTokenInserter-ZLcLEe0D.js";import{l as b,q as k,o as p,w as v,a as t,c,k as m,e as C,g as a}from"./app-NvjusqzW.js";import"./createLucideIcon-BMutPSMD.js";import"./x-DJm6jnpc.js";import"./trash-fTX-BJMN.js";import"./workflowStore-DjQBoiys.js";const A={class:"flex items-center gap-2"},B={key:0,class:"mt-2 text-xs text-gray-700"},I={__name:"ForEachStep",props:{step:{type:Object,required:!0},allStepsBefore:{type:Array,default:()=>[]}},emits:["update:step","delete"],setup(i,{emit:d}){const r=i,l=d,s=b({get:()=>r.step.step_config||{},set:o=>l("update:step",{...r.step,step_config:o})});function u(o,e){s.value={...s.value,[o]:e}}function f(o,e){u(o,e)}function g(){u("sourceArray","")}return(o,e)=>(p(),k(x,{icon:"ðŸ”„",title:r.step.name||"For Each Loop",onDelete:()=>l("delete"),"onUpdate:title":e[1]||(e[1]=n=>l("update:step",{...r.step,name:n}))},{default:v(()=>[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-xs font-medium text-gray-600 mb-2"},"Loop over this data",-1)),t("div",A,[C(y,{"all-steps-before":i.allStepsBefore,"infer-loop-from-nearest":!1,onInsert:e[0]||(e[0]=n=>f("sourceArray",n))},null,8,["all-steps-before"]),s.value.sourceArray?(p(),c("button",{key:0,onClick:g,class:"px-2 py-1 text-xs rounded-md border text-gray-600 hover:bg-gray-50"},"Clear")):m("",!0)]),s.value.sourceArray?(p(),c("div",B,e[2]||(e[2]=[a(" Selected: ",-1),t("code",{class:"px-1 py-0.5 bg-gray-100 border rounded"},"{{ loopConfig.sourceArray }}",-1)]))):m("",!0),e[4]||(e[4]=t("p",{class:"text-xs text-gray-500 mt-2"},[a(" Inside the loop, use the "),t("strong",null,"Current Loop Item (from For Each)"),a(" data source to access properties of the current item (e.g., "),t("code",null,"{{loop.item.name}}"),a("). ")],-1))])]),_:1},8,["title","onDelete"]))}};export{I as default};
